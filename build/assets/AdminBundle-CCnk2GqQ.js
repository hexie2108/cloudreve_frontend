const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MonacoEditor-BbzhZksg.js","assets/index-BhmhgD6-.js","assets/codemirror-TlZy3ty4.js","assets/index-Dl_SjRZT.css","assets/monaco-Dt6lDvaG.js","assets/monaco-Cjcdkwd9.css"])))=>i.map(i=>d[i]);
import{a as ho,g as fo,s as at,P as ts,r as g,u as po,j as i,d as ze,e as go,dY as Wm,m as al,n as mo,c as Mc,l as Ph,bO as ct,w as V,h as Xe,bd as Wt,ad as $,dZ as U0,d_ as Ze,au as we,aU as ke,d$ as rs,x as ge,dd as xr,e0 as Nm,E as ft,F as wt,ak as Qi,aI as ir,aJ as ar,bc as _t,e1 as Bt,e2 as he,aw as L,e3 as ol,co as Te,dG as sl,e4 as zm,aR as Tr,e5 as V0,am as ne,cY as Ai,bb as bt,e6 as Yr,cq as Lm,aX as Kt,e7 as te,aG as it,cU as $r,e8 as N,e9 as H0,cW as K0,aj as pd,ea as Bm,ca as Zi,eb as G0,ec as X0,c0 as St,cv as st,ed as Ah,cQ as Mt,T as Z,ee as kh,ef as Dh,H as ce,df as Eh,bF as Ic,aB as Th,cH as Yn,ac as De,X as pt,Y as Ct,Z as gt,_ as mt,$ as je,aV as M,a1 as xt,a0 as ve,cC as Ln,ax as I,cB as be,eg as Vt,eh as ci,J as et,ao as Y0,an as J0,ap as Bn,al as Q0,ab as Z0,ei as gd,ej as eb,I as Rm,ek as Fm,el as tb,R as lt,em as ye,en as We,bj as xo,eo as rb,bW as W,ep as nb,eq as wa,er as or,es as ib,et as ab,eu as ob,cm as ri,cn as sb,ev as lb,cp as ni,aT as cb,as as Wr,ew as ub,ex as qm,K as tn,ey as Um,ez as qr,eA as db,ct as hb,eB as Vm,eC as Hm,eD as Rt,eE as fb,eF as Gt,eG as vo,eH as Km,eI as Gm,eJ as md,eK as pb,dx as vr,eL as gb,eM as Xm,eN as mb,N as xb,O as Lr,Q as Wc,bh as xe,aW as gr,eO as ll,aN as Si,a2 as es,aM as vb,b5 as Ym,a4 as Mn,eP as yb,eQ as bb,cX as cl,eR as jb,dr as yo,dI as _b,eS as wb,eT as Sb,dy as bo,z as Cb,eU as Ob,eV as Pb,eW as Jm,eX as Ab,eY as kb,eZ as Db,aC as Eb,e_ as Tb,e$ as $b,f0 as Mb,f1 as Et,f2 as Qm,G as rt,f3 as Zm,f4 as Ib,f5 as ex,f6 as ns,f7 as xd,f8 as Wb,f9 as ut,fa as Nb,fb as He,ar as Nc,aq as Hr,fc as $h,fd as zb,t as vd,fe as Io,ff as Wo,fg as No,fh as Mh,fi as Ih,fj as Wh,fk as tx,fl as Lb,bx as Nh,fm as Bb,fn as rx,fo as nx,fp as Rb,fq as Fb,fr as qb,fs as ix,ft as Ub,b0 as Vb,fu as ax,fv as Hb,fw as Kb,fx as Gb,fy as Xb,fz as Yb,fA as Jb,dh as Qb,fB as Zb,fC as ej,cc as tj,v as rj,L as nj,fD as ij,fE as ox,fF as aj,fG as sx,fH as oj}from"./index-BhmhgD6-.js";import{E as lx,S as Ee,u as Oe,P as Xt,a as Yt,R as sj,b as lj,A as cj,N as tr,C as cx,T as Pt,c as uj,g as ux,d as yi,D as dj,e as hj,f as fj}from"./DownloadFileList-B8cU4beD.js";import{A as yr,c as O,P as gn,b as qt,F as dx}from"./SettingForm-CxIiT_vO.js";import{E as Rn,C as pj,c as gj,b as mj,S as xj,P as vj,B as yj,a as bj}from"./Storage-HJ4WwPFN.js";import{_ as mn}from"./codemirror-TlZy3ty4.js";import{i as jo,_ as xn,a as ul,b as vn,c as yd,d as yn,e as ea,f as jj,t as hx,g as _j}from"./throttle-CETcSfqb.js";const zh={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600"};function wj(e){return fo("MuiCard",e)}ho("MuiCard",["root"]);const Sj=e=>{const{classes:t}=e;return go({root:["root"]},wj,t)},Cj=at(ts,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),Oj=g.forwardRef(function(t,r){const n=po({props:t,name:"MuiCard"}),{className:a,raised:o=!1,...s}=n,l={...n,raised:o},u=Sj(l);return i.jsx(Cj,{className:ze(u.root,a),elevation:o?8:void 0,ref:r,ownerState:l,...s})});function Pj(e){return fo("MuiCardActionArea",e)}const Xl=ho("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Aj=e=>{const{classes:t}=e;return go({root:["root"],focusHighlight:["focusHighlight"]},Pj,t)},kj=at(Wm,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})(al(({theme:e})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${Xl.focusHighlight}`]:{opacity:(e.vars||e).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${Xl.focusVisible} .${Xl.focusHighlight}`]:{opacity:(e.vars||e).palette.action.focusOpacity}}))),Dj=at("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})(al(({theme:e})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}))),Ej=g.forwardRef(function(t,r){const n=po({props:t,name:"MuiCardActionArea"}),{children:a,className:o,focusVisibleClassName:s,...l}=n,u=n,c=Aj(u);return i.jsxs(kj,{className:ze(c.root,o),focusVisibleClassName:ze(s,c.focusVisible),ref:r,ownerState:u,...l,children:[a,i.jsx(Dj,{className:c.focusHighlight,ownerState:u})]})});function Tj(e){return fo("MuiCardContent",e)}ho("MuiCardContent",["root"]);const $j=e=>{const{classes:t}=e;return go({root:["root"]},Tj,t)},Mj=at("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),Ij=g.forwardRef(function(t,r){const n=po({props:t,name:"MuiCardContent"}),{className:a,component:o="div",...s}=n,l={...n,component:o},u=$j(l);return i.jsx(Mj,{as:o,className:ze(u.root,a),ownerState:l,ref:r,...s})});function Wj(e){return fo("MuiCardMedia",e)}ho("MuiCardMedia",["root","media","img"]);const Nj=e=>{const{classes:t,isMediaComponent:r,isImageComponent:n}=e;return go({root:["root",r&&"media",n&&"img"]},Wj,t)},zj=at("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{isMediaComponent:n,isImageComponent:a}=r;return[t.root,n&&t.media,a&&t.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),Lj=["video","audio","picture","iframe","img"],Bj=["picture","img"],Rj=g.forwardRef(function(t,r){const n=po({props:t,name:"MuiCardMedia"}),{children:a,className:o,component:s="div",image:l,src:u,style:c,...d}=n,h=Lj.includes(s),f=!h&&l?{backgroundImage:`url("${l}")`,...c}:c,p={...n,component:s,isMediaComponent:h,isImageComponent:Bj.includes(s)},m=Nj(p);return i.jsx(zj,{className:ze(m.root,o),as:s,role:!h&&l?"img":void 0,ref:r,style:f,ownerState:p,src:h?l||u:void 0,...d,children:a})}),Fj=mo(i.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");function qj(e){return fo("MuiTableSortLabel",e)}const Yl=ho("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc","directionDesc","directionAsc"]),Uj=e=>{const{classes:t,direction:r,active:n}=e,a={root:["root",n&&"active",`direction${Mc(r)}`],icon:["icon",`iconDirection${Mc(r)}`]};return go(a,qj,t)},Vj=at(Wm,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.active&&t.active]}})(al(({theme:e})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(e.vars||e).palette.text.secondary},"&:hover":{color:(e.vars||e).palette.text.secondary,[`& .${Yl.icon}`]:{opacity:.5}},[`&.${Yl.active}`]:{color:(e.vars||e).palette.text.primary,[`& .${Yl.icon}`]:{opacity:1,color:(e.vars||e).palette.text.secondary}}}))),Hj=at("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,t[`iconDirection${Mc(r.direction)}`]]}})(al(({theme:e})=>({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none",variants:[{props:{direction:"desc"},style:{transform:"rotate(0deg)"}},{props:{direction:"asc"},style:{transform:"rotate(180deg)"}}]}))),ht=g.forwardRef(function(t,r){const n=po({props:t,name:"MuiTableSortLabel"}),{active:a=!1,children:o,className:s,direction:l="asc",hideSortIcon:u=!1,IconComponent:c=Fj,slots:d={},slotProps:h={},...f}=n,p={...n,active:a,direction:l,hideSortIcon:u,IconComponent:c},m=Uj(p),x={slots:d,slotProps:h},[v,b]=Ph("root",{elementType:Vj,externalForwardedProps:x,ownerState:p,className:ze(m.root,s),ref:r}),[_,w]=Ph("icon",{elementType:Hj,externalForwardedProps:x,ownerState:p,className:m.icon});return i.jsxs(v,{disableRipple:!0,component:"span",...b,...f,children:[o,u&&!a?null:i.jsx(_,{as:c,...w})]})}),Dr=mo(i.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Kj=mo(i.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline"),Gj=mo(i.jsx("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub"),Xj=mo(i.jsx("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew");function _o(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M13.5 16a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5zm3-5a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1 0-1.5zm3-5a.75.75 0 0 1 0 1.5h-15a.75.75 0 0 1 0-1.5z"})})}const sn=({rowsPerPageOptions:e=[5,10,25,50],rowsPerPage:t=5,onRowsPerPageChange:r,page:n,onChange:a,totalItems:o,...s})=>{const{t:l}=V("dashboard"),u=Xe(),c=Wt(u.breakpoints.down("sm")),d=h=>{r==null||r(h.target.value)};return g.useEffect(()=>{(n-1)*t>=o&&a({},Math.ceil(o/t))},[t,o]),i.jsxs($,{sx:{py:1,display:"flex",flexDirection:c?"column":"row",justifyContent:"space-between",alignItems:c?"start":"center",gap:1},children:[i.jsx(U0,{size:c?"small":"medium",count:Math.ceil(o/t),page:n,onChange:a,...s}),i.jsx(Ze,{variant:"filled",value:t,onChange:d,renderValue:h=>i.jsx(we,{primary:l("settings.perPage",{num:h}),slotProps:{primary:{variant:"body2"}}}),children:e.map(h=>i.jsx(ke,{value:h,children:i.jsx(we,{primary:l("settings.perPage",{num:h}),slotProps:{primary:{variant:"body2"}}})},h))})]})},is=at($)(({theme:e})=>({border:`1px solid ${e.palette.divider}`,borderRadius:e.shape.borderRadius,padding:e.spacing(2),backgroundColor:e.palette.background.paper})),ka=at(is)(({theme:e})=>({cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover},transition:"background-color 0.3s ease"})),Lh=at(ka)(({theme:e,img:t})=>({position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:"-20px",right:"-20px",width:"150px",height:"150px",backgroundImage:`url(${t})`,backgroundSize:"cover",backgroundPosition:"center",transform:"rotate(-10deg)",opacity:.1,maskImage:"radial-gradient(circle at center, black 30%, transparent 80%)",pointerEvents:"none",zIndex:0},"& > *":{position:"relative",zIndex:1}})),Yj=at($)(({theme:e})=>({backgroundColor:rs[100],...e.applyStyles("dark",{backgroundColor:rs[900]}),border:`1px solid ${e.palette.divider}`,borderRadius:"4px",padding:"1px",paddingLeft:"4px",paddingRight:"4px"})),ie=({children:e})=>i.jsx(Yj,{as:"code",children:e}),Jj=({open:e,onClose:t,type:r})=>{const{t:n}=V("dashboard"),a=ge(),[o,s]=g.useState(!1),l=xr(),u=nr[r].wizard,c=g.useCallback(d=>{s(!0),a(Nm({policy:d})).then(h=>{t(),l(`/admin/policy/${h.id}`),s(!1)}).finally(()=>{s(!1)})},[a]);return i.jsx(ft,{loading:o,title:n("policy.addXStoragePolicy",{type:n(nr[r].name)}),dialogProps:{open:e,onClose:t,fullWidth:!0,maxWidth:nr[r].wizardSize??"lg"},children:i.jsx(wt,{children:i.jsx(Qi,{children:i.jsx(ir,{children:i.jsx(ar,{addEndListener:(d,h)=>d.addEventListener("transitionend",h,!1),classNames:"fade",children:i.jsxs($,{children:[!o&&u&&i.jsx(u,{onSubmit:c}),o&&i.jsx($,{sx:{height:"300px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(_t,{})})]})},`${o}`)})})})})},Qj=at(Oj)(({theme:e})=>({display:"flex",boxShadow:"none",border:`1px solid ${e.palette.divider}`})),Zj=({open:e,onClose:t,onSelect:r})=>{const{t:n}=V("dashboard");return i.jsxs(ft,{title:n("policy.selectAStorageProvider"),dialogProps:{open:e,onClose:t,fullWidth:!0,maxWidth:"sm"},children:[i.jsx(wt,{dividers:!0,children:i.jsx(Bt,{container:!0,spacing:2,sx:{mt:2},children:Object.values(he).map(a=>i.jsx(Bt,{size:{sm:12,md:6},children:i.jsx(Qj,{sx:{display:"flex"},children:i.jsxs(Ej,{sx:{display:"flex",justifyContent:"flex-start"},onClick:()=>r(a),children:[i.jsx(Rj,{component:"img",image:nr[a].img,sx:{width:100,height:60}}),i.jsx(Ij,{children:i.jsx(L,{variant:"subtitle1",color:"textSecondary",children:n(nr[a].name)})})]})})},a.toString()))})}),i.jsx(ol,{sx:{justifyContent:"flex-start",p:2,px:3},children:i.jsx(Te,{startIcon:i.jsx(sl,{}),variant:"contained",onClick:()=>window.open("https://docs.cloudreve.org/usage/storage/","_blank"),children:n("policy.compare")})})]})},Jl=({policy:e,onRefresh:t,loading:r})=>{var m;const{t:n}=V("dashboard"),a=ge(),[o,s]=g.useState(void 0),[l,u]=g.useState(!1),[c,d]=g.useState(!1),h=xr(),f=g.useCallback(x=>{x.preventDefault(),x.stopPropagation(),e&&(d(!0),a(zm(e.id,!0)).then(v=>{s(v),d(!1)}))},[e,a]),p=g.useCallback(x=>{x.stopPropagation(),a(Tr(n("policy.deletePolicyConfirmation",{name:(e==null?void 0:e.name)??""}))).then(()=>{u(!0),a(V0((e==null?void 0:e.id)??0)).then(()=>{t==null||t()}).finally(()=>{u(!1)})})},[e,a,t]);return r?i.jsx(Bt,{size:{xs:12,md:6,lg:4},children:i.jsxs(Lh,{img:"/static/img/local.png",children:[i.jsxs($,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx(L,{variant:"subtitle1",fontWeight:600,children:i.jsx(ne,{variant:"text",width:100})}),i.jsx(L,{variant:"body2",color:"text.secondary",children:i.jsx(ne,{variant:"text",width:100})})]}),i.jsx(Ai,{children:i.jsx(ne,{variant:"text",width:60,height:25,sx:{mr:1}})}),i.jsx(bt,{sx:{my:1}}),i.jsxs($,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx(ne,{variant:"text",width:"40%",height:20}),i.jsx(ne,{variant:"circular",width:30,height:30})]})]})}):i.jsx(Bt,{size:{xs:12,md:6,lg:4},children:i.jsxs(Lh,{onClick:()=>h(`/admin/policy/${e==null?void 0:e.id}`),img:e?nr[e.type].img:void 0,children:[i.jsxs($,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx(L,{variant:"subtitle1",fontWeight:600,children:e==null?void 0:e.name}),e&&i.jsx(L,{variant:"body2",color:"text.secondary",children:n(nr[e.type].name)})]}),i.jsxs(Ai,{children:[(m=e==null?void 0:e.edges.groups)==null?void 0:m.map(x=>i.jsx(Yr,{sx:{mr:1},label:x.name,size:"small"},x.name)),!(e!=null&&e.edges.groups)&&i.jsxs($,{sx:{display:"flex",alignItems:"center",minHeight:"25px"},color:"text.secondary",children:[i.jsx(Lm,{sx:{mr:.5,fontSize:20}}),i.jsx(L,{variant:"caption",children:n("policy.noGroupBinded")})]})]}),i.jsx(bt,{sx:{my:1}}),i.jsxs($,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx(L,{variant:"body2",color:"text.secondary",children:c?i.jsx(ne,{variant:"text",width:30}):o?n("policy.policySummary",{count:o.entities_count??0,size:Kt(o.entities_size??0)}):i.jsx(te,{underline:"hover",href:"#/",onClick:f,children:n("policy.loadSummary")})}),i.jsx(it,{size:"small",onClick:p,children:i.jsx($r,{fontSize:"small"})})]})]})})},Er=e=>{const{t}=V("dashboard"),{enforceProtocol:r,enforcePrefix:n=!0,onChange:a,...o}=e,[s,l]=g.useState(e.value??""),u=g.useCallback(d=>{l(d.target.value),a==null||a(d)},[a]),c=g.useMemo(()=>r?s.startsWith("http://")&&window.location.protocol=="https:":!1,[r,s]);return i.jsx(N,{onChange:u,value:e.value,slotProps:{htmlInput:{pattern:n?"^https?://.*$":void 0,title:n?t("settings.startWithProtocol"):void 0}},error:c,helperText:c?t("settings.tlsWarning"):void 0,...o})};var fx=(e=>(e.IO_INTENSE="io_intense",e.MEDIA_META="media_meta",e.RECYCLE="recycle",e.THUMB="thumb",e.REMOTE_DOWNLOAD="remote_download",e))(fx||{}),Pr=(e=>(e.master="master",e.slave="slave",e))(Pr||{}),cn=(e=>(e.qbittorrent="qbittorrent",e.aria2="aria2",e))(cn||{}),Fn=(e=>(e.active="active",e.suspended="suspended",e))(Fn||{}),qn=(e=>(e.active="active",e.inactive="inactive",e.manual_banned="manual_banned",e.sys_banned="sys_banned",e))(qn||{});function e1(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M17.753 14a2.25 2.25 0 0 1 2.25 2.25v.904A3.75 3.75 0 0 1 18.696 20c-1.565 1.344-3.806 2-6.696 2c-2.89 0-5.128-.656-6.69-2a3.75 3.75 0 0 1-1.306-2.843v-.908A2.25 2.25 0 0 1 6.254 14zm0 1.5h-11.5a.75.75 0 0 0-.75.75v.907c0 .655.287 1.278.784 1.706C7.545 19.945 9.441 20.5 12 20.5c2.56 0 4.458-.557 5.72-1.64a2.25 2.25 0 0 0 .783-1.707v-.905a.75.75 0 0 0-.75-.75M11.9 2.006L12 2a.75.75 0 0 1 .743.648l.007.102l-.001.749h3.5a2.25 2.25 0 0 1 2.25 2.25v4.505a2.25 2.25 0 0 1-2.25 2.25h-8.5a2.25 2.25 0 0 1-2.25-2.25V5.75A2.25 2.25 0 0 1 7.75 3.5l3.5-.001V2.75a.75.75 0 0 1 .649-.743L12 2zM16.25 5h-8.5a.75.75 0 0 0-.75.75v4.504c0 .414.336.75.75.75h8.5a.75.75 0 0 0 .75-.75V5.75a.75.75 0 0 0-.75-.75m-6.5 1.5a1.25 1.25 0 1 1 0 2.498a1.25 1.25 0 0 1 0-2.498m4.492 0a1.25 1.25 0 1 1 0 2.498a1.25 1.25 0 0 1 0-2.498"})})}function t1(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M3.839 5.858c2.94-3.916 9.03-5.055 13.364-2.36c4.28 2.66 5.854 7.777 4.1 12.577c-1.655 4.533-6.016 6.328-9.159 4.048c-1.177-.854-1.634-1.925-1.854-3.664l-.106-.987l-.045-.398c-.123-.934-.311-1.352-.705-1.572c-.535-.298-.892-.305-1.595-.033l-.351.146l-.179.078c-1.014.44-1.688.595-2.541.416l-.2-.047l-.164-.047c-2.789-.864-3.202-4.647-.565-8.157m.984 6.716l.123.037l.134.03c.439.087.814.015 1.437-.242l.602-.257c1.202-.493 1.985-.54 3.046.05c.917.512 1.275 1.298 1.457 2.66l.053.459l.055.532l.047.422c.172 1.361.485 2.09 1.248 2.644c2.275 1.65 5.534.309 6.87-3.349c1.516-4.152.174-8.514-3.484-10.789c-3.675-2.284-8.899-1.306-11.373 1.987c-2.075 2.763-1.82 5.28-.215 5.816m11.225-1.994a1.25 1.25 0 1 1 2.414-.647a1.25 1.25 0 0 1-2.414.647m.494 3.488a1.25 1.25 0 1 1 2.415-.647a1.25 1.25 0 0 1-2.415.647M14.07 7.577a1.25 1.25 0 1 1 2.415-.647a1.25 1.25 0 0 1-2.415.647m-.028 8.998a1.25 1.25 0 1 1 2.414-.647a1.25 1.25 0 0 1-2.414.647m-3.497-9.97a1.25 1.25 0 1 1 2.415-.646a1.25 1.25 0 0 1-2.415.646"})})}function r1(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M9.788 5.513a.75.75 0 0 1 .95-.475L12 5.46l1.263-.42a.75.75 0 0 1 .474 1.423l-.987.329v.959a.75.75 0 0 1-1.5 0v-.96l-.987-.328a.75.75 0 0 1-.475-.95m2.45-3.475a.75.75 0 0 0-.475 0l-3.75 1.25A.75.75 0 0 0 7.5 4v5c0 .323.207.61.513.712l3.237 1.079V13H9.5a2.25 2.25 0 0 0-2.25 2.25v.845a3.001 3.001 0 1 0 1.5 0v-.845a.75.75 0 0 1 .75-.75h5a.75.75 0 0 1 .75.75v.845A3.001 3.001 0 0 0 16 22a3 3 0 0 0 .75-5.905v-.845A2.25 2.25 0 0 0 14.5 13h-1.75v-2.21l3.237-1.078A.75.75 0 0 0 16.5 9V4a.75.75 0 0 0-.513-.712zM9 8.46V4.541l3-1l3 1v3.918l-3 1zM8 17.5a1.5 1.5 0 1 1 0 3a1.5 1.5 0 0 1 0-3m6.5 1.5a1.5 1.5 0 1 1 3 0a1.5 1.5 0 0 1-3 0"})})}function n1(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M6.252 2.002a.75.75 0 0 1 .75.75v.314A4.251 4.251 0 0 1 10.5 7.25v1.001a.75.75 0 0 1-1.5 0V7.25a2.751 2.751 0 0 0-1.998-2.646v6.926l.83.405a4.75 4.75 0 0 1 2.668 4.27v.524a4.251 4.251 0 0 1-3.498 4.183v.336a.75.75 0 0 1-1.5 0v-.335A4.251 4.251 0 0 1 2 16.729v-.981a.75.75 0 0 1 1.5 0v.98c0 1.26.847 2.322 2.002 2.648v-6.908l-.834-.407A4.75 4.75 0 0 1 2 7.791V7.25a4.251 4.251 0 0 1 3.502-4.184v-.314a.75.75 0 0 1 .75-.75zM19.5 3c.716 0 1.52.2 2.163.624a.75.75 0 0 1-.826 1.252c-.364-.24-.87-.376-1.337-.376c-1.274 0-2.506.74-3.45 2.095c-.58.83-1.032 1.871-1.295 3.047l-.073.357L16.25 10a.75.75 0 0 1 .101 1.493l-.102.007h-1.737c-.007.165-.011.332-.011.5l.003.251l.008.25h1.738a.75.75 0 0 1 .101 1.492L16.25 14h-1.567c.247 1.323.73 2.49 1.367 3.405c.945 1.355 2.177 2.095 3.451 2.095c.427 0 .859-.094 1.19-.278l.136-.084a.75.75 0 0 1 .856 1.232c-.665.462-1.487.63-2.182.63c-1.901 0-3.544-1.107-4.681-2.738c-.753-1.079-1.305-2.413-1.593-3.89L13.16 14h-1.41a.75.75 0 0 1-.102-1.493l.102-.007h1.26c-.007-.166-.01-.332-.01-.5l.002-.252l.008-.25h-1.26a.75.75 0 0 1-.101-1.494l.102-.006h1.409c.264-1.624.844-3.091 1.659-4.26C15.956 4.107 17.599 3 19.5 3zM7.002 13.199v6.176a2.752 2.752 0 0 0 1.992-2.46L9 16.73v-.525a3.25 3.25 0 0 0-1.643-2.825l-.183-.096l-.172-.084zm-1.5-8.596a2.752 2.752 0 0 0-1.996 2.46L3.5 7.25v.542a3.25 3.25 0 0 0 1.643 2.825l.183.096l.176.086V4.603z","fill-rule":"nonzero"})})}function i1(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M2 5.25A3.25 3.25 0 0 1 5.25 2h9.5A3.25 3.25 0 0 1 18 5.25V8h-1.5V5.25a1.75 1.75 0 0 0-1.75-1.75h-9.5A1.75 1.75 0 0 0 3.5 5.25v7.5c0 .966.784 1.75 1.75 1.75H8V16H5.25A3.25 3.25 0 0 1 2 12.75zm17 8a1.25 1.25 0 1 1-2.5 0a1.25 1.25 0 0 1 2.5 0m-10-1A3.25 3.25 0 0 1 12.25 9h6.5A3.25 3.25 0 0 1 22 12.25v6.5A3.25 3.25 0 0 1 18.75 22h-6.5A3.25 3.25 0 0 1 9 18.75zm3.25-1.75a1.75 1.75 0 0 0-1.75 1.75v6.5c0 .19.03.372.086.542l3.394-3.185a2.25 2.25 0 0 1 3.074 0l3.37 3.153c.05-.162.076-.333.076-.51v-6.5a1.75 1.75 0 0 0-1.75-1.75zm0 10h6.5c.235 0 .46-.047.665-.13l-3.386-3.168a.75.75 0 0 0-1.024 0l-3.388 3.18c.196.076.41.118.633.118M5.75 5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-1.5 0v-.5A.75.75 0 0 1 5.75 5m.75 3.75a.75.75 0 0 0-1.5 0v.5a.75.75 0 0 0 1.5 0zM14.25 5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-1.5 0v-.5a.75.75 0 0 1 .75-.75M6.5 11.75a.75.75 0 0 0-1.5 0v.5a.75.75 0 0 0 1.5 0z"})})}function a1(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M12 1.998c5.524 0 10.002 4.478 10.002 10.002c0 5.523-4.478 10-10.002 10c-5.524.001-10-4.477-10-10C1.999 6.476 6.476 1.998 12 1.998M14.94 16.5H9.061c.652 2.415 1.786 4.002 2.94 4.002c1.153 0 2.286-1.588 2.938-4.002m-7.43 0H4.785a8.532 8.532 0 0 0 4.095 3.41c-.522-.82-.953-1.846-1.27-3.015zm11.705 0h-2.722c-.324 1.335-.792 2.5-1.373 3.411a8.528 8.528 0 0 0 3.91-3.127zM7.094 10H3.736l-.005.017A8.523 8.523 0 0 0 3.5 12a8.48 8.48 0 0 0 .544 3h3.173A20.3 20.3 0 0 1 7 12c0-.684.032-1.354.095-2.001m8.303 0H8.603a18.968 18.968 0 0 0 .135 5h6.524a18.974 18.974 0 0 0 .135-5m4.868 0h-3.358c.062.647.095 1.317.095 2a20.3 20.3 0 0 1-.218 3h3.173a8.484 8.484 0 0 0 .545-3c0-.689-.082-1.359-.237-2M8.88 4.088l-.023.008A8.531 8.531 0 0 0 4.25 8.5h3.048c.314-1.752.86-3.278 1.583-4.41m3.12-.591l-.117.005C10.62 3.62 9.397 5.621 8.83 8.5h6.342c-.566-2.87-1.783-4.869-3.045-4.995zm3.12.59l.106.175c.67 1.112 1.177 2.572 1.475 4.237h3.048a8.533 8.533 0 0 0-4.339-4.29z"})})}function bd(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M18 16.663a3.5 3.5 0 0 1-1.373-1.163a3.5 3.5 0 0 1-.627-2a3.5 3.5 0 1 1 4.5 3.355V17l1.146 1.146a.5.5 0 0 1 0 .708L20.5 20l1.161 1.161a.5.5 0 0 1 .015.692l-1.823 1.984a.5.5 0 0 1-.722.015l-.985-.984a.5.5 0 0 1-.146-.354zM20.5 13a1 1 0 1 0-2 0a1 1 0 0 0 2 0M12 22.001c1.969 0 3.64-.354 5-1.069v-1.76c-1.223.883-2.88 1.33-5 1.33c-2.738 0-4.704-.747-5.957-2.214a2.25 2.25 0 0 1-.54-1.462v-.577a.75.75 0 0 1 .75-.75h9.215a4.5 4.5 0 0 1-.44-1.5H6.252a2.25 2.25 0 0 0-2.25 2.25v.578c0 .892.32 1.756.9 2.435c1.565 1.834 3.952 2.74 7.097 2.74m0-19.996a5 5 0 1 1 0 10a5 5 0 0 1 0-10m0 1.5a3.5 3.5 0 1 0 0 7a3.5 3.5 0 0 0 0-7"})})}function o1(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M10.5 18.5h5.75a.75.75 0 0 1 0 1.5H10.5a6.5 6.5 0 1 1 0-13h5.95l-2.616-2.617a.75.75 0 0 1 1.06-1.06l3.882 3.882c.1.1.166.22.198.348a.75.75 0 0 1-.205.739l-3.88 3.88a.75.75 0 1 1-1.06-1.061l2.61-2.611H10.5a5 5 0 0 0 0 10"})})}function s1(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M3 5.75A2.75 2.75 0 0 1 5.75 3h9.965a3.25 3.25 0 0 1 2.298.952l2.035 2.035c.61.61.952 1.437.952 2.299v9.964A2.75 2.75 0 0 1 18.25 21H5.75A2.75 2.75 0 0 1 3 18.25zM5.75 4.5c-.69 0-1.25.56-1.25 1.25v12.5c0 .69.56 1.25 1.25 1.25H6v-5.25A2.25 2.25 0 0 1 8.25 12h7.5A2.25 2.25 0 0 1 18 14.25v5.25h.25c.69 0 1.25-.56 1.25-1.25V8.286c0-.465-.184-.91-.513-1.238l-2.035-2.035a1.75 1.75 0 0 0-.952-.49V7.25a2.25 2.25 0 0 1-2.25 2.25h-4.5A2.25 2.25 0 0 1 7 7.25V4.5zm10.75 15v-5.25a.75.75 0 0 0-.75-.75h-7.5a.75.75 0 0 0-.75.75v5.25zm-8-15v2.75c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75V4.5z"})})}const l1=at($)(({theme:e})=>({padding:e.spacing(2),border:`1px solid ${e.palette.divider}`,borderRadius:e.shape.borderRadius,marginTop:e.spacing(2),position:"fixed",backgroundColor:e.palette.background.paper,bottom:23,zIndex:e.zIndex.modal})),dl=({in:e,submitting:t,revert:r,submit:n,disabled:a})=>{const{t:o}=V("dashboard");return i.jsxs(i.Fragment,{children:[i.jsx($,{sx:{height:70}}),i.jsx(K0,{in:e,children:i.jsxs(l1,{children:[i.jsx(pd,{loading:t,onClick:n,variant:"contained",startIcon:i.jsx(s1,{}),disabled:a,children:i.jsx("span",{children:o("settings.save")})}),i.jsx(Te,{disabled:t,onClick:r,sx:{ml:1},variant:"contained",startIcon:i.jsx(o1,{}),children:o("settings.revert")})]})})]})},lr=g.createContext({values:{},setSettings:()=>{}}),_r=({settings:e,children:t})=>{const r=ge();V("dashboard");const[n,a]=g.useState({}),[o,s]=g.useState({}),[l,u]=g.useState(!0),[c,d]=g.useState(!1),h=v=>{s(b=>({...b,...v}))},f=g.useRef(null),p=g.useMemo(()=>JSON.stringify(o)!==JSON.stringify(n),[o,n]);g.useEffect(()=>{u(!0),r(H0({keys:e})).then(v=>{a(v),s(v)}).finally(()=>{u(!1)})},[e]);const m=()=>{s(n)},x=()=>{if(f.current&&!f.current.checkValidity()){f.current.reportValidity();return}const v={};Object.keys(o).forEach(b=>{o[b]!==n[b]&&(v[b]=o[b])}),d(!0),r(Bm({settings:v})).then(b=>{a(_=>({..._,...b})),s(_=>({..._,...b}))}).finally(()=>{d(!1)})};return i.jsx(lr.Provider,{value:{values:o,setSettings:h,formRef:f},children:i.jsx(ir,{children:i.jsx(ar,{addEndListener:(v,b)=>v.addEventListener("transitionend",b,!1),classNames:"fade",children:i.jsxs($,{sx:{mt:3},children:[l&&i.jsx($,{sx:{pt:20,height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:i.jsx(_t,{})}),!l&&i.jsxs($,{children:[t,i.jsx(dl,{in:p,submitting:c,revert:m,submit:x})]})]})},`${l}`)})})},bi=({currentColor:e,onColorChange:t,...r})=>i.jsx(N,{value:e,onChange:n=>{t(n.target.value)},type:"text",InputProps:{endAdornment:i.jsx(Zi,{position:"end",children:i.jsx(G0,{showColorValueInCustomization:!0,colors:[X0],selectedColor:e,onChange:n=>t(n)})})},...r}),c1=g.lazy(()=>mn(()=>import("./MonacoEditor-BbzhZksg.js"),__vite__mapDeps([0,1,2,3,4,5]))),u1=({open:e,onClose:t,id:r,config:n,onSave:a})=>{const{t:o}=V("dashboard"),s=Xe(),{enqueueSnackbar:l}=St(),[u,c]=g.useState(n),[d,h]=g.useState(null);g.useEffect(()=>{try{h(JSON.parse(n))}catch{h(null)}},[n]),g.useEffect(()=>{try{h(JSON.parse(u))}catch{}},[u]);const f=g.useCallback(()=>{var x,v,b;try{const _=JSON.parse(u);if(!((b=(v=(x=_.light)==null?void 0:x.palette)==null?void 0:v.primary)!=null&&b.main))throw new Error("Invalid theme config");const w=_.light.palette.primary.main;a(r,w,u)}catch{l({message:o("settings.invalidThemeConfig"),variant:"warning",action:st})}},[u,r,a,l,o]),p=g.useMemo(()=>{if(!d)return null;try{return Ah({palette:{mode:"light",...d.light.palette}})}catch{return null}},[d]),m=g.useMemo(()=>{if(!d)return null;try{return Ah({palette:{mode:"dark",...d.dark.palette}})}catch{return null}},[d]);return i.jsx(ft,{title:o("settings.editThemeOption"),showActions:!0,showCancel:!0,onAccept:f,dialogProps:{fullWidth:!0,maxWidth:"lg",open:e,onClose:t},children:i.jsx(wt,{children:i.jsxs(Mt,{container:!0,spacing:2,children:[i.jsxs(Mt,{item:!0,xs:12,md:6,children:[i.jsx(L,{variant:"subtitle1",gutterBottom:!0,children:o("settings.themeConfiguration")}),i.jsx(g.Suspense,{fallback:i.jsx(_t,{}),children:i.jsx(c1,{theme:s.palette.mode==="dark"?"vs-dark":"vs",value:u,height:"500px",minHeight:"500px",language:"json",onChange:x=>c(x)})}),i.jsx(L,{sx:{mt:1},variant:"caption",color:"text.secondary",gutterBottom:!0,children:i.jsx(Z,{i18nKey:"settings.themeDes",ns:"dashboard",components:[i.jsx(te,{href:"https://mui.com/material-ui/customization/default-theme/",target:"_blank"})]})})]}),i.jsxs(Mt,{item:!0,xs:12,md:6,children:[i.jsx(L,{variant:"subtitle1",gutterBottom:!0,children:o("settings.themePreview")}),i.jsxs($,{sx:{mb:2},children:[i.jsx(L,{variant:"subtitle2",gutterBottom:!0,children:o("settings.lightTheme")}),p?i.jsx(kh,{theme:Dh(p),children:i.jsx(ts,{elevation:2,sx:{p:2,mb:2},children:i.jsxs(ce,{spacing:2,children:[i.jsx(L,{variant:"h6",children:o("settings.previewTitle")}),i.jsx(Eh,{active:!0,label:o("settings.previewTitle"),icon:i.jsx(Ic,{fontSize:"small",color:"action"})}),i.jsx(Th,{label:o("settings.previewTextField"),variant:"outlined",size:"small"}),i.jsx($,{children:i.jsx(Yn,{badgeContent:10,color:"secondary",children:i.jsx(De,{variant:"contained",color:"primary",children:o("settings.previewPrimary")})})})]})})}):i.jsx(L,{color:"error",children:o("settings.invalidThemePreview")})]}),i.jsx(bt,{sx:{my:2}}),i.jsxs($,{children:[i.jsx(L,{variant:"subtitle2",gutterBottom:!0,children:o("settings.darkTheme")}),m?i.jsx(kh,{theme:Dh(m),children:i.jsx(ts,{elevation:2,sx:{p:2,mb:2},children:i.jsxs(ce,{spacing:2,children:[i.jsx(L,{variant:"h6",children:o("settings.previewTitle")}),i.jsx(Eh,{active:!0,label:o("settings.previewTitle"),icon:i.jsx(Ic,{fontSize:"small",color:"action"})}),i.jsx(Th,{label:o("settings.previewTextField"),variant:"outlined",size:"small"}),i.jsx($,{children:i.jsx(Yn,{badgeContent:10,color:"secondary",children:i.jsx(De,{variant:"contained",color:"primary",children:o("settings.previewPrimary")})})})]})})}):i.jsx(L,{color:"error",children:o("settings.invalidThemePreview")})]})]})]})})})},d1=({value:e,onChange:t,defaultTheme:r,onDefaultThemeChange:n})=>{const{t:a}=V("dashboard");Xe();const{enqueueSnackbar:o}=St(),[s,l]=g.useState({}),[u,c]=g.useState(null),[d,h]=g.useState(!1);g.useEffect(()=>{try{const y=JSON.parse(e);l(y)}catch{l({})}},[e]);const f=g.useCallback(y=>{t(JSON.stringify(y))},[t]),p=g.useCallback(y=>{if(y===r){o({message:a("settings.cannotDeleteDefaultTheme"),variant:"warning",action:st});return}const j={...s};delete j[y],f(j)},[s,f,r,o,a]),m=g.useCallback(y=>{c({id:y,config:s[y]}),h(!0)},[s]),x=g.useCallback(()=>{const y=`#${Math.floor(Math.random()*16777215).toString(16)}`;c({id:y,config:{light:{palette:{primary:{main:y},secondary:{main:"#f50057"}}},dark:{palette:{primary:{main:y},secondary:{main:"#f50057"}}}}}),h(!0)},[]),v=g.useCallback(()=>{h(!1),c(null)},[]),b=g.useCallback((y,j,C)=>{try{const P=JSON.parse(C),A={...s};if(y!==j){if(A[j]){o({message:a("settings.duplicateThemeColor"),variant:"warning",action:st});return}y===r&&n(j),delete A[y]}A[j]=P,f(A),h(!1),c(null)}catch{o({message:a("settings.invalidThemeConfig"),variant:"warning",action:st})}},[s,f,o,r,n,a]),_=g.useCallback((y,j,C,P)=>{const A={...s};if(j==="primary"&&C==="light"){const T=P;if(A[T]&&T!==y){o({message:a("settings.duplicateThemeColor"),variant:"warning",action:st});return}const k={...A[y]};k[C].palette[j].main=P,delete A[y],A[T]=k,y===r&&n(T)}else A[y][C].palette[j].main=P;f(A)},[s,f,o,a,r,n]),w=g.useCallback(y=>{n(y)},[n]),S=g.useMemo(()=>Object.entries(s).map(([y,j])=>({id:y,config:j})),[s]);return i.jsxs($,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:a("settings.themeOptions")}),i.jsx(L,{variant:"body2",color:"text.secondary",paragraph:!0,children:a("settings.themeOptionsDes")}),S.length>0&&i.jsx(pt,{component:Ct,sx:{mt:2},children:i.jsxs(gt,{size:"small",stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed"},children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(M,{width:50,children:a("settings.defaultTheme")}),i.jsx(M,{width:150,children:a("settings.primaryColor")}),i.jsx(M,{width:150,children:a("settings.secondaryColor")}),i.jsx(M,{width:150,children:a("settings.primaryColorDark")}),i.jsx(M,{width:150,children:a("settings.secondaryColorDark")}),i.jsx(M,{width:100,align:"right"})]})}),i.jsx(xt,{children:S.map(y=>i.jsxs(je,{hover:!0,children:[i.jsx(ve,{children:i.jsx(Ln,{size:"small",checked:y.id===r,onChange:()=>w(y.id)})}),i.jsx(ve,{children:i.jsx(bi,{required:!0,currentColor:y.config.light.palette.primary.main,onColorChange:j=>_(y.id,"primary","light",j)})}),i.jsx(ve,{children:i.jsx(bi,{currentColor:y.config.light.palette.secondary.main,onColorChange:j=>_(y.id,"secondary","light",j)})}),i.jsx(ve,{children:i.jsx(bi,{currentColor:y.config.dark.palette.primary.main,onColorChange:j=>_(y.id,"primary","dark",j)})}),i.jsx(ve,{children:i.jsx(bi,{currentColor:y.config.dark.palette.secondary.main,onColorChange:j=>_(y.id,"secondary","dark",j)})}),i.jsxs(ve,{align:"right",children:[i.jsx(it,{size:"small",onClick:()=>m(y.id),children:i.jsx(lx,{fontSize:"small"})}),i.jsx(it,{size:"small",onClick:()=>p(y.id),disabled:S.length===1||y.id===r,children:i.jsx($r,{fontSize:"small"})})]})]},y.id))})]})}),i.jsx(Te,{variant:"contained",startIcon:i.jsx(yr,{}),onClick:x,sx:{mt:2},children:a("settings.addThemeOption")}),u&&i.jsx(u1,{open:d,onClose:v,id:u.id,config:JSON.stringify(u.config,null,2),onSave:b})]})},h1=()=>{V("dashboard");const{formRef:e,setSettings:t,values:r}=g.useContext(lr);return i.jsx($,{component:"form",ref:e,onSubmit:n=>n.preventDefault(),children:i.jsx(ce,{spacing:5,children:i.jsx(Ne,{children:i.jsx(d1,{value:r.theme_options||"{}",onChange:n=>t({theme_options:n}),defaultTheme:r.defaultTheme||"",onDefaultThemeChange:n=>t({defaultTheme:n})})})})})},f1=({values:e,setSettings:t})=>{const{t:r}=V("dashboard");return i.jsxs(ce,{spacing:3,children:[i.jsx(O,{title:r("settings.captchaMode"),lgWidth:5,children:i.jsx(I,{children:i.jsx(Ze,{onChange:n=>t({captcha_mode:n.target.value}),value:e.captcha_mode,children:["captchaModeNumber","captchaModeLetter","captchaModeMath","captchaModeNumberLetter"].map((n,a)=>i.jsx(ke,{value:a.toString(),children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:r(`settings.${n}`)})},n))})})}),[{name:"complexOfNoiseText",field:"captcha_ComplexOfNoiseText"},{name:"complexOfNoiseDot",field:"captcha_ComplexOfNoiseDot"},{name:"showHollowLine",field:"captcha_IsShowHollowLine"},{name:"showNoiseDot",field:"captcha_IsShowNoiseDot"},{name:"showNoiseText",field:"captcha_IsShowNoiseText"},{name:"showSlimeLine",field:"captcha_IsShowSlimeLine"},{name:"showSineLine",field:"captcha_IsShowSineLine"}].map(n=>i.jsx(O,{lgWidth:5,children:i.jsx(I,{fullWidth:!0,children:i.jsx(be,{control:i.jsx(Ee,{checked:Vt(e[n.field]),onChange:a=>t({[n.field]:a.target.checked?"1":"0"})}),label:r(`settings.${n.name}`)})})}))]})},p1=({values:e,setSettings:t})=>{const{t:r}=V("dashboard");return i.jsxs(ce,{spacing:3,children:[i.jsx(O,{title:r("settings.siteKey"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:e.captcha_ReCaptchaKey,onChange:n=>t({captcha_ReCaptchaKey:n.target.value}),required:!0}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"settings.siteKeyDes",ns:"dashboard",components:[i.jsx(te,{href:"https://www.google.com/recaptcha/admin/create",target:"_blank"},0)]})})]})}),i.jsx(O,{title:r("settings.siteSecret"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:e.captcha_ReCaptchaSecret,onChange:n=>t({captcha_ReCaptchaSecret:n.target.value}),required:!0}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"settings.siteSecretDes",ns:"dashboard",components:[i.jsx(te,{href:"https://www.google.com/recaptcha/admin/create",target:"_blank"},0)]})})]})})]})},g1=({values:e,setSettings:t})=>{const{t:r}=V("dashboard");return i.jsxs(ce,{spacing:3,children:[i.jsx(O,{title:r("settings.turnstileSiteKey"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:e.captcha_turnstile_site_key,onChange:n=>t({captcha_turnstile_site_key:n.target.value}),required:!0}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"settings.siteKeyDes",ns:"dashboard",components:[i.jsx(te,{href:"https://dash.cloudflare.com/",target:"_blank"},0)]})})]})}),i.jsx(O,{title:r("settings.turnstileSiteKSecret"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:e.captcha_turnstile_site_secret,onChange:n=>t({captcha_turnstile_site_secret:n.target.value}),required:!0}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"settings.siteSecretDes",ns:"dashboard",components:[i.jsx(te,{href:"https://dash.cloudflare.com/",target:"_blank"},0)]})})]})})]})},m1=()=>{const{t:e}=V("dashboard"),{formRef:t,setSettings:r,values:n}=g.useContext(lr);return i.jsx($,{component:"form",ref:t,onSubmit:a=>a.preventDefault(),children:i.jsxs(ce,{spacing:5,children:[i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("nav.captcha")}),i.jsxs(Me,{children:[i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:Vt(n.login_captcha),onChange:a=>r({login_captcha:a.target.checked?"1":"0"})}),label:e("settings.captchaForLogin")}),i.jsx(D,{children:e("settings.captchaForLoginDes")})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:Vt(n.reg_captcha),onChange:a=>r({reg_captcha:a.target.checked?"1":"0"})}),label:e("settings.captchaForSignup")}),i.jsx(D,{children:e("settings.captchaForSignupDes")})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:Vt(n.forget_captcha),onChange:a=>r({forget_captcha:a.target.checked?"1":"0"})}),label:e("settings.captchaForReset")}),i.jsx(D,{children:e("settings.captchaForResetDes")})]})})]})]}),i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings.captchaType")}),i.jsxs(Me,{children:[i.jsx(O,{title:e("settings.captchaType"),lgWidth:5,children:i.jsxs(I,{children:[i.jsxs(Ze,{onChange:a=>r({captcha_type:a.target.value}),value:n.captcha_type,children:[i.jsx(ke,{value:ci.NORMAL,children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:e("settings.plainCaptcha")})}),i.jsx(ke,{value:ci.RECAPTCHA,children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:e("settings.reCaptchaV2")})}),i.jsx(ke,{value:ci.TURNSTILE,children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:e("settings.turnstile")})})]}),i.jsx(D,{children:e("settings.captchaTypeDes")})]})}),i.jsx(et,{in:n.captcha_type===ci.NORMAL,unmountOnExit:!0,children:i.jsx(f1,{setSettings:r,values:n})}),i.jsx(et,{in:n.captcha_type===ci.RECAPTCHA,unmountOnExit:!0,children:i.jsx(p1,{setSettings:r,values:n})}),i.jsx(et,{in:n.captcha_type===ci.TURNSTILE,unmountOnExit:!0,children:i.jsx(g1,{setSettings:r,values:n})})]})]})]})})},Un=at(e=>i.jsx(Y0,{...e}))(({theme:e})=>({fontSize:e.typography.body2.fontSize,paddingLeft:e.spacing(4),"& .MuiFormControlLabel-label":{fontSize:e.typography.body2.fontSize},"& .MuiCheckbox-root":{marginRight:e.spacing(2)}})),Vn=at(J0)(({theme:e})=>({boxShadow:"none",border:`1px solid ${e.palette.divider}`,"&::before":{display:"none"}})),x1=()=>{const[e,t]=g.useState(!1),{t:r}=V("dashboard"),n=g.useCallback(a=>{a.stopPropagation(),t(!0)},[]);return i.jsxs(i.Fragment,{children:[i.jsx(gn,{open:e,onClose:()=>t(!1)}),i.jsxs("div",{onClick:n,children:[i.jsxs(Vn,{expanded:!1,disableGutters:!0,children:[i.jsx(Un,{expandIcon:i.jsx(Rn,{}),children:i.jsx(be,{control:i.jsx(Ln,{size:"small",checked:!1}),label:r("vas.qqConnect")})}),i.jsx(Bn,{sx:{display:"block"}})]}),i.jsxs(Vn,{expanded:!1,disableGutters:!0,children:[i.jsx(Un,{expandIcon:i.jsx(Rn,{}),children:i.jsx(be,{control:i.jsx(Ln,{size:"small",checked:!1}),label:r("settings.logto")})}),i.jsx(Bn,{sx:{display:"block"}})]}),i.jsxs(Vn,{expanded:!1,disableGutters:!0,children:[i.jsx(Un,{expandIcon:i.jsx(Rn,{}),children:i.jsx(be,{control:i.jsx(Ln,{size:"small",checked:!1}),label:r("settings.oidc")})}),i.jsx(Bn,{sx:{display:"block"}})]})]})]})},jd=({open:e,onClose:t,vars:r})=>{const{t:n}=V("dashboard");return i.jsx(ft,{title:n("policy.magicVar.variable"),onAccept:t,dialogProps:{fullWidth:!0,maxWidth:"md",open:e,onClose:t},children:i.jsx(wt,{children:i.jsx(pt,{sx:{mt:1,maxHeight:440},children:i.jsxs(gt,{stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed"},size:"small",children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(M,{width:350,children:n("policy.magicVar.variable")}),i.jsx(M,{width:200,children:n("policy.magicVar.description")}),i.jsx(M,{width:250,children:n("policy.magicVar.example")})]})}),i.jsx(xt,{children:r.map((a,o)=>i.jsxs(je,{sx:{"&:last-child td, &:last-child th":{border:0}},hover:!0,children:[i.jsx(ve,{children:i.jsx("code",{children:a.name})}),i.jsx(ve,{children:n(a.value)}),i.jsx(ve,{sx:{wordBreak:"break-all"},children:a.example})]},o))})]})})})})},v1=g.lazy(()=>mn(()=>import("./MonacoEditor-BbzhZksg.js"),__vite__mapDeps([0,1,2,3,4,5]))),y1=({value:e,onChange:t,templateType:r,magicVars:n})=>{const a=Xe(),{t:o}=V("dashboard"),[s,l]=g.useState([]),[u,c]=g.useState(0),[d,h]=g.useState(!1),[f,p]=g.useState(""),m=g.useRef(!1),[x,v]=g.useState(!1);g.useEffect(()=>{try{m.current=!0;const y=e?JSON.parse(e):[];l(y),y.length===0&&l([{language:"en-US",title:"",body:""}])}catch(y){console.error("Failed to parse email template:",y),l([{language:"en-US",title:"",body:""}])}finally{setTimeout(()=>{m.current=!1},0)}},[e]),g.useEffect(()=>{s.length>0&&!m.current&&t(JSON.stringify(s))},[s,t]);const b=(y,j)=>{c(j)},_=(y,j,C)=>{m.current=!1;const P=[...s];P[y]={...P[y],[j]:C},l(P)},w=()=>{if(f.trim()){if(s.some(y=>y.language===f)){p(""),h(!1);return}m.current=!1,l([...s,{language:f,title:"",body:""}]),p(""),h(!1),c(s.length)}},S=g.useCallback(y=>{v(!0),y.stopPropagation(),y.preventDefault()},[]);return i.jsxs($,{sx:{width:"100%"},children:[i.jsxs($,{sx:{borderBottom:1,borderColor:"divider",display:"flex"},children:[i.jsx(Q0,{value:u,onChange:b,variant:"scrollable",scrollButtons:"auto",sx:{flexGrow:1},children:s.map((y,j)=>i.jsx(Z0,{label:y.language},j))}),i.jsx(De,{startIcon:i.jsx(gd,{}),onClick:()=>h(!0),sx:{minWidth:"auto",mt:.5,mb:.5},children:o("settings.addLanguage")})]}),s.map((y,j)=>i.jsx($,{role:"tabpanel",hidden:u!==j,id:`template-tabpanel-${j}`,"aria-labelledby":`template-tab-${j}`,sx:{mt:2},children:u===j&&i.jsxs($,{children:[i.jsxs(I,{fullWidth:!0,sx:{mb:2},children:[i.jsx(L,{variant:"subtitle2",sx:{mb:1},children:o("settings.emailSubject")}),i.jsx(N,{fullWidth:!0,value:y.title,onChange:C=>_(j,"title",C.target.value)}),i.jsx(D,{children:o("settings.emailSubjectDes")})]}),i.jsx(L,{variant:"subtitle2",sx:{mb:1},children:o("settings.emailBody")}),i.jsx($,{sx:{height:400},children:i.jsx(g.Suspense,{fallback:i.jsx(_t,{}),children:i.jsx(v1,{theme:a.palette.mode==="dark"?"vs-dark":"vs",language:"html",value:y.body,onChange:C=>_(j,"body",C||""),height:"400px",minHeight:"400px",options:{wordWrap:"on",minimap:{enabled:!1},scrollBeyondLastLine:!1}})})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"settings.emailBodyDes",ns:"dashboard",components:[i.jsx(te,{onClick:S,href:"#"})]})})]})},j)),i.jsx(ft,{title:o("settings.addLanguage"),showActions:!0,showCancel:!0,onAccept:w,dialogProps:{maxWidth:"xs",fullWidth:!0,open:d,onClose:()=>h(!1)},children:i.jsx(wt,{children:i.jsx(O,{title:o("application:setting.language"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(Ze,{value:f,onChange:y=>p(y.target.value),children:eb.map(y=>i.jsx(ke,{value:y.code,children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:y.displayName})}))}),i.jsx(D,{children:o("settings.languageCodeDes")})]})})})}),i.jsx(jd,{open:x,vars:n,onClose:()=>v(!1)})]})},Bh=[{value:"settings.mainTitle",name:"{{ .CommonContext.SiteBasic.Name }}",example:"Cloudreve"},{value:"settings.siteDescription",name:"{{ .CommonContext.SiteBasic.Description }}",example:"Another Cloudreve instance"},{value:"settings.siteID",name:"{{ .CommonContext.SiteBasic.ID }}",example:"123e4567-e89b-12d3-a456-426614174000"},{value:"settings.logo",name:"{{ .CommonContext.Logo.Normal }}",example:"https://cloudreve.org/logo.svg"},{value:"settings.logo",name:"{{ .CommonContext.Logo.Light }}",example:"https://cloudreve.org/logo_light.svg"},{value:"settings.siteURL",name:"{{ .CommonContext.SiteUrl }}",example:"https://cloudreve.org"}],Rh=[{value:"policy.magicVar.uid",name:"{{ .User.ID }}",example:"2534"},{value:"application:login.email",name:"{{ .User.Email }}",example:"example@cloudreve.org"},{value:"application:setting.nickname",name:"{{ .User.Nick }}",example:"Aaron Liu"},{value:"user.usedStorage",name:"{{ .User.Storage }}",example:"123221000"}],b1=()=>{const{t:e}=V("dashboard"),{setSettings:t,values:r}=g.useContext(lr),[n,a]=g.useState(!1),o=[{key:"mail_receipt_template",title:"receiptEmailTemplate",description:"receiptEmailTemplateDes",pro:!0},{key:"mail_activation_template",title:"activationEmailTemplate",description:"activationEmailTemplateDes",magicVars:[...Bh,...Rh,{value:"settings.activateUrl",name:"{{ .Url }}",example:"https://cloudreve.org/activate"}]},{key:"mail_exceed_quota_template",title:"quotaExceededEmailTemplate",description:"quotaExceededEmailTemplateDes",pro:!0},{key:"mail_reset_template",title:"resetPasswordEmailTemplate",description:"resetPasswordEmailTemplateDes",magicVars:[...Bh,...Rh,{value:"settings.resetUrl",name:"{{ .Url }}",example:"https://cloudreve.org/reset"}]}],s=l=>{l.preventDefault(),a(!0)};return i.jsxs(Ne,{children:[i.jsx(gn,{open:n,onClose:()=>a(!1)}),i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings.emailTemplates")}),i.jsx(Me,{children:i.jsx($,{children:o.map(l=>i.jsxs(Vn,{disableGutters:!0,onClick:l.pro?s:void 0,expanded:l.pro?!1:void 0,TransitionProps:{unmountOnExit:!0},children:[i.jsx(Un,{expandIcon:i.jsx(Rn,{}),children:i.jsxs(L,{children:[e("settings."+l.title),l.pro&&i.jsx(qt,{label:"Pro",color:"primary",size:"small"})]})}),i.jsxs(Bn,{sx:{display:"block"},children:[i.jsxs(L,{variant:"body2",color:"textSecondary",sx:{mb:2},children:[e("settings."+l.description)," "]}),i.jsx(O,{noContainer:!0,lgWidth:12,children:i.jsx($,{sx:{width:"100%"},children:i.jsx(y1,{magicVars:l.magicVars||[],value:r[l.key]||"[]",onChange:u=>t({[l.key]:u}),templateType:l.key})})})]})]},l.key))})})]})},j1=()=>{const{t:e}=V("dashboard"),t=ge(),{enqueueSnackbar:r}=St(),{formRef:n,setSettings:a,values:o}=g.useContext(lr),[s,l]=g.useState(!1),[u,c]=g.useState(""),[d,h]=g.useState(!1),f=async()=>{h(!0);try{await t(tb({to:u,settings:o})),r({message:e("settings.testMailSent"),variant:"success",action:st}),l(!1)}catch{}finally{h(!1)}};return i.jsx($,{component:"form",ref:n,onSubmit:p=>p.preventDefault(),children:i.jsxs(ce,{spacing:5,children:[i.jsx(ft,{dialogProps:{open:s,onClose:()=>l(!1)},loading:d,showActions:!0,showCancel:!0,onAccept:f,title:e("settings.testSMTPSettings"),children:i.jsxs(wt,{children:[i.jsx(Rm,{sx:{mb:2},children:e("settings.testSMTPTooltip")}),i.jsx(O,{title:e("settings.recipient"),lgWidth:12,children:i.jsx(N,{required:!0,autoFocus:!0,value:u,onChange:p=>c(p.target.value),type:"email",fullWidth:!0})})]})}),i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings.smtp")}),i.jsxs(Me,{children:[i.jsx(O,{title:e("settings.senderName"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,value:o.fromName??"",onChange:p=>a({fromName:p.target.value})}),i.jsx(D,{children:e("settings.senderNameDes")})]})}),i.jsx(O,{title:e("settings.senderAddress"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{type:"email",required:!0,value:o.fromAdress??"",onChange:p=>a({fromAdress:p.target.value})}),i.jsx(D,{children:e("settings.senderAddressDes")})]})}),i.jsx(O,{title:e("settings.smtpServer"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,value:o.smtpHost??"",onChange:p=>a({smtpHost:p.target.value})}),i.jsx(D,{children:e("settings.smtpServerDes")})]})}),i.jsx(O,{title:e("settings.smtpPort"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{type:"number",required:!0,inputProps:{min:1,step:1},value:o.smtpPort??"",onChange:p=>a({smtpPort:p.target.value})}),i.jsx(D,{children:e("settings.smtpPortDes")})]})}),i.jsx(O,{title:e("settings.smtpUsername"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,value:o.smtpUser??"",onChange:p=>a({smtpUser:p.target.value})}),i.jsx(D,{children:e("settings.smtpUsernameDes")})]})}),i.jsx(O,{title:e("settings.smtpPassword"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{type:"password",required:!0,value:o.smtpPass??"",onChange:p=>a({smtpPass:p.target.value})}),i.jsx(D,{children:e("settings.smtpPasswordDes")})]})}),i.jsx(O,{title:e("settings.replyToAddress"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,value:o.replyTo??"",onChange:p=>a({replyTo:p.target.value})}),i.jsx(D,{children:e("settings.replyToAddressDes")})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:Vt(o.smtpEncryption),onChange:p=>a({smtpEncryption:p.target.checked?"1":"0"})}),label:e("settings.enforceSSL")}),i.jsx(D,{children:e("settings.enforceSSLDes")})]})}),i.jsx(O,{title:e("settings.smtpTTL"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{type:"number",required:!0,inputProps:{min:1,step:1},value:o.mail_keepalive??"30",onChange:p=>a({mail_keepalive:p.target.value})}),i.jsx(D,{children:e("settings.smtpTTLDes")})]})}),i.jsx($,{display:"flex",gap:2,mt:2,children:i.jsx(Te,{variant:"contained",startIcon:i.jsx(Fm,{}),onClick:()=>l(!0),children:e("settings.sendTestEmail")})})]})]}),i.jsx(b1,{})]})})},_1={system:{title:"settings.systemEvents",description:"settings.systemEventsDes",events:[ye.server_start]},user:{title:"settings.userEvents",description:"settings.userEventsDes",events:[ye.user_signup,ye.user_activated,ye.user_login,ye.user_login_failed,ye.user_token_refresh,ye.user_changed,ye.user_exceed_quota_notified,ye.change_nick,ye.change_avatar,ye.change_password,ye.enable_2fa,ye.disable_2fa,ye.add_passkey,ye.remove_passkey,ye.link_account,ye.unlink_account]},file:{title:"settings.fileEvents",description:"settings.fileEventsDes",events:[ye.file_create,ye.file_imported,ye.file_rename,ye.set_file_permission,ye.entity_uploaded,ye.entity_downloaded,ye.copy_from,ye.copy_to,ye.move_to,ye.delete_file,ye.move_to_trash,ye.update_metadata,ye.get_direct_link,ye.update_view]},share:{title:"settings.shareEvents",description:"settings.shareEventsDes",events:[ye.share,ye.share_link_viewed,ye.edit_share,ye.delete_share]},version:{title:"settings.versionEvents",description:"settings.versionEventsDes",events:[ye.set_current_version,ye.delete_version]},media:{title:"settings.mediaEvents",description:"settings.mediaEventsDes",events:[ye.thumb_generated,ye.live_photo_uploaded]},filesystem:{title:"settings.filesystemEvents",description:"settings.filesystemEventsDes",events:[ye.mount,ye.relocate,ye.create_archive,ye.extract_archive]},webdav:{title:"settings.webdavEvents",description:"settings.webdavEventsDes",events:[ye.webdav_login_failed,ye.webdav_account_create,ye.webdav_account_update,ye.webdav_account_delete]},payment:{title:"settings.paymentEvents",description:"settings.paymentEventsDes",events:[ye.payment_created,ye.points_change,ye.payment_paid,ye.payment_fulfilled,ye.payment_fulfill_failed,ye.storage_added,ye.group_changed,ye.membership_unsubscribe,ye.redeem_gift_code]},email:{title:"settings.emailEvents",description:"settings.emailEventsDes",events:[ye.email_sent]}},Fh=e=>{var t;return((t=Object.entries(ye).find(([r,n])=>n===e))==null?void 0:t[0])||`event_${e}`},w1=()=>{const{t:e}=V("dashboard"),{formRef:t,setSettings:r,values:n}=g.useContext(lr),[a,o]=g.useState(!1),s=l=>{l.preventDefault(),o(!0)};return i.jsxs($,{component:"form",ref:t,onSubmit:l=>l.preventDefault(),children:[i.jsx(gn,{open:a,onClose:()=>o(!1)}),i.jsx(ce,{spacing:5,children:i.jsxs(Ne,{children:[i.jsxs(L,{variant:"h6",sx:{display:"flex",alignItems:"center"},children:[e("settings.auditLog")," ",i.jsx(qt,{label:"Pro",color:"primary",size:"small"})]}),i.jsx(L,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e("settings.auditLogDes")}),Object.entries(_1).map(([l,u])=>i.jsxs(Ne,{onClick:s,children:[i.jsxs($,{children:[i.jsx(L,{variant:"subtitle1",children:e(u.title)}),i.jsx(L,{variant:"body2",color:"text.secondary",children:e(u.description)})]}),i.jsxs(Me,{children:[i.jsx(I,{component:"fieldset",children:i.jsxs(dx,{children:[i.jsx(be,{slotProps:{typography:{variant:"body2"}},control:i.jsx(lt,{size:"small",checked:!1}),label:e("settings.toggleAll")}),i.jsx(D,{children:e("settings.toggleAllDes")})]})}),i.jsx(Mt,{container:!0,spacing:1,children:u.events.map(c=>i.jsx(Mt,{item:!0,xs:12,sm:6,md:4,lg:3,children:i.jsx(be,{slotProps:{typography:{variant:"body2"}},control:i.jsx(lt,{size:"small",checked:!1}),label:e(`settings.event.${Fh(c)}`,Fh(c))})},c))})]}),i.jsx(bt,{sx:{mt:1}})]},l))]})})]})},S1=g.memo(({config:e,onChange:t})=>{const{t:r}=V("dashboard"),[n,a]=g.useState(!1),o=g.useMemo(()=>JSON.parse(e),[e]),[s,l]=g.useState({});return i.jsxs(ce,{spacing:1,children:[i.jsxs($,{children:[!n&&i.jsx(Te,{variant:"contained",onClick:()=>a(!n),children:r("settings.showSettings")}),n&&Object.keys(o??{}).length>0&&i.jsx(pt,{sx:{mt:1,maxHeight:440},component:Ct,children:i.jsxs(gt,{stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed"},size:"small",children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(M,{width:64,children:r("settings.category")}),i.jsx(M,{width:200,children:r("settings.emojiOptions")}),i.jsx(M,{width:64})]})}),i.jsx(xt,{children:Object.keys(o??{}).map((u,c)=>i.jsxs(je,{sx:{"&:last-child td, &:last-child th":{border:0}},hover:!0,children:[i.jsx(We,{children:i.jsx(N,{fullWidth:!0,required:!0,value:u,onChange:d=>{const h={...o,[d.target.value]:o[u]};delete h[u],t(JSON.stringify(h))}})}),i.jsx(We,{children:i.jsx(N,{fullWidth:!0,multiline:!0,required:!0,value:s[c]??o[u].join(),onBlur:()=>{var d;t(JSON.stringify({...o,[u]:((d=s[c])==null?void 0:d.split(","))??o[u]})),l({...s,[c]:void 0})},onChange:d=>l({...s,[c]:d.target.value})})}),i.jsx(We,{children:i.jsx(it,{onClick:()=>{const d={...o};delete d[u],t(JSON.stringify(d))},size:"small",children:i.jsx(xo,{fontSize:"small"})})})]},c))})]})})]}),n&&i.jsx($,{children:i.jsx(Te,{variant:"contained",startIcon:i.jsx(yr,{}),onClick:()=>t(JSON.stringify({...o,"":[]})),children:r("settings.addCategorize")})})]})}),C1=({icon:e})=>{const t=Xe(),r=g.useMemo(()=>{if(e.icon)return rb[e.icon]},[e.icon]),n=g.useMemo(()=>t.palette.mode=="dark"?e.color_dark??e.color??t.palette.action.active:e.color??t.palette.action.active,[e.color,e.color_dark,t]);return r?i.jsx(r,{sx:{color:n,fontSize:32}}):i.jsx($,{component:e.img?"img":"div",sx:{width:"32px",height:"32px"},src:e.img})},O1=g.memo(({config:e,onChange:t})=>{const{t:r}=V("dashboard"),n=g.useMemo(()=>JSON.parse(e),[e]),[a,o]=g.useState({});return i.jsxs($,{children:[(n==null?void 0:n.length)>0&&i.jsx(pt,{sx:{mt:1,maxHeight:440},component:Ct,children:i.jsxs(gt,{stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed"},size:"small",children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(M,{width:64,children:r("settings.icon")}),i.jsx(M,{width:200,children:r("settings.iconUrl")}),i.jsx(M,{width:150,children:r("settings.iconColor")}),i.jsx(M,{width:150,children:r("settings.iconColorDark")}),i.jsx(M,{width:250,children:r("settings.exts")}),i.jsx(M,{width:64})]})}),i.jsx(xt,{children:n.map((s,l)=>i.jsxs(je,{sx:{"&:last-child td, &:last-child th":{border:0}},hover:!0,children:[i.jsx(We,{children:i.jsx(C1,{icon:s})}),i.jsx(We,{children:s.icon?r("settings.builtinIcon"):i.jsx(N,{fullWidth:!0,required:!0,value:s.img,onChange:u=>t(JSON.stringify([...n.slice(0,l),{...s,img:u.target.value},...n.slice(l+1)]))})}),i.jsx(We,{children:s.icon?i.jsx(bi,{currentColor:s.color??"",onColorChange:u=>t(JSON.stringify([...n.slice(0,l),{...s,color:u},...n.slice(l+1)]))}):"-"}),i.jsx(We,{children:s.icon?i.jsx(bi,{currentColor:s.color_dark??"",onColorChange:u=>t(JSON.stringify([...n.slice(0,l),{...s,color_dark:u},...n.slice(l+1)]))}):"-"}),i.jsx(We,{children:i.jsx(N,{fullWidth:!0,multiline:!0,required:!0,value:a[l]??s.exts.join(),onBlur:()=>{var u;t(JSON.stringify([...n.slice(0,l),{...s,exts:((u=a[l])==null?void 0:u.split(","))??s.exts},...n.slice(l+1)])),o({...a,[l]:void 0})},onChange:u=>o({...a,[l]:u.target.value})})}),i.jsx(We,{children:!s.icon&&i.jsx(it,{onClick:()=>t(JSON.stringify(n.filter((u,c)=>c!==l))),size:"small",children:i.jsx(xo,{fontSize:"small"})})})]},l))})]})}),i.jsx(Te,{variant:"contained",startIcon:i.jsx(yr,{}),sx:{mt:1},onClick:()=>t(JSON.stringify([...n,{img:"",exts:[]}])),children:r("settings.addIcon")})]})});function P1(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M16.668 3H4.25l-.154.005A2.25 2.25 0 0 0 2 5.25v10.502l.005.154a2.25 2.25 0 0 0 2.245 2.096h4.249V20.5H6.75l-.102.007A.75.75 0 0 0 6.75 22h10.5l.102-.006a.75.75 0 0 0-.102-1.494h-1.751v-2.498h4.25l.154-.005a2.25 2.25 0 0 0 2.096-2.245V9.5h-1.5v6.252l-.007.102a.75.75 0 0 1-.743.648H4.25l-.102-.007a.75.75 0 0 1-.648-.743V5.25l.007-.102A.75.75 0 0 1 4.25 4.5H16.5v-.75c0-.268.06-.523.168-.75m-6.67 15.002h4l.001 2.498h-4zM17.5 3.75a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-.75.75h-4a.75.75 0 0 1-.75-.75V7h-.323a.536.536 0 0 0-.508.366l-.914 2.742a2.036 2.036 0 0 1-1.932 1.392H13v1.75a.75.75 0 0 1-.75.75h-4a.75.75 0 0 1-.75-.75v-4a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 .75.75V10h.823c.23 0 .436-.148.508-.366l.914-2.742A2.036 2.036 0 0 1 17.177 5.5h.323zM19 6.268V7h2.5V4.5H19v1.732a1.067 1.067 0 0 1 0 .036M9 10v2.5h2.5V10z"})})}function A1(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M8.75 11a.75.75 0 0 1 .75.75v2.916a4.754 4.754 0 0 0-1.25-.166H8v-2.75a.75.75 0 0 1 .75-.75M5.5 14.5V4a.5.5 0 0 1 .5-.5h6V8a2 2 0 0 0 2 2h4.5v10a.5.5 0 0 1-.5.5h-5.166a4.728 4.728 0 0 1-.71 1.5H18a2 2 0 0 0 2-2V9.828a2 2 0 0 0-.586-1.414l-1.173-1.173a.815.815 0 0 0-.02-.021l-4.854-4.854A1.25 1.25 0 0 0 12.483 2H6a2 2 0 0 0-2 2v10.559a4.78 4.78 0 0 1 .75-.059zm7.25 3.225V14.75a.75.75 0 0 0-1.5 0v.817a4.758 4.758 0 0 1 1.5 2.158M15.25 12a.75.75 0 0 1 .75.75v5.5a.75.75 0 0 1-1.5 0v-5.5a.75.75 0 0 1 .75-.75M13.5 4.621L17.378 8.5H14a.5.5 0 0 1-.5-.5zM8.25 15.5a3.75 3.75 0 0 1 .202 7.495L8.253 23v.005a.75.75 0 0 1-.108-1.493l.102-.007l.003-.005a2.25 2.25 0 0 0 .154-4.495L8.25 17a.75.75 0 0 1-.102-1.493zm-3.5 0a.75.75 0 0 1 .102 1.493L4.75 17a2.25 2.25 0 0 0-.154 4.495l.154.005a.75.75 0 0 1 .102 1.493L4.75 23a3.75 3.75 0 0 1-.2-7.495zm3.5 3a.75.75 0 0 1 .102 1.493L8.25 20h-3.5a.75.75 0 0 1-.102-1.493l.102-.007z"})})}const k1=g.lazy(()=>mn(()=>import("./MonacoEditor-BbzhZksg.js"),__vite__mapDeps([0,1,2,3,4,5]))),D1=[{name:"{$src}",value:"settings.srcEncodedVar",example:"https%3A%2F%2Fcloudreve.org%2Fapi%2Fv4%2Ffile%2Fcontent%2FzOie%2F0%2Ftext.txt%3Fsign%3Dxxx"},{name:"{$src_raw}",value:"settings.srcVar",example:"https://cloudreve.org/api/v4/file/content/zOie/0/text.txt?sign=xxx"},{name:"{$name}",value:"settings.nameEncodedVar",example:"sampleFile%5B1%5D.txt"},{name:"{$version}",value:"settings.versionEntityVar",example:"zOie"},{name:"{$id}",value:"settings.fileIdVar",example:"jm8AF8"},{name:"{$user_id}",value:"settings.userIdVar",example:"lpua"},{name:"{$user_display_name}",value:"settings.userDisplayNameVar",example:"Aaron%20Liu"}],px=({viewer:e,onChange:t,open:r,onClose:n})=>{var b,_,w;const{t:a}=V("dashboard"),o=Xe(),{enqueueSnackbar:s}=St(),[l,u]=g.useState(void 0),c=W.useRef(null),[d,h]=g.useState(!1),[f,p]=g.useState(""),m=g.useMemo(()=>nb.includes(e.id),[e.id]);g.useEffect(()=>{u({...e}),p("")},[e,p,u]);const x=g.useCallback(()=>{if(c.current&&!c.current.checkValidity()){c.current.reportValidity();return}let S=l;if(!(!l||!S)){if(f!="")try{const y=JSON.parse(f);S={...l,wopi_actions:y},u({...S})}catch{s({message:a("settings.invalidWopiActionMapping"),variant:"warning",action:st});return}t(S),n()}},[l,f,c]),v=g.useCallback(S=>{h(!0),S.stopPropagation(),S.preventDefault()},[]);return l?i.jsx(ft,{title:a("settings.editViewerTitle",{name:a(e.display_name,{ns:"application"})}),showActions:!0,showCancel:!0,onAccept:x,dialogProps:{fullWidth:!0,maxWidth:"lg",open:r,onClose:n},children:i.jsxs(wt,{children:[i.jsx(jd,{open:d,vars:D1,onClose:()=>h(!1)}),i.jsx("form",{ref:c,children:i.jsxs(Bt,{spacing:2,container:!0,children:[i.jsxs(O,{noContainer:!0,lgWidth:6,title:a("settings.iconUrl"),children:[i.jsx(N,{fullWidth:!0,required:!m,value:l.icon,onChange:S=>{u(y=>({...y,icon:S.target.value}))}}),m&&i.jsx(D,{children:a("settings.builtInIconUrlDes")})]}),i.jsxs(O,{noContainer:!0,lgWidth:6,title:a("settings.displayName"),children:[i.jsx(N,{fullWidth:!0,required:!0,value:l.display_name,onChange:S=>{u(y=>({...y,display_name:S.target.value}))}}),i.jsx(D,{children:a("settings.displayNameDes")})]}),i.jsx(O,{noContainer:!0,lgWidth:6,title:a("settings.exts"),children:i.jsx(N,{fullWidth:!0,multiline:!0,required:!0,value:l.exts.join(),onChange:S=>u(y=>({...y,exts:S.target.value.split(",").map(j=>j.trim())}))})}),e.type==wa.custom&&i.jsxs(O,{noContainer:!0,lgWidth:6,title:a("settings.viewerUrl"),children:[i.jsx(N,{fullWidth:!0,required:!0,value:l.url,onChange:S=>u(y=>({...y,url:S.target.value}))}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"settings.viewerUrlDes",ns:"dashboard",components:[i.jsx(te,{onClick:v,href:"#"})]})})]}),i.jsx(O,{noContainer:!0,lgWidth:6,title:a("settings.maxSize"),children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(or,{variant:"outlined",required:!0,allowZero:!0,value:l.max_size??0,onChange:S=>u(y=>({...y,max_size:S||void 0}))}),i.jsx(D,{children:a("settings.maxSizeDes")})]})}),e.type==wa.custom&&i.jsxs(O,{noContainer:!0,lgWidth:6,children:[i.jsx(be,{control:i.jsx(Ee,{checked:Vt(((b=l.props)==null?void 0:b.openInNew)??""),onChange:S=>u(y=>({...y,props:{...(y==null?void 0:y.props)??{},openInNew:S.target.checked.toString()}}))}),label:a("settings.openInNew")}),i.jsx(D,{children:a("settings.openInNewDes")})]}),e.id==ib.drawio&&i.jsxs(O,{noContainer:!0,title:a("settings.drawioHost"),lgWidth:6,children:[i.jsx(N,{fullWidth:!0,required:!0,value:((_=l.props)==null?void 0:_.host)??"",onChange:S=>u(y=>({...y,props:{...(y==null?void 0:y.props)??{},host:S.target.value}}))}),i.jsx(D,{children:a("settings.drawioHostDes")})]}),e.type==wa.wopi&&i.jsx(O,{noContainer:!0,title:a("settings.woapiActionMapping"),lgWidth:12,children:i.jsx(g.Suspense,{fallback:i.jsx(_t,{}),children:i.jsx(k1,{theme:o.palette.mode==="dark"?"vs-dark":"vs",value:f==""?JSON.stringify(l.wopi_actions,null,4):f,height:"300px",minHeight:"300px",language:"json",onChange:S=>p(S)})})}),i.jsxs(O,{noContainer:!0,title:a("settings.newFileAction"),lgWidth:12,children:[(l==null?void 0:l.templates)&&l.templates.length>0&&i.jsx(pt,{sx:{mt:1,maxHeight:440},component:Ct,children:i.jsxs(gt,{stickyHeader:!0,sx:{width:"100%",maxHeight:300,tableLayout:"fixed"},size:"small",children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(M,{width:100,children:a("settings.ext")}),i.jsx(M,{width:200,children:a("settings.displayName")}),i.jsx(M,{width:64})]})}),i.jsx(xt,{children:(w=l.templates)==null?void 0:w.map((S,y)=>i.jsxs(je,{sx:{"&:last-child td, &:last-child th":{border:0}},hover:!0,children:[i.jsx(M,{children:i.jsx(Ze,{value:S.ext,required:!0,onChange:j=>{const C=j.target.value;u(P=>({...P,templates:((P==null?void 0:P.templates)??[]).map((A,T)=>T==y?{...A,ext:C}:A)}))},children:l.exts.map(j=>i.jsx(ke,{value:j,children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:j})}))})}),i.jsx(M,{children:i.jsx(N,{fullWidth:!0,required:!0,value:S.display_name,onChange:j=>{u(C=>({...C,templates:((C==null?void 0:C.templates)??[]).map((P,A)=>A==y?{...P,display_name:j.target.value}:P)}))}})}),i.jsx(M,{children:i.jsx(it,{size:"small",onClick:()=>u(j=>({...j,templates:((j==null?void 0:j.templates)??[]).filter((C,P)=>P!=y)})),children:i.jsx(xo,{fontSize:"small"})})})]},y))})]})}),i.jsx(Te,{sx:{mt:1},variant:"contained",startIcon:i.jsx(yr,{}),onClick:()=>u(S=>{var y;return{...S,templates:[...(S==null?void 0:S.templates)??[],{ext:((y=l.exts)==null?void 0:y[0])??"",display_name:""}]}}),children:a("settings.addNewFileAction")}),i.jsx(D,{children:a("settings.newFileActionDes")})]})]})})]})}):null},E1=g.memo(({viewer:e,onChange:t,onDelete:r})=>{var c,d;const{t:n}=V("dashboard"),[a,o]=g.useState(""),[s,l]=g.useState(!1),u=g.useCallback(()=>{l(!1)},[l]);return i.jsxs(je,{sx:{"&:last-child td, &:last-child th":{border:0}},hover:!0,children:[i.jsx(px,{viewer:e,onChange:t,open:s,onClose:u}),i.jsx(We,{children:i.jsx(ab,{viewer:e})}),i.jsx(We,{children:n(`settings.${e.type}ViewerType`)}),i.jsx(We,{children:n(e.display_name,{ns:"application"})}),i.jsx(We,{children:i.jsx(N,{fullWidth:!0,multiline:!0,required:!0,value:a==""?e.exts.join():a,onBlur:()=>{var h;t({...e,exts:a==""?e.exts:(h=a==null?void 0:a.split(","))==null?void 0:h.map(f=>f.trim())}),o("")},onChange:h=>o(h.target.value)})}),i.jsx(We,{children:(c=e.templates)!=null&&c.length?n("settings.nMapping",{num:(d=e.templates)==null?void 0:d.length}):n("share.none")}),i.jsx(We,{children:i.jsx(Ln,{size:"small",checked:!e.disabled,onChange:h=>t({...e,disabled:!h.target.checked})})}),i.jsxs(We,{children:[i.jsx(it,{size:"small",onClick:()=>l(!0),children:i.jsx(lx,{fontSize:"small"})}),e.type!=wa.builtin&&i.jsx(it,{size:"small",onClick:r,children:i.jsx(xo,{fontSize:"small"})})]})]})}),T1=({open:e,onClose:t,onImported:r})=>{const{t:n}=V("dashboard"),a=ge(),[o,s]=g.useState(""),[l,u]=g.useState(!1),c=g.useCallback(()=>{u(!0),a(ob({endpoint:o})).then(d=>{r(d),t()}).finally(()=>{u(!1)})},[o,t,r]);return i.jsx(ft,{title:n("settings.importWopi"),showActions:!0,showCancel:!0,onAccept:c,disabled:o=="",loading:l,dialogProps:{fullWidth:!0,maxWidth:"md",open:e,onClose:t},children:i.jsx(wt,{children:i.jsxs(O,{lgWidth:12,title:n("settings.wopiEndpoint"),children:[i.jsx(N,{value:o,fullWidth:!0,onChange:d=>s(d.target.value)}),i.jsx(D,{children:i.jsx(Z,{ns:"dashboard",i18nKey:"settings.wopiDes",components:[i.jsx(ie,{}),i.jsx(te,{href:"https://docs.cloudreve.org/usage/wopi",target:"_blank"})]})})]})})})},$1=g.memo(({group:e,index:t,onDelete:r,onGroupChange:n})=>{const{t:a}=V("dashboard"),o=g.useMemo(()=>e.viewers.map((l,u)=>c=>{n({viewers:e.viewers.map((d,h)=>h==u?c:d)})}),[e.viewers]),s=g.useMemo(()=>e.viewers.map((l,u)=>c=>{n({viewers:e.viewers.filter((d,h)=>h!=u)}),c.preventDefault(),c.stopPropagation()}),[e.viewers]);return i.jsxs(Vn,{defaultExpanded:t==0,disableGutters:!0,slotProps:{transition:{unmountOnExit:!0}},children:[i.jsx(Un,{expandIcon:i.jsx(Rn,{}),children:i.jsxs($,{sx:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[i.jsx(L,{children:a("settings.viewerGroupTitle",{index:t+1})}),t>0&&i.jsx(te,{href:"#",onClick:r,children:a("policy.delete")})]})}),i.jsx(Bn,{sx:{display:"block"},children:i.jsx(pt,{sx:{mt:1,maxHeight:440},children:i.jsxs(gt,{stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed"},size:"small",children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(M,{width:64,children:a("settings.icon")}),i.jsx(M,{width:100,children:a("settings.viewerType")}),i.jsx(M,{width:200,children:a("settings.displayName")}),i.jsx(M,{width:250,children:a("settings.exts")}),i.jsx(M,{width:100,children:a("settings.newFileAction")}),i.jsx(M,{width:64,children:a("settings.viewerEnabled")}),i.jsx(M,{width:100})]})}),i.jsx(xt,{children:e.viewers.map((l,u)=>i.jsx(E1,{onChange:o[u],onDelete:s[u],viewer:l},l.id))})]})})})]})}),M1=g.memo(({config:e,onChange:t})=>{const{t:r}=V("dashboard"),n=ri({variant:"popover",popupId:"addNewViewer"}),[a,o]=g.useState(!1),[s,l]=g.useState(void 0),[u,c]=g.useState(!1),d=g.useMemo(()=>JSON.parse(e),[e]),h=g.useCallback(S=>{l(S);const y=[...d];y[0].viewers.push(S),t(JSON.stringify(y))},[d]),f=g.useMemo(()=>d.map((S,y)=>j=>{t(JSON.stringify([...d].filter((C,P)=>P!=y))),j.preventDefault(),j.stopPropagation()}),[d]),p=g.useMemo(()=>d.map((S,y)=>j=>{t(JSON.stringify([...d].map((C,P)=>P==y?j:C)))}),[d]),{onClose:m,...x}=sb(n),v=g.useCallback(()=>{o(!1)},[]),b=g.useCallback(()=>{l({id:lb(),icon:"",type:wa.custom,display_name:"",exts:[]}),o(!0),m()},[m,l]),_=g.useCallback(()=>{c(!0),m()},[m,c]),w=g.useCallback(S=>{const y=[...d];y.push(S),t(JSON.stringify(y))},[d]);return i.jsxs($,{children:[(d==null?void 0:d.length)>0&&d.map((S,y)=>i.jsx($1,{group:S,index:y,onDelete:f[y],onGroupChange:p[y]},y)),i.jsx(Te,{variant:"contained",...ni(n),startIcon:i.jsx(yr,{}),sx:{mt:1},children:r("settings.addViewer")}),i.jsxs(cb,{onClose:m,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"},...x,children:[i.jsxs(ke,{dense:!0,onClick:b,children:[i.jsx(Wr,{children:i.jsx(A1,{})}),r("settings.embeddedWebpageViewer")]}),i.jsxs(ke,{dense:!0,onClick:_,children:[i.jsx(Wr,{children:i.jsx(P1,{})}),r("settings.wopiViewer")]})]}),s&&i.jsx(px,{viewer:s,onChange:h,open:a,onClose:v}),i.jsx(T1,{onImported:w,onClose:()=>c(!1),open:u})]})}),I1=()=>{const{t:e}=V("dashboard"),{formRef:t,setSettings:r,values:n}=g.useContext(lr),[a,o]=g.useState(!1),s=ge(),{enqueueSnackbar:l}=St(),u=()=>{o(!0),s(ub()).then(()=>{o(!1),l(e("settings.cacheCleared"),{variant:"success",action:st})}).catch(()=>{o(!1)})},c=g.useCallback(p=>r({explorer_icons:p}),[]),d=g.useCallback(p=>r({file_viewers:p}),[]),h=g.useCallback(p=>{r({mime_mapping:p.target.value})},[]),f=g.useCallback(p=>r({emojis:p}),[]);return i.jsx($,{component:"form",ref:t,onSubmit:p=>p.preventDefault(),children:i.jsxs(ce,{spacing:5,children:[i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("nav.fileSystem")}),i.jsxs(Me,{children:[i.jsx(O,{title:e("settings.textEditMaxSize"),lgWidth:5,children:i.jsxs(I,{children:[i.jsx(or,{variant:"outlined",required:!0,allowZero:!1,value:parseInt(n.maxEditSize)??0,onChange:p=>r({maxEditSize:p.toString()})}),i.jsx(D,{children:e("settings.textEditMaxSizeDes")})]})}),i.jsx(O,{title:e("settings.trashBinInterval"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:n.cron_trash_bin_collect,onChange:p=>r({cron_trash_bin_collect:p.target.value}),required:!0}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"settings.cronDes",values:{des:e("settings.trashBinIntervalDes")},ns:"dashboard",components:[i.jsx(te,{href:"https://crontab.guru/",target:"_blank",rel:"noopener noreferrer"})]})})]})}),i.jsx(O,{title:e("settings.entityCollectInterval"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:n.cron_entity_collect,onChange:p=>r({cron_entity_collect:p.target.value}),required:!0}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"settings.cronDes",ns:"dashboard",values:{des:e("settings.entityCollectIntervalDes")},components:[i.jsx(te,{href:"https://crontab.guru/",target:"_blank",rel:"noopener noreferrer"})]})})]})}),i.jsx(O,{title:e("settings.publicResourceMaxAge"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{type:"number",inputProps:{min:0,setp:1},value:n.public_resource_maxage,onChange:p=>r({public_resource_maxage:p.target.value}),required:!0}),i.jsx(D,{children:e("settings.publicResourceMaxAgeDes")})]})}),i.jsx(O,{title:e("settings.defaultPagination"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsxs(Ze,{renderValue:p=>i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:p=="0"?e("settings.offsetPagination"):e("settings.cursorPagination")}),onChange:p=>r({use_cursor_pagination:p.target.value}),MenuProps:{PaperProps:{sx:{maxWidth:230}},MenuListProps:{sx:{"& .MuiMenuItem-root":{whiteSpace:"normal"}}}},value:n.use_cursor_pagination,children:[i.jsx(ke,{value:"0",children:i.jsxs($,{sx:{display:"flex",flexDirection:"column"},children:[i.jsx(L,{variant:"body2",fontWeight:600,children:e("settings.offsetPagination")}),i.jsx(L,{variant:"body2",color:"textSecondary",children:e("settings.offsetPaginationDes")})]})}),i.jsx(ke,{value:"1",children:i.jsxs($,{sx:{display:"flex",flexDirection:"column"},children:[i.jsx(L,{variant:"body2",fontWeight:600,children:e("settings.cursorPagination")}),i.jsx(L,{variant:"body2",color:"textSecondary",children:e("settings.cursorPaginationDes")})]})})]}),i.jsx(D,{children:e("settings.defaultPaginationDes")})]})}),i.jsx(O,{title:e("settings.maxPageSize"),lgWidth:5,children:i.jsxs(I,{children:[i.jsx(N,{type:"number",inputProps:{min:0,setp:1},value:n.max_page_size,onChange:p=>r({max_page_size:p.target.value}),required:!0}),i.jsx(D,{children:e("settings.maxPageSizeDes")})]})}),i.jsx(O,{title:e("settings.maxBatchSize"),lgWidth:5,children:i.jsxs(I,{children:[i.jsx(N,{type:"number",inputProps:{min:0,setp:1},value:n.max_batched_file,onChange:p=>r({max_batched_file:p.target.value}),required:!0}),i.jsx(D,{children:e("settings.maxBatchSizeDes")})]})}),i.jsx(O,{title:e("settings.maxRecursiveSearch"),lgWidth:5,children:i.jsxs(I,{children:[i.jsx(N,{type:"number",inputProps:{min:0,setp:1},value:n.max_recursive_searched_folder,onChange:p=>r({max_recursive_searched_folder:p.target.value}),required:!0}),i.jsx(D,{children:e("settings.maxRecursiveSearchDes")})]})}),i.jsx(O,{title:e("settings.mapProvider"),lgWidth:5,children:i.jsxs(I,{children:[i.jsxs(Ze,{onChange:p=>r({map_provider:p.target.value}),value:n.map_provider,children:[i.jsx(ke,{value:"google",children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:e("settings.mapGoogle")})}),i.jsx(ke,{value:"openstreetmap",children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:e("settings.mapOpenStreetMap")})})]}),i.jsx(D,{children:e("settings.mapProviderDes")})]})}),i.jsx(et,{in:n.map_provider==="google",unmountOnExit:!0,children:i.jsx(O,{title:e("settings.tileType"),lgWidth:5,children:i.jsxs(I,{children:[i.jsxs(Ze,{onChange:p=>r({map_google_tile_type:p.target.value}),value:n.map_google_tile_type,children:[i.jsx(ke,{value:"terrain",children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:e("settings.tileTypeTerrain")})}),i.jsx(ke,{value:"satellite",children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:e("settings.tileTypeSatellite")})}),i.jsx(ke,{value:"regular",children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:e("settings.tileTypeGeneral")})})]}),i.jsx(D,{children:e("settings.tileTypeDes")})]})})}),i.jsx(O,{title:e("settings.mimeMapping"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{multiline:!0,rows:6,value:n.mime_mapping,onChange:h,required:!0}),i.jsx(D,{children:e("settings.mimeMappingDes")})]})})]})]}),i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings.fileIcons")}),i.jsx(Me,{children:i.jsx(O1,{config:n.explorer_icons,onChange:c})})]}),i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings.fileViewers")}),i.jsx(Me,{children:i.jsx(M1,{config:n.file_viewers,onChange:d})})]}),i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings.searchQuery")}),i.jsxs(Me,{children:[i.jsx(O,{title:e("application:navbar.photos"),children:i.jsx(N,{fullWidth:!0,value:n.explorer_category_image_query,onChange:p=>r({explorer_category_image_query:p.target.value}),required:!0})}),i.jsx(O,{title:e("application:navbar.videos"),children:i.jsx(N,{fullWidth:!0,value:n.explorer_category_video_query,onChange:p=>r({explorer_category_video_query:p.target.value}),required:!0})}),i.jsx(O,{title:e("application:navbar.music"),children:i.jsx(N,{fullWidth:!0,value:n.explorer_category_audio_query,onChange:p=>r({explorer_category_audio_query:p.target.value}),required:!0})}),i.jsx(O,{title:e("application:navbar.documents"),children:i.jsx(N,{fullWidth:!0,value:n.explorer_category_document_query,onChange:p=>r({explorer_category_document_query:p.target.value}),required:!0})})]})]}),i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings.emojiOptions")}),i.jsx(Me,{children:i.jsx(S1,{config:n.emojis,onChange:f})})]}),i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings.advanceOptions")}),i.jsxs(Me,{children:[i.jsx(O,{title:e("settings.archiveTimeout"),lgWidth:5,children:i.jsx(N,{type:"number",inputProps:{min:1,setp:1},value:n.archive_timeout,onChange:p=>r({archive_timeout:p.target.value}),required:!0})}),i.jsxs(O,{title:e("settings.uploadSessionTimeout"),lgWidth:5,children:[i.jsx(N,{type:"number",inputProps:{min:1,setp:1},value:n.upload_session_timeout,onChange:p=>r({upload_session_timeout:p.target.value}),required:!0}),i.jsx(D,{children:e("settings.uploadSessionDes")})]}),i.jsxs(O,{title:e("settings.slaveAPIExpiration"),lgWidth:5,children:[i.jsx(N,{type:"number",inputProps:{min:1,setp:1},value:n.slave_api_timeout,onChange:p=>r({slave_api_timeout:p.target.value}),required:!0}),i.jsx(D,{children:e("settings.slaveAPIExpirationDes")})]}),i.jsxs(O,{title:e("settings.folderPropsTimeout"),lgWidth:5,children:[i.jsx(N,{type:"number",inputProps:{min:1,setp:1},value:n.folder_props_timeout,onChange:p=>r({folder_props_timeout:p.target.value}),required:!0}),i.jsx(D,{children:e("settings.folderPropsTimeoutDes")})]}),i.jsxs(O,{title:e("settings.failedChunkRetry"),lgWidth:5,children:[i.jsx(N,{type:"number",inputProps:{min:0,setp:1},value:n.chunk_retries,onChange:p=>r({chunk_retries:p.target.value}),required:!0}),i.jsx(D,{children:e("settings.failedChunkRetryDes")})]}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:Vt(n.use_temp_chunk_buffer),onChange:p=>r({use_temp_chunk_buffer:p.target.checked?"1":"0"})}),label:e("settings.cacheChunks")}),i.jsx(D,{children:e("settings.cacheChunksDes")})]})}),i.jsxs(O,{title:e("settings.transitParallelNum"),lgWidth:5,children:[i.jsx(N,{type:"number",inputProps:{min:1,setp:1},value:n.max_parallel_transfer,onChange:p=>r({max_parallel_transfer:p.target.value}),required:!0}),i.jsx(D,{children:e("settings.transitParallelNumDes")})]}),i.jsxs(O,{title:e("settings.oauthRefresh"),lgWidth:5,children:[i.jsx(N,{fullWidth:!0,required:!0,value:n.cron_oauth_cred_refresh,onChange:p=>r({cron_oauth_cred_refresh:p.target.value})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"settings.cronDes",values:{des:e("settings.oauthRefreshDes")},ns:"dashboard",components:[i.jsx(te,{href:"https://crontab.guru/",target:"_blank",rel:"noopener noreferrer"})]})})]}),i.jsxs(O,{title:e("settings.wopiSessionTimeout"),lgWidth:5,children:[i.jsx(N,{type:"number",inputProps:{min:1,setp:1},value:n.viewer_session_timeout,onChange:p=>r({viewer_session_timeout:p.target.value}),required:!0}),i.jsx(D,{children:e("settings.wopiSessionTimeoutDes")})]}),i.jsxs(O,{title:e("settings.fileBlobTimeout"),lgWidth:5,children:[i.jsx(N,{type:"number",inputProps:{min:1,setp:1},value:n.entity_url_default_ttl,onChange:p=>r({entity_url_default_ttl:p.target.value}),required:!0}),i.jsx(D,{children:e("settings.fileBlobTimeoutDes")})]}),i.jsxs(O,{title:e("settings.fileBlobMargin"),lgWidth:5,children:[i.jsx(N,{type:"number",inputProps:{min:1,setp:1},value:n.entity_url_cache_margin,onChange:p=>r({entity_url_cache_margin:p.target.value}),required:!0}),i.jsx(D,{children:e("settings.fileBlobMarginDes")})]}),i.jsx(O,{title:e("settings.blobUrlCache"),lgWidth:5,anchorId:"clearBlobUrlCache",children:i.jsxs(I,{fullWidth:!0,children:[i.jsx($,{children:i.jsx(Te,{startIcon:i.jsx(Kj,{}),variant:"contained",loading:a,color:"primary",onClick:u,children:e("settings.clearBlobUrlCache")})}),i.jsx(D,{children:e("settings.clearBlobUrlCacheDes")})]})})]})]})]})})},W1=[{name:"exif",des:"exifDes",enableFlag:"media_meta_exif",maxSizeLocalSetting:"media_meta_exif_size_local",maxSizeRemoteSetting:"media_meta_exif_size_remote",additionalSettings:[{name:"media_meta_exif_brute_force",label:"exifBruteForce",des:"exifBruteForceDes",type:"switch"}]},{name:"music",des:"musicDes",enableFlag:"media_meta_music",maxSizeLocalSetting:"media_meta_music_size_local",maxSizeRemoteSetting:"media_exif_music_size_remote"},{name:"ffprobe",des:"ffprobeDes",enableFlag:"media_meta_ffprobe",executableSetting:"media_meta_ffprobe_path",maxSizeLocalSetting:"media_meta_ffprobe_size_local",maxSizeRemoteSetting:"media_meta_ffprobe_size_remote"}],N1=({values:e,setSetting:t})=>{const{t:r}=V("dashboard"),n=ge(),[a,o]=g.useState(!1),{enqueueSnackbar:s}=St(),l=c=>d=>{t({[c]:d.target.checked?"1":"0"})},u=(c,d)=>{o(!0),n(qm({name:c,executable:d})).then(h=>{s({message:r("settings.executableTestSuccess",{version:h}),variant:"success",action:st})}).finally(()=>{o(!1)})};return i.jsx($,{children:W1.map(c=>{var d;return i.jsxs(Vn,{disableGutters:!0,children:[i.jsx(Un,{expandIcon:i.jsx(Rn,{}),children:i.jsx(be,{onClick:h=>h.stopPropagation(),onFocus:h=>h.stopPropagation(),control:i.jsx(Ln,{size:"small",checked:Vt(e[c.enableFlag??""]),onChange:l(c.enableFlag??"")}),label:r(`settings.${c.name}`)})}),i.jsxs(Bn,{sx:{display:"block"},children:[i.jsx(L,{color:"textSecondary",variant:"body2",children:r(`settings.${c.des}`)}),i.jsxs(Me,{sx:{mt:2},children:[c.executableSetting&&i.jsx(O,{lgWidth:12,title:r("settings.executable"),children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,value:e[c.executableSetting],InputProps:{endAdornment:i.jsx(Zi,{position:"end",children:i.jsx(pd,{onClick:()=>u(c.name,e[c.executableSetting??""]),loading:a,color:"primary",children:i.jsx("span",{children:r("settings.executableTest")})})})},onChange:h=>t({[c.executableSetting??""]:h.target.value})}),i.jsx(D,{children:r("settings.executableDes")})]})}),c.maxSizeLocalSetting&&i.jsx(O,{lgWidth:12,title:r("settings.maxSizeLocal"),children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(or,{variant:"outlined",required:!0,value:parseInt(e[c.maxSizeLocalSetting??""])??0,onChange:h=>t({[c.maxSizeLocalSetting??""]:h.toString()})}),i.jsx(D,{children:r("settings.maxSizeLocalDes")})]})}),c.maxSizeRemoteSetting&&i.jsx(O,{lgWidth:12,title:r("settings.maxSizeRemote"),children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(or,{variant:"outlined",required:!0,value:parseInt(e[c.maxSizeRemoteSetting??""])??0,onChange:h=>t({[c.maxSizeRemoteSetting??""]:h.toString()})}),i.jsx(D,{children:r("settings.maxSizeRemoteDes")})]})}),(d=c.additionalSettings)==null?void 0:d.map(h=>i.jsx(O,{lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[h.type==="switch"?i.jsx(be,{control:i.jsx(Ee,{checked:Vt(e[h.name]),onChange:f=>t({[h.name]:f.target.checked?"1":"0"})}),label:r(`settings.${h.label}`)}):i.jsx(N,{required:!0,value:e[h.name],onChange:f=>t({[h.name]:f.target.value})}),i.jsx(D,{children:r(`settings.${h.des}`)})]})},h.name))]})]})]},c.name)})})},z1=[{name:"policyBuiltin",des:"policyBuiltinDes",readOnly:!0},{name:"musicCover",des:"musicCoverDes",enableFlag:"thumb_music_cover_enabled",maxSizeSetting:"thumb_music_cover_max_size",inputs:[{name:"thumb_music_cover_exts",label:"generatorExts",des:"generatorExtsDes"}]},{name:"libreOffice",des:"libreOfficeDes",enableFlag:"thumb_libreoffice_enabled",maxSizeSetting:"thumb_libreoffice_max_size",executableSetting:"thumb_libreoffice_path",inputs:[{name:"thumb_libreoffice_exts",label:"generatorExts",des:"generatorExtsDes"}]},{name:"vips",des:"vipsDes",enableFlag:"thumb_vips_enabled",maxSizeSetting:"thumb_vips_max_size",executableSetting:"thumb_vips_path",inputs:[{name:"thumb_vips_exts",label:"generatorExts",des:"generatorExtsDes"}]},{name:"ffmpeg",des:"ffmpegDes",enableFlag:"thumb_ffmpeg_enabled",maxSizeSetting:"thumb_ffmpeg_max_size",executableSetting:"thumb_ffmpeg_path",inputs:[{name:"thumb_ffmpeg_exts",label:"generatorExts",des:"generatorExtsDes"},{name:"thumb_ffmpeg_seek",label:"ffmpegSeek",des:"ffmpegSeekDes",required:!0}]},{name:"cloudreveBuiltin",maxSizeSetting:"thumb_builtin_max_size",des:"cloudreveBuiltinDes",enableFlag:"thumb_builtin_enabled"}],L1=({values:e,setSetting:t})=>{const{t:r}=V("dashboard"),n=ge(),[a,o]=g.useState(!1),{enqueueSnackbar:s}=St(),l=c=>d=>{t({[c]:d.target.checked?"1":"0"});const h={...e,[c]:d.target.checked?"1":"0"};(h.thumb_libreoffice_enabled==="1"||h.thumb_music_cover_enabled==="1")&&h.thumb_builtin_enabled==="0"&&h.thumb_vips_enabled==="0"&&s({message:r("settings.thumbDependencyWarning"),variant:"warning",action:st})},u=(c,d)=>{o(!0),n(qm({name:c,executable:d})).then(h=>{s({message:r("settings.executableTestSuccess",{version:h}),variant:"success",action:st})}).finally(()=>{o(!1)})};return i.jsx($,{children:z1.map(c=>{var d;return i.jsxs(Vn,{disableGutters:!0,children:[i.jsx(Un,{expandIcon:i.jsx(Rn,{}),children:i.jsx(be,{onClick:h=>h.stopPropagation(),onFocus:h=>h.stopPropagation(),control:i.jsx(Ln,{size:"small",checked:c.readOnly||Vt(e[c.enableFlag??""]),onChange:l(c.enableFlag??"")}),label:r(`settings.${c.name}`),disabled:c.readOnly})}),i.jsxs(Bn,{sx:{display:"block"},children:[i.jsx(L,{color:"textSecondary",variant:"body2",children:r(`settings.${c.des}`)}),i.jsxs(Me,{sx:{mt:2},children:[c.executableSetting&&i.jsx(O,{lgWidth:12,title:r("settings.executable"),children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,value:e[c.executableSetting],InputProps:{endAdornment:i.jsx(Zi,{position:"end",children:i.jsx(pd,{onClick:()=>u(c.name,e[c.executableSetting??""]),loading:a,color:"primary",children:i.jsx("span",{children:r("settings.executableTest")})})})},onChange:h=>t({[c.executableSetting??""]:h.target.value})}),i.jsx(D,{children:r("settings.executableDes")})]})}),c.maxSizeSetting&&i.jsx(O,{lgWidth:12,title:r("settings.thumbMaxSize"),children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(or,{variant:"outlined",required:!0,allowZero:!1,value:parseInt(e[c.maxSizeSetting??""])??0,onChange:h=>t({[c.maxSizeSetting??""]:h.toString()})}),i.jsx(D,{children:r("settings.thumbMaxSizeDes")})]})}),(d=c.inputs)==null?void 0:d.map(h=>i.jsx(O,{lgWidth:12,title:r(`settings.${h.label}`),children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:e[h.name],onChange:f=>t({[h.name]:f.target.value}),required:!!h.required}),i.jsx(D,{children:r(`settings.${h.des}`)})]})},h.name))]})]})]},c.name)})})},B1=()=>{const{t:e}=V("dashboard"),{formRef:t,setSettings:r,values:n}=g.useContext(lr);return i.jsx($,{component:"form",ref:t,onSubmit:a=>a.preventDefault(),children:i.jsxs(ce,{spacing:5,children:[i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings.thumbnails")}),i.jsx(L,{variant:"subtitle1",gutterBottom:!0,children:e("settings.thumbnailBasic")}),i.jsxs(Me,{children:[i.jsx(O,{title:e("settings.thumbWidth"),lgWidth:5,children:i.jsx(I,{children:i.jsx(N,{type:"number",required:!0,inputProps:{min:1,step:1},value:n.thumb_width,onChange:a=>{r({thumb_width:a.target.value})}})})}),i.jsx(O,{title:e("settings.thumbHeight"),lgWidth:5,children:i.jsx(I,{children:i.jsx(N,{type:"number",required:!0,inputProps:{min:1,step:1},value:n.thumb_height,onChange:a=>{r({thumb_height:a.target.value})}})})}),i.jsx(O,{title:e("settings.thumbSuffix"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,value:n.thumb_entity_suffix,onChange:a=>{r({thumb_entity_suffix:a.target.value})}}),i.jsx(D,{children:e("settings.notAppliedToNativeGenerator",{prefix:e("settings.thumbSuffixDes")})})]})}),i.jsx(O,{title:e("settings.thumbFormat"),lgWidth:5,children:i.jsxs(I,{children:[i.jsx(Ze,{value:n.thumb_encode_method,onChange:a=>{r({thumb_encode_method:a.target.value})},required:!0,children:["jpg","png"].map(a=>i.jsx(ke,{value:a,children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:a})},a))}),i.jsx(D,{children:e("settings.notAppliedToNativeGenerator",{prefix:""})})]})}),i.jsx(et,{in:n.thumb_encode_method=="jpg",unmountOnExit:!0,children:i.jsx(O,{title:e("settings.thumbQuality"),lgWidth:5,children:i.jsxs(I,{children:[i.jsx(N,{type:"number",required:!0,inputProps:{min:50,max:100,step:1},value:n.thumb_encode_quality,onChange:a=>{r({thumb_encode_quality:a.target.value})}}),i.jsx(D,{children:e("settings.notAppliedToNativeGenerator",{prefix:e("settings.thumbQualityDes")})})]})})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:Vt(n.thumb_gc_after_gen),onChange:a=>r({thumb_gc_after_gen:a.target.checked?"1":"0"})}),label:e("settings.thumbGC")}),i.jsx(D,{children:e("settings.notAppliedToNativeGenerator",{prefix:""})})]})})]}),i.jsx(L,{variant:"subtitle1",gutterBottom:!0,sx:{mt:1},children:e("settings.generators")}),i.jsx(Me,{children:i.jsxs(O,{lgWidth:6,children:[i.jsx(tn,{severity:"info",sx:{mb:1},children:i.jsx(Z,{ns:"dashboard",i18nKey:"settings.generatorProxyWarning",components:[i.jsx(te,{href:"https://docs.cloudreve.org/usage/thumbnails",target:"_blank"})]})}),i.jsx(L1,{values:n,setSetting:r})]})})]}),i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings.extractMediaMeta")}),i.jsx(Me,{children:i.jsxs(O,{lgWidth:6,children:[i.jsx(tn,{severity:"info",sx:{mb:1},children:i.jsx(Z,{ns:"dashboard",i18nKey:"settings.extractMediaMetaDes",components:[i.jsx(te,{href:"https://docs.cloudreve.org/usage/media-meta",target:"_blank"})]})}),i.jsx(N1,{values:n,setSetting:r})]})})]})]})})},gx=at($)(({theme:e})=>({height:"10px",borderRadius:`${e.shape.borderRadius}px`,width:"100%",backgroundColor:e.palette.grey[e.palette.mode==="light"?200:800],overflow:"hidden"})),ja=at($)(()=>({transition:"width .6s ease",height:"100%",fontSize:"12px",lineHeight:"20px",float:"left"})),$n=at($)(()=>({display:"inline-block",width:"10px",height:"10px",borderRadius:"50%",marginRight:"5px"})),R1=({capacity:e,forceRow:t})=>{const r=Xe(),n=Wt(r.breakpoints.down("md"))||t,{t:a}=V(),[o,s]=g.useState({used:0,base:0});return g.useEffect(()=>{let l={used:0,base:0};e&&(l.used=e.used/e.total,l.base=1,s(l))},[e]),i.jsxs(i.Fragment,{children:[i.jsx(gx,{children:i.jsx(ja,{sx:{backgroundColor:l=>l.palette.warning.light,width:`${o.used*100}%`}})}),i.jsxs(ce,{spacing:n?1:2,direction:n?"column":"row",sx:{mt:1},children:[i.jsxs(L,{variant:"caption",children:[i.jsx($n,{sx:{backgroundColor:l=>l.palette.warning.light}}),a("vas.used",{size:Kt((e==null?void 0:e.used)??0)})]}),i.jsxs(L,{variant:"caption",children:[i.jsx($n,{sx:{backgroundColor:l=>l.palette.grey[l.palette.mode==="light"?200:800]}}),a("vas.total",{size:Kt((e==null?void 0:e.total)??0)})]})]})]})},ui=e=>i.jsx(Um,{...e,sx:{marginLeft:0,marginRight:0,marginTop:.5}}),F1=({open:e,onClose:t,queue:r,settings:n,setSettings:a})=>{const{t:o}=V("dashboard"),s=g.useRef(null),[l,u]=g.useState({});g.useEffect(()=>{if(e){const h={};["worker_num","max_execution","backoff_factor","backoff_max_duration","max_retry","retry_delay"].forEach(p=>{const m=`queue_${r}_${p}`;h[p]=n[m]||""}),u(h)}},[e,r,n]);const c=()=>{var h;if((h=s.current)!=null&&h.reportValidity()){const f={};Object.entries(l).forEach(([p,m])=>{f[`queue_${r}_${p}`]=m}),a(f),t()}},d=(h,f)=>{u(p=>({...p,[h]:f}))};return i.jsx(ft,{title:o("queue.editQueueSettings",{name:o(`queue.queueName_${r}`)}),showActions:!0,showCancel:!0,onAccept:c,dialogProps:{open:e,onClose:t,fullWidth:!0,maxWidth:"sm"},children:i.jsxs($,{component:"form",ref:s,sx:{display:"flex",flexDirection:"column",gap:2,mt:1,px:3,pb:2},children:[i.jsx(O,{title:o("queue.workerNum"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:l.worker_num||"",onChange:h=>d("worker_num",h.target.value),type:"number",slotProps:{htmlInput:{min:1}},required:!0}),i.jsx(ui,{children:o("queue.workerNumDes")})]})}),i.jsx(O,{title:o("queue.maxExecution"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:l.max_execution||"",onChange:h=>d("max_execution",h.target.value),type:"number",inputProps:{min:1},required:!0}),i.jsx(ui,{children:o("queue.maxExecutionDes")})]})}),i.jsx(O,{title:o("queue.backoffFactor"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:l.backoff_factor||"",onChange:h=>d("backoff_factor",h.target.value),type:"number",slotProps:{htmlInput:{min:1,step:.1}},required:!0}),i.jsx(ui,{children:o("queue.backoffFactorDes")})]})}),i.jsx(O,{title:o("queue.backoffMaxDuration"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:l.backoff_max_duration||"",onChange:h=>d("backoff_max_duration",h.target.value),type:"number",slotProps:{htmlInput:{min:1}},required:!0}),i.jsx(ui,{children:o("queue.backoffMaxDurationDes")})]})}),i.jsx(O,{title:o("queue.maxRetry"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:l.max_retry||"",onChange:h=>d("max_retry",h.target.value),type:"number",slotProps:{htmlInput:{min:0}},required:!0}),i.jsx(ui,{children:o("queue.maxRetryDes")})]})}),i.jsx(O,{title:o("queue.retryDelay"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:l.retry_delay||"",onChange:h=>d("retry_delay",h.target.value),type:"number",slotProps:{htmlInput:{min:0}},required:!0}),i.jsx(ui,{children:o("queue.retryDelayDes")})]})})]})})},qh=({queue:e,settings:t,metrics:r,setSettings:n,loading:a})=>{const{t:o}=V("dashboard"),s=Xe(),l=Wt(s.breakpoints.down("sm")),[u,c]=g.useState(!1);return a?i.jsx(Mt,{item:!0,xs:12,md:6,lg:4,children:i.jsxs(is,{children:[i.jsxs($,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx(ne,{variant:"text",width:150,height:28}),i.jsx(ne,{variant:"circular",width:24,height:24})]}),i.jsx(ne,{variant:"text",width:"80%",height:20,sx:{mt:1}}),i.jsx(bt,{sx:{my:2}}),i.jsx(ne,{variant:"rectangular",height:8,width:"100%",sx:{borderRadius:1}}),i.jsx(ce,{spacing:l?1:2,direction:l?"column":"row",sx:{mt:1},children:Array.from(Array(5)).map((d,h)=>i.jsx(ne,{variant:"text",width:l?"100%":80,height:20},h))})]})}):i.jsx(Mt,{item:!0,xs:12,md:6,lg:4,children:i.jsxs(is,{children:[i.jsxs($,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx(L,{variant:"subtitle1",fontWeight:600,children:o(`queue.queueName_${e}`)}),i.jsx(it,{size:"small",onClick:()=>c(!0),children:i.jsx(Ic,{fontSize:"small"})})]}),i.jsx(L,{variant:"body2",color:"text.secondary",children:o(`queue.queueName_${e}Des`)}),i.jsx(bt,{sx:{my:2}}),r&&i.jsxs(i.Fragment,{children:[i.jsxs(gx,{children:[i.jsx(ja,{sx:{backgroundColor:d=>d.palette.success.light,width:`${r.success_tasks/r.submitted_tasks*100}%`}}),i.jsx(ja,{sx:{backgroundColor:d=>d.palette.error.light,width:`${r.failure_tasks/r.submitted_tasks*100}%`}}),i.jsx(ja,{sx:{backgroundColor:d=>d.palette.action.active,width:`${r.suspending_tasks/r.submitted_tasks*100}%`}}),i.jsx(ja,{sx:{backgroundColor:d=>d.palette.info.light,width:`${r.busy_workers/r.submitted_tasks*100}%`}})]}),i.jsxs(ce,{spacing:l?1:2,direction:l?"column":"row",sx:{mt:1},children:[i.jsxs(L,{variant:"caption",children:[i.jsx($n,{sx:{backgroundColor:d=>d.palette.success.light}}),o("queue.success",{count:r.success_tasks})]}),i.jsxs(L,{variant:"caption",children:[i.jsx($n,{sx:{backgroundColor:d=>d.palette.error.light}}),o("queue.failed",{count:r.failure_tasks})]}),i.jsxs(L,{variant:"caption",children:[i.jsx($n,{sx:{backgroundColor:d=>d.palette.info.light}}),o("queue.busyWorker",{count:r.busy_workers})]}),i.jsxs(L,{variant:"caption",children:[i.jsx($n,{sx:{backgroundColor:d=>d.palette.action.active}}),o("queue.suspending",{count:r.suspending_tasks})]}),i.jsxs(L,{variant:"caption",children:[i.jsx($n,{sx:{backgroundColor:d=>d.palette.grey[d.palette.mode==="light"?200:800]}}),o("queue.submited",{count:r.submitted_tasks})]})]})]}),e&&i.jsx(F1,{open:u,onClose:()=>c(!1),queue:e,settings:t,setSettings:n})]})})},q1=()=>{const{t:e}=V("dashboard"),t=ge(),{formRef:r,setSettings:n,values:a}=g.useContext(lr),[o,s]=g.useState([]),[l,u]=g.useState(!0),c=()=>{u(!0),t(db()).then(d=>{s(d)}).finally(()=>{u(!1)})};return g.useEffect(()=>{c()},[]),i.jsxs($,{component:"form",ref:r,sx:{p:2,pt:0},children:[i.jsx(ce,{direction:"row",spacing:2,sx:{mb:2},children:i.jsx(Te,{onClick:c,disabled:l,variant:"contained",startIcon:i.jsx(qr,{}),children:e("node.refresh")})}),i.jsxs(Mt,{container:!0,spacing:2,children:[!l&&o.map(d=>i.jsx(qh,{metrics:d,queue:d.name,settings:a,setSettings:n,loading:l},d.name)),l&&Array.from(Array(5)).map((d,h)=>i.jsx(qh,{settings:a,setSettings:n,loading:!0},`loading-${h}`))]})]})},U1=()=>{const{t:e}=V("dashboard"),{formRef:t,setSettings:r,values:n}=g.useContext(lr),a=()=>{r({secret_key:"[Placeholder]"})};return i.jsx($,{component:"form",ref:t,onSubmit:o=>o.preventDefault(),children:i.jsx(ce,{spacing:5,children:i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings.server")}),i.jsxs(Me,{children:[i.jsx(O,{title:e("settings.tempPath"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,value:n.temp_path??"",onChange:o=>r({temp_path:o.target.value})}),i.jsx(D,{children:e("settings.tempPathDes")})]})}),i.jsx(O,{title:e("settings.siteID"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,value:n.siteID??"",onChange:o=>r({siteID:o.target.value})}),i.jsx(D,{children:e("settings.siteIDDes")})]})}),i.jsxs(O,{title:e("settings.siteSecretKey"),lgWidth:5,children:[i.jsx(Te,{onClick:a,startIcon:i.jsx(qr,{}),variant:"contained",children:e("settings.rotateSecretKey")}),i.jsx(D,{children:e("settings.siteSecretKeyDes")})]}),i.jsx(O,{title:e("settings.hashidSalt"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,value:n.hash_id_salt??"",onChange:o=>r({hash_id_salt:o.target.value})}),i.jsx(D,{children:e("settings.hashidSaltDes")})]})}),i.jsx(O,{title:e("settings.accessTokenTTL"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,slotProps:{input:{type:"number",inputProps:{min:100}}},value:n.access_token_ttl??"",onChange:o=>r({access_token_ttl:o.target.value})}),i.jsx(D,{children:e("settings.accessTokenTTLDes")})]})}),i.jsx(O,{title:e("settings.refreshTokenTTL"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,slotProps:{input:{type:"number",inputProps:{min:parseInt(n.access_token_ttl??"1000")+100}}},value:n.refresh_token_ttl??"",onChange:o=>r({refresh_token_ttl:o.target.value})}),i.jsx(D,{children:e("settings.refreshTokenTTLDes")})]})}),i.jsx(O,{title:e("settings.cronGarbageCollect"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,value:n.cron_garbage_collect??"",onChange:o=>r({cron_garbage_collect:o.target.value})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"settings.cronDes",values:{des:e("settings.cronGarbageCollectDes")},ns:"dashboard",components:[i.jsx(te,{href:"https://crontab.guru/",target:"_blank",rel:"noopener noreferrer"})]})})]})})]})]})})})},Ql=({src:e})=>{V("dashboard");const t=Xe(),r=Wt(t.breakpoints.down("sm"));return i.jsx($,{sx:{mt:r?0:3},children:i.jsx($,{sx:{border:n=>`1px solid ${n.palette.divider}`,p:1,display:"inline-block",borderRadius:n=>`${n.shape.borderRadius}px`},children:i.jsx($,{component:"img",src:e,sx:{display:"block",maxWidth:"100%"}})})})},V1=({logoLight:e,logoDark:t})=>{V("dashboard");const r=Xe(),n=Wt(r.breakpoints.down("sm"));return i.jsxs(ce,{spacing:1,direction:"row",sx:{mt:n?0:3},children:[i.jsx($,{sx:{backgroundColor:a=>a.palette.grey[100],p:1,borderRadius:a=>`${a.shape.borderRadius}px`},children:i.jsx($,{component:"img",src:t,sx:{display:"block",height:"auto",maxWidth:160,maxHeight:35,width:"100%",objectPosition:"left",objectFit:"contain"}})}),i.jsx($,{sx:{backgroundColor:a=>a.palette.grey[900],p:1,borderRadius:a=>`${a.shape.borderRadius}px`},children:i.jsx($,{component:"img",src:e,sx:{display:"block",height:"auto",maxWidth:160,maxHeight:35,width:"100%",objectPosition:"left",objectFit:"contain"}})})]})},H1=({urls:e,onChange:t})=>{const{t:r}=V("dashboard"),n=g.useMemo(()=>e.split(",").map(s=>s),[e]),a=s=>l=>{const u=[...n];u[s]=l.target.value,t(u.join(","))},o=s=>()=>{const l=[...n];l.splice(s,1),t(l.join(","))};return i.jsxs(ce,{spacing:1,children:[i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{fullWidth:!0,onChange:a(0),value:n[0],InputProps:{startAdornment:i.jsx(as,{disableTypography:!0,position:"start",children:r("settings.primarySiteURL")})},required:!0}),i.jsx(D,{children:r("settings.primarySiteURLDes")})]}),i.jsx(bt,{}),i.jsx(D,{children:r("settings.secondaryDes")}),i.jsx(hb,{children:n.slice(1).map((s,l)=>i.jsx(et,{children:i.jsx(I,{fullWidth:!0,sx:{mb:1},children:i.jsx(N,{fullWidth:!0,onChange:a(l+1),value:s,InputProps:{startAdornment:i.jsx(as,{disableTypography:!0,position:"start",children:r("settings.secondarySiteURL")}),endAdornment:i.jsx(Zi,{position:"end",children:i.jsx(it,{size:"small",onClick:o(l+1),children:i.jsx(xo,{fontSize:"small"})})})},required:!0})})},l))}),i.jsx($,{sx:{mt:"0!important"},children:i.jsx(Te,{variant:"contained",startIcon:i.jsx(yr,{}),onClick:()=>t(`${e},`),children:r("settings.addSecondary")})})]})},K1=()=>{const{t:e}=V("dashboard"),{formRef:t,setSettings:r,values:n}=g.useContext(lr);return i.jsx($,{component:"form",ref:t,onSubmit:a=>a.preventDefault(),children:i.jsxs(ce,{spacing:5,children:[i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings.basicInformation")}),i.jsxs(Me,{children:[i.jsx(O,{title:e("settings.mainTitle"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{fullWidth:!0,onChange:a=>r({siteName:a.target.value}),value:n.siteName,required:!0,inputProps:{maxLength:255}}),i.jsx(D,{children:e("settings.mainTitleDes")})]})}),i.jsx(O,{title:e("settings.siteDescription"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{fullWidth:!0,onChange:a=>r({siteDes:a.target.value}),value:n.siteDes,multiline:!0,rows:4}),i.jsx(D,{children:e("settings.siteDescriptionDes")})]})}),i.jsx(O,{title:e("settings.siteURL"),lgWidth:5,children:i.jsx(I,{fullWidth:!0,children:i.jsx(H1,{urls:n.siteURL,onChange:a=>r({siteURL:a})})})}),i.jsx(O,{title:e("settings.customFooterHTML"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{fullWidth:!0,onChange:a=>r({siteScript:a.target.value}),value:n.siteScript,multiline:!0,rows:4}),i.jsx(D,{children:e("settings.customFooterHTMLDes")})]})}),i.jsx(O,{title:e("settings.announcement"),lgWidth:5,pro:!0,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{inputProps:{readOnly:!0},fullWidth:!0,multiline:!0,rows:4}),i.jsx(D,{children:e("settings.announcementDes")})]})}),i.jsx(O,{title:e("settings.tosUrl"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{fullWidth:!0,onChange:a=>r({tos_url:a.target.value}),value:n.tos_url}),i.jsx(D,{children:e("settings.tosUrlDes")})]})}),i.jsx(O,{title:e("settings.privacyUrl"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{fullWidth:!0,onChange:a=>r({privacy_policy_url:a.target.value}),value:n.privacy_policy_url}),i.jsx(D,{children:e("settings.privacyUrlDes")})]})})]})]}),i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings.branding")}),i.jsxs(Me,{children:[i.jsx(O,{title:e("settings.logo"),lgWidth:5,spacing:3,secondary:i.jsx(Mt,{item:!0,md:7,xs:12,children:i.jsx(V1,{logoDark:n.site_logo,logoLight:n.site_logo_light})}),children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{fullWidth:!0,onChange:a=>r({site_logo:a.target.value}),value:n.site_logo,required:!0,InputProps:{startAdornment:i.jsx(as,{disableTypography:!0,position:"start",children:e("settings.light")})}}),i.jsx(N,{sx:{mt:1},fullWidth:!0,onChange:a=>r({site_logo_light:a.target.value}),value:n.site_logo_light,required:!0,InputProps:{startAdornment:i.jsx(as,{disableTypography:!0,position:"start",children:e("settings.dark")})}}),i.jsx(D,{children:e("settings.logoDes")})]})}),i.jsx(O,{title:e("settings.smallIcon"),lgWidth:5,spacing:3,secondary:i.jsx(Mt,{item:!0,md:7,xs:12,children:i.jsx(Ql,{src:n.pwa_small_icon})}),children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{fullWidth:!0,onChange:a=>r({pwa_small_icon:a.target.value}),value:n.pwa_small_icon,required:!0}),i.jsx(D,{children:e("settings.smallIconDes")})]})}),i.jsx(O,{title:e("settings.mediumIcon"),lgWidth:5,spacing:3,secondary:i.jsx(Mt,{item:!0,md:7,xs:12,children:i.jsx(Ql,{src:n.pwa_medium_icon})}),children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{fullWidth:!0,onChange:a=>r({pwa_medium_icon:a.target.value}),value:n.pwa_medium_icon,required:!0}),i.jsx(D,{children:e("settings.mediumIconDes")})]})}),i.jsx(O,{title:e("settings.largeIcon"),lgWidth:5,spacing:3,secondary:i.jsx(Mt,{item:!0,md:7,xs:12,children:i.jsx(Ql,{src:n.pwa_large_icon})}),children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{fullWidth:!0,onChange:a=>r({pwa_large_icon:a.target.value}),value:n.pwa_large_icon,required:!0}),i.jsx(D,{children:e("settings.largeIconDes")})]})})]})]}),i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("vas.mobileApp")}),i.jsxs(Me,{children:[i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:Vt(n.show_app_promotion),onChange:a=>r({show_app_promotion:a.target.checked?"1":"0"})}),label:e("vas.showAppPromotion")}),i.jsx(D,{children:e("vas.showAppPromotionDes")})]})}),i.jsx(O,{title:e("vas.appFeedback"),lgWidth:5,pro:!0,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{fullWidth:!0,slotProps:{input:{readOnly:!0}}}),i.jsx(D,{children:e("vas.appLinkDes")})]})}),i.jsx(O,{title:e("vas.appForum"),lgWidth:5,pro:!0,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{fullWidth:!0,slotProps:{input:{readOnly:!0}}}),i.jsx(D,{children:e("vas.appLinkDes")})]})})]})]})]})})},G1=3,ki=({value:e,onChange:t,onChangeGroup:r,emptyValue:n,emptyText:a,fullWidth:o,required:s})=>{const{t:l}=V("dashboard"),u=ge(),[c,d]=g.useState(!0),[h,f]=g.useState([]);g.useEffect(()=>{d(!0),u(Vm({page_size:1e3,page:1,order_by:"id",order_direction:"asc"})).then(m=>{f(m.groups)}).finally(()=>{d(!1)})},[]);const p=m=>{t(m),r==null||r(h.find(x=>x.id===parseInt(m)))};return i.jsx(I,{fullWidth:o,children:i.jsxs(Ze,{disabled:c,value:e,onChange:m=>p(m.target.value),required:s,children:[h.filter(m=>m.id!=G1).map(m=>i.jsx(ke,{value:m.id.toString(),children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:m.name})})),n!==void 0&&a&&i.jsx(ke,{value:n,children:i.jsx(we,{primary:i.jsx("em",{children:l(a)}),slotProps:{primary:{variant:"body2"}}})})]})})},X1=e=>{const t=Xe(),{t:r}=V(),[n,a]=g.useState([]);return i.jsx(Hm,{multiple:!0,options:n,blurOnSelect:!0,renderInput:o=>i.jsx(N,{...o,sx:{"& .MuiInputBase-root":{},"& .MuiInputBase-root.MuiOutlinedInput-root":{paddingTop:t.spacing(.6),paddingBottom:t.spacing(.6)},mt:0},variant:"outlined",margin:"dense",placeholder:r("dashboard:settings.searchShare"),type:"text",fullWidth:!0})})},Y1=()=>{const{t:e}=V("dashboard"),{formRef:t,setSettings:r,values:n}=g.useContext(lr);return g.useMemo(()=>{let a=[];try{a=JSON.parse((n==null?void 0:n.default_symbolics)??"[]")}catch(o){console.error(o)}return a},[n==null?void 0:n.default_symbolics]),i.jsx($,{component:"form",ref:t,onSubmit:a=>a.preventDefault(),children:i.jsxs(ce,{spacing:5,children:[i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings.accountManagement")}),i.jsxs(Me,{children:[i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:Vt(n.register_enabled),onChange:a=>r({register_enabled:a.target.checked?"1":"0"})}),label:e("settings.allowNewRegistrations")}),i.jsx(D,{children:e("settings.allowNewRegistrationsDes")})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:Vt(n.email_active),onChange:a=>r({email_active:a.target.checked?"1":"0"})}),label:e("settings.emailActivation")}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"settings.emailActivationDes",ns:"dashboard",components:[i.jsx(te,{href:"/admin/settings?tab=email"})]})})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:Vt(n.authn_enabled),onChange:a=>r({authn_enabled:a.target.checked?"1":"0"})}),label:e("settings.webauthn")}),i.jsx(D,{children:e("settings.webauthnDes")})]})}),i.jsx(O,{title:e("settings.defaultGroup"),lgWidth:5,children:i.jsxs(I,{children:[i.jsx(ki,{value:n.default_group,onChange:a=>r({default_group:a})}),i.jsx(D,{children:e("settings.defaultGroupDes")})]})}),i.jsx(O,{title:e("settings.defaultSymbolics"),lgWidth:5,pro:!0,children:i.jsxs(I,{children:[i.jsx(X1,{}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"settings.defaultSymbolicsDes",ns:"dashboard",components:[i.jsx(te,{component:Rt,to:"/admin/share"})]})})]})}),i.jsx(O,{title:e("vas.filterEmailProvider"),lgWidth:5,pro:!0,children:i.jsxs(I,{children:[i.jsx(Ze,{value:0,children:["filterEmailProviderDisabled","filterEmailProviderWhitelist","filterEmailProviderBlacklist"].map((a,o)=>i.jsx(ke,{value:o.toString(),children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:e(`vas.${a}`)})}))}),i.jsx(D,{children:e("vas.filterEmailProviderDes")})]})}),i.jsx(O,{lgWidth:5,pro:!0,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:!1}),label:i.jsxs(i.Fragment,{children:[e("vas.disableSubAddressEmail"),i.jsx(qt,{label:"Pro",color:"primary",size:"small"})]})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"vas.disableSubAddressEmailDes",ns:"dashboard",components:[i.jsx(ie,{})]})})]})})]})]}),i.jsxs(Ne,{children:[i.jsxs(L,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[e("settings.thirdPartySignIn")," ",i.jsx(qt,{label:"Pro",color:"primary",size:"small"})]}),i.jsx(Me,{children:i.jsx(O,{lgWidth:5,children:i.jsx(x1,{})})})]}),i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings.avatar")}),i.jsxs(Me,{children:[i.jsx(O,{title:e("settings.avatarFilePath"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:n.avatar_path,onChange:a=>r({avatar_path:a.target.value}),required:!0}),i.jsx(D,{children:e("settings.avatarFilePathDes")})]})}),i.jsx(O,{title:e("settings.avatarSize"),lgWidth:5,children:i.jsxs(I,{children:[i.jsx(or,{variant:"outlined",required:!0,label:e("application:navbar.minimum"),value:parseInt(n.avatar_size)??0,onChange:a=>r({avatar_size:a.toString()})}),i.jsx(D,{children:e("settings.avatarSizeDes")})]})}),i.jsx(O,{title:e("settings.avatarImageSize"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:n.avatar_size_l,onChange:a=>r({avatar_size_l:a.target.value}),type:"number",inputProps:{step:1,min:1},required:!0}),i.jsx(D,{children:e("settings.avatarImageSizeDes")})]})}),i.jsx(O,{title:e("settings.gravatarServer"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:n.gravatar_server,onChange:a=>r({gravatar_server:a.target.value}),required:!0}),i.jsx(D,{children:e("settings.gravatarServerDes")})]})})]})]})]})})},J1=({storageProductsConfig:e,groupProductsConfig:t})=>{const{t:r}=V("dashboard");fb(),St();const[n,a]=g.useState(!1),[o,s]=g.useState([]),[l,u]=g.useState(!1),[c,d]=g.useState({page:1,perPage:10,total:0}),h=f=>{d({page:1,perPage:f,total:c.total})};return i.jsxs(ce,{spacing:2,children:[i.jsx($,{children:i.jsx(Te,{variant:"contained",startIcon:i.jsx(yr,{}),onClick:()=>a(!0),children:r("giftCodes.generateGiftCodes")})}),i.jsxs(Ct,{children:[i.jsx(pt,{children:i.jsxs(gt,{size:"small",children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(We,{children:"#"}),i.jsx(We,{children:r("giftCodes.giftCodeProduct")}),i.jsx(We,{children:r("giftCodes.giftCodeAmount")}),i.jsx(We,{children:r("giftCodes.giftCode")}),i.jsx(We,{children:r("giftCodes.giftCodeStatus")}),i.jsx(We,{align:"right"})]})}),i.jsx(xt,{children:o.length===0&&!l&&i.jsx(je,{children:i.jsx(We,{colSpan:6,align:"center",children:r("giftCodes.noGiftCodes")})})})]})}),(c==null?void 0:c.total)>0&&i.jsx($,{sx:{px:1},children:i.jsx(sn,{totalItems:c.total,page:c.page,rowsPerPage:c.perPage,rowsPerPageOptions:[10,25,50,100],onRowsPerPageChange:h,onChange:(f,p)=>d({...c,page:p})})})]})]})},Q1=()=>{const{t:e}=V("dashboard");return i.jsxs($,{children:[i.jsx($,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:i.jsx(Te,{variant:"contained",startIcon:i.jsx(yr,{}),children:e("settings.addGroupProduct")})}),i.jsx(pt,{component:Ct,children:i.jsxs(gt,{sx:{width:"100%"},size:"small",children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(We,{children:e("settings.displayName")}),i.jsx(We,{children:e("settings.price")}),i.jsx(We,{children:e("settings.duration")}),i.jsx(We,{children:e("settings.description")}),i.jsx(We,{children:e("settings.actions")})]})}),i.jsx(xt,{children:i.jsx(je,{children:i.jsx(We,{colSpan:5,align:"center",children:i.jsx(L,{variant:"caption",color:"text.secondary",children:e("application:setting.listEmpty")})})})})]})})]})},Z1=({})=>{const{t:e}=V("dashboard");return i.jsx(ce,{spacing:2,children:i.jsx($,{children:i.jsx(Te,{variant:"contained",startIcon:i.jsx(gd,{}),children:e("settings.addPaymentProvider")})})})},e_=()=>{const{t:e}=V("dashboard");return i.jsxs($,{children:[i.jsx($,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:i.jsx(Te,{variant:"contained",startIcon:i.jsx(yr,{}),children:e("settings.addStorageProduct")})}),i.jsx(pt,{component:Ct,children:i.jsxs(gt,{sx:{width:"100%"},size:"small",children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(We,{children:e("settings.displayName")}),i.jsx(We,{children:e("settings.price")}),i.jsx(We,{children:e("settings.duration")}),i.jsx(We,{children:e("settings.storageSize")}),i.jsx(We,{children:e("settings.actions")})]})}),i.jsx(xt,{children:i.jsx(je,{children:i.jsx(We,{colSpan:5,align:"center",children:i.jsx(L,{variant:"caption",color:"text.secondary",children:e("application:setting.listEmpty")})})})})]})})]})},t_=()=>{const{t:e}=V("dashboard"),[t,r]=g.useState(!1),{formRef:n,setSettings:a,values:o}=g.useContext(lr),s=ri({variant:"popover",popupId:"currencySelector"});g.useMemo(()=>JSON.parse(o.payment||"{}"),[o.payment]);const l=g.useMemo(()=>o.storage_products||"[]",[o.storage_products]),u=g.useMemo(()=>o.group_sell_data||"[]",[o.group_sell_data]),c=d=>{d.preventDefault(),r(!0)};return i.jsxs($,{component:"form",ref:n,children:[i.jsx(gn,{open:t,onClose:()=>r(!1)}),i.jsxs(ce,{spacing:5,children:[i.jsxs(Ne,{children:[i.jsxs(L,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[e("settings.creditAndVAS")," ",i.jsx(qt,{label:"Pro",color:"primary",size:"small"})]}),i.jsxs(Me,{onClick:c,children:[i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:!1}),label:e("settings.enableCredit")}),i.jsx(D,{children:e("settings.enableCreditDes")})]})}),i.jsxs(ce,{spacing:2,children:[i.jsx(O,{title:e("settings.creditPrice"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{type:"number",slotProps:{input:{readOnly:!0}},value:1}),i.jsx(D,{children:e("settings.creditPriceDes")})]})}),i.jsx(O,{title:e("settings.shareScoreRate"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{type:"number",value:80,slotProps:{input:{readOnly:!0}}}),i.jsx(D,{children:e("settings.shareScoreRateDes")})]})})]}),i.jsx(O,{title:e("vas.banBufferPeriod"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{type:"number",slotProps:{input:{readOnly:!0}},value:864e3}),i.jsx(D,{children:e("vas.banBufferPeriodDes")})]})}),i.jsx(O,{title:e("settings.cronNotifyUser"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:"@every 1h",slotProps:{input:{readOnly:!0}}}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"settings.cronDes",values:{des:e("settings.cronNotifyUserDes")},ns:"dashboard",components:[i.jsx(te,{href:"https://crontab.guru/",target:"_blank",rel:"noopener noreferrer"})]})})]})}),i.jsx(O,{title:e("settings.cronBanUser"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:"@every 1h",slotProps:{input:{readOnly:!0}}}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"settings.cronDes",values:{des:e("settings.cronBanUserDes")},ns:"dashboard",components:[i.jsx(te,{href:"https://crontab.guru/",target:"_blank",rel:"noopener noreferrer"})]})})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:!1}),label:e("settings.anonymousPurchase")}),i.jsx(D,{children:e("settings.anonymousPurchaseDes")})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:!1}),label:e("settings.shopNavEnabled")}),i.jsx(D,{children:e("settings.shopNavEnabledDes")})]})})]})]}),i.jsxs(Ne,{children:[i.jsxs(L,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[e("settings.paymentSettings")," ",i.jsx(qt,{label:"Pro",color:"primary",size:"small"})]}),i.jsxs(Me,{onClick:c,children:[i.jsx(O,{title:e("settings.currencyCode"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:"USD",slotProps:{input:{readOnly:!0,endAdornment:i.jsx(Zi,{position:"end",children:i.jsx(De,{...ni(s),children:e("settings.selectCurrency")})})}}}),i.jsx(D,{children:e("settings.currencyCodeDes")})]})}),i.jsx(O,{title:e("settings.currencySymbol"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:"$",slotProps:{input:{readOnly:!0}}}),i.jsx(D,{children:e("settings.currencySymbolDes")})]})}),i.jsx(O,{title:e("settings.currencyUnit"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{type:"number",value:100,slotProps:{input:{readOnly:!0}}}),i.jsx(D,{children:e("settings.currencyUnitDes")})]})}),i.jsxs($,{sx:{mt:2},children:[i.jsx(L,{variant:"subtitle1",gutterBottom:!0,children:e("settings.paymentProviders")}),i.jsx(O,{lgWidth:6,children:i.jsx(Z1,{})})]})]})]}),i.jsxs(Ne,{children:[i.jsxs(L,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[e("settings.storageProductSettings")," ",i.jsx(qt,{label:"Pro",color:"primary",size:"small"})]}),i.jsx(Me,{onClick:c,children:i.jsx(O,{lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(e_,{}),i.jsx(D,{children:e("settings.storageProductsDes")})]})})})]}),i.jsxs(Ne,{children:[i.jsxs(L,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[e("settings.groupProductSettings")," ",i.jsx(qt,{label:"Pro",color:"primary",size:"small"})]}),i.jsx(Me,{onClick:c,children:i.jsx(O,{lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(Q1,{}),i.jsx(D,{children:e("settings.groupProductsDes")})]})})})]}),i.jsxs(Ne,{children:[i.jsxs(L,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[e("giftCodes.giftCodesSettings")," ",i.jsx(qt,{label:"Pro",color:"primary",size:"small"})]}),i.jsx(Me,{onClick:c,children:i.jsx(J1,{storageProductsConfig:l,groupProductsConfig:u})})]})]})]})},as=at(Zi)(({theme:e})=>({fontSize:e.typography.body2.fontSize})),Ne=at($)(({theme:e})=>({display:"flex",flexDirection:"column",gap:e.spacing(1),[e.breakpoints.up("md")]:{padding:e.spacing(0,4)}})),Me=at($)(({theme:e})=>({[e.breakpoints.up("md")]:{padding:e.spacing(0,4)},display:"flex",flexDirection:"column",gap:e.spacing(3)})),D=at(Um)(()=>({marginLeft:0,marginRight:0})),r_=Object.values(fx).map(e=>[`queue_${e}_worker_num`,`queue_${e}_max_execution`,`queue_${e}_backoff_factor`,`queue_${e}_backoff_max_duration`,`queue_${e}_max_retry`,`queue_${e}_retry_delay`]).flat(),A9=()=>{const{t:e}=V("dashboard"),[t,r]=Oe(lj),n=g.useMemo(()=>{const a=[];return a.push({label:e("nav.basicSetting"),value:"siteInformation",icon:i.jsx(a1,{})},{label:e("nav.userSession"),value:"userSession",icon:i.jsx(bd,{})},{label:e("nav.captcha"),value:"captcha",icon:i.jsx(e1,{})},{label:e("nav.fileSystem"),value:"fileSystem",icon:i.jsx(r1,{})},{label:e("nav.mediaProcessing"),value:"mediaProcessing",icon:i.jsx(i1,{})},{label:e("vas.vas"),value:"vas",icon:i.jsx(n1,{})},{label:e("nav.email"),value:"email",icon:i.jsx(Fm,{})},{label:e("nav.queue"),value:"queue",icon:i.jsx(pj,{})},{label:e("nav.appearance"),value:"appearance",icon:i.jsx(t1,{})},{label:e("nav.events"),value:"events",icon:i.jsx(gj,{})},{label:e("nav.server"),value:"server",icon:i.jsx(mj,{})}),a},[e]);return i.jsx(Xt,{children:i.jsxs(Gt,{maxWidth:"xl",children:[i.jsx(Yt,{title:e("dashboard:nav.settings")}),i.jsx(sj,{value:t??"siteInformation",onChange:(a,o)=>r(o),tabs:n}),i.jsx(ir,{children:i.jsx(ar,{addEndListener:(a,o)=>a.addEventListener("transitionend",o,!1),classNames:"fade",children:i.jsxs($,{children:[(!t||t==="siteInformation")&&i.jsx(_r,{settings:["siteName","siteDes","siteURL","siteScript","pwa_small_icon","pwa_medium_icon","pwa_large_icon","site_logo","site_logo_light","tos_url","privacy_policy_url","show_app_promotion"],children:i.jsx(K1,{})}),t==="userSession"&&i.jsx(_r,{settings:["register_enabled","email_active","default_group","authn_enabled","avatar_path","avatar_size","avatar_size_l","gravatar_server"],children:i.jsx(Y1,{})}),t==="captcha"&&i.jsx(_r,{settings:["login_captcha","reg_captcha","forget_captcha","captcha_type","captcha_mode","captcha_ComplexOfNoiseText","captcha_ComplexOfNoiseDot","captcha_IsShowHollowLine","captcha_IsShowNoiseDot","captcha_IsShowNoiseText","captcha_IsShowSlimeLine","captcha_IsShowSineLine","captcha_CaptchaLen","captcha_ReCaptchaKey","captcha_ReCaptchaSecret","captcha_turnstile_site_key","captcha_turnstile_site_secret"],children:i.jsx(m1,{})}),t==="fileSystem"&&i.jsx(_r,{settings:["maxEditSize","cron_trash_bin_collect","cron_entity_collect","public_resource_maxage","use_cursor_pagination","max_page_size","max_recursive_searched_folder","max_batched_file","map_provider","map_google_tile_type","mime_mapping","explorer_icons","file_viewers","explorer_category_image_query","explorer_category_video_query","explorer_category_audio_query","explorer_category_document_query","emojis","archive_timeout","upload_session_timeout","slave_api_timeout","folder_props_timeout","chunk_retries","use_temp_chunk_buffer","max_parallel_transfer","cron_oauth_cred_refresh","viewer_session_timeout","entity_url_default_ttl","entity_url_cache_margin"],children:i.jsx(I1,{})}),t==="mediaProcessing"&&i.jsx(_r,{settings:["thumb_width","thumb_height","thumb_entity_suffix","thumb_encode_method","thumb_gc_after_gen","thumb_encode_quality","thumb_builtin_enabled","thumb_builtin_max_size","thumb_vips_max_size","thumb_vips_enabled","thumb_vips_exts","thumb_ffmpeg_enabled","thumb_vips_path","thumb_ffmpeg_path","thumb_ffmpeg_max_size","thumb_ffmpeg_exts","thumb_ffmpeg_seek","thumb_libreoffice_path","thumb_libreoffice_max_size","thumb_libreoffice_enabled","thumb_libreoffice_exts","thumb_music_cover_enabled","thumb_music_cover_exts","thumb_music_cover_max_size","media_meta_exif","media_meta_exif_size_local","media_meta_exif_size_remote","media_meta_exif_brute_force","media_meta_music","media_meta_music_size_local","media_exif_music_size_remote","media_meta_ffprobe","media_meta_ffprobe_path","media_meta_ffprobe_size_local","media_meta_ffprobe_size_remote"],children:i.jsx(B1,{})}),t==="vas"&&i.jsx(_r,{settings:[],children:i.jsx(t_,{})}),t==="email"&&i.jsx(_r,{settings:["mail_keepalive","fromAdress","smtpHost","smtpPort","replyTo","smtpUser","smtpPass","smtpEncryption","fromName","mail_activation_template","mail_reset_template"],children:i.jsx(j1,{})}),t==="queue"&&i.jsx(_r,{settings:r_,children:i.jsx(q1,{})}),t==="appearance"&&i.jsx(_r,{settings:["theme_options","defaultTheme"],children:i.jsx(h1,{})}),t==="events"&&i.jsx(_r,{settings:[],children:i.jsx(w1,{})}),t==="server"&&i.jsx(_r,{settings:["temp_path","siteID","cron_garbage_collect","hash_id_salt","access_token_ttl","refresh_token_ttl"],children:i.jsx(U1,{})})]})},`${t}`)})]})})},ii=({value:e,phraseVariant:t=he.oss,onChange:r,...n})=>{const{t:a}=V("dashboard"),{privateLocale:o,publicLocale:s}=g.useMemo(()=>{switch(t){case he.oss:case he.obs:return{privateLocale:"policy.privateBucket",publicLocale:"policy.publicBucket"};case he.cos:return{privateLocale:"policy.accessTypePrivate",publicLocale:"policy.accessTypePulic"};case he.upyun:return{privateLocale:"policy.tokenEnabled",publicLocale:"policy.tokenDisabled"};default:return{privateLocale:"policy.privateBucket",publicLocale:"policy.publicBucket"}}},[t]);return i.jsxs(Ze,{value:e?"1":"0",renderValue:l=>i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:a(l==="1"?o:s)}),onChange:l=>r(l.target.value==="1"),...n,MenuProps:{PaperProps:{sx:{maxWidth:230}},MenuListProps:{sx:{"& .MuiMenuItem-root":{whiteSpace:"normal"}}}},children:[i.jsx(ke,{value:"1",children:i.jsxs($,{sx:{display:"flex",flexDirection:"column"},children:[i.jsx(L,{variant:"body2",fontWeight:600,children:a(o)}),i.jsx(L,{variant:"caption",color:"textSecondary",children:a("policy.privateDes")})]})}),i.jsx(ke,{value:"0",children:i.jsxs($,{sx:{display:"flex",flexDirection:"column"},children:[i.jsx(L,{variant:"body2",fontWeight:600,children:a(s)}),i.jsx(L,{variant:"caption",color:"textSecondary",children:a("policy.publicDes")})]})})]})},wo=({exposedHeaders:e})=>{const{t}=V("dashboard");return i.jsx(pt,{sx:{mt:1,maxHeight:440},component:Ct,children:i.jsxs(gt,{stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed"},size:"small",children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(M,{width:64,children:t("policy.origin")}),i.jsx(M,{width:200,children:t("policy.allowMethods")}),i.jsx(M,{width:150,children:t("policy.allowHeaders")}),i.jsx(M,{width:150,children:t("policy.exposeHeaders")}),i.jsx(M,{width:250,children:t("policy.maxAge")})]})}),i.jsx(xt,{children:i.jsxs(je,{children:[i.jsx(ve,{children:"*"}),i.jsx(ve,{children:["GET","POST","PUT","DELETE","HEAD"].map(r=>i.jsx("div",{children:r}))}),i.jsx(ve,{children:"*"}),i.jsx(ve,{children:e==null?void 0:e.map(r=>i.jsx("div",{children:r}))}),i.jsx(ve,{children:"3600"})]})})]})})},n_=({onSubmit:e})=>{const{t}=V("dashboard"),r=ge(),[n,a]=g.useState(!1),{enqueueSnackbar:o}=St(),[s,l]=g.useState(!1),u=g.useRef(null),[c,d]=g.useState({id:0,node_id:0,name:"",type:he.cos,is_private:!0,dir_name_rule:"uploads/{uid}/{path}",settings:{chunk_size:25<<20,thumb_exts:["png","jpg","jpeg","gif","bmp","webp"],media_meta_exts:["jpg","jpeg","png","bmp","webp","tiff","avif","heif"],media_meta_generator_proxy:!0,thumb_generator_proxy:!0},file_name_rule:"{uuid}_{originname}",edges:{}}),h=()=>{var p,m;if(!((p=u.current)!=null&&p.checkValidity())){(m=u.current)==null||m.reportValidity();return}a(!0),r(vo({policy:c})).then(()=>{o(t("policy.corsPolicyAdded"),{variant:"success",action:st}),l(!0)}).finally(()=>{a(!1)})},f=()=>{var p,m;if(!((p=u.current)!=null&&p.checkValidity())){(m=u.current)==null||m.reportValidity();return}e(c)};return i.jsxs("form",{ref:u,onSubmit:f,children:[i.jsxs(ce,{spacing:2,children:[i.jsxs(O,{title:t("policy.name"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:c.name,onChange:p=>d({...c,name:p.target.value})}),i.jsx(D,{children:t("policy.policyName")})]}),i.jsxs(O,{title:t("policy.bucketName"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:c.bucket_name,onChange:p=>d({...c,bucket_name:p.target.value})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.createCOSBucketDes",ns:"dashboard",components:[i.jsx(te,{href:"https://console.cloud.tencent.com/cos/bucket",target:"_blank"}),i.jsx(ie,{})]})})]}),i.jsx(O,{title:t("policy.accessType"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(ii,{phraseVariant:c.type,value:c.is_private??!1,onChange:p=>d({...c,is_private:p})}),i.jsx(D,{children:t("policy.bucketTypeDes")})]})}),i.jsxs(O,{title:t("policy.accessDomain"),lgWidth:12,children:[i.jsx(Er,{fullWidth:!0,required:!0,value:c.server,enforceProtocol:!0,onChange:p=>d({...c,server:p.target.value}),variant:"outlined"}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.cosAccessDomainDes",ns:"dashboard",components:[i.jsx(ie,{}),i.jsx(ie,{})]})})]}),i.jsx(O,{title:t("policy.accessCredential"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{placeholder:"SecretId",fullWidth:!0,required:!0,value:c.access_key,onChange:p=>d({...c,access_key:p.target.value})}),i.jsx(N,{placeholder:"SecretKey",sx:{mt:1},fullWidth:!0,required:!0,value:c.secret_key,onChange:p=>d({...c,secret_key:p.target.value})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.cosCredentialDes",ns:"dashboard",components:[i.jsx(te,{href:"https://console.cloud.tencent.com/cam/capi",target:"_blank"}),i.jsx(ie,{}),i.jsx(te,{href:"https://console.cloud.tencent.com/cam",target:"_blank"})]})})]})}),i.jsxs(O,{title:t("policy.corsSettingStep"),lgWidth:12,children:[i.jsxs(I,{fullWidth:!0,children:[i.jsx(wo,{exposedHeaders:["ETag"]}),i.jsx(D,{children:t("policy.ossCORSDes")})]}),i.jsxs(et,{in:!s,sx:{mt:1},children:[i.jsx(De,{loading:n,variant:"contained",color:"primary",sx:{mr:1},onClick:h,children:t("policy.letCloudreveHelpMe")}),i.jsx(Te,{variant:"contained",onClick:()=>l(!0),children:t("policy.addedManually")})]})]})]}),i.jsx(et,{in:s,children:i.jsx(De,{variant:"contained",color:"primary",sx:{mt:2},onClick:f,children:t("policy.create")})})]})},i_=({onSubmit:e})=>{const{t}=V("dashboard"),r=g.useRef(null),[n,a]=g.useState({id:0,name:"",type:he.local,file_name_rule:"{uuid}_{originname}",settings:{chunk_size:25<<20,pre_allocate:!0},edges:{}}),o=()=>{var s,l;if(!((s=r.current)!=null&&s.checkValidity())){(l=r.current)==null||l.reportValidity();return}e(n)};return i.jsxs("form",{ref:r,onSubmit:o,children:[i.jsxs(O,{title:t("policy.name"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:n.name,onChange:s=>a({...n,name:s.target.value})}),i.jsx(D,{children:t("policy.policyName")})]}),i.jsx(De,{variant:"contained",color:"primary",sx:{mt:2},onClick:o,children:t("policy.create")})]})},a_=({onSubmit:e})=>{const{t}=V("dashboard"),r=ge(),[n,a]=g.useState(!1),{enqueueSnackbar:o}=St(),[s,l]=g.useState(!1),u=g.useRef(null),[c,d]=g.useState({id:0,node_id:0,name:"",type:he.obs,is_private:!0,dir_name_rule:"uploads/{uid}/{path}",settings:{chunk_size:25<<20,thumb_exts:["png","jpg","jpeg","gif","bmp","webp","tiff"],media_meta_exts:["png","jpg","jpeg","gif","bmp","webp","tiff"],media_meta_generator_proxy:!0,thumb_generator_proxy:!0},file_name_rule:"{uuid}_{originname}",edges:{}}),h=()=>{var p,m;if(!((p=u.current)!=null&&p.checkValidity())){(m=u.current)==null||m.reportValidity();return}a(!0),r(vo({policy:c})).then(()=>{o(t("policy.corsPolicyAdded"),{variant:"success",action:st}),l(!0)}).finally(()=>{a(!1)})},f=()=>{var p,m;if(!((p=u.current)!=null&&p.checkValidity())){(m=u.current)==null||m.reportValidity();return}e(c)};return i.jsxs("form",{ref:u,onSubmit:f,children:[i.jsxs(ce,{spacing:2,children:[i.jsxs(O,{title:t("policy.name"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:c.name,onChange:p=>d({...c,name:p.target.value})}),i.jsx(D,{children:t("policy.policyName")})]}),i.jsxs(O,{title:t("policy.cosObsBucketName"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:c.bucket_name,onChange:p=>d({...c,bucket_name:p.target.value})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.obsBucketDes",ns:"dashboard",components:[i.jsx(te,{href:"https://console.huaweicloud.com/console/#/obs/create",target:"_blank"}),i.jsx(ie,{}),i.jsx(ie,{}),i.jsx(ie,{})]})})]}),i.jsx(O,{title:t("policy.bucketPolicy"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(ii,{phraseVariant:c.type,value:c.is_private??!1,onChange:p=>d({...c,is_private:p})}),i.jsx(D,{children:t("policy.bucketTypeDes")})]})}),i.jsxs(O,{title:t("policy.policyEndpoint"),lgWidth:12,children:[i.jsx(Er,{fullWidth:!0,required:!0,value:c.server,enforceProtocol:!0,enforcePrefix:!1,onChange:p=>d({...c,server:p.target.value}),variant:"outlined"}),i.jsxs(D,{children:[i.jsx(Z,{i18nKey:"policy.obsEndpointDes",ns:"dashboard",components:[i.jsx(ie,{}),i.jsx(ie,{})]}),t("policy.obsEndpointCnameHint")]})]}),i.jsx(O,{title:t("policy.accessCredential"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{placeholder:"Access Key Id",fullWidth:!0,required:!0,value:c.access_key,onChange:p=>d({...c,access_key:p.target.value})}),i.jsx(N,{placeholder:"Secret Access Key",sx:{mt:1},fullWidth:!0,required:!0,value:c.secret_key,onChange:p=>d({...c,secret_key:p.target.value})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.obsCredentialDes",ns:"dashboard",components:[i.jsx(te,{href:"https://console.huaweicloud.com/iam/#/mine/accessKey",target:"_blank"}),i.jsx(ie,{}),i.jsx(ie,{})]})})]})}),i.jsxs(O,{title:t("policy.corsSettingStep"),lgWidth:12,children:[i.jsxs(I,{fullWidth:!0,children:[i.jsx(wo,{exposedHeaders:["ETag"]}),i.jsx(D,{children:t("policy.ossCORSDes")})]}),i.jsxs(et,{in:!s,sx:{mt:1},children:[i.jsx(De,{loading:n,variant:"contained",color:"primary",sx:{mr:1},onClick:h,children:t("policy.letCloudreveHelpMe")}),i.jsx(Te,{variant:"contained",onClick:()=>l(!0),children:t("policy.addedManually")})]})]})]}),i.jsx(et,{in:s,children:i.jsx(De,{variant:"contained",color:"primary",sx:{mt:2},onClick:f,children:t("policy.create")})})]})},o_=[{name:"policy.multiTenant",endpoint:"https://graph.microsoft.com/v1.0"},{name:"policy.gallatin",endpoint:"https://microsoftgraph.chinacloudapi.cn/v1.0"}],mx=({value:e,onChange:t,...r})=>{const{t:n}=V("dashboard");return i.jsx(Ze,{value:e,onChange:a=>t(a.target.value),MenuProps:{PaperProps:{sx:{maxWidth:230}},MenuListProps:{sx:{"& .MuiMenuItem-root":{whiteSpace:"normal"}}}},...r,children:o_.map(a=>i.jsx(ke,{value:a.endpoint,children:i.jsxs($,{sx:{display:"flex",flexDirection:"column"},children:[i.jsx(L,{variant:"body2",fontWeight:600,children:n(a.name)}),i.jsx(L,{variant:"caption",color:"textSecondary",children:a.endpoint})]})}))})},Uh="https://graph.microsoft.com/v1.0",s_=({onSubmit:e})=>{const{t}=V("dashboard"),r=ge(),[n,a]=g.useState("Loading..."),o=g.useRef(null),[s,l]=g.useState({id:0,node_id:0,name:"",type:he.onedrive,server:Uh,is_private:!0,dir_name_rule:"uploads/{uid}/{path}",settings:{chunk_size:50<<20,thumb_support_all_exts:!0,media_meta_generator_proxy:!0},file_name_rule:"{uuid}_{originname}",edges:{}}),u=()=>{var c,d;if(!((c=o.current)!=null&&c.checkValidity())){(d=o.current)==null||d.reportValidity();return}e(s)};return g.useEffect(()=>{r(Km()).then(c=>{a(c)})},[]),i.jsx("form",{ref:o,onSubmit:u,children:i.jsxs(ce,{spacing:2,children:[i.jsxs(O,{title:t("policy.name"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:s.name,onChange:c=>l({...s,name:c.target.value})}),i.jsx(D,{children:t("policy.policyName")})]}),i.jsxs(O,{title:t("policy.aadAccountCloud"),lgWidth:12,children:[i.jsx(mx,{fullWidth:!0,value:s.server??"",required:!0,onChange:c=>l({...s,server:c})}),i.jsx(D,{children:t("policy.aadAccountCloudDes")})]}),i.jsxs(O,{title:t("policy.entraIdApp"),lgWidth:12,children:[i.jsx(L,{component:"div",variant:"caption",color:"textSecondary",children:i.jsx(Z,{i18nKey:"policy.creatAadAppDes",ns:"dashboard",components:[i.jsx(te,{href:Uh===s.server?"https://portal.azure.com/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/Overview":"https://portal.azure.cn/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/Overview",target:"_blank"}),i.jsx(ie,{})]})}),i.jsx(L,{sx:{mt:1},component:"div",variant:"caption",color:"textSecondary",children:i.jsx(Z,{i18nKey:"policy.createAadAppDes2",ns:"dashboard",values:{url:n},components:[i.jsx(ie,{}),i.jsx(ie,{}),i.jsx(ie,{}),i.jsx(ie,{}),i.jsx(ie,{}),i.jsx(ie,{}),i.jsx(ie,{})]})}),i.jsx(N,{sx:{mt:2},fullWidth:!0,required:!0,placeholder:t("policy.aadAppID"),value:s.bucket_name,onChange:c=>l({...s,bucket_name:c.target.value})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.aadAppIDDes",ns:"dashboard",components:[i.jsx(ie,{}),i.jsx(ie,{})]})}),i.jsx(N,{sx:{mt:2},fullWidth:!0,required:!0,placeholder:t("policy.aadAppSecret"),value:s.secret_key,onChange:c=>l({...s,secret_key:c.target.value})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.addAppSecretDes",ns:"dashboard",components:[i.jsx(ie,{}),i.jsx(ie,{}),i.jsx(ie,{})]})})]}),i.jsx(O,{title:t("policy.grantAccess"),lgWidth:12,children:i.jsx(L,{component:"div",variant:"caption",color:"textSecondary",children:t("policy.grantAccessLater")})}),i.jsx($,{children:i.jsx(De,{variant:"contained",color:"primary",sx:{mt:2},onClick:u,children:t("policy.create")})})]})})},l_=({onSubmit:e})=>{const{t}=V("dashboard"),r=ge(),[n,a]=g.useState(!1),{enqueueSnackbar:o}=St(),[s,l]=g.useState(!1),u=g.useRef(null),[c,d]=g.useState({id:0,node_id:0,name:"",type:he.oss,is_private:!0,dir_name_rule:"uploads/{uid}/{path}",settings:{chunk_size:25<<20,thumb_exts:["png","jpg","jpeg","gif","bmp","webp","heic","tiff","avif"],media_meta_exts:["jpg","jpeg","png","gif","bmp","webp","tiff","heic","heif"],media_meta_generator_proxy:!0,thumb_generator_proxy:!0},file_name_rule:"{uuid}_{originname}",edges:{}}),h=()=>{var p,m;if(!((p=u.current)!=null&&p.checkValidity())){(m=u.current)==null||m.reportValidity();return}a(!0),r(vo({policy:c})).then(()=>{o(t("policy.corsPolicyAdded"),{variant:"success",action:st}),l(!0)}).finally(()=>{a(!1)})},f=()=>{var p,m;if(!((p=u.current)!=null&&p.checkValidity())){(m=u.current)==null||m.reportValidity();return}e(c)};return i.jsxs("form",{ref:u,onSubmit:f,children:[i.jsxs(ce,{spacing:2,children:[i.jsxs(O,{title:t("policy.name"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:c.name,onChange:p=>d({...c,name:p.target.value})}),i.jsx(D,{children:t("policy.policyName")})]}),i.jsxs(O,{title:t("policy.bucketName"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:c.bucket_name,onChange:p=>d({...c,bucket_name:p.target.value})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.createOSSBucketDes",ns:"dashboard",components:[i.jsx(te,{href:"https://oss.console.aliyun.com/bucket",target:"_blank"}),i.jsx(ie,{}),i.jsx(ie,{})]})})]}),i.jsx(O,{title:t("policy.bucketType"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(ii,{value:c.is_private??!1,onChange:p=>d({...c,is_private:p})}),i.jsx(D,{children:t("policy.bucketTypeDes")})]})}),i.jsxs(O,{title:t("policy.endpoint"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:c.server,onChange:p=>d({...c,server:p.target.value})}),i.jsxs(D,{children:[i.jsx(Z,{i18nKey:"policy.ossEndpointDes",ns:"dashboard",components:[i.jsx(ie,{}),i.jsx(ie,{}),i.jsx(ie,{})]}),t("policy.ossEndpointDesInternalHint")]})]}),i.jsx(O,{title:t("policy.accessCredential"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{placeholder:"AccessKey ID",fullWidth:!0,required:!0,value:c.access_key,onChange:p=>d({...c,access_key:p.target.value})}),i.jsx(N,{placeholder:"AccessKey Secret",sx:{mt:1},fullWidth:!0,required:!0,value:c.secret_key,onChange:p=>d({...c,secret_key:p.target.value})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.ossAKDes",ns:"dashboard",components:[i.jsx(te,{href:"https://ram.console.aliyun.com/profile/access-keys",target:"_blank"}),i.jsx(te,{href:"https://ram.console.aliyun.com/ram/overview",target:"_blank"}),i.jsx(ie,{})]})})]})}),i.jsxs(O,{title:t("policy.corsSettingStep"),lgWidth:12,children:[i.jsxs(I,{fullWidth:!0,children:[i.jsx(wo,{}),i.jsx(D,{children:t("policy.ossCORSDes")})]}),i.jsxs(et,{in:!s,sx:{mt:1},children:[i.jsx(De,{loading:n,variant:"contained",color:"primary",sx:{mr:1},onClick:h,children:t("policy.letCloudreveHelpMe")}),i.jsx(Te,{variant:"contained",onClick:()=>l(!0),children:t("policy.addedManually")})]})]})]}),i.jsx(et,{in:s,children:i.jsx(De,{variant:"contained",color:"primary",sx:{mt:2},onClick:f,children:t("policy.create")})})]})},c_=({onSubmit:e})=>{var s;const{t}=V("dashboard");ge();const r=g.useRef(null),[n,a]=g.useState({id:0,node_id:0,name:"",type:he.qiniu,is_private:!0,dir_name_rule:"uploads/{uid}/{path}",settings:{chunk_size:25<<20,thumb_exts:["psd","jpeg","png","gif","webp","tiff","bmp","avif","heic"],thumb_max_size:20<<20,media_meta_exts:["avi","mp4","mkv","mov","webm","opus","flv","hls","ts","dash","mp3","aac","flac","wav","amr","jpg","jpeg","png","gif","bmp","webp","tiff","heic","heif"],media_meta_generator_proxy:!0,thumb_generator_proxy:!0,custom_proxy:!0},file_name_rule:"{uuid}_{originname}",edges:{}}),o=()=>{var l,u;if(!((l=r.current)!=null&&l.checkValidity())){(u=r.current)==null||u.reportValidity();return}e(n)};return i.jsxs("form",{ref:r,onSubmit:o,children:[i.jsxs(ce,{spacing:2,children:[i.jsxs(O,{title:t("policy.name"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:n.name,onChange:l=>a({...n,name:l.target.value})}),i.jsx(D,{children:t("policy.policyName")})]}),i.jsxs(O,{title:t("policy.qiniuBucketName"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:n.bucket_name,onChange:l=>a({...n,bucket_name:l.target.value})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.enterQiniuBucket",ns:"dashboard",components:[i.jsx(te,{href:"https://portal.qiniu.com/kodo/bucket",target:"_blank"})]})})]}),i.jsx(O,{title:t("policy.aclType"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(ii,{phraseVariant:he.qiniu,value:n.is_private??!1,onChange:l=>a({...n,is_private:l})}),i.jsx(D,{children:t("policy.bucketTypeDes")})]})}),i.jsxs(O,{title:t("policy.bucketDomain"),lgWidth:12,children:[i.jsx(Er,{fullWidth:!0,enforceProtocol:!0,required:!0,value:((s=n.settings)==null?void 0:s.proxy_server)??"",onChange:l=>a({...n,settings:{...n.settings,proxy_server:l.target.value}}),variant:"outlined"}),i.jsx(D,{children:t("policy.bucketDomainDes")})]}),i.jsx(O,{title:t("policy.accessCredential"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{placeholder:"AK",fullWidth:!0,required:!0,value:n.access_key,onChange:l=>a({...n,access_key:l.target.value})}),i.jsx(N,{placeholder:"SK",sx:{mt:1},fullWidth:!0,required:!0,value:n.secret_key,onChange:l=>a({...n,secret_key:l.target.value})}),i.jsx(D,{children:t("policy.qiniuCredentialDes")})]})})]}),i.jsx(De,{variant:"contained",color:"primary",sx:{mt:2},onClick:o,children:t("policy.create")})]})},u_="node_status",xx=({value:e,onChange:t,...r})=>{const{t:n}=V("dashboard"),a=ge(),[o,s]=g.useState(!0),[l,u]=g.useState([]);return g.useEffect(()=>{s(!0),a(Gm({page_size:1e3,page:1,order_by:"id",order_direction:"desc",conditions:{[u_]:Fn.active}})).then(c=>{const d=c.nodes.filter(h=>h.type!=Pr.master);u(d),!e&&d.length>0&&t(d[0].id)}).finally(()=>{s(!1)})},[]),!o&&l.length==0?i.jsx(tn,{severity:"warning",children:n("settings.noNodes")}):i.jsx(Ze,{disabled:o,value:e,onChange:c=>t(c.target.value),MenuProps:{PaperProps:{sx:{maxWidth:230}},MenuListProps:{sx:{"& .MuiMenuItem-root":{whiteSpace:"normal"}}}},...r,children:l.map(c=>i.jsx(ke,{value:c.id,children:i.jsxs($,{sx:{display:"flex",flexDirection:"column"},children:[i.jsx(L,{variant:"body2",fontWeight:600,children:c.name}),i.jsx(L,{variant:"caption",color:"textSecondary",children:c.server})]})}))})},d_=({onSubmit:e})=>{const{t}=V("dashboard"),r=g.useRef(null),[n,a]=g.useState({id:0,node_id:0,name:"",type:he.remote,dir_name_rule:"data/uploads/{uid}/{path}",settings:{chunk_size:25<<20,pre_allocate:!0,thumb_exts:["jpg","png","gif","jpeg","mp3","m4a","ogg","flag"],thumb_generator_proxy:!0,media_meta_exts:["mp3","m4a","ogg","flac","jpg","jpeg","png","heic","heif","tiff","avif","3fr","ari","arw","bay","braw","crw","cr2","cr3","cap","data","dcs","dcr","dng","drf","eip","erf","fff","gpr","iiq","k25","kdc","mdc","mef","mos","mrw","nef","nrw","obm","orf","pef","ptx","pxn","r3d","raf","raw","rwl","rw2","rwz","sr2","srf","srw","tif","x3f"]},file_name_rule:"{uuid}_{originname}",edges:{}}),o=()=>{var s,l;if(!((s=r.current)!=null&&s.checkValidity())){(l=r.current)==null||l.reportValidity();return}e(n)};return i.jsxs("form",{ref:r,onSubmit:o,children:[i.jsxs(ce,{spacing:2,children:[i.jsxs(O,{title:t("policy.name"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:n.name,onChange:s=>a({...n,name:s.target.value})}),i.jsx(D,{children:t("policy.policyName")})]}),i.jsxs(O,{title:t("policy.node"),lgWidth:12,children:[i.jsx(xx,{fullWidth:!0,required:!0,value:n.node_id??0,onChange:s=>a({...n,node_id:s})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.nodeDes",ns:"dashboard",components:[i.jsx(te,{component:Rt,to:"/admin/node"})]})})]})]}),i.jsx(De,{disabled:!n.node_id,variant:"contained",color:"primary",sx:{mt:2},onClick:o,children:t("policy.create")})]})},h_=({onSubmit:e})=>{var p,m;const{t}=V("dashboard"),r=ge(),[n,a]=g.useState(!1),{enqueueSnackbar:o}=St(),[s,l]=g.useState(!1),u=g.useRef(null),[c,d]=g.useState({id:0,node_id:0,name:"",type:he.s3,is_private:!0,dir_name_rule:"uploads/{uid}/{path}",settings:{chunk_size:25<<20,media_meta_generator_proxy:!0,thumb_generator_proxy:!0},file_name_rule:"{uuid}_{originname}",edges:{}}),h=()=>{var x,v;if(!((x=u.current)!=null&&x.checkValidity())){(v=u.current)==null||v.reportValidity();return}a(!0),r(vo({policy:c})).then(()=>{o(t("policy.corsPolicyAdded"),{variant:"success",action:st}),l(!0)}).finally(()=>{a(!1)})},f=()=>{var x,v;if(!((x=u.current)!=null&&x.checkValidity())){(v=u.current)==null||v.reportValidity();return}e(c)};return i.jsxs("form",{ref:u,onSubmit:f,children:[i.jsxs(ce,{spacing:2,children:[i.jsxs(O,{title:t("policy.name"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:c.name,onChange:x=>d({...c,name:x.target.value})}),i.jsx(D,{children:t("policy.policyName")})]}),i.jsx(O,{title:t("policy.bucketName"),lgWidth:12,children:i.jsx(N,{fullWidth:!0,required:!0,value:c.bucket_name,onChange:x=>d({...c,bucket_name:x.target.value})})}),i.jsx(O,{title:t("policy.bucketType"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(ii,{phraseVariant:c.type,value:c.is_private??!1,onChange:x=>d({...c,is_private:x})}),i.jsx(D,{children:t("policy.bucketTypeDes")})]})}),i.jsxs(O,{title:t("policy.policyEndpoint"),lgWidth:12,children:[i.jsx(Er,{fullWidth:!0,required:!0,value:c.server,enforceProtocol:!0,onChange:x=>d({...c,server:x.target.value}),variant:"outlined"}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.s3EndpointDes",ns:"dashboard",components:[i.jsx(ie,{})]})}),i.jsx(be,{sx:{mt:1,mb:-1},slotProps:{typography:{variant:"body2"}},control:i.jsx(lt,{size:"small",checked:((p=c.settings)==null?void 0:p.s3_path_style)??!1,onChange:x=>d({...c,settings:{...c.settings,s3_path_style:x.target.checked?!0:void 0}})}),label:t("policy.usePathEndpoint")}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.s3EndpointPathStyle",ns:"dashboard",components:[i.jsx(ie,{})]})})]}),i.jsxs(O,{title:t("policy.s3Region"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:(m=c.settings)==null?void 0:m.region,onChange:x=>d({...c,settings:{...c.settings,region:x.target.value}})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.selectRegionDes",ns:"dashboard",components:[i.jsx(ie,{})]})})]}),i.jsx(O,{title:t("policy.accessCredential"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{placeholder:"Access Key",fullWidth:!0,required:!0,value:c.access_key,onChange:x=>d({...c,access_key:x.target.value})}),i.jsx(N,{placeholder:"Secret Key",sx:{mt:1},fullWidth:!0,required:!0,value:c.secret_key,onChange:x=>d({...c,secret_key:x.target.value})})]})}),i.jsxs(O,{title:t("policy.corsSettingStep"),lgWidth:12,children:[i.jsxs(I,{fullWidth:!0,children:[i.jsx(wo,{exposedHeaders:["ETag"]}),i.jsx(D,{children:t("policy.ossCORSDes")})]}),i.jsxs(et,{in:!s,sx:{mt:1},children:[i.jsx(De,{loading:n,variant:"contained",color:"primary",sx:{mr:1},onClick:h,children:t("policy.letCloudreveHelpMe")}),i.jsx(Te,{variant:"contained",onClick:()=>l(!0),children:t("policy.addedManually")})]})]})]}),i.jsx(et,{in:s,children:i.jsx(De,{variant:"contained",color:"primary",sx:{mt:2},onClick:f,children:t("policy.create")})})]})},f_=({onSubmit:e})=>{var s,l;const{t}=V("dashboard");ge(),g.useState(!1),St(),g.useState(!1);const r=g.useRef(null),[n,a]=g.useState({id:0,node_id:0,name:"",type:he.upyun,is_private:!0,dir_name_rule:"uploads/{uid}/{path}",settings:{thumb_exts:["png","jpg","jpeg","gif","bmp","webp","svg"],media_meta_exts:["png","jpg","jpeg","gif","bmp","webp","svg"],media_meta_generator_proxy:!0,thumb_generator_proxy:!0,custom_proxy:!0},file_name_rule:"{uuid}_{originname}",edges:{}}),o=()=>{var u,c;if(!((u=r.current)!=null&&u.checkValidity())){(c=r.current)==null||c.reportValidity();return}e(n)};return i.jsxs("form",{ref:r,onSubmit:o,children:[i.jsxs(ce,{spacing:2,children:[i.jsxs(O,{title:t("policy.name"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:n.name,onChange:u=>a({...n,name:u.target.value})}),i.jsx(D,{children:t("policy.policyName")})]}),i.jsxs(O,{title:t("policy.storageServiceName"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:n.bucket_name,onChange:u=>a({...n,bucket_name:u.target.value})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.createUpyunBucketDes",ns:"dashboard",components:[i.jsx(te,{href:"https://console.upyun.com/console/service",target:"_blank"})]})})]}),i.jsx(O,{title:t("policy.tokenStatus"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(ii,{phraseVariant:n.type,value:n.is_private??!1,onChange:u=>a({...n,is_private:u})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.upyunTokenDes",ns:"dashboard",components:[i.jsx(ie,{}),i.jsx(ie,{})]})})]})}),i.jsx(et,{in:n.is_private,children:i.jsxs(O,{title:t("policy.upyunTokenSecret"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:(s=n.settings)==null?void 0:s.token,onChange:u=>a({...n,settings:{...n.settings,token:u.target.value}})}),i.jsx(D,{children:t("policy.upyunTokenSecretDes")})]})}),i.jsxs(O,{title:t("policy.bucketCDNDomain"),lgWidth:12,children:[i.jsx(Er,{fullWidth:!0,enforceProtocol:!0,required:!0,value:(l=n.settings)==null?void 0:l.proxy_server,onChange:u=>a({...n,settings:{...n.settings,proxy_server:u.target.value}}),variant:"outlined"}),i.jsx(D,{children:t("policy.bucketCDNDes")})]}),i.jsx(O,{title:t("policy.accessCredential"),lgWidth:12,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{placeholder:t("policy.operatorName"),fullWidth:!0,required:!0,value:n.access_key,onChange:u=>a({...n,access_key:u.target.value})}),i.jsx(N,{placeholder:t("policy.operatorPassword"),sx:{mt:1},fullWidth:!0,required:!0,value:n.secret_key,onChange:u=>a({...n,secret_key:u.target.value})})]})})]}),i.jsx(De,{variant:"contained",color:"primary",sx:{mt:2},onClick:o,children:t("policy.create")})]})},bn="page",jn="page_size",_n="order_by",wn="order_direction",p_="policy_type",nr={[he.local]:{name:"policy.local",img:"/static/img/local.png",wizardSize:"sm",wizard:i_,chunkSizeDes:"policy.chunkSizeDes"},[he.remote]:{name:"policy.remote",img:"/static/img/remote.png",wizardSize:"sm",wizard:d_,nativeThumbDes:"policy.nativeThumbNailsGeneralRemote",nativeExtractorName:"policy.mediaExtractorNative",nativeExtractorDes:"policy.nativeMediaMetaExtsRemote",chunkSizeDes:"policy.chunkSizeDes"},[he.s3]:{name:"policy.s3",img:"/static/img/s3.png",wizardSize:"sm",wizard:h_,bucketName:"policy.bucketName",bucketType:"policy.bucketType",endpointName:"policy.policyEndpoint",endpointDes:i.jsx(Z,{i18nKey:"policy.s3EndpointDes",ns:"dashboard",components:[i.jsx(ie,{})]}),akName:"Access Key",skName:"Secret Key",chunkSizeMin:5*1024*1024,chunkSizeMax:5*1024*1024*1024,chunkSizeDes:"policy.chunkSizeDesS3"},[he.cos]:{name:"policy.cos",img:"/static/img/cos.png",wizardSize:"sm",wizard:n_,bucketName:"policy.cosObsBucketName",bucketNameDes:i.jsx(Z,{i18nKey:"policy.createCOSBucketDes",ns:"dashboard",components:[i.jsx(te,{href:"https://console.cloud.tencent.com/cos/bucket",target:"_blank"}),i.jsx(ie,{})]}),bucketType:"policy.accessType",endpointName:"policy.accessDomain",endpointDes:i.jsx(Z,{i18nKey:"policy.cosAccessDomainDes",ns:"dashboard",components:[i.jsx(ie,{}),i.jsx(ie,{})]}),chunkSizeMin:1024*1024,chunkSizeMax:5*1024*1024*1024,chunkSizeDes:"policy.chunkSizeDesQiniuCos",nativeThumbDes:"policy.nativeThumbNailsGeneralCos",nativeThumbDoc:"https://cloud.tencent.com/document/product/436/113312",nativeExtractorName:"policy.mediaExtractorCos",nativeExtractorDes:"policy.nativeMediaMetaExtCos",nativeExtractorDesDoc:"https://console.cloud.tencent.com/ci",nativeExtractorDoc:"https://console.cloud.tencent.com/ci",akName:"SecretId",skName:"SecretKey",corsExposedHeaders:["ETag"],credentialDes:i.jsx(Z,{i18nKey:"policy.cosCredentialDes",ns:"dashboard",components:[i.jsx(te,{href:"https://console.cloud.tencent.com/cam/capi",target:"_blank"}),i.jsx(ie,{}),i.jsx(te,{href:"https://console.cloud.tencent.com/cam",target:"_blank"})]})},[he.oss]:{name:"policy.oss",img:"/static/img/oss.png",wizardSize:"sm",wizard:l_,chunkSizeMin:100*1024,chunkSizeMax:5*1024*1024*1024,chunkSizeDes:"policy.chunkSizeDesOssObs",nativeThumbDes:"policy.nativeThumbNailsGeneralOss",nativeThumbDoc:"https://help.aliyun.com/zh/oss/user-guide/overview-17/",nativeExtractorName:"policy.mediaExtractorOss",nativeExtractorDes:"policy.nativeMediaMetaExtOss",nativeExtractorDoc:"https://help.aliyun.com/zh/oss/user-guide/quick-start-2326698",nativeExtractorDesDoc:"https://help.aliyun.com/zh/oss/user-guide/quick-start-2326698",bucketName:"policy.bucketName",bucketNameDes:i.jsx(Z,{i18nKey:"policy.createOSSBucketDes",ns:"dashboard",components:[i.jsx(te,{href:"https://oss.console.aliyun.com/bucket",target:"_blank"}),i.jsx(ie,{}),i.jsx(ie,{})]}),bucketType:"policy.bucketType",akName:"AccessKey ID",skName:"AccessKey Secret",credentialDes:i.jsx(Z,{i18nKey:"policy.ossAKDes",ns:"dashboard",components:[i.jsx(te,{href:"https://ram.console.aliyun.com/profile/access-keys",target:"_blank"}),i.jsx(te,{href:"https://ram.console.aliyun.com/ram/overview",target:"_blank"}),i.jsx(ie,{})]})},[he.obs]:{name:"policy.obs",img:"/static/img/obs.png",wizardSize:"sm",wizard:a_,bucketName:"policy.cosObsBucketName",bucketNameDes:i.jsx(Z,{i18nKey:"policy.obsBucketDes",ns:"dashboard",components:[i.jsx(te,{href:"https://console.huaweicloud.com/console/#/obs/create",target:"_blank"}),i.jsx(ie,{}),i.jsx(ie,{}),i.jsx(ie,{})]}),bucketType:"policy.bucketPolicy",endpointName:"policy.policyEndpoint",endpointDes:i.jsx(Z,{i18nKey:"policy.obsEndpointDes",ns:"dashboard",components:[i.jsx(ie,{}),i.jsx(ie,{})]}),endpointNotEnforcePrefix:!0,akName:"Access Key Id",skName:"Secret Access Key",credentialDes:i.jsx(Z,{i18nKey:"policy.obsCredentialDes",ns:"dashboard",components:[i.jsx(te,{href:"https://console.huaweicloud.com/iam/#/mine/accessKey",target:"_blank"}),i.jsx(ie,{}),i.jsx(ie,{}),i.jsx(ie,{})]}),corsExposedHeaders:["ETag"],chunkSizeMin:100*1024,chunkSizeMax:5*1024*1024*1024,chunkSizeDes:"policy.chunkSizeDesOssObs",nativeThumbDes:"policy.nativeThumbNailsGeneralObs",nativeThumbDoc:"https://support.huaweicloud.com/intl/zh-cn/usermanual-obs/obs_01_0001.html",nativeExtractorName:"policy.mediaExtractorObs",nativeExtractorDes:"policy.nativeMediaMetaExtObs",nativeExtractorDoc:"https://support.huaweicloud.com/intl/zh-cn/usermanual-obs/obs_01_0410.html",nativeExtractorDesDoc:"https://support.huaweicloud.com/intl/zh-cn/usermanual-obs/obs_01_0410.html"},[he.qiniu]:{name:"policy.qiniu",img:"/static/img/qiniu.png",wizardSize:"sm",wizard:c_,bucketName:"policy.qiniuBucketName",bucketNameDes:i.jsx(Z,{i18nKey:"policy.enterQiniuBucket",ns:"dashboard",components:[i.jsx(te,{href:"https://portal.qiniu.com/kodo/bucket",target:"_blank"})]}),bucketType:"policy.aclType",akName:"AK",skName:"SK",credentialDes:i.jsx(Z,{i18nKey:"policy.qiniuCredentialDes",ns:"dashboard"}),nativeThumbDes:"policy.nativeThumbNailsGeneralQiniu",nativeThumbDoc:"https://developer.qiniu.com/dora/api/basic-processing-images-imageview2",nativeExtractorName:"policy.mediaExtractorQiniu",nativeExtractorDes:"policy.nativeMediaMetaExtQiniu",nativeExtractorDoc:"https://www.qiniu.com/products/dora",chunkSizeMin:1024*1024,chunkSizeMax:1024*1024*1024,chunkSizeDes:"policy.chunkSizeDesQiniuCos"},[he.upyun]:{name:"policy.upyun",img:"/static/img/upyun.png",wizardSize:"sm",wizard:f_,bucketName:"policy.storageServiceName",bucketNameDes:i.jsx(Z,{i18nKey:"policy.createUpyunBucketDes",ns:"dashboard",components:[i.jsx(te,{href:"https://console.upyun.com/console/service",target:"_blank"})]}),bucketType:"policy.tokenStatus",akName:"policy.operatorName",skName:"policy.operatorPassword",nativeThumbDes:"policy.nativeThumbNailsGeneralUpyun",nativeThumbDoc:"https://help.upyun.com/knowledge-base/image/",nativeExtractorName:"policy.mediaExtractorUpyun",nativeExtractorDes:"policy.nativeMediaMetaExtUpyun",nativeExtractorDesDoc:"https://help.upyun.com/knowledge-base/image/#e58583e695b0e68daee88eb7e58f96",nativeExtractorDoc:"https://help.upyun.com/knowledge-base/image/"},[he.onedrive]:{name:"policy.onedrive",img:"/static/img/onedrive.png",wizardSize:"sm",wizard:s_,chunkSizeMin:5*1024*1024,chunkSizeMax:5*1024*1024*1024,chunkSizeDes:"policy.chunkSizeDesOd",bucketName:"policy.storageServiceName",bucketNameDes:i.jsx(Z,{i18nKey:"policy.createUpyunBucketDes",ns:"dashboard",components:[i.jsx(te,{href:"https://console.upyun.com/console/service",target:"_blank"})]}),bucketType:"policy.tokenStatus"}},k9=()=>{const{t:e}=V("dashboard"),t=ge(),[r,n]=g.useState(!0),[a,o]=g.useState([]),[s,l]=Oe(bn,{defaultValue:"1"}),[u,c]=Oe(jn,{defaultValue:"11"}),[d,h]=Oe(_n,{defaultValue:""}),[f,p]=Oe(wn,{defaultValue:"desc"}),[m,x]=Oe(p_,{defaultValue:" "}),[v,b]=g.useState(0),[_,w]=g.useState(!1),[S,y]=g.useState(null),[j,C]=g.useState(!1);g.useState(!1);const P=parseInt(s)??1,A=parseInt(u)??11;g.useEffect(()=>{T()},[s,u,d,f,m]);const T=()=>{n(!0),t(md({page:P,page_size:A,order_by:d??"",order_direction:f??"desc",conditions:{policy_type:m==" "?"":m}})).then(z=>{o(z.policies),c(z.pagination.page_size.toString()),b(z.pagination.total_items??0),n(!1)}).finally(()=>{n(!1)})},k=g.useCallback(z=>{y(z),w(!1),C(!0)},[]),E=g.useCallback(z=>{x(z.target.value),l("1")},[]);return i.jsxs(Xt,{children:[i.jsx(Zj,{open:_,onClose:()=>w(!1),onSelect:k}),S&&i.jsx(Jj,{open:j,onClose:()=>C(!1),type:S}),i.jsxs(Gt,{maxWidth:"xl",children:[i.jsx(Yt,{title:e("dashboard:nav.storagePolicy")}),i.jsxs(ce,{direction:"row",spacing:1,sx:{mb:2},children:[i.jsx(Te,{onClick:T,disabled:r,variant:"contained",startIcon:i.jsx(qr,{}),children:e("node.refresh")}),i.jsxs(Ze,{value:m,onChange:E,renderValue:z=>i.jsx(L,{variant:"body2",children:z==" "?e("policy.all"):e(nr[z].name)}),children:[i.jsx(ke,{value:" ",children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:e("policy.all")})}),Object.values(he).map(z=>i.jsx(ke,{value:z,children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:e(nr[z].name)})},z))]})]}),i.jsxs(Bt,{container:!0,spacing:2,children:[i.jsx(Bt,{size:{xs:12,md:6,lg:4},children:i.jsxs(ka,{onClick:()=>w(!0),sx:{height:"100%",borderStyle:"dashed",display:"flex",alignItems:"center",gap:1,justifyContent:"center",color:z=>z.palette.text.secondary},children:[i.jsx(yr,{}),i.jsx(L,{variant:"h6",children:e("policy.newStoragePolicy")})]})}),!r&&a.map(z=>i.jsx(Jl,{policy:z,onRefresh:T},z.name)),r&&a.length>0&&a.map(z=>i.jsx(Jl,{loading:!0},`loading-${z.name}`)),r&&a.length===0&&Array.from(Array(5)).map((z,B)=>i.jsx(Jl,{loading:!0},`loading-${B}`))]}),v>0&&i.jsx($,{sx:{mt:1},children:i.jsx(sn,{page:P,totalItems:v,rowsPerPage:A,rowsPerPageOptions:[11,25,50,100,200,500,1e3],onRowsPerPageChange:z=>c(z.toString()),onChange:(z,B)=>l(B.toString())})})]})]})},g_=({reload:e,setLoading:t})=>{var S;const r=ge(),{enqueueSnackbar:n}=St(),a=Xe(),o=Wt(a.breakpoints.down("md")),{t:s}=V("dashboard"),{formRef:l,values:u,setUser:c}=g.useContext(vx),[d,h]=g.useState(!1),f=g.useCallback(()=>{c(y=>({...y,avatar:void 0}))},[c]),p=g.useCallback(y=>{c(j=>({...j,email:y.target.value}))},[c]),m=g.useCallback(y=>{c(j=>({...j,nick:y.target.value}))},[c]),x=g.useCallback(y=>{c(j=>({...j,status:y.target.value}))},[c]),v=g.useCallback(y=>{c(j=>({...j,group_users:parseInt(y)}))},[c]),b=g.useCallback(y=>{c(j=>({...j,password:y.target.value?y.target.value:void 0}))},[c]),_=g.useCallback(y=>{y.preventDefault(),c(j=>({...j,two_fa_enabled:!1}))},[c]),w=g.useCallback(y=>{y.preventDefault(),t(!0),r(pb(u.id)).then(()=>{e(),n({message:s("user.calibrateStorageSuccess"),variant:"success",action:st})}).finally(()=>{t(!1)})},[r,u.id]);return i.jsxs($,{component:"form",ref:l,onSubmit:y=>y.preventDefault(),children:[i.jsx(gn,{open:d,onClose:()=>h(!1)}),i.jsxs(ce,{spacing:o?2:3,direction:o?"column":"row",children:[i.jsxs(ce,{spacing:o?2:3,direction:"column",sx:{minWidth:200},children:[i.jsxs(O,{title:s("user.avatar"),noContainer:!0,lgWidth:12,children:[i.jsx(vr,{square:!0,overwriteTextSize:!0,sx:{width:150,height:150},user:{created_at:u.created_at,nickname:u.nick??"",id:u.avatar?u.hash_id??"":"dummy"}}),i.jsx(et,{in:!!u.avatar,unmountOnExit:!0,children:i.jsx(Te,{sx:{mt:1},onClick:f,variant:"contained",startIcon:i.jsx($r,{}),children:s("user.removeAvatar")})})]}),i.jsx(O,{title:s("user.id"),noContainer:!0,lgWidth:12,children:i.jsx(L,{variant:"body2",color:"text.secondary",children:s("user.idValue",{id:u.id,hash_id:u.hash_id})})}),i.jsxs(O,{title:s("application:vas.quota"),noContainer:!0,lgWidth:12,children:[i.jsx($,{sx:{mt:1,width:"100%"},children:i.jsx(R1,{forceRow:!0,capacity:u.capacity})}),i.jsx(L,{variant:"body2",sx:{mt:1},children:i.jsx(te,{href:"#/",onClick:w,underline:"hover",children:s("user.calibrateStorage")})})]}),i.jsx($,{children:i.jsxs(Te,{sx:{mt:1},onClick:()=>h(!0),variant:"contained",startIcon:i.jsx(Xj,{}),children:[s("user.openUserFiles")," ",i.jsx(qt,{label:"Pro",color:"primary",size:"small"})]})})]}),i.jsx(bt,{orientation:"vertical",flexItem:!0}),i.jsx($,{sx:{flexGrow:1},children:i.jsxs(Bt,{container:!0,spacing:o?2:3,children:[i.jsx(O,{title:s("user.email"),noContainer:!0,lgWidth:6,children:i.jsx(N,{fullWidth:!0,type:"email",value:u.email,required:!0,onChange:p})}),i.jsx(O,{title:s("user.nick"),noContainer:!0,lgWidth:6,children:i.jsx(N,{fullWidth:!0,value:u.nick,required:!0,onChange:m})}),i.jsx(O,{title:s("user.userStatus"),noContainer:!0,lgWidth:6,children:i.jsx(I,{fullWidth:!0,children:i.jsx(Ze,{value:u.status,onChange:x,children:Object.values(qn).map(y=>i.jsx(ke,{value:y,children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:s(`user.status_${y}`)})},y))})})}),i.jsx(O,{title:s("user.group"),noContainer:!0,lgWidth:6,children:i.jsx(ki,{value:((S=u.group_users)==null?void 0:S.toString())??"",onChange:v,fullWidth:!0})}),i.jsx(O,{title:s("application:vas.points"),noContainer:!0,lgWidth:6,pro:!0,children:i.jsx(N,{slotProps:{htmlInput:{type:"number",min:0,readOnly:!0}},fullWidth:!0,value:0})}),i.jsx(O,{title:s("user.password"),noContainer:!0,lgWidth:6,children:i.jsx(N,{placeholder:s("user.passwordDes"),fullWidth:!0,value:u.password??"",slotProps:{htmlInput:{minLength:6}},onChange:b,type:"password"})}),i.jsxs(O,{title:s("user.originUserGroup"),noContainer:!0,lgWidth:6,pro:!0,children:[i.jsx(ki,{value:" ",onChange:()=>{},emptyText:s("user.noOriginUserGroup"),emptyValue:" ",fullWidth:!0}),i.jsx(D,{children:s("user.originUserGroupDes")})]}),i.jsxs(O,{title:s("user.groupExpired"),noContainer:!0,lgWidth:6,pro:!0,children:[i.jsx(N,{fullWidth:!0,value:""}),i.jsx(D,{children:s("user.groupExpiredDes")})]}),i.jsx(O,{title:s("user.createdAt"),noContainer:!0,lgWidth:6,children:i.jsx(N,{fullWidth:!0,value:u.created_at??"",slotProps:{htmlInput:{readOnly:!0}}})}),i.jsx(O,{title:s("user.2FA"),noContainer:!0,lgWidth:6,children:i.jsxs(L,{variant:"body2",color:"text.secondary",children:[u.two_fa_enabled?s("user.2FAEnabled"):s("user.notEnabled"),u.two_fa_enabled&&i.jsx(te,{href:"#/",onClick:_,sx:{ml:1},underline:"hover",children:s("user.reset2Fa")})]})})]})})]})]})},zc={id:0,nick:"",email:"",edges:{}},vx=g.createContext({values:{...zc},setUser:()=>{}}),Mr=({open:e,onClose:t,userID:r,onUpdated:n})=>{const a=ge(),{t:o}=V("dashboard"),[s,l]=g.useState({...zc}),[u,c]=g.useState({...zc}),[d,h]=g.useState(!0),[f,p]=g.useState(!1),m=g.useRef(null),x=g.useMemo(()=>JSON.stringify(u)!==JSON.stringify(s),[u,s]),v=g.useCallback(()=>{r&&(h(!0),a(gb(r)).then(w=>{l(w),c(w)}).catch(()=>{t()}).finally(()=>{h(!1)}))},[r]);g.useEffect(()=>{v()},[r]);const b=()=>{c(s)},_=()=>{if(m.current&&!m.current.checkValidity()){m.current.reportValidity();return}const w={user:{...u}};w.user.two_fa_enabled||(w.two_fa="clear"),w.user.password&&(w.password=w.user.password),p(!0),a(Xm(w)).then(S=>{l(S),c(S),n==null||n(S)}).finally(()=>{p(!1)})};return i.jsx(vx.Provider,{value:{values:u,setUser:c,formRef:m},children:i.jsxs(ft,{title:o("user.userDialogTitle"),dialogProps:{fullWidth:!0,maxWidth:"md",open:e,onClose:t},children:[i.jsx(wt,{children:i.jsx(Qi,{children:i.jsx(ir,{children:i.jsx(ar,{addEndListener:(w,S)=>w.addEventListener("transitionend",S,!1),classNames:"fade",children:i.jsxs($,{children:[d&&i.jsx($,{sx:{py:15,height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:i.jsx(_t,{})}),!d&&i.jsx(g_,{setLoading:h,reload:v})]})},`${d}`)})})}),i.jsx(et,{in:x,children:i.jsxs(ol,{children:[i.jsx(De,{disabled:f,onClick:b,children:o("settings.revert")}),i.jsx(De,{loading:f,variant:"contained",onClick:_,children:o("settings.save")})]})})]})})},m_=({entityID:e,open:t,onDelete:r,onClose:n})=>{const{t:a}=V("dashboard"),o=ge(),[s,l]=g.useState(!1),[u,c]=g.useState(!1),d=g.useCallback(()=>{e&&(c==null||c(!0),o(mb({ids:e,force:s})).then(()=>{r==null||r(),n==null||n()}).finally(()=>{c==null||c(!1)}))},[e,s,c]);return i.jsx(ft,{title:a("common:areYouSure"),showActions:!0,loading:u,showCancel:!0,onAccept:d,dialogProps:{open:t??!1,onClose:n,fullWidth:!0,maxWidth:"xs"},children:i.jsx(wt,{children:i.jsxs(ce,{spacing:2,children:[i.jsx(Rm,{children:a("entity.confirmBatchDelete",{num:e==null?void 0:e.length})}),i.jsx(xb,{defaultExpanded:s,title:a("application:modals.advanceOptions"),children:i.jsx(dx,{children:i.jsx(Lr,{title:a("entity.forceDeleteDes"),children:i.jsx(Wc,{control:i.jsx(lt,{size:"small",onChange:h=>l(h.target.checked),checked:s}),label:a("entity.forceDelete")})})})})]})})})},hl=({value:e,onChange:t,emptyValue:r,emptyText:n,simplified:a})=>{const{t:o}=V("dashboard"),s=ge(),[l,u]=g.useState([]),[c,d]=g.useState(!1),[h,f]=g.useState({}),p=m=>{const{target:{value:x}}=m;t(x)};return g.useEffect(()=>{d(!0),s(md({page:1,page_size:1e3,order_by:"id",order_direction:"asc"})).then(m=>{u(m.policies),f(m.policies.reduce((x,v)=>(x[v.id]=v,x),{}))}).finally(()=>{d(!1)})},[]),i.jsx(I,{fullWidth:!0,children:i.jsxs(Ze,{value:e,required:!0,onChange:p,sx:{minHeight:39},renderValue:a?m=>{var x;return i.jsx(we,{primary:(x=h[m])==null?void 0:x.name,slotProps:{primary:{variant:"body2"}}})}:void 0,disabled:c,MenuProps:{PaperProps:{sx:{maxWidth:230}},MenuListProps:{sx:{"& .MuiMenuItem-root":{whiteSpace:"normal"}}}},children:[l.length>0&&l.map(m=>i.jsx(ke,{value:m.id,children:i.jsxs($,{sx:{display:"flex",flexDirection:"column"},children:[i.jsx(L,{variant:"body2",fontWeight:600,children:m.name}),i.jsx(L,{variant:"caption",color:"textSecondary",children:o(`policy.${m.type}`)})]})},m.id)),r!==void 0&&n&&i.jsx(ke,{value:r,children:i.jsx(we,{primary:i.jsx("em",{children:o(n)}),slotProps:{primary:{variant:"body2"}}})})]})})},x_=()=>{var s,l,u,c;const{t:e}=V("dashboard"),{setFile:t,values:r}=g.useContext(So),n=d=>{t(h=>{var f,p;return{...h,edges:{...h.edges,direct_links:(p=(f=h.edges)==null?void 0:f.direct_links)==null?void 0:p.filter(m=>m.id!==d)}}})},a=d=>{var h;window.open(((h=r==null?void 0:r.direct_link_map)==null?void 0:h[d])??"","_blank")},o=g.useCallback(d=>{var f;return new URL(((f=r==null?void 0:r.direct_link_map)==null?void 0:f[d])??"").pathname},[r==null?void 0:r.direct_link_map]);return i.jsx(pt,{component:Ct,sx:{maxHeight:"300px"},children:i.jsxs(gt,{size:"small",stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed"},children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(M,{width:90,children:e("group.#")}),i.jsx(M,{width:200,children:e("file.name")}),i.jsx(M,{width:100,children:e("file.downloads")}),i.jsx(M,{width:100,children:e("file.speed")}),i.jsx(M,{width:150,children:e("file.directLinkId")}),i.jsx(M,{width:200,children:e("file.createdAt")}),i.jsx(M,{width:100,align:"right"})]})}),i.jsxs(xt,{children:[(l=(s=r==null?void 0:r.edges)==null?void 0:s.direct_links)==null?void 0:l.map((d,h)=>{const f=o(d.id);return i.jsxs(je,{hover:!0,children:[i.jsx(ve,{children:i.jsx(xe,{variant:"inherit",children:d.id})}),i.jsx(ve,{children:i.jsx(xe,{variant:"inherit",children:d.name??""})}),i.jsx(ve,{children:i.jsx(xe,{variant:"inherit",children:d.downloads??0})}),i.jsx(ve,{children:i.jsx(xe,{variant:"inherit",children:d.speed?`${Kt(d.speed)}/s`:"-"})}),i.jsx(ve,{children:i.jsx(Lr,{title:f,children:i.jsx(xe,{variant:"inherit",children:f})})}),i.jsx(ve,{children:i.jsx(xe,{variant:"inherit",children:i.jsx(gr,{datetime:d.created_at??"",variant:"inherit",timeAgoThreshold:0})})}),i.jsxs(ve,{align:"right",children:[i.jsx(it,{size:"small",onClick:()=>a(d.id),children:i.jsx(sl,{fontSize:"small"})}),i.jsx(it,{size:"small",onClick:()=>n(d.id),children:i.jsx($r,{fontSize:"small"})})]})]},d.id)}),!((c=(u=r==null?void 0:r.edges)==null?void 0:u.direct_links)!=null&&c.length)&&i.jsx(je,{children:i.jsx(We,{colSpan:6,align:"center",children:e("file.noRecords")})})]})]})})},v_=()=>{var p,m,x,v;const{t:e}=V("dashboard"),{setFile:t,values:r}=g.useContext(So),[n,a]=g.useState(!1),[o,s]=g.useState(null),[l,u]=g.useState(!1),[c,d]=g.useState(null),h=b=>_=>{_.stopPropagation(),_.preventDefault(),s(b),a(!0)},f=b=>_=>{_.stopPropagation(),_.preventDefault(),d(b),u(!0)};return i.jsxs(pt,{component:Ct,sx:{maxHeight:"300px"},children:[i.jsx(Mr,{open:n,onClose:()=>a(!1),userID:o??void 0}),i.jsx(pl,{open:l,onClose:()=>u(!1),entityID:c??void 0}),i.jsxs(gt,{size:"small",stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed"},children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(M,{width:90,children:e("group.#")}),i.jsx(M,{width:100,children:e("file.blobType")}),i.jsx(M,{width:100,children:e("file.size")}),i.jsx(M,{width:100,children:e("file.storagePolicy")}),i.jsx(M,{width:200,children:e("file.source")}),i.jsx(M,{width:200,children:e("file.createdAt")}),i.jsx(M,{width:150,children:e("file.creator")})]})}),i.jsxs(xt,{children:[(m=(p=r==null?void 0:r.edges)==null?void 0:p.entities)==null?void 0:m.map((b,_)=>{var w,S,y,j,C,P,A,T;return i.jsxs(je,{hover:!0,sx:{cursor:"pointer"},onClick:f(b.id??0),children:[i.jsx(ve,{children:i.jsx(xe,{variant:"inherit",children:b.id})}),i.jsx(ve,{children:i.jsx(xe,{variant:"inherit",children:e(ll[b.type??Si.version])})}),i.jsx(ve,{children:i.jsx(xe,{variant:"inherit",children:Kt(b.size??0)})}),i.jsx(ve,{children:i.jsx(xe,{variant:"inherit",children:i.jsx(te,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},component:Rt,to:`/admin/policy/${(S=(w=b.edges)==null?void 0:w.storage_policy)==null?void 0:S.id}`,children:((j=(y=b.edges)==null?void 0:y.storage_policy)==null?void 0:j.name)??""})})}),i.jsx(ve,{children:i.jsx(Lr,{title:b.source??"",children:i.jsx(xe,{variant:"inherit",children:b.source??""})})}),i.jsx(ve,{children:i.jsx(xe,{variant:"inherit",children:i.jsx(gr,{datetime:b.created_at??"",variant:"inherit",timeAgoThreshold:0})})}),i.jsx(ve,{children:i.jsx(xe,{variant:"inherit",children:i.jsx(te,{underline:"hover",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},href:"#/",onClick:h(((P=(C=b.edges)==null?void 0:C.user)==null?void 0:P.id)??0),children:((T=(A=b.edges)==null?void 0:A.user)==null?void 0:T.nick)??""})})})]},b.id)}),!((v=(x=r==null?void 0:r.edges)==null?void 0:x.entities)!=null&&v.length)&&i.jsx(je,{children:i.jsx(We,{colSpan:6,align:"center",children:e("file.noEntities")})})]})]})]})},y_=()=>{var l,u,c,d;const{t:e}=V("dashboard"),{setFile:t,values:r}=g.useContext(So),n=(h,f)=>{t(p=>{var m,x;return{...p,edges:{...p.edges,metadata:(x=(m=p.edges)==null?void 0:m.metadata)==null?void 0:x.map((v,b)=>b===h?{...v,name:f}:v)}}})},a=(h,f)=>{t(p=>{var m,x;return{...p,edges:{...p.edges,metadata:(x=(m=p.edges)==null?void 0:m.metadata)==null?void 0:x.map((v,b)=>b===h?{...v,value:f}:v)}}})},o=(h,f)=>{t(p=>{var m,x;return{...p,edges:{...p.edges,metadata:(x=(m=p.edges)==null?void 0:m.metadata)==null?void 0:x.map((v,b)=>b===h?{...v,is_public:f?!0:void 0}:v)}}})},s=h=>{t(f=>{var p,m;return{...f,edges:{...f.edges,metadata:(m=(p=f.edges)==null?void 0:p.metadata)==null?void 0:m.filter(x=>x.id!==h)}}})};return i.jsx(pt,{component:Ct,sx:{maxHeight:"300px"},children:i.jsxs(gt,{size:"small",stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed"},children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(M,{width:150,children:e("file.name")}),i.jsx(M,{width:150,children:e("file.value")}),i.jsx(M,{width:50,children:e("file.isPublic")}),i.jsx(M,{width:90,children:e("group.#")}),i.jsx(M,{width:60,align:"right"})]})}),i.jsxs(xt,{children:[(u=(l=r==null?void 0:r.edges)==null?void 0:l.metadata)==null?void 0:u.map((h,f)=>i.jsxs(je,{hover:!0,children:[i.jsx(ve,{children:i.jsx(N,{fullWidth:!0,value:h.name,required:!0,onChange:p=>n(f,p.target.value)})}),i.jsx(ve,{children:i.jsx(N,{fullWidth:!0,value:h.value,onChange:p=>a(f,p.target.value)})}),i.jsx(ve,{children:i.jsx(lt,{size:"small",disableRipple:!0,color:"primary",checked:!!h.is_public,onChange:p=>o(f,p.target.checked)})}),i.jsx(ve,{children:i.jsx(xe,{variant:"inherit",children:h.id})}),i.jsx(ve,{align:"right",children:i.jsx(it,{size:"small",onClick:()=>s(h.id),children:i.jsx(Dr,{fontSize:"small"})})})]},h.id)),!((d=(c=r==null?void 0:r.edges)==null?void 0:c.metadata)!=null&&d.length)&&i.jsx(je,{children:i.jsx(We,{colSpan:6,align:"center",children:e("file.noMetadata")})})]})]})})},b_=at(es)(({theme:e})=>({minHeight:"40px",border:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`})),j_=()=>{var _,w,S,y,j,C,P,A,T;const e=ge(),t=Xe(),r=Wt(t.breakpoints.down("md")),{t:n}=V("dashboard"),{formRef:a,values:o,setFile:s}=g.useContext(So),[l,u]=g.useState(!1),[c,d]=g.useState(0),[h,f]=g.useState(!0),[p,m]=g.useState(null);g.useEffect(()=>{f(!0),e(vb({id:o.file_hash_id},!0)).then(k=>{const E=new Ym(k.path);m(E.parent().toString())}).catch(()=>{m(null)}).finally(()=>{f(!1)})},[o.id]);const x=g.useCallback(k=>{s(E=>({...E,name:k.target.value}))},[s]),v=k=>{var E,z;k.preventDefault(),u(!0),d(((z=(E=o==null?void 0:o.edges)==null?void 0:E.owner)==null?void 0:z.id)??0)},b=g.useMemo(()=>{var k,E;return Kt(((E=(k=o==null?void 0:o.edges)==null?void 0:k.entities)==null?void 0:E.reduce((z,B)=>z+(B.size??0),0))??0)},[(_=o==null?void 0:o.edges)==null?void 0:_.entities]);return i.jsxs(i.Fragment,{children:[i.jsx(Mr,{open:l,onClose:()=>u(!1),userID:c}),i.jsx($,{component:"form",ref:a,onSubmit:k=>k.preventDefault(),children:i.jsxs(Bt,{container:!0,spacing:r?2:3,alignItems:"stretch",children:[i.jsx(O,{title:n("file.id"),noContainer:!0,lgWidth:2,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:o.id})}),i.jsx(O,{title:n("file.size"),noContainer:!0,lgWidth:2,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:Kt(o.size??0)})}),i.jsx(O,{title:n("file.sizeUsed"),noContainer:!0,lgWidth:2,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:b})}),i.jsx(O,{title:n("file.shareLink"),noContainer:!0,lgWidth:2,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:i.jsx(Z,{i18nKey:"file.shareLinkNum",components:[i.jsx(te,{component:Rt,to:`/admin/share?file=${o==null?void 0:o.id}`,underline:"hover"},0)],ns:"dashboard",values:{num:((S=(w=o.edges)==null?void 0:w.shares)==null?void 0:S.length)??0}})})}),i.jsx(O,{title:n("file.uploader"),noContainer:!0,lgWidth:4,children:i.jsx(xe,{variant:"body2",color:"textSecondary",children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(vr,{sx:{width:24,height:24},overwriteTextSize:!0,user:{id:(o==null?void 0:o.user_hash_id)??"",nickname:((j=(y=o==null?void 0:o.edges)==null?void 0:y.owner)==null?void 0:j.nick)??"",created_at:((P=(C=o==null?void 0:o.edges)==null?void 0:C.owner)==null?void 0:P.created_at)??""}}),i.jsx(xe,{variant:"inherit",children:i.jsx(te,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onClick:v,underline:"hover",href:"#/",children:(T=(A=o==null?void 0:o.edges)==null?void 0:A.owner)==null?void 0:T.nick})})]})})}),i.jsx(O,{title:n("file.name"),noContainer:!0,lgWidth:6,children:i.jsx(N,{fullWidth:!0,value:o.name,required:!0,onChange:x})}),i.jsxs(O,{title:n("application:fileManager.parentFolder"),noContainer:!0,lgWidth:3,children:[!h&&i.jsxs(i.Fragment,{children:[p&&i.jsx(b_,{variant:"outlined",simplifiedFile:{path:p,type:Mn.folder}}),!p&&"-"]}),h&&i.jsx(ne,{variant:"text",width:100,height:40})]}),i.jsx(O,{title:n("file.primaryStoragePolicy"),noContainer:!0,lgWidth:3,pro:!0,children:i.jsx(hl,{simplified:!0,value:o.storage_policy_files??0,onChange:()=>{}})}),i.jsx(O,{title:n("file.metadata"),noContainer:!0,lgWidth:6,children:i.jsx(y_,{})}),i.jsx(O,{title:n("file.blobs"),noContainer:!0,lgWidth:6,children:i.jsx(v_,{})}),i.jsx(O,{title:n("file.directLinks"),noContainer:!0,lgWidth:12,children:i.jsx(x_,{})})]})})]})},Lc={id:0,name:"",size:0,edges:{}},So=g.createContext({values:{...Lc},setFile:()=>{}}),fl=({open:e,onClose:t,fileID:r,onUpdated:n})=>{const a=ge(),{t:o}=V("dashboard"),[s,l]=g.useState({...Lc}),[u,c]=g.useState({...Lc}),[d,h]=g.useState(!0),[f,p]=g.useState(!1),m=g.useRef(null),x=g.useMemo(()=>JSON.stringify(u)!==JSON.stringify(s),[u,s]);g.useEffect(()=>{!r||!e||(h(!0),a(yb(r)).then(_=>{l(_),c(_)}).catch(()=>{t()}).finally(()=>{h(!1)}))},[e]);const v=()=>{c(s)},b=()=>{if(m.current&&!m.current.checkValidity()){m.current.reportValidity();return}const _={file:{...u}};p(!0),a(bb(_)).then(w=>{l(w),c(w),n==null||n(w)}).finally(()=>{p(!1)})};return i.jsx(So.Provider,{value:{values:u,setFile:c,formRef:m},children:i.jsxs(ft,{title:o("file.fileDialogTitle"),dialogProps:{fullWidth:!0,maxWidth:"md",open:e,onClose:t},children:[i.jsx(wt,{children:i.jsx(Qi,{children:i.jsx(ir,{children:i.jsx(ar,{addEndListener:(_,w)=>_.addEventListener("transitionend",w,!1),classNames:"fade",children:i.jsxs($,{children:[d&&i.jsx($,{sx:{py:15,height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:i.jsx(_t,{})}),!d&&i.jsx(j_,{})]})},`${d}`)})})}),i.jsx(et,{in:x,children:i.jsxs(ol,{children:[i.jsx(De,{disabled:f,onClick:v,children:o("settings.revert")}),i.jsx(De,{loading:f,variant:"contained",onClick:b,children:o("settings.save")})]})})]})})},__=({files:e,userHashIDMap:t})=>{const{t:r}=V("dashboard"),[n,a]=g.useState(!1),[o,s]=g.useState(0),[l,u]=g.useState(!1),[c,d]=g.useState(0),h=p=>m=>{m.stopPropagation(),m.preventDefault(),a(!0),s(p)},f=p=>m=>{m.stopPropagation(),m.preventDefault(),u(!0),d(p)};return i.jsxs(i.Fragment,{children:[i.jsx(Mr,{open:n,onClose:()=>a(!1),userID:o}),i.jsx(fl,{open:l,onClose:()=>u(!1),fileID:c}),i.jsx(pt,{component:Ct,sx:{maxHeight:"300px"},children:i.jsxs(gt,{size:"small",stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed"},children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(M,{width:90,children:r("group.#")}),i.jsx(M,{width:200,children:r("file.name")}),i.jsx(M,{width:100,children:r("file.size")}),i.jsx(M,{width:100,children:r("file.uploader")}),i.jsx(M,{width:200,children:r("file.createdAt")})]})}),i.jsxs(xt,{children:[e==null?void 0:e.map((p,m)=>{var x,v,b,_,w,S;return i.jsxs(je,{hover:!0,sx:{cursor:"pointer"},onClick:f(p.id??0),children:[i.jsx(ve,{children:i.jsx(xe,{variant:"inherit",children:p.id})}),i.jsx(M,{children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(cl,{name:p.name??"",fileType:Mn.file}),i.jsx(xe,{variant:"inherit",children:p.name})]})}),i.jsx(ve,{children:i.jsx(xe,{variant:"inherit",children:Kt(p.size??0)})}),i.jsx(M,{children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(vr,{sx:{width:24,height:24},overwriteTextSize:!0,user:{id:t[p.owner_id??0]??"",nickname:((v=(x=p.edges)==null?void 0:x.owner)==null?void 0:v.nick)??"",created_at:((_=(b=p.edges)==null?void 0:b.owner)==null?void 0:_.created_at)??""}}),i.jsx(xe,{variant:"inherit",children:i.jsx(te,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onClick:h(p.owner_id??0),underline:"hover",href:"#/",children:(S=(w=p.edges)==null?void 0:w.owner)==null?void 0:S.nick})})]})}),i.jsx(ve,{children:i.jsx(xe,{variant:"inherit",children:i.jsx(gr,{datetime:p.created_at??"",variant:"inherit",timeAgoThreshold:0})})})]},p.id)}),!(e!=null&&e.length)&&i.jsx(je,{children:i.jsx(We,{colSpan:5,align:"center",children:r("file.noRecords")})})]})]})})]})},w_=({values:e})=>{var c,d,h,f,p,m,x,v,b,_,w;ge();const t=Xe(),r=Wt(t.breakpoints.down("md")),{t:n}=V("dashboard"),[a,o]=g.useState(!1),[s,l]=g.useState(0),u=S=>{var y,j;S.preventDefault(),o(!0),l(((j=(y=e==null?void 0:e.edges)==null?void 0:y.user)==null?void 0:j.id)??0)};return i.jsxs(i.Fragment,{children:[i.jsx(Mr,{open:a,onClose:()=>o(!1),userID:s}),i.jsx($,{children:i.jsxs(Bt,{container:!0,spacing:r?2:3,alignItems:"stretch",children:[i.jsx(O,{title:n("file.id"),noContainer:!0,lgWidth:2,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:e.id})}),i.jsx(O,{title:n("file.size"),noContainer:!0,lgWidth:2,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:Kt(e.size??0)})}),i.jsx(O,{title:n("file.blobType"),noContainer:!0,lgWidth:2,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:n(ll[e.type??Si.version])})}),i.jsx(O,{title:n("entity.refenenceCount"),noContainer:!0,lgWidth:2,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:e.reference_count??0})}),i.jsx(O,{title:n("file.creator"),noContainer:!0,lgWidth:4,children:i.jsx(xe,{variant:"body2",color:"textSecondary",children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(vr,{sx:{width:24,height:24},overwriteTextSize:!0,user:{id:(e==null?void 0:e.user_hash_id)??"",nickname:((d=(c=e==null?void 0:e.edges)==null?void 0:c.user)==null?void 0:d.nick)??"",created_at:((f=(h=e==null?void 0:e.edges)==null?void 0:h.user)==null?void 0:f.created_at)??""}}),i.jsx(xe,{variant:"inherit",children:i.jsx(te,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onClick:u,underline:"hover",href:"#/",children:(m=(p=e==null?void 0:e.edges)==null?void 0:p.user)==null?void 0:m.nick})})]})})}),i.jsx(O,{title:n("entity.uploadSessionID"),noContainer:!0,lgWidth:4,children:i.jsx(L,{variant:"body2",color:"textSecondary",sx:{wordBreak:"break-all"},children:e.upload_session_id??"-"})}),i.jsx(O,{title:n("file.source"),noContainer:!0,lgWidth:4,children:i.jsx(L,{variant:"body2",color:"textSecondary",sx:{wordBreak:"break-all"},children:e.source??"-"})}),i.jsx(O,{title:n("file.storagePolicy"),noContainer:!0,lgWidth:4,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:i.jsx(te,{component:Rt,underline:"hover",to:`/admin/policy/${(v=(x=e.edges)==null?void 0:x.storage_policy)==null?void 0:v.id}`,target:"_blank",children:(_=(b=e.edges)==null?void 0:b.storage_policy)==null?void 0:_.name})})}),i.jsx(O,{title:n("entity.referredFiles"),noContainer:!0,lgWidth:12,children:i.jsx(__,{files:((w=e.edges)==null?void 0:w.file)??[],userHashIDMap:e.user_hash_id_map??{}})})]})})]})},pl=({open:e,onClose:t,entityID:r})=>{const n=ge(),{t:a}=V("dashboard"),[o,s]=g.useState({edges:{},id:0}),[l,u]=g.useState(!0);return g.useEffect(()=>{!r||!e||(u(!0),n(jb(r)).then(c=>{s(c)}).catch(()=>{t()}).finally(()=>{u(!1)}))},[e]),i.jsx(ft,{title:a("entity.entityDialogTitle"),dialogProps:{fullWidth:!0,maxWidth:"md",open:e,onClose:t},children:i.jsx(wt,{children:i.jsx(Qi,{children:i.jsx(ir,{children:i.jsx(ar,{addEndListener:(c,d)=>c.addEventListener("transitionend",d,!1),classNames:"fade",children:i.jsxs($,{children:[l&&i.jsx($,{sx:{py:15,height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:i.jsx(_t,{})}),!l&&i.jsx(w_,{values:o})]})},`${l}`)})})})})},S_=({storagePolicy:e,setStoragePolicy:t,owner:r,setOwner:n,type:a,setType:o,clearFilters:s,onClose:l,open:u,...c})=>{const{t:d}=V("dashboard"),[h,f]=g.useState(e),[p,m]=g.useState(r),[x,v]=g.useState(a);g.useEffect(()=>{u&&(f(e),m(r),v(a))},[u]);const b=()=>{t(h),n(p),o(x),l==null||l({},"backdropClick")},_=()=>{f(""),m(""),v(void 0),s(),l==null||l({},"backdropClick")};return i.jsx(yo,{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},slotProps:{paper:{sx:{p:2,width:300,maxWidth:"100%"}}},onClose:l,open:u,...c,children:i.jsxs(ce,{spacing:2,children:[i.jsx(O,{title:d("file.uploaderID"),noContainer:!0,lgWidth:12,children:i.jsx(N,{fullWidth:!0,value:p,onChange:w=>m(w.target.value),placeholder:d("user.emptyNoFilter"),size:"small"})}),i.jsx(O,{title:d("file.blobType"),noContainer:!0,lgWidth:12,children:i.jsxs(Ze,{fullWidth:!0,displayEmpty:!0,value:x??-1,onChange:w=>v(w.target.value===-1?void 0:w.target.value),children:[[Si.version,Si.thumbnail,Si.live_photo].map(w=>i.jsx(ke,{value:w,children:i.jsx(we,{primary:d(ll[w]),slotProps:{primary:{variant:"body2"}}})},w)),i.jsx(ke,{value:-1,children:i.jsx(we,{primary:i.jsx("em",{children:d("user.all")}),slotProps:{primary:{variant:"body2"}}})})]})}),i.jsx(O,{title:d("file.storagePolicy"),noContainer:!0,lgWidth:12,children:i.jsx(hl,{value:h==""?-1:parseInt(h),onChange:w=>f(w.toString()),emptyValue:-1,emptyText:d("user.all")})}),i.jsxs($,{display:"flex",justifyContent:"space-between",children:[i.jsx(De,{variant:"outlined",size:"small",onClick:_,children:d("user.reset")}),i.jsx(De,{variant:"contained",size:"small",onClick:b,children:d("user.apply")})]})]})})},Zl=({entity:e,loading:t,selected:r,onDelete:n,onSelect:a,openUserDialog:o,openEntityDialog:s})=>{var b,_,w,S,y,j,C,P,A,T;const{t:l}=V("dashboard"),u=ge(),[c,d]=g.useState(!1),[h,f]=g.useState(!1),p=k=>{k.stopPropagation(),k.preventDefault(),a==null||a((e==null?void 0:e.id)??0)},m=k=>{k.stopPropagation();var E=window.open("","_blank");E==null||E.document.write("Loading entity URL..."),f(!0),u(wb((e==null?void 0:e.id)??0)).then(z=>{E?E.location.href=z:window.open(z,"_blank")}).finally(()=>{f(!1)}).catch(()=>{E&&E.close()})},x=k=>{var E,z;k.stopPropagation(),k.preventDefault(),o==null||o(((z=(E=e==null?void 0:e.edges)==null?void 0:E.user)==null?void 0:z.id)??0)},v=k=>{k.stopPropagation(),k.preventDefault(),n==null||n((e==null?void 0:e.id)??0)};return t?i.jsxs(je,{sx:{height:"43px"},children:[i.jsx(M,{children:i.jsx(ne,{variant:"circular",width:24,height:24})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:30})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:80})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:200})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:50})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:100})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:30})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:100})}),i.jsx(M,{children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(ne,{variant:"circular",width:24,height:24}),i.jsx(ne,{variant:"text",width:100})]})}),i.jsx(M,{children:i.jsx(ne,{variant:"circular",width:24,height:24})})]}):i.jsxs(je,{hover:!0,sx:{cursor:"pointer"},onClick:()=>s==null?void 0:s((e==null?void 0:e.id)??0),selected:r,children:[i.jsx(ve,{padding:"checkbox",children:i.jsx(lt,{size:"small",disableRipple:!0,color:"primary",onClick:p,checked:r})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:e==null?void 0:e.id})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:l(ll[(e==null?void 0:e.type)??Si.version])})}),i.jsx(M,{children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(Lr,{title:(e==null?void 0:e.source)||"",children:i.jsx(xe,{variant:"inherit",children:(e==null?void 0:e.source)||"-"})}),i.jsx($,{sx:{display:"flex",alignItems:"center",gap:.5},children:!(e!=null&&e.reference_count)&&i.jsx(Yr,{size:"small",label:l("entity.waitForRecycle")})})]})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:Kt((e==null?void 0:e.size)??0)})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:i.jsx(te,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},component:Rt,underline:"hover",to:`/admin/policy/${(_=(b=e==null?void 0:e.edges)==null?void 0:b.storage_policy)==null?void 0:_.id}`,children:((S=(w=e==null?void 0:e.edges)==null?void 0:w.storage_policy)==null?void 0:S.name)||"-"})})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:(e==null?void 0:e.reference_count)??0})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:i.jsx(gr,{datetime:(e==null?void 0:e.created_at)??"",variant:"inherit",timeAgoThreshold:0})})}),i.jsx(M,{children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(vr,{sx:{width:24,height:24},overwriteTextSize:!0,user:{id:(e==null?void 0:e.user_hash_id)??"",nickname:((j=(y=e==null?void 0:e.edges)==null?void 0:y.user)==null?void 0:j.nick)??"",created_at:((P=(C=e==null?void 0:e.edges)==null?void 0:C.user)==null?void 0:P.created_at)??""}}),i.jsx(xe,{variant:"inherit",children:i.jsx(te,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onClick:x,underline:"hover",href:"#/",children:((T=(A=e==null?void 0:e.edges)==null?void 0:A.user)==null?void 0:T.nick)||"-"})})]})}),i.jsx(M,{children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(it,{size:"small",onClick:m,disabled:h,children:i.jsx(_b,{fontSize:"small"})}),i.jsx(it,{size:"small",onClick:v,disabled:c,children:i.jsx($r,{fontSize:"small"})})]})})]},e==null?void 0:e.id)},C_="storage_policy",O_="user",P_="type",D9=()=>{const{t:e}=V("dashboard"),t=Xe(),r=Wt(t.breakpoints.down("sm")),n=ge(),[a,o]=g.useState(!0),[s,l]=g.useState([]),[u,c]=Oe(bn,{defaultValue:"1"}),[d,h]=Oe(jn,{defaultValue:"10"}),[f,p]=Oe(_n,{defaultValue:""}),[m,x]=Oe(wn,{defaultValue:"desc"}),[v,b]=Oe(C_,{defaultValue:""}),[_,w]=Oe(O_,{defaultValue:""}),[S,y]=Oe(P_,{defaultValue:""}),[j,C]=g.useState(0),[P,A]=g.useState([]),T=ri({variant:"popover",popupId:"entityFilterPopover"}),[k,E]=g.useState(!1),[z,B]=g.useState(void 0),[F,U]=g.useState(!1),[R,H]=g.useState(void 0),[X,ee]=g.useState(!1),[ue,J]=g.useState(void 0),le=parseInt(u)??1,Pe=parseInt(d)??10,Le=g.useCallback(()=>{b(""),w(""),y("")},[b,w,y]);g.useEffect(()=>{$e()},[u,d,f,m,v,_,S]);const $e=()=>{o(!0),A([]);const q={page:le,page_size:Pe,order_by:f??"",order_direction:m??"desc",conditions:{}};v&&(q.conditions.entity_policy=v),_&&(q.conditions.entity_user=_),S&&(q.conditions.entity_type=S),n(Sb(q)).then(se=>{l(se.entities),h(se.pagination.page_size.toString()),C(se.pagination.total_items??0),o(!1)}).finally(()=>{o(!1)})},Ye=()=>{ee(!0),J(Array.from(P))},Ue=q=>{if(q.target.checked){const se=s.map(Fe=>Fe.id);A(se);return}A([])},Q=g.useCallback(q=>{const se=P.indexOf(q);let Fe=[];se===-1?Fe=Fe.concat(P,q):se===0?Fe=Fe.concat(P.slice(1)):se===P.length-1?Fe=Fe.concat(P.slice(0,-1)):se>0&&(Fe=Fe.concat(P.slice(0,se),P.slice(se+1))),A(Fe)},[P]),oe=f==="id"||f==="",ae=m,G=q=>()=>{const se=f===q||q==="id"&&oe;p(q),x(se&&ae==="asc"?"desc":"asc")},pe=g.useMemo(()=>!!(v||_||S),[v,_,S]),fe=q=>{B(q),E(!0)},Ae=q=>{H(q),U(!0)},Y=q=>{ee(!0),J([q])};return i.jsxs(Xt,{children:[i.jsx(pl,{open:F,onClose:()=>U(!1),entityID:R}),i.jsx(Mr,{open:k,onClose:()=>E(!1),userID:z}),i.jsx(m_,{open:X,onClose:()=>ee(!1),entityID:ue,onDelete:$e}),i.jsxs(Gt,{maxWidth:"xl",children:[i.jsx(Yt,{title:e("dashboard:nav.entities")}),i.jsxs(ce,{direction:"row",spacing:1,sx:{mb:2},children:[i.jsx(S_,{...bo(T),storagePolicy:v,setStoragePolicy:b,owner:_,setOwner:w,type:S!==""?parseInt(S):void 0,setType:q=>y(q!==void 0?q.toString():""),clearFilters:Le}),i.jsx(Te,{onClick:$e,disabled:a,variant:"contained",startIcon:i.jsx(qr,{}),children:e("node.refresh")}),i.jsx(Yn,{color:"primary",variant:"dot",invisible:!pe,children:i.jsx(Te,{startIcon:i.jsx(_o,{}),variant:"contained",...ni(T),children:e("user.filter")})}),P.length>0&&!r&&i.jsxs(i.Fragment,{children:[i.jsx(bt,{orientation:"vertical",flexItem:!0}),i.jsx(De,{startIcon:i.jsx(Dr,{}),variant:"contained",color:"error",onClick:Ye,children:e("entity.deleteXEntities",{num:P.length})})]})]}),r&&P.length>0&&i.jsx(ce,{direction:"row",spacing:1,sx:{mb:2},children:i.jsx(De,{startIcon:i.jsx(Dr,{}),variant:"contained",color:"error",onClick:Ye,children:e("entity.deleteXEntities",{num:P.length})})}),i.jsx(pt,{component:Ct,sx:{mt:2},children:i.jsxs(gt,{size:"small",stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed"},children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(ve,{padding:"checkbox",sx:{width:"36px!important"},width:50,children:i.jsx(lt,{size:"small",indeterminate:P.length>0&&P.length<s.length,checked:s.length>0&&P.length===s.length,onChange:Ue})}),i.jsx(M,{width:80,children:i.jsx(ht,{active:oe,direction:oe?ae:"asc",onClick:G("id"),children:e("group.#")})}),i.jsx(M,{width:100,children:e("file.blobType")}),i.jsx(M,{width:250,children:e("file.source")}),i.jsx(M,{width:100,children:i.jsx(ht,{active:f==="size",direction:f==="size"?ae:"asc",onClick:G("size"),children:e("file.size")})}),i.jsx(M,{width:150,children:e("file.storagePolicy")}),i.jsx(M,{width:100,children:i.jsx(ht,{active:f==="reference_count",direction:f==="reference_count"?ae:"asc",onClick:G("reference_count"),children:e("entity.refenenceCount")})}),i.jsx(M,{width:180,children:i.jsx(ht,{active:f==="created_at",direction:f==="created_at"?ae:"asc",onClick:G("created_at"),children:e("file.createdAt")})}),i.jsx(M,{width:180,children:e("file.creator")}),i.jsx(M,{width:100})]})}),i.jsxs(xt,{children:[!a&&s.map(q=>i.jsx(Zl,{entity:q,onDelete:Y,selected:P.indexOf(q.id)!==-1,onSelect:Q,openUserDialog:fe,openEntityDialog:Ae},q.id)),a&&s.length>0&&s.slice(0,10).map(q=>i.jsx(Zl,{loading:!0},`loading-${q.id}`)),a&&s.length===0&&Array.from(Array(10)).map((q,se)=>i.jsx(Zl,{loading:!0},`loading-${se}`))]})]})}),j>0&&i.jsx($,{sx:{mt:1},children:i.jsx(sn,{page:le,totalItems:j,rowsPerPage:Pe,rowsPerPageOptions:[10,25,50,100,200,500],onRowsPerPageChange:q=>h(q.toString()),onChange:(q,se)=>c(se.toString())})})]})]})},A_=({storagePolicy:e,setStoragePolicy:t,owner:r,setOwner:n,name:a,setName:o,clearFilters:s,onClose:l,open:u,...c})=>{const{t:d}=V("dashboard"),[h,f]=g.useState(e),[p,m]=g.useState(r),[x,v]=g.useState(a);g.useEffect(()=>{u&&(f(e),m(r),v(a))},[u]);const b=()=>{t(h),n(p),o(x),l==null||l({},"backdropClick")},_=()=>{f(""),m(""),v(""),s(),l==null||l({},"backdropClick")};return i.jsx(yo,{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},slotProps:{paper:{sx:{p:2,width:300,maxWidth:"100%"}}},onClose:l,open:u,...c,children:i.jsxs(ce,{spacing:2,children:[i.jsx(O,{title:d("file.uploaderID"),noContainer:!0,lgWidth:12,children:i.jsx(N,{fullWidth:!0,value:p,onChange:w=>m(w.target.value),placeholder:d("user.emptyNoFilter"),size:"small"})}),i.jsx(O,{title:d("file.searchFileName"),noContainer:!0,lgWidth:12,children:i.jsx(N,{fullWidth:!0,value:x,onChange:w=>v(w.target.value),placeholder:d("user.emptyNoFilter"),size:"small"})}),i.jsx(O,{title:d("file.storagePolicy"),noContainer:!0,lgWidth:12,children:i.jsx(hl,{value:h==""?-1:parseInt(h),onChange:w=>f(w.toString()),emptyValue:-1,emptyText:d("user.all")})}),i.jsxs($,{display:"flex",justifyContent:"space-between",children:[i.jsx(De,{variant:"outlined",size:"small",onClick:_,children:d("user.reset")}),i.jsx(De,{variant:"contained",size:"small",onClick:b,children:d("user.apply")})]})]})})},ec=({file:e,loading:t,deleting:r,selected:n,onDelete:a,onDetails:o,onSelect:s,openUserDialog:l})=>{var y,j,C,P,A,T,k,E,z,B,F,U;xr();const{t:u}=V("dashboard"),c=ge(),[d,h]=g.useState(!1),[f,p]=g.useState(!1),m=()=>{o==null||o((e==null?void 0:e.id)??0)},x=R=>{R.stopPropagation(),R.preventDefault(),c(Tr(u("file.confirmDelete",{file:e==null?void 0:e.name}))).then(()=>{e!=null&&e.id&&(h(!0),c(Jm({ids:[e.id]})).then(()=>{a==null||a()}).finally(()=>{h(!1)}))})},v=R=>{R.stopPropagation(),p(!0);var H=window.open("","_blank");H==null||H.document.write("Loading file URL..."),c(Ab((e==null?void 0:e.id)??0)).then(X=>{H?H.location.href=X:window.open(X,"_blank")}).finally(()=>{p(!1)}).catch(()=>{H&&H.close()})},b=R=>{R.stopPropagation(),R.preventDefault(),s==null||s((e==null?void 0:e.id)??0)},_=g.useMemo(()=>{var R,H;return((R=e==null?void 0:e.edges)==null?void 0:R.metadata)&&((H=e==null?void 0:e.edges)==null?void 0:H.metadata.some(X=>X.name===Cb.upload_session_id))},[(y=e==null?void 0:e.edges)==null?void 0:y.metadata]);if(t)return i.jsxs(je,{sx:{height:"43px"},children:[i.jsx(M,{children:i.jsx(ne,{variant:"circular",width:24,height:24})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:30})}),i.jsx(M,{children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(ne,{variant:"circular",width:24,height:24}),i.jsx(ne,{variant:"text",width:200})]})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:50})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:50})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:100})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:100})}),i.jsx(M,{children:i.jsx(ne,{variant:"circular",width:24,height:24})})]});const w=R=>{R.stopPropagation(),R.preventDefault(),l==null||l((e==null?void 0:e.owner_id)??0)},S=g.useMemo(()=>{var R,H;return Kt(((H=(R=e==null?void 0:e.edges)==null?void 0:R.entities)==null?void 0:H.reduce((X,ee)=>X+(ee.size??0),0))??0)},[(j=e==null?void 0:e.edges)==null?void 0:j.entities]);return i.jsxs(je,{hover:!0,sx:{cursor:"pointer"},onClick:m,selected:n,children:[i.jsx(ve,{padding:"checkbox",children:i.jsx(lt,{disabled:r,size:"small",disableRipple:!0,color:"primary",onClick:b,checked:n})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:e==null?void 0:e.id})}),i.jsx(M,{children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(cl,{name:(e==null?void 0:e.name)??"",fileType:Mn.file}),i.jsx(xe,{variant:"inherit",children:e==null?void 0:e.name}),i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:.5},children:[_&&i.jsx(Ob,{disabled:!0}),((P=(C=e==null?void 0:e.edges)==null?void 0:C.direct_links)==null?void 0:P.length)&&i.jsx(Lr,{title:u("file.haveDirectLinks"),children:i.jsx($,{sx:{display:"flex",alignItems:"center"},children:i.jsx(Pb,{fontSize:"small",sx:{color:"text.secondary"}})})}),((T=(A=e==null?void 0:e.edges)==null?void 0:A.shares)==null?void 0:T.length)&&i.jsx(Lr,{title:u("file.haveShares"),children:i.jsx($,{sx:{display:"flex",alignItems:"center"},children:i.jsx(xj,{fontSize:"small",sx:{color:"text.secondary"}})})})]})]})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:Kt((e==null?void 0:e.size)??0)})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:S})}),i.jsx(M,{children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(vr,{sx:{width:24,height:24},overwriteTextSize:!0,user:{id:(e==null?void 0:e.user_hash_id)??"",nickname:((E=(k=e==null?void 0:e.edges)==null?void 0:k.owner)==null?void 0:E.nick)??"",created_at:((B=(z=e==null?void 0:e.edges)==null?void 0:z.owner)==null?void 0:B.created_at)??""}}),i.jsx(xe,{variant:"inherit",children:i.jsx(te,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onClick:w,underline:"hover",href:"#/",children:(U=(F=e==null?void 0:e.edges)==null?void 0:F.owner)==null?void 0:U.nick})})]})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:i.jsx(gr,{datetime:(e==null?void 0:e.created_at)??"",variant:"inherit",timeAgoThreshold:0})})}),i.jsx(M,{children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(it,{size:"small",onClick:v,disabled:f||r,children:i.jsx(sl,{fontSize:"small"})}),i.jsx(it,{size:"small",onClick:x,disabled:d||r,children:i.jsx($r,{fontSize:"small"})})]})})]},e==null?void 0:e.id)},k_=e=>{const t=Xe(),{t:r}=V(["dashboard","application"]),[n,a]=g.useState(null),[o,s]=g.useState(""),[l,u]=g.useState([]),[c,d]=g.useState(!1),h=ge(),f=g.useMemo(()=>kb((m,x)=>{d(!0),h(Db(m.input)).then(v=>{x(v)}).finally(()=>{d(!1)})},400),[h]);g.useEffect(()=>{let m=!0;if(o===""||o.length<2){u([]);return}return f({input:o},x=>{m&&u(x??[])}),()=>{m=!1}},[n,o,f]);const p=g.useMemo(()=>Eb({stringify:m=>m.nickname+" "+m.email}),[]);return i.jsx(Hm,{value:n,filterOptions:p,options:l,loading:c,blurOnSelect:!0,onChange:(m,x)=>{a(x),x&&e.onUserSelected(x)},onInputChange:(m,x)=>{s(x)},getOptionLabel:m=>typeof m=="string"?m:`${m.nickname} <${m.email}>`,noOptionsText:r("application:modals.noResults"),renderOption:(m,x)=>i.jsx("li",{...m,children:i.jsxs($,{sx:{display:"flex",width:"100%",alignItems:"center"},children:[i.jsx($,{children:i.jsx(vr,{user:x})}),i.jsxs(Ai,{sx:{width:"100%",ml:2},children:[x.nickname,x.email&&i.jsx(xe,{sx:{width:"100%"},variant:"body2",color:"text.secondary",children:x.email})]})]})}),renderInput:m=>i.jsx(N,{...m,sx:{"& .MuiInputBase-root":{},"& .MuiInputBase-root.MuiOutlinedInput-root":{paddingTop:t.spacing(.6),paddingBottom:t.spacing(.6)},mt:0},required:e.required,variant:"outlined",margin:"dense",placeholder:e.label||r("dashboard:file.selectUser"),type:"text",fullWidth:!0})})},Vh={storagePolicyId:void 0,externalPath:"",recursive:!0,targetUser:null,targetPath:"/",extractMediaMeta:!1},D_=({open:e,onClose:t})=>{const{t:r}=V("dashboard"),n=ge(),{enqueueSnackbar:a}=St(),[o,s]=g.useState(!1),[l,u]=g.useState({...Vh}),c=g.useRef(null);g.useEffect(()=>{e&&u({...Vh})},[e]);const d=()=>{var p,m;if(!((p=c.current)!=null&&p.checkValidity())){(m=c.current)==null||m.reportValidity();return}if(!l.targetUser){a(r("file.pleaseSelectUser"),{variant:"error",action:st});return}s(!0),n($b({src:l.externalPath,dst:l.targetPath,extract_media_meta:!1,user_id:l.targetUser.id,recursive:l.recursive,policy_id:l.storagePolicyId??0})).then(()=>{a(r("file.importTaskCreated"),{variant:"success",action:st}),t()}).finally(()=>{s(!1)})},h=p=>{u({...l,storagePolicyId:p})},f=p=>{u({...l,targetUser:p})};return i.jsx(ft,{onAccept:d,loading:o,title:r("file.importExternalFolder"),showActions:!0,showCancel:!0,dialogProps:{open:e,onClose:t,fullWidth:!0,maxWidth:"sm"},children:i.jsx(wt,{children:i.jsx("form",{ref:c,onSubmit:p=>{p.preventDefault(),d()},children:i.jsxs(ce,{spacing:2,children:[i.jsx(tn,{severity:"info",sx:{fontSize:p=>p.typography.body2.fontSize},children:r("file.importExternalFolderDes")}),i.jsxs(tn,{severity:"warning",sx:{fontSize:p=>p.typography.body2.fontSize},children:[i.jsx(Tb,{children:r("file.importWarning")}),i.jsx("ul",{style:{paddingInlineStart:"20px"},children:r("file.importWarnings",{returnObjects:!0}).map((p,m)=>i.jsx("li",{children:p.toString()},m))})]}),i.jsxs(O,{lgWidth:12,title:r("file.storagePolicy"),children:[i.jsx(hl,{value:l.storagePolicyId,onChange:h}),i.jsx(D,{children:r("file.storagePolicyDes")})]}),i.jsxs(O,{lgWidth:12,title:r("file.srcFolderPath"),children:[i.jsx(N,{fullWidth:!0,required:!0,placeholder:"/path/to/folder",value:l.externalPath,onChange:p=>u({...l,externalPath:p.target.value})}),i.jsx(D,{children:r("file.selectSrcDes")})]}),i.jsxs(O,{lgWidth:12,title:r("file.targetUser"),children:[i.jsx(k_,{onUserSelected:f,label:r("file.searchUser"),required:!0}),i.jsx(D,{children:r("file.targetUserDes")})]}),i.jsxs(O,{lgWidth:12,title:r("file.dstFolderPath"),children:[i.jsx(N,{fullWidth:!0,required:!0,value:l.targetPath,onChange:p=>u({...l,targetPath:p.target.value}),placeholder:"/"}),i.jsx(D,{children:r("file.dstFolderPathDes")})]}),i.jsxs(O,{lgWidth:12,children:[i.jsx(Wc,{control:i.jsx(lt,{size:"small",checked:l.recursive,onChange:p=>u({...l,recursive:p.target.checked})}),labelPlacement:"end",label:i.jsx(L,{variant:"body2",children:r("file.recursivelyImport")})}),i.jsx(D,{children:r("file.recursivelyImportDes")})]}),i.jsxs(O,{lgWidth:12,children:[i.jsx(Wc,{control:i.jsx(lt,{size:"small",checked:l.extractMediaMeta,onChange:p=>u({...l,extractMediaMeta:p.target.checked})}),labelPlacement:"end",label:i.jsx(L,{variant:"body2",children:r("file.extractMediaMeta")})}),i.jsx(D,{children:r("file.extractMediaMetaDes")})]})]})})})})},E_="storage_policy",T_="owner",$_="name",E9=()=>{const{t:e}=V("dashboard"),t=Xe(),r=Wt(t.breakpoints.down("sm")),n=ge(),[a,o]=g.useState(!0),[s,l]=g.useState([]),[u,c]=Oe(bn,{defaultValue:"1"}),[d,h]=Oe(jn,{defaultValue:"10"}),[f,p]=Oe(_n,{defaultValue:""}),[m,x]=Oe(wn,{defaultValue:"desc"}),[v,b]=Oe(E_,{defaultValue:""}),[_,w]=Oe(T_,{defaultValue:""}),[S,y]=Oe($_,{defaultValue:""}),[j,C]=g.useState(0),[P,A]=g.useState([]);g.useState(!1);const[T,k]=g.useState(!1),E=ri({variant:"popover",popupId:"userFilterPopover"}),[z,B]=g.useState(!1),[F,U]=g.useState(void 0),[R,H]=g.useState(!1),[X,ee]=g.useState(void 0),[ue,J]=g.useState(!1),le=parseInt(u)??1,Pe=parseInt(d)??11,Le=g.useCallback(()=>{b(""),w(""),y("")},[b,w,y]);g.useEffect(()=>{$e()},[u,d,f,m,v,_,S]);const $e=()=>{o(!0),A([]),n(Mb({page:le,page_size:Pe,order_by:f??"",order_direction:m??"desc",conditions:{file_policy:v,file_user:_,file_name:S}})).then(Y=>{l(Y.files),h(Y.pagination.page_size.toString()),C(Y.pagination.total_items??0),o(!1)}).finally(()=>{o(!1)})},Ye=()=>{J(!0),n(Tr(e("file.confirmBatchDelete",{num:P.length}))).then(()=>{n(Jm({ids:Array.from(P)})).then(()=>{$e()}).finally(()=>{J(!1)})}).finally(()=>{J(!1)})},Ue=Y=>{if(Y.target.checked){const q=s.map(se=>se.id);A(q);return}A([])},Q=g.useCallback(Y=>{const q=P.indexOf(Y);let se=[];q===-1?se=se.concat(P,Y):q===0?se=se.concat(P.slice(1)):q===P.length-1?se=se.concat(P.slice(0,-1)):q>0&&(se=se.concat(P.slice(0,q),P.slice(q+1))),A(se)},[P]),oe=f==="id"||f==="",ae=m,G=Y=>()=>{const q=f===Y||Y==="id"&&oe;p(Y),x(q&&ae==="asc"?"desc":"asc")},pe=g.useMemo(()=>!!(v||_||S),[v,_,S]),fe=Y=>{ee(Y),H(!0)},Ae=Y=>{U(Y),B(!0)};return i.jsxs(Xt,{children:[i.jsx(fl,{open:R,onClose:()=>H(!1),fileID:X,onUpdated:Y=>{ee(Y.id),H(!0)}}),i.jsx(Mr,{open:z,onClose:()=>B(!1),userID:F}),i.jsx(D_,{open:T,onClose:()=>k(!1)}),i.jsxs(Gt,{maxWidth:"xl",children:[i.jsx(Yt,{title:e("dashboard:nav.files")}),i.jsxs(ce,{direction:"row",spacing:1,sx:{mb:2},children:[i.jsx(De,{onClick:()=>k(!0),variant:"contained",startIcon:i.jsx(cj,{}),children:e("file.import")}),i.jsx(A_,{...bo(E),storagePolicy:v,setStoragePolicy:b,owner:_,setOwner:w,name:S,setName:y,clearFilters:Le}),i.jsx(Te,{onClick:$e,disabled:a,variant:"contained",startIcon:i.jsx(qr,{}),children:e("node.refresh")}),i.jsx(Yn,{color:"primary",variant:"dot",invisible:!pe,children:i.jsx(Te,{startIcon:i.jsx(_o,{}),variant:"contained",...ni(E),children:e("user.filter")})}),P.length>0&&!r&&i.jsxs(i.Fragment,{children:[i.jsx(bt,{orientation:"vertical",flexItem:!0}),i.jsx(De,{startIcon:i.jsx(Dr,{}),variant:"contained",color:"error",onClick:Ye,children:e("file.deleteXFiles",{num:P.length})})]})]}),r&&P.length>0&&i.jsx(ce,{direction:"row",spacing:1,sx:{mb:2},children:i.jsx(De,{startIcon:i.jsx(Dr,{}),variant:"contained",color:"error",onClick:Ye,children:e("file.deleteXFiles",{num:P.length})})}),i.jsx(pt,{component:Ct,sx:{mt:2},children:i.jsxs(gt,{size:"small",stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed"},children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(ve,{padding:"checkbox",sx:{width:"36px!important"},width:50,children:i.jsx(lt,{size:"small",disableRipple:!0,color:"primary",indeterminate:P.length>0&&P.length<s.length,checked:s.length>0&&P.length===s.length,onChange:Ue})}),i.jsx(M,{width:60,sortDirection:oe?ae:!1,children:i.jsx(ht,{active:oe,direction:ae,onClick:G("id"),children:e("group.#")})}),i.jsx(M,{width:300,children:i.jsx(ht,{active:f==="name",direction:ae,onClick:G("name"),children:e("file.name")})}),i.jsx(M,{width:70,children:i.jsx(ht,{active:f==="size",direction:ae,onClick:G("size"),children:e("file.size")})}),i.jsx(M,{width:70,children:e("file.sizeUsed")}),i.jsx(M,{width:150,children:e("file.uploader")}),i.jsx(M,{width:150,children:i.jsx(ht,{active:f==="created_at",direction:ae,onClick:G("created_at"),children:e("file.createdAt")})}),i.jsx(M,{width:100,align:"right"})]})}),i.jsxs(xt,{children:[!a&&s.map(Y=>i.jsx(ec,{deleting:ue,file:Y,onDelete:$e,selected:P.includes(Y.id),onSelect:Q,onDetails:fe,openUserDialog:Ae},Y.id)),a&&s.length>0&&s.slice(0,10).map(Y=>i.jsx(ec,{loading:!0},`loading-${Y.id}`)),a&&s.length===0&&Array.from(Array(10)).map((Y,q)=>i.jsx(ec,{loading:!0},`loading-${q}`))]})]})}),j>0&&i.jsx($,{sx:{mt:1},children:i.jsx(sn,{page:le,totalItems:j,rowsPerPage:Pe,rowsPerPageOptions:[10,25,50,100,200,500],onRowsPerPageChange:Y=>h(Y.toString()),onChange:(Y,q)=>c(q.toString())})})]})]})};function M_(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M3 5.75A.75.75 0 0 1 3.75 5c2.663 0 5.258-.943 7.8-2.85a.75.75 0 0 1 .9 0C14.992 4.057 17.587 5 20.25 5a.75.75 0 0 1 .75.75V11c0 5.001-2.958 8.676-8.725 10.948a.75.75 0 0 1-.55 0C5.958 19.676 3 16 3 11zm1.5.728V11c0 4.256 2.453 7.379 7.5 9.442c5.047-2.063 7.5-5.186 7.5-9.442V6.478c-2.577-.152-5.08-1.09-7.5-2.8c-2.42 1.71-4.923 2.648-7.5 2.8"})})}const Jn=3,tc=({group:e,loading:t,onDelete:r})=>{const n=xr(),{t:a}=V("dashboard"),o=ge(),[s,l]=g.useState(void 0),[u,c]=g.useState(!1),[d,h]=g.useState(!1),f=_=>w=>{w.stopPropagation(),n(`/admin/policy/${_}`)},p=()=>{n(`/admin/group/${e==null?void 0:e.id}`)},m=g.useMemo(()=>new Et(e==null?void 0:e.permissions),[e==null?void 0:e.permissions]),x=_=>{_.stopPropagation(),_.preventDefault(),c(!0),o(Zm((e==null?void 0:e.id)??0,!0)).then(w=>{l(w.total_users),c(!1)}).finally(()=>{c(!1)})},v=_=>{_.stopPropagation(),_.preventDefault(),o(Tr(a("group.confirmDelete",{group:e==null?void 0:e.name}))).then(()=>{e!=null&&e.id&&(h(!0),o(Ib(e.id)).then(()=>{r==null||r()}).finally(()=>{h(!1)}))})},b=_=>{_.stopPropagation()};return t?i.jsxs(je,{children:[i.jsx(M,{children:i.jsx(ne,{variant:"text",width:50})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:150})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:150})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:150})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:150})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:100})})]}):i.jsxs(je,{hover:!0,sx:{cursor:"pointer"},onClick:p,children:[i.jsx(M,{children:e==null?void 0:e.id}),i.jsx(M,{children:i.jsxs(Ai,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(xe,{variant:"inherit",children:e==null?void 0:e.name}),i.jsxs($,{sx:{display:"flex",alignItems:"center"},children:[((e==null?void 0:e.id)??0)<=3&&i.jsx(Lr,{title:a("group.sysGroup"),children:i.jsx($,{sx:{display:"flex",alignItems:"center"},children:i.jsx(M_,{fontSize:"small",sx:{color:"text.secondary"}})})}),((e==null?void 0:e.id)??0)==Jn&&i.jsx(Lr,{title:a("group.anonymous"),children:i.jsx($,{sx:{display:"flex",alignItems:"center"},children:i.jsx(Qm,{fontSize:"small",sx:{color:"text.secondary"}})})}),m.enabled(rt.is_admin)&&i.jsx(Lr,{title:a("group.adminGroup"),children:i.jsx($,{sx:{display:"flex",alignItems:"center"},children:i.jsx(bd,{fontSize:"small",sx:{color:"primary.main"}})})})]})]})}),i.jsx(M,{children:i.jsx($,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:(e==null?void 0:e.edges.storage_policies)&&i.jsx(Yr,{onClick:f(e.edges.storage_policies.id),label:e.edges.storage_policies.name,size:"small"},e.edges.storage_policies.id)})}),i.jsx(M,{children:u?i.jsx(ne,{variant:"text",width:50}):s!=null?i.jsx(te,{component:Rt,to:`/admin/user?group=${e==null?void 0:e.id}`,underline:"hover",onClick:b,children:s}):i.jsx(te,{href:"/#",underline:"hover",onClick:x,children:a("group.countUser")})}),i.jsx(M,{children:Kt((e==null?void 0:e.max_storage)??0)}),i.jsx(M,{children:i.jsx(it,{size:"small",onClick:v,disabled:d||((e==null?void 0:e.id)??0)<=3,children:i.jsx($r,{fontSize:"small"})})})]},e==null?void 0:e.id)},Bc={id:0,name:"",edges:{}},ta=g.createContext({values:{...Bc},setGroup:()=>{}}),di=e=>{var t;return{...e,edges:{storage_policies:{id:((t=e.edges.storage_policies)==null?void 0:t.id)??0}}}},I_=({groupID:e,children:t,onGroupChange:r})=>{const n=ge();V("dashboard");const[a,o]=g.useState({...Bc}),[s,l]=g.useState({...Bc}),[u,c]=g.useState(!0),[d,h]=g.useState(!1),f=g.useRef(null),p=g.useMemo(()=>JSON.stringify(s)!==JSON.stringify(a),[s,a]);g.useEffect(()=>{c(!0),n(Zm(e)).then(v=>{o(di(v)),l(di(v)),r(di(v))}).finally(()=>{c(!1)})},[e]);const m=()=>{l(a)},x=()=>{if(f.current&&!f.current.checkValidity()){f.current.reportValidity();return}h(!0),n(ex({group:{...s}})).then(v=>{o(di(v)),l(di(v)),r(di(v))}).finally(()=>{h(!1)})};return i.jsx(ta.Provider,{value:{values:s,setGroup:l,formRef:f},children:i.jsx(ir,{children:i.jsx(ar,{addEndListener:(v,b)=>v.addEventListener("transitionend",b,!1),classNames:"fade",children:i.jsxs($,{sx:{mt:3},children:[u&&i.jsx($,{sx:{pt:20,height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:i.jsx(_t,{})}),!u&&i.jsxs($,{children:[t,i.jsx(dl,{in:p,submitting:d,revert:m,submit:x})]})]})},`${u}`)})})},W_=({value:e,onChange:t})=>{const{t:r}=V("dashboard"),n=ge(),[a,o]=g.useState([]),[s,l]=g.useState(!1),[u,c]=g.useState({}),d=h=>{const{target:{value:f}}=h;t(f)};return g.useEffect(()=>{l(!0),n(md({page:1,page_size:1e3,order_by:"id",order_direction:"asc"})).then(h=>{o(h.policies),c(h.policies.reduce((f,p)=>(f[p.id]=p,f),{}))}).finally(()=>{l(!1)})},[]),i.jsx(I,{fullWidth:!0,children:i.jsx(Ze,{value:e,required:!0,onChange:d,sx:{minHeight:39},disabled:s,MenuProps:{PaperProps:{sx:{maxWidth:230}},MenuListProps:{sx:{"& .MuiMenuItem-root":{whiteSpace:"normal"}}}},renderValue:h=>{var f;return i.jsx($,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:s?i.jsx(_t,{size:20,sx:{mt:"1px"}}):i.jsx(Yr,{size:"small",label:(f=u[h])==null?void 0:f.name},h)})},children:a.length>0&&a.map(h=>i.jsx(ke,{value:h.id,children:i.jsxs($,{sx:{display:"flex",flexDirection:"column"},children:[i.jsx(L,{variant:"body2",fontWeight:600,children:h.name}),i.jsx(L,{variant:"caption",color:"textSecondary",children:r(`policy.${h.type}`)})]})},h.id))})})},N_=()=>{var u;const{t:e}=V("dashboard"),{values:t,setGroup:r}=g.useContext(ta),n=g.useMemo(()=>new Et(t.permissions??""),[t.permissions]),a=g.useCallback(c=>{r(d=>({...d,name:c.target.value}))},[r]),o=g.useCallback(c=>{r(d=>({...d,edges:{...d.edges,storage_policies:{id:c}}}))},[r]),s=g.useCallback(c=>{r(d=>({...d,max_storage:c||void 0}))},[r]),l=g.useCallback(c=>{r(d=>({...d,permissions:new Et(d.permissions).set(rt.is_admin,c.target.checked).toString()}))},[r]);return i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("policy.basicInfo")}),i.jsxs(Me,{children:[(t==null?void 0:t.id)==Jn&&i.jsx(O,{lgWidth:5,children:i.jsx(tn,{icon:i.jsx(Qm,{fontSize:"inherit"}),severity:"info",children:e("group.anonymousHint")})}),i.jsx(O,{title:e("group.nameOfGroup"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,value:t.name,onChange:a}),i.jsx(D,{children:e("group.nameOfGroupDes")})]})}),(t==null?void 0:t.id)!=Jn&&i.jsxs(i.Fragment,{children:[i.jsxs(O,{title:e("group.availablePolicies"),lgWidth:5,children:[i.jsx(W_,{value:((u=t.edges.storage_policies)==null?void 0:u.id)??0,onChange:o}),i.jsx(D,{children:e("group.availablePoliciesDes")}),i.jsxs(D,{children:[i.jsx(qt,{size:"small",label:"Pro",sx:{ml:0}})," ",e("group.availablePolicyDesPro")]})]}),i.jsx(O,{title:e("group.initialStorageQuota"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(or,{variant:"outlined",required:!0,value:t.max_storage??0,onChange:s}),i.jsx(D,{children:e("group.initialStorageQuotaDes")})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{disabled:t.id==1,control:i.jsx(Ee,{checked:n.enabled(rt.is_admin),onChange:l}),label:e("group.isAdmin")}),i.jsx(D,{children:e("group.isAdminDes")})]})})]})]})]})},z_=()=>{const{t:e}=V("dashboard");return ge(),i.jsx(Ze,{multiple:!0,displayEmpty:!0,sx:{minHeight:39},MenuProps:{PaperProps:{sx:{maxWidth:230}},MenuListProps:{sx:{"& .MuiMenuItem-root":{whiteSpace:"normal"}}}},renderValue:t=>i.jsx(we,{primary:i.jsx("em",{children:e("group.allNodes")}),slotProps:{primary:{color:"textSecondary",variant:"body2"}}})})},L_=g.lazy(()=>mn(()=>import("./MonacoEditor-BbzhZksg.js"),__vite__mapDeps([0,1,2,3,4,5]))),B_=()=>{var y,j,C,P,A,T;const{t:e}=V("dashboard"),{values:t,setGroup:r}=g.useContext(ta),[n,a]=g.useState(!1),o=Xe(),[s,l]=g.useState(""),u=g.useMemo(()=>new Et(t.permissions??""),[t.permissions]);g.useEffect(()=>{var k,E;l((k=t.settings)!=null&&k.remote_download_options?JSON.stringify((E=t.settings)==null?void 0:E.remote_download_options,null,2):"")},[(y=t.settings)==null?void 0:y.remote_download_options]);const c=g.useCallback(k=>{r(E=>({...E,permissions:new Et(E.permissions).set(rt.webdav,k.target.checked).toString()}))},[r]),d=g.useCallback(k=>{r(E=>({...E,permissions:new Et(E.permissions).set(rt.webdav_proxy,k.target.checked).toString()}))},[r]),h=g.useCallback(k=>{r(E=>({...E,permissions:new Et(E.permissions).set(rt.archive_task,k.target.checked).toString()}))},[r]),f=g.useCallback(k=>{r(E=>({...E,settings:{...E.settings,compress_size:k||void 0}}))},[r]),p=g.useCallback(k=>{r(E=>({...E,settings:{...E.settings,decompress_size:k||void 0}}))},[r]),m=g.useCallback(k=>{r(E=>({...E,permissions:new Et(E.permissions).set(rt.remote_download,k.target.checked).toString()}))},[r]),x=g.useCallback(k=>{var E=void 0;if(k)try{E=JSON.parse(k)}catch(z){console.error(z)}r(z=>({...z,settings:{...z.settings,remote_download_options:E}}))},[s,r]),v=g.useCallback(k=>{r(E=>({...E,settings:{...E.settings,aria2_batch:parseInt(k.target.value)?parseInt(k.target.value):void 0}}))},[r]),b=g.useCallback(k=>{r(E=>({...E,permissions:new Et(E.permissions).set(rt.advance_delete,k.target.checked).toString()}))},[r]),_=g.useCallback(k=>{r(E=>({...E,settings:{...E.settings,max_walked_files:parseInt(k.target.value)?parseInt(k.target.value):void 0}}))},[r]),w=g.useCallback(k=>{r(E=>({...E,settings:{...E.settings,trash_retention:parseInt(k.target.value)?parseInt(k.target.value):void 0}}))},[r]),S=g.useCallback(k=>{k.stopPropagation(),a(!0)},[]);return i.jsxs(Ne,{children:[i.jsx(gn,{open:n,onClose:()=>a(!1)}),i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("group.fileManagement")}),i.jsxs(Me,{children:[(t==null?void 0:t.id)!=Jn&&i.jsxs(i.Fragment,{children:[i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:u.enabled(rt.webdav),onChange:c}),label:e("group.allowWabDAV")}),i.jsx(D,{children:e("group.allowWabDAVDes")})]})}),i.jsx(et,{in:u.enabled(rt.webdav),unmountOnExit:!0,children:i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:u.enabled(rt.webdav_proxy),onChange:d}),label:e("group.allowWabDAVProxy")}),i.jsx(D,{children:e("group.allowWabDAVProxyDes")})]})})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,onClick:S,children:[i.jsx(be,{control:i.jsx(Ee,{checked:!1}),label:i.jsxs($,{sx:{display:"flex",alignItems:"center"},children:[e("group.migratePolicy"),i.jsx(qt,{size:"small",label:"Pro"})]})}),i.jsx(D,{children:e("group.migratePolicyDes")})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:u.enabled(rt.archive_task),onChange:h}),label:e("group.compressTask")}),i.jsx(D,{children:e("group.compressTaskDes")})]})}),i.jsx(et,{in:u.enabled(rt.archive_task),unmountOnExit:!0,children:i.jsxs(ce,{spacing:3,children:[i.jsx(O,{title:e("group.compressSize"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(or,{variant:"outlined",required:!0,value:((j=t.settings)==null?void 0:j.compress_size)??0,onChange:f}),i.jsx(D,{children:e("group.compressSizeDes")})]})}),i.jsx(O,{title:e("group.decompressSize"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(or,{variant:"outlined",required:!0,value:((C=t.settings)==null?void 0:C.decompress_size)??0,onChange:p}),i.jsx(D,{children:e("group.decompressSizeDes")})]})})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:u.enabled(rt.remote_download),onChange:m}),label:e("group.allowRemoteDownload")}),i.jsx(D,{children:i.jsx(Z,{ns:"dashboard",i18nKey:"group.allowRemoteDownloadDes",components:[i.jsx(te,{component:Rt,to:"/admin/node"})]})})]})}),i.jsx(et,{in:u.enabled(rt.remote_download),unmountOnExit:!0,children:i.jsxs(ce,{spacing:3,children:[i.jsx(O,{title:e("group.aria2Options"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(g.Suspense,{fallback:i.jsx(ns,{}),children:i.jsx(L_,{theme:o.palette.mode==="dark"?"vs-dark":"vs",language:"json",value:s,onChange:k=>l(k||""),onBlur:x,height:"200px",minHeight:"200px",options:{wordWrap:"on",minimap:{enabled:!1},scrollBeyondLastLine:!1}})}),i.jsx(D,{children:e("group.aria2OptionsDes")})]})}),i.jsx(O,{title:e("group.aria2BatchSize"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{slotProps:{htmlInput:{type:"number",min:0}},value:((P=t.settings)==null?void 0:P.aria2_batch)??0,onChange:v}),i.jsx(D,{children:e("group.aria2BatchSizeDes")})]})})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:u.enabled(rt.advance_delete),onChange:b}),label:e("group.advanceDelete")}),i.jsx(D,{children:e("group.advanceDeleteDes")})]})}),i.jsx(O,{title:e("group.allowedNodes"),lgWidth:5,pro:!0,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(z_,{}),i.jsx(D,{children:e("group.allowedNodesDes")})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,onClick:S,children:[i.jsx(be,{control:i.jsx(Ee,{checked:!1}),label:i.jsxs($,{sx:{display:"flex",alignItems:"center"},children:[e("group.allowSelectNode"),i.jsx(qt,{size:"small",label:"Pro"})]})}),i.jsx(D,{children:e("group.allowSelectNodeDes")})]})})]}),i.jsx(O,{title:e("group.maxWalkedFiles"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,slotProps:{htmlInput:{type:"number",min:1}},value:((A=t.settings)==null?void 0:A.max_walked_files)??0,onChange:_}),i.jsx(D,{children:e("group.maxWalkedFilesDes")})]})}),(t==null?void 0:t.id)!=Jn&&i.jsx(O,{title:e("group.trashBinDuration"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,slotProps:{htmlInput:{type:"number",min:1}},value:((T=t.settings)==null?void 0:T.trash_retention)??0,onChange:w}),i.jsx(D,{children:e("group.trashBinDurationDes")})]})})]})]})},R_=()=>{const{t:e}=V("dashboard"),{values:t,setGroup:r}=g.useContext(ta),[n,a]=g.useState(!1),o=g.useMemo(()=>new Et(t.permissions??""),[t.permissions]),s=g.useCallback(c=>{r(d=>({...d,permissions:new Et(d.permissions).set(rt.share,c.target.checked).toString()}))},[r]),l=g.useCallback(c=>{r(d=>({...d,permissions:new Et(d.permissions).set(rt.share_download,c.target.checked).toString()}))},[r]),u=c=>{c.stopPropagation(),a(!0)};return i.jsxs(Ne,{children:[i.jsx(gn,{open:n,onClose:()=>a(!1)}),i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("group.share")}),i.jsxs(Me,{children:[(t==null?void 0:t.id)!=Jn&&i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:o.enabled(rt.share),onChange:s}),label:e("group.allowCreateShareLink")}),i.jsx(D,{children:e("group.allowCreateShareLinkDes")})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,onClick:u,children:[i.jsx(be,{control:i.jsx(Ee,{checked:!1}),label:i.jsxs($,{sx:{display:"flex",alignItems:"center"},children:[e("group.shareFree"),i.jsx(qt,{size:"small",label:"Pro"})]})}),i.jsx(D,{children:e("group.shareFreeDes")})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:o.enabled(rt.share_download),onChange:l}),label:e("group.allowDownloadShare")}),i.jsx(D,{children:e("group.allowDownloadShareDes")})]})}),(t==null?void 0:t.id)!=Jn&&i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,onClick:u,children:[i.jsx(be,{control:i.jsx(Ee,{checked:!1}),label:i.jsxs($,{sx:{display:"flex",alignItems:"center"},children:[e("group.esclateAnonymity"),i.jsx(qt,{size:"small",label:"Pro"})]})}),i.jsx(D,{children:e("group.esclateAnonymityDes")})]})})]})]})},F_=()=>{var c,d,h,f;const{t:e}=V("dashboard"),{values:t,setGroup:r}=g.useContext(ta),n=g.useMemo(()=>new Et(t.permissions??""),[t.permissions]),a=g.useCallback(p=>{r(m=>({...m,permissions:new Et(m.permissions).set(rt.archive_download,p.target.checked).toString()}))},[r]),o=g.useCallback(p=>{r(m=>({...m,settings:{...m.settings,source_batch:p.target.checked?1:0}}))},[r]),s=g.useCallback(p=>{r(m=>({...m,settings:{...m.settings,source_batch:parseInt(p.target.value)?parseInt(p.target.value):void 0}}))},[r]),l=g.useCallback(p=>{r(m=>({...m,settings:{...m.settings,redirected_source:p.target.checked?!0:void 0}}))},[r]),u=g.useCallback(p=>{r(m=>({...m,speed_limit:p||void 0}))},[r]);return i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("group.uploadDownload")}),i.jsxs(Me,{children:[i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:n.enabled(rt.archive_download),onChange:a}),label:e("group.serverSideBatchDownload")}),i.jsx(D,{children:e("group.serverSideBatchDownloadDes")})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:(((c=t==null?void 0:t.settings)==null?void 0:c.source_batch)??0)>0,onChange:o}),label:e("group.getDirectLink")}),i.jsx(D,{children:e("group.getDirectLinkDes")})]})}),i.jsx(et,{in:(((d=t==null?void 0:t.settings)==null?void 0:d.source_batch)??0)>0,unmountOnExit:!0,children:i.jsxs(ce,{spacing:3,children:[i.jsx(O,{lgWidth:5,title:e("group.bathSourceLinkLimit"),children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{slotProps:{htmlInput:{type:"number",min:0}},value:((h=t==null?void 0:t.settings)==null?void 0:h.source_batch)??0,onChange:s}),i.jsx(D,{children:e("group.bathSourceLinkLimitDes")})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:((f=t==null?void 0:t.settings)==null?void 0:f.redirected_source)??!1,onChange:l}),label:e("group.redirectedSource")}),i.jsx(D,{children:e("group.redirectedSourceDes")})]})})]})}),i.jsx(O,{lgWidth:5,title:e("group.downloadSpeedLimit"),children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(or,{suffix:"/s",variant:"outlined",value:(t==null?void 0:t.speed_limit)??0,onChange:u}),i.jsx(D,{children:e("group.downloadSpeedLimitDes")})]})})]})]})},q_=()=>{V("dashboard");const{formRef:e,values:t}=g.useContext(ta);return i.jsx($,{component:"form",ref:e,onSubmit:r=>r.preventDefault(),children:i.jsxs(ce,{spacing:5,children:[i.jsx(N_,{}),i.jsx(R_,{}),i.jsx(B_,{}),i.jsx(F_,{})]})})},T9=()=>{const{t:e}=V("dashboard"),{id:t}=xd(),[r,n]=g.useState("");return i.jsx(Xt,{children:i.jsxs(Gt,{maxWidth:"xl",children:[i.jsx(Yt,{title:e("group.editGroup",{group:r})}),i.jsx(I_,{groupID:parseInt(t??"1")??1,onGroupChange:a=>n(a.name),children:i.jsx(q_,{})})]})})},yx=new Et("");yx.sets({[rt.share]:!0,[rt.share_download]:!0,[rt.set_anonymous_permission]:!0});const Hh={name:"",permissions:yx.toString(),max_storage:1024<<20,settings:{compress_size:1024<<20,decompress_size:1024<<20,max_walked_files:1e5,trash_retention:7*24*3600,source_batch:10,aria2_batch:1,redirected_source:!0},edges:{storage_policies:[]},id:0},U_=({open:e,onClose:t})=>{const{t:r}=V("dashboard"),n=ge(),a=xr(),[o,s]=g.useState("0"),[l,u]=g.useState(!1),[c,d]=g.useState({...Hh}),h=g.useRef(null),f=g.useRef(void 0);g.useEffect(()=>{e&&(d({...Hh}),s("0"),f.current=void 0)},[e]);const p=()=>{var x,v;if(!((x=h.current)!=null&&x.checkValidity())){(v=h.current)==null||v.reportValidity();return}let m={...c};o!="0"&&f.current&&(m={...f.current,id:0,name:c.name}),u(!0),n(ex({group:m})).then(b=>{a(`/admin/group/${b.id}`),t()}).finally(()=>{u(!1)})};return i.jsx(ft,{onAccept:p,loading:l,title:r("group.new"),showActions:!0,showCancel:!0,dialogProps:{open:e,onClose:t,fullWidth:!0,maxWidth:"sm"},children:i.jsx(wt,{children:i.jsx("form",{ref:h,children:i.jsxs(ce,{spacing:2,children:[i.jsxs(O,{title:r("group.nameOfGroup"),lgWidth:12,children:[i.jsx(N,{fullWidth:!0,required:!0,value:c.name,onChange:m=>d({...c,name:m.target.value})}),i.jsx(D,{children:r("policy.policyName")})]}),i.jsx(O,{title:r("group.copyFromExisting"),lgWidth:12,children:i.jsx(I,{fullWidth:!0,children:i.jsx(ki,{value:o,onChange:s,onChangeGroup:m=>{f.current=m},emptyValue:"0",emptyText:"group.notCopy"})})})]})})})})},$9=()=>{const{t:e}=V("dashboard");Wb();const t=ge(),[r,n]=g.useState(!0),[a,o]=g.useState([]),[s,l]=Oe(bn,{defaultValue:"1"}),[u,c]=Oe(jn,{defaultValue:"10"}),[d,h]=Oe(_n,{defaultValue:""}),[f,p]=Oe(wn,{defaultValue:"desc"}),[m,x]=g.useState(0),[v,b]=g.useState(!1),_=parseInt(s)??1,w=parseInt(u)??11;g.useEffect(()=>{S()},[s,u,d,f]);const S=()=>{n(!0),t(Vm({page:_,page_size:w,order_by:d??"",order_direction:f??"desc"})).then(P=>{o(P.groups),c(P.pagination.page_size.toString()),x(P.pagination.total_items??0),n(!1)}).finally(()=>{n(!1)})},y=d==="id"||d==="",j=f,C=P=>()=>{const A=d===P||P==="id"&&y;h(P),p(A&&j==="asc"?"desc":"asc")};return i.jsxs(Xt,{children:[i.jsx(U_,{open:v,onClose:()=>b(!1)}),i.jsxs(Gt,{maxWidth:"xl",children:[i.jsx(Yt,{title:e("dashboard:nav.groups")}),i.jsxs(ce,{direction:"row",spacing:1,sx:{mb:2},children:[i.jsx(De,{onClick:()=>b(!0),variant:"contained",startIcon:i.jsx(yr,{}),children:e("group.create")}),i.jsx(Te,{onClick:S,disabled:r,variant:"contained",startIcon:i.jsx(qr,{}),children:e("node.refresh")})]}),i.jsx(pt,{component:Ct,sx:{mt:2},children:i.jsxs(gt,{size:"small",stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed"},children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(M,{width:50,sortDirection:y?j:!1,children:i.jsx(ht,{active:y,direction:j,onClick:C("id"),children:e("group.#")})}),i.jsx(M,{width:150,children:i.jsx(ht,{active:d==="name",direction:j,onClick:C("name"),children:e("group.name")})}),i.jsx(M,{width:250,children:e("group.type")}),i.jsx(M,{width:150,children:e("group.count")}),i.jsx(M,{width:150,children:i.jsx(ht,{active:d==="max_storage",direction:j,onClick:C("max_storage"),children:e("group.size")})}),i.jsx(M,{width:100,align:"right"})]})}),i.jsxs(xt,{children:[!r&&a.map(P=>i.jsx(tc,{group:P,onDelete:S},P.id)),r&&a.length>0&&a.map(P=>i.jsx(tc,{loading:!0},`loading-${P.id}`)),r&&a.length===0&&Array.from(Array(5)).map((P,A)=>i.jsx(tc,{loading:!0},`loading-${A}`))]})]})}),m>0&&i.jsx($,{sx:{mt:1},children:i.jsx(sn,{page:_,totalItems:m,rowsPerPage:w,rowsPerPageOptions:[10,25,50,100,200,500,1e3],onRowsPerPageChange:P=>c(P.toString()),onChange:(P,A)=>l(A.toString())})})]})]})};function V_({id:e,host:t,repo:r,repoId:n,category:a,categoryId:o,mapping:s,term:l,strict:u,reactionsEnabled:c,emitMetadata:d,inputPosition:h,theme:f,lang:p,loading:m}){const[x,v]=g.useState(!1);return g.useEffect(()=>{x||mn(()=>import("./giscus-Ci9LqPcC-C45O1yEu.js"),[]).then(()=>v(!0))},[]),x?i.jsx("giscus-widget",{id:e,host:t,repo:r,repoid:n,category:a,categoryid:o,mapping:s,term:l,strict:u,reactionsenabled:c,emitmetadata:d,inputposition:h,theme:f,lang:p,loading:m}):null}var H_=Array.isArray,Jt=H_,K_=Jt,G_=jo,X_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y_=/^\w*$/;function J_(e,t){if(K_(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||G_(e)?!0:Y_.test(e)||!X_.test(e)||t!=null&&e in Object(t)}var _d=J_,Q_=xn,Z_=ul,ew="[object AsyncFunction]",tw="[object Function]",rw="[object GeneratorFunction]",nw="[object Proxy]";function iw(e){if(!Z_(e))return!1;var t=Q_(e);return t==tw||t==rw||t==ew||t==nw}var wd=iw;const Ie=ut(wd);var aw=vn,ow=aw["__core-js_shared__"],sw=ow,rc=sw,Kh=function(){var e=/[^.]+$/.exec(rc&&rc.keys&&rc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function lw(e){return!!Kh&&Kh in e}var cw=lw,uw=Function.prototype,dw=uw.toString;function hw(e){if(e!=null){try{return dw.call(e)}catch{}try{return e+""}catch{}}return""}var bx=hw,fw=wd,pw=cw,gw=ul,mw=bx,xw=/[\\^$.*+?()[\]{}|]/g,vw=/^\[object .+?Constructor\]$/,yw=Function.prototype,bw=Object.prototype,jw=yw.toString,_w=bw.hasOwnProperty,ww=RegExp("^"+jw.call(_w).replace(xw,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sw(e){if(!gw(e)||pw(e))return!1;var t=fw(e)?ww:vw;return t.test(mw(e))}var Cw=Sw;function Ow(e,t){return e==null?void 0:e[t]}var Pw=Ow,Aw=Cw,kw=Pw;function Dw(e,t){var r=kw(e,t);return Aw(r)?r:void 0}var ai=Dw,Ew=ai,Tw=Ew(Object,"create"),gl=Tw,Gh=gl;function $w(){this.__data__=Gh?Gh(null):{},this.size=0}var Mw=$w;function Iw(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ww=Iw,Nw=gl,zw="__lodash_hash_undefined__",Lw=Object.prototype,Bw=Lw.hasOwnProperty;function Rw(e){var t=this.__data__;if(Nw){var r=t[e];return r===zw?void 0:r}return Bw.call(t,e)?t[e]:void 0}var Fw=Rw,qw=gl,Uw=Object.prototype,Vw=Uw.hasOwnProperty;function Hw(e){var t=this.__data__;return qw?t[e]!==void 0:Vw.call(t,e)}var Kw=Hw,Gw=gl,Xw="__lodash_hash_undefined__";function Yw(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Gw&&t===void 0?Xw:t,this}var Jw=Yw,Qw=Mw,Zw=Ww,eS=Fw,tS=Kw,rS=Jw;function ra(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ra.prototype.clear=Qw;ra.prototype.delete=Zw;ra.prototype.get=eS;ra.prototype.has=tS;ra.prototype.set=rS;var nS=ra;function iS(){this.__data__=[],this.size=0}var aS=iS;function oS(e,t){return e===t||e!==e&&t!==t}var Sd=oS,sS=Sd;function lS(e,t){for(var r=e.length;r--;)if(sS(e[r][0],t))return r;return-1}var ml=lS,cS=ml,uS=Array.prototype,dS=uS.splice;function hS(e){var t=this.__data__,r=cS(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():dS.call(t,r,1),--this.size,!0}var fS=hS,pS=ml;function gS(e){var t=this.__data__,r=pS(t,e);return r<0?void 0:t[r][1]}var mS=gS,xS=ml;function vS(e){return xS(this.__data__,e)>-1}var yS=vS,bS=ml;function jS(e,t){var r=this.__data__,n=bS(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var _S=jS,wS=aS,SS=fS,CS=mS,OS=yS,PS=_S;function na(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}na.prototype.clear=wS;na.prototype.delete=SS;na.prototype.get=CS;na.prototype.has=OS;na.prototype.set=PS;var xl=na,AS=ai,kS=vn,DS=AS(kS,"Map"),Cd=DS,Xh=nS,ES=xl,TS=Cd;function $S(){this.size=0,this.__data__={hash:new Xh,map:new(TS||ES),string:new Xh}}var MS=$S;function IS(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var WS=IS,NS=WS;function zS(e,t){var r=e.__data__;return NS(t)?r[typeof t=="string"?"string":"hash"]:r.map}var vl=zS,LS=vl;function BS(e){var t=LS(this,e).delete(e);return this.size-=t?1:0,t}var RS=BS,FS=vl;function qS(e){return FS(this,e).get(e)}var US=qS,VS=vl;function HS(e){return VS(this,e).has(e)}var KS=HS,GS=vl;function XS(e,t){var r=GS(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var YS=XS,JS=MS,QS=RS,ZS=US,e2=KS,t2=YS;function ia(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ia.prototype.clear=JS;ia.prototype.delete=QS;ia.prototype.get=ZS;ia.prototype.has=e2;ia.prototype.set=t2;var Od=ia,jx=Od,r2="Expected a function";function Pd(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(r2);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var s=e.apply(this,n);return r.cache=o.set(a,s)||o,s};return r.cache=new(Pd.Cache||jx),r}Pd.Cache=jx;var _x=Pd;const n2=ut(_x);var i2=_x,a2=500;function o2(e){var t=i2(e,function(n){return r.size===a2&&r.clear(),n}),r=t.cache;return t}var s2=o2,l2=s2,c2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u2=/\\(\\)?/g,d2=l2(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(c2,function(r,n,a,o){t.push(a?o.replace(u2,"$1"):n||r)}),t}),h2=d2;function f2(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Ad=f2,Yh=yd,p2=Ad,g2=Jt,m2=jo,x2=1/0,Jh=Yh?Yh.prototype:void 0,Qh=Jh?Jh.toString:void 0;function wx(e){if(typeof e=="string")return e;if(g2(e))return p2(e,wx)+"";if(m2(e))return Qh?Qh.call(e):"";var t=e+"";return t=="0"&&1/e==-x2?"-0":t}var v2=wx,y2=v2;function b2(e){return e==null?"":y2(e)}var Sx=b2,j2=Jt,_2=_d,w2=h2,S2=Sx;function C2(e,t){return j2(e)?e:_2(e,t)?[e]:w2(S2(e))}var Cx=C2,O2=jo,P2=1/0;function A2(e){if(typeof e=="string"||O2(e))return e;var t=e+"";return t=="0"&&1/e==-P2?"-0":t}var yl=A2,k2=Cx,D2=yl;function E2(e,t){t=k2(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[D2(t[r++])];return r&&r==n?e:void 0}var kd=E2,T2=kd;function $2(e,t,r){var n=e==null?void 0:T2(e,t);return n===void 0?r:n}var Ox=$2;const fr=ut(Ox);function M2(e){return e==null}var I2=M2;const Re=ut(I2);var W2=xn,N2=Jt,z2=yn,L2="[object String]";function B2(e){return typeof e=="string"||!N2(e)&&z2(e)&&W2(e)==L2}var R2=B2;const Co=ut(R2);var F2=xn,q2=yn,U2="[object Number]";function V2(e){return typeof e=="number"||q2(e)&&F2(e)==U2}var Px=V2;const H2=ut(Px);var K2=Px;function G2(e){return K2(e)&&e!=+e}var X2=G2;const Oo=ut(X2);var kr=function(t){return t===0?0:t>0?1:-1},In=function(t){return Co(t)&&t.indexOf("%")===t.length-1},re=function(t){return H2(t)&&!Oo(t)},At=function(t){return re(t)||Co(t)},Y2=0,Po=function(t){var r=++Y2;return"".concat(t||"").concat(r)},Qn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(t)&&!Co(t))return n;var o;if(In(t)){var s=t.indexOf("%");o=r*parseFloat(t.slice(0,s))/100}else o=+t;return Oo(o)&&(o=n),a&&o>r&&(o=r),o},dn=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},J2=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Or=function(t,r){return re(t)&&re(r)?function(n){return t+n*(r-t)}:function(){return r}};function os(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):fr(n,t))===r})}function Ci(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}var Q2=["viewBox","children"],Z2=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Zh=["points","pathLength"],nc={svg:Q2,polygon:Zh,polyline:Zh},Dd=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ss=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(g.isValidElement(t)&&(n=t.props),!ea(n))return null;var a={};return Object.keys(n).forEach(function(o){Dd.includes(o)&&(a[o]=r||function(s){return n[o](n,s)})}),a},eC=function(t,r,n){return function(a){return t(r,n,a),null}},ls=function(t,r,n){if(!ea(t)||Rc(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var s=t[o];Dd.includes(o)&&typeof s=="function"&&(a||(a={}),a[o]=eC(s,r,n))}),a},tC=["children"],rC=["children"];function ef(e,t){if(e==null)return{};var r=nC(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nC(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}var tf={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Jr=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},rf=null,ic=null,Ed=function e(t){if(t===rf&&Array.isArray(ic))return ic;var r=[];return g.Children.forEach(t,function(n){Re(n)||(Nb.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ic=r,rf=t,r};function pr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Jr(a)}):n=[Jr(t)],Ed(e).forEach(function(a){var o=fr(a,"type.displayName")||fr(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function er(e,t){var r=pr(e,t);return r&&r[0]}var nf=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!re(n)||n<=0||!re(a)||a<=0)},iC=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],aC=function(t){return t&&t.type&&Co(t.type)&&iC.indexOf(t.type)>=0},oC=function(t){return t&&Fc(t)==="object"&&"clipDot"in t},sC=function(t,r,n,a){var o,s=(o=nc==null?void 0:nc[a])!==null&&o!==void 0?o:[];return!Ie(t)&&(a&&s.includes(r)||Z2.includes(r))||n&&Dd.includes(r)},qe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(g.isValidElement(t)&&(a=t.props),!ea(a))return null;var o={};return Object.keys(a).forEach(function(s){var l;sC((l=a)===null||l===void 0?void 0:l[s],s,r,n)&&(o[s]=a[s])}),o},qc=function e(t,r){if(t===r)return!0;var n=g.Children.count(t);if(n!==g.Children.count(r))return!1;if(n===0)return!0;if(n===1)return af(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=t[a],s=r[a];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!af(o,s))return!1}return!0},af=function(t,r){if(Re(t)&&Re(r))return!0;if(!Re(t)&&!Re(r)){var n=t.props||{},a=n.children,o=ef(n,tC),s=r.props||{},l=s.children,u=ef(s,rC);return a&&l?Ci(o,u)&&qc(a,l):!a&&!l?Ci(o,u):!1}return!1},of=function(t,r){var n=[],a={};return Ed(t).forEach(function(o,s){if(aC(o))n.push(o);else if(o){var l=Jr(o.type),u=r[l]||{},c=u.handler,d=u.once;if(c&&(!d||!a[l])){var h=c(o,l,s);n.push(h),a[l]=!0}}}),n},lC=function(t){var r=t&&t.type;return r&&tf[r]?tf[r]:null},cC=function(t,r){return Ed(r).indexOf(t)},uC=["children","width","height","viewBox","className","style","title","desc"];function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uc.apply(this,arguments)}function dC(e,t){if(e==null)return{};var r=hC(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hC(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vc(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,o=e.className,s=e.style,l=e.title,u=e.desc,c=dC(e,uC),d=a||{width:r,height:n,x:0,y:0},h=ze("recharts-surface",o);return W.createElement("svg",Uc({},qe(c,!0,"svg"),{className:h,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),W.createElement("title",null,l),W.createElement("desc",null,u),t)}var fC=["children","className"];function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hc.apply(this,arguments)}function pC(e,t){if(e==null)return{};var r=gC(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gC(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vt=W.forwardRef(function(e,t){var r=e.children,n=e.className,a=pC(e,fC),o=ze("recharts-layer",n);return W.createElement("g",Hc({className:o},qe(a,!0),{ref:t}),r)}),Qr=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]};function mC(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}var xC=mC,vC=xC;function yC(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:vC(e,t,r)}var bC=yC,jC="\\ud800-\\udfff",_C="\\u0300-\\u036f",wC="\\ufe20-\\ufe2f",SC="\\u20d0-\\u20ff",CC=_C+wC+SC,OC="\\ufe0e\\ufe0f",PC="\\u200d",AC=RegExp("["+PC+jC+CC+OC+"]");function kC(e){return AC.test(e)}var Ax=kC;function DC(e){return e.split("")}var EC=DC,kx="\\ud800-\\udfff",TC="\\u0300-\\u036f",$C="\\ufe20-\\ufe2f",MC="\\u20d0-\\u20ff",IC=TC+$C+MC,WC="\\ufe0e\\ufe0f",NC="["+kx+"]",Kc="["+IC+"]",Gc="\\ud83c[\\udffb-\\udfff]",zC="(?:"+Kc+"|"+Gc+")",Dx="[^"+kx+"]",Ex="(?:\\ud83c[\\udde6-\\uddff]){2}",Tx="[\\ud800-\\udbff][\\udc00-\\udfff]",LC="\\u200d",$x=zC+"?",Mx="["+WC+"]?",BC="(?:"+LC+"(?:"+[Dx,Ex,Tx].join("|")+")"+Mx+$x+")*",RC=Mx+$x+BC,FC="(?:"+[Dx+Kc+"?",Kc,Ex,Tx,NC].join("|")+")",qC=RegExp(Gc+"(?="+Gc+")|"+FC+RC,"g");function UC(e){return e.match(qC)||[]}var VC=UC,HC=EC,KC=Ax,GC=VC;function XC(e){return KC(e)?GC(e):HC(e)}var YC=XC,JC=bC,QC=Ax,ZC=YC,eO=Sx;function tO(e){return function(t){t=eO(t);var r=QC(t)?ZC(t):void 0,n=r?r[0]:t.charAt(0),a=r?JC(r,1).join(""):t.slice(1);return n[e]()+a}}var rO=tO,nO=rO,iO=nO("toUpperCase"),aO=iO;const bl=ut(aO);function Qe(e){return function(){return e}}const Ix=Math.cos,cs=Math.sin,Ir=Math.sqrt,us=Math.PI,jl=2*us,Xc=Math.PI,Yc=2*Xc,Dn=1e-6,oO=Yc-Dn;function Wx(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function sO(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Wx;const r=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class lO{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Wx:sO(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,o,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+o},${this._y1=+s}`}arcTo(t,r,n,a,o){if(t=+t,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,u=n-t,c=a-r,d=s-t,h=l-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Dn)if(!(Math.abs(h*u-c*d)>Dn)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,m=a-l,x=u*u+c*c,v=p*p+m*m,b=Math.sqrt(x),_=Math.sqrt(f),w=o*Math.tan((Xc-Math.acos((x+f-v)/(2*b*_)))/2),S=w/_,y=w/b;Math.abs(S-1)>Dn&&this._append`L${t+S*d},${r+S*h}`,this._append`A${o},${o},0,0,${+(h*p>d*m)},${this._x1=t+y*u},${this._y1=r+y*c}`}}arc(t,r,n,a,o,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),u=n*Math.sin(a),c=t+l,d=r+u,h=1^s,f=s?a-o:o-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Dn||Math.abs(this._y1-d)>Dn)&&this._append`L${c},${d}`,n&&(f<0&&(f=f%Yc+Yc),f>oO?this._append`A${n},${n},0,1,${h},${t-l},${r-u}A${n},${n},0,1,${h},${this._x1=c},${this._y1=d}`:f>Dn&&this._append`A${n},${n},0,${+(f>=Xc)},${h},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Td(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new lO(t)}function $d(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Nx(e){this._context=e}Nx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function _l(e){return new Nx(e)}function zx(e){return e[0]}function Lx(e){return e[1]}function Bx(e,t){var r=Qe(!0),n=null,a=_l,o=null,s=Td(l);e=typeof e=="function"?e:e===void 0?zx:Qe(e),t=typeof t=="function"?t:t===void 0?Lx:Qe(t);function l(u){var c,d=(u=$d(u)).length,h,f=!1,p;for(n==null&&(o=a(p=s())),c=0;c<=d;++c)!(c<d&&r(h=u[c],c,u))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(h,c,u),+t(h,c,u));if(p)return o=null,p+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Qe(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Qe(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Qe(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,n!=null&&(o=a(n)),l):a},l.context=function(u){return arguments.length?(u==null?n=o=null:o=a(n=u),l):n},l}function zo(e,t,r){var n=null,a=Qe(!0),o=null,s=_l,l=null,u=Td(c);e=typeof e=="function"?e:e===void 0?zx:Qe(+e),t=typeof t=="function"?t:Qe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Lx:Qe(+r);function c(h){var f,p,m,x=(h=$d(h)).length,v,b=!1,_,w=new Array(x),S=new Array(x);for(o==null&&(l=s(_=u())),f=0;f<=x;++f){if(!(f<x&&a(v=h[f],f,h))===b)if(b=!b)p=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=f-1;m>=p;--m)l.point(w[m],S[m]);l.lineEnd(),l.areaEnd()}b&&(w[f]=+e(v,f,h),S[f]=+t(v,f,h),l.point(n?+n(v,f,h):w[f],r?+r(v,f,h):S[f]))}if(_)return l=null,_+""||null}function d(){return Bx().defined(a).curve(s).context(o)}return c.x=function(h){return arguments.length?(e=typeof h=="function"?h:Qe(+h),n=null,c):e},c.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Qe(+h),c):e},c.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Qe(+h),c):n},c.y=function(h){return arguments.length?(t=typeof h=="function"?h:Qe(+h),r=null,c):t},c.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Qe(+h),c):t},c.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Qe(+h),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Qe(!!h),c):a},c.curve=function(h){return arguments.length?(s=h,o!=null&&(l=s(o)),c):s},c.context=function(h){return arguments.length?(h==null?o=l=null:l=s(o=h),c):o},c}class Rx{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function cO(e){return new Rx(e,!0)}function uO(e){return new Rx(e,!1)}const Md={draw(e,t){const r=Ir(t/us);e.moveTo(r,0),e.arc(0,0,r,0,jl)}},dO={draw(e,t){const r=Ir(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Fx=Ir(1/3),hO=Fx*2,fO={draw(e,t){const r=Ir(t/hO),n=r*Fx;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},pO={draw(e,t){const r=Ir(t),n=-r/2;e.rect(n,n,r,r)}},gO=.8908130915292852,qx=cs(us/10)/cs(7*us/10),mO=cs(jl/10)*qx,xO=-Ix(jl/10)*qx,vO={draw(e,t){const r=Ir(t*gO),n=mO*r,a=xO*r;e.moveTo(0,-r),e.lineTo(n,a);for(let o=1;o<5;++o){const s=jl*o/5,l=Ix(s),u=cs(s);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*a,u*n+l*a)}e.closePath()}},ac=Ir(3),yO={draw(e,t){const r=-Ir(t/(ac*3));e.moveTo(0,r*2),e.lineTo(-ac*r,-r),e.lineTo(ac*r,-r),e.closePath()}},cr=-.5,ur=Ir(3)/2,Jc=1/Ir(12),bO=(Jc/2+1)*3,jO={draw(e,t){const r=Ir(t/bO),n=r/2,a=r*Jc,o=n,s=r*Jc+r,l=-o,u=s;e.moveTo(n,a),e.lineTo(o,s),e.lineTo(l,u),e.lineTo(cr*n-ur*a,ur*n+cr*a),e.lineTo(cr*o-ur*s,ur*o+cr*s),e.lineTo(cr*l-ur*u,ur*l+cr*u),e.lineTo(cr*n+ur*a,cr*a-ur*n),e.lineTo(cr*o+ur*s,cr*s-ur*o),e.lineTo(cr*l+ur*u,cr*u-ur*l),e.closePath()}};function _O(e,t){let r=null,n=Td(a);e=typeof e=="function"?e:Qe(e||Md),t=typeof t=="function"?t:Qe(t===void 0?64:+t);function a(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:Qe(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:Qe(+o),a):t},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function ds(){}function hs(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Ux(e){this._context=e}Ux.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hs(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hs(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wO(e){return new Ux(e)}function Vx(e){this._context=e}Vx.prototype={areaStart:ds,areaEnd:ds,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hs(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SO(e){return new Vx(e)}function Hx(e){this._context=e}Hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:hs(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function CO(e){return new Hx(e)}function Kx(e){this._context=e}Kx.prototype={areaStart:ds,areaEnd:ds,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function OO(e){return new Kx(e)}function sf(e){return e<0?-1:1}function lf(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),l=(o*a+s*n)/(n+a);return(sf(o)+sf(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function cf(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function oc(e,t,r){var n=e._x0,a=e._y0,o=e._x1,s=e._y1,l=(o-n)/3;e._context.bezierCurveTo(n+l,a+l*t,o-l,s-l*r,o,s)}function fs(e){this._context=e}fs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:oc(this,this._t0,cf(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,oc(this,cf(this,r=lf(this,e,t)),r);break;default:oc(this,this._t0,r=lf(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Gx(e){this._context=new Xx(e)}(Gx.prototype=Object.create(fs.prototype)).point=function(e,t){fs.prototype.point.call(this,t,e)};function Xx(e){this._context=e}Xx.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}};function PO(e){return new fs(e)}function AO(e){return new Gx(e)}function Yx(e){this._context=e}Yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=uf(e),a=uf(t),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function uf(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),s=new Array(r);for(a[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function kO(e){return new Yx(e)}function wl(e,t){this._context=e,this._t=t}wl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function DO(e){return new wl(e,.5)}function EO(e){return new wl(e,0)}function TO(e){return new wl(e,1)}function Di(e,t){if((s=e.length)>1)for(var r=1,n,a,o=e[t[0]],s,l=o.length;r<s;++r)for(a=o,o=e[t[r]],n=0;n<l;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Qc(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function $O(e,t){return e[t]}function MO(e){const t=[];return t.key=e,t}function IO(){var e=Qe([]),t=Qc,r=Di,n=$O;function a(o){var s=Array.from(e.apply(this,arguments),MO),l,u=s.length,c=-1,d;for(const h of o)for(l=0,++c;l<u;++l)(s[l][c]=[0,+n(h,s[l].key,c,o)]).data=h;for(l=0,d=$d(t(s));l<u;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Qe(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Qe(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?Qc:typeof o=="function"?o:Qe(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??Di,a):r},a}function WO(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,s;a<o;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Di(e,t)}}function NO(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var s=0,l=0;s<a;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Di(e,t)}}function zO(e,t){if(!(!((s=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,s;n<o;++n){for(var l=0,u=0,c=0;l<s;++l){for(var d=e[t[l]],h=d[n][1]||0,f=d[n-1][1]||0,p=(h-f)/2,m=0;m<l;++m){var x=e[t[m]],v=x[n][1]||0,b=x[n-1][1]||0;p+=v-b}u+=h,c+=p*h}a[n-1][1]+=a[n-1][0]=r,u&&(r-=c/u)}a[n-1][1]+=a[n-1][0]=r,Di(e,t)}}function Da(e){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Da(e)}var LO=["type","size","sizeType"];function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(this,arguments)}function df(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?df(Object(r),!0).forEach(function(n){BO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):df(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BO(e,t,r){return t=RO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RO(e){var t=FO(e,"string");return Da(t)=="symbol"?t:t+""}function FO(e,t){if(Da(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Da(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qO(e,t){if(e==null)return{};var r=UO(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UO(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Jx={symbolCircle:Md,symbolCross:dO,symbolDiamond:fO,symbolSquare:pO,symbolStar:vO,symbolTriangle:yO,symbolWye:jO},VO=Math.PI/180,HO=function(t){var r="symbol".concat(bl(t));return Jx[r]||Md},KO=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*VO;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},GO=function(t,r){Jx["symbol".concat(bl(t))]=r},Id=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,o=a===void 0?64:a,s=t.sizeType,l=s===void 0?"area":s,u=qO(t,LO),c=hf(hf({},u),{},{type:n,size:o,sizeType:l}),d=function(){var v=HO(n),b=_O().type(v).size(KO(o,l,n));return b()},h=c.className,f=c.cx,p=c.cy,m=qe(c,!0);return f===+f&&p===+p&&o===+o?W.createElement("path",Zc({},m,{className:ze("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:d()})):null};Id.registerSymbol=GO;function Ei(e){"@babel/helpers - typeof";return Ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ei(e)}function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eu.apply(this,arguments)}function ff(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ff(Object(r),!0).forEach(function(n){Ea(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ff(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zx(n.key),n)}}function QO(e,t,r){return t&&JO(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZO(e,t,r){return t=ps(t),eP(e,Qx()?Reflect.construct(t,r||[],ps(e).constructor):t.apply(e,r))}function eP(e,t){if(t&&(Ei(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tP(e)}function tP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qx=function(){return!!e})()}function ps(e){return ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ps(e)}function rP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tu(e,t)}function tu(e,t){return tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tu(e,t)}function Ea(e,t,r){return t=Zx(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zx(e){var t=nP(e,"string");return Ei(t)=="symbol"?t:t+""}function nP(e,t){if(Ei(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ei(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dr=32,Wd=function(e){function t(){return YO(this,t),ZO(this,t,arguments)}return rP(t,e),QO(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=dr/2,s=dr/6,l=dr/3,u=n.inactive?a:n.color;if(n.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:dr,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(dr,"M").concat(2*l,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return W.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(dr/8,"h").concat(dr,"v").concat(dr*3/4,"h").concat(-dr,"z"),className:"recharts-legend-icon"});if(W.isValidElement(n.legendIcon)){var c=XO({},n);return delete c.legendIcon,W.cloneElement(n.legendIcon,c)}return W.createElement(Id,{fill:u,cx:o,cy:o,size:dr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,s=a.iconSize,l=a.layout,u=a.formatter,c=a.inactiveColor,d={x:0,y:0,width:dr,height:dr},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var x=p.formatter||u,v=ze(Ea(Ea({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Ie(p.value)?null:p.value;Qr(!Ie(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=p.inactive?c:p.color;return W.createElement("li",eu({className:v,style:h,key:"legend-item-".concat(m)},ls(n.props,p,m)),W.createElement(Vc,{width:s,height:s,viewBox:d,style:f},n.renderIcon(p)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},x?x(b,p,m):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,s=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(g.PureComponent);Ea(Wd,"displayName","Legend");Ea(Wd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var iP=xl;function aP(){this.__data__=new iP,this.size=0}var oP=aP;function sP(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var lP=sP;function cP(e){return this.__data__.get(e)}var uP=cP;function dP(e){return this.__data__.has(e)}var hP=dP,fP=xl,pP=Cd,gP=Od,mP=200;function xP(e,t){var r=this.__data__;if(r instanceof fP){var n=r.__data__;if(!pP||n.length<mP-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new gP(n)}return r.set(e,t),this.size=r.size,this}var vP=xP,yP=xl,bP=oP,jP=lP,_P=uP,wP=hP,SP=vP;function aa(e){var t=this.__data__=new yP(e);this.size=t.size}aa.prototype.clear=bP;aa.prototype.delete=jP;aa.prototype.get=_P;aa.prototype.has=wP;aa.prototype.set=SP;var ev=aa,CP="__lodash_hash_undefined__";function OP(e){return this.__data__.set(e,CP),this}var PP=OP;function AP(e){return this.__data__.has(e)}var kP=AP,DP=Od,EP=PP,TP=kP;function gs(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new DP;++t<r;)this.add(e[t])}gs.prototype.add=gs.prototype.push=EP;gs.prototype.has=TP;var tv=gs;function $P(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var rv=$P;function MP(e,t){return e.has(t)}var nv=MP,IP=tv,WP=rv,NP=nv,zP=1,LP=2;function BP(e,t,r,n,a,o){var s=r&zP,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=o.get(e),d=o.get(t);if(c&&d)return c==t&&d==e;var h=-1,f=!0,p=r&LP?new IP:void 0;for(o.set(e,t),o.set(t,e);++h<l;){var m=e[h],x=t[h];if(n)var v=s?n(x,m,h,t,e,o):n(m,x,h,e,t,o);if(v!==void 0){if(v)continue;f=!1;break}if(p){if(!WP(t,function(b,_){if(!NP(p,_)&&(m===b||a(m,b,r,n,o)))return p.push(_)})){f=!1;break}}else if(!(m===x||a(m,x,r,n,o))){f=!1;break}}return o.delete(e),o.delete(t),f}var iv=BP,RP=vn,FP=RP.Uint8Array,qP=FP;function UP(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var VP=UP;function HP(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Nd=HP,pf=yd,gf=qP,KP=Sd,GP=iv,XP=VP,YP=Nd,JP=1,QP=2,ZP="[object Boolean]",e5="[object Date]",t5="[object Error]",r5="[object Map]",n5="[object Number]",i5="[object RegExp]",a5="[object Set]",o5="[object String]",s5="[object Symbol]",l5="[object ArrayBuffer]",c5="[object DataView]",mf=pf?pf.prototype:void 0,sc=mf?mf.valueOf:void 0;function u5(e,t,r,n,a,o,s){switch(r){case c5:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case l5:return!(e.byteLength!=t.byteLength||!o(new gf(e),new gf(t)));case ZP:case e5:case n5:return KP(+e,+t);case t5:return e.name==t.name&&e.message==t.message;case i5:case o5:return e==t+"";case r5:var l=XP;case a5:var u=n&JP;if(l||(l=YP),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;n|=QP,s.set(e,t);var d=GP(l(e),l(t),n,a,o,s);return s.delete(e),d;case s5:if(sc)return sc.call(e)==sc.call(t)}return!1}var d5=u5;function h5(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var av=h5,f5=av,p5=Jt;function g5(e,t,r){var n=t(e);return p5(e)?n:f5(n,r(e))}var m5=g5;function x5(e,t){for(var r=-1,n=e==null?0:e.length,a=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[a++]=s)}return o}var v5=x5;function y5(){return[]}var b5=y5,j5=v5,_5=b5,w5=Object.prototype,S5=w5.propertyIsEnumerable,xf=Object.getOwnPropertySymbols,C5=xf?function(e){return e==null?[]:(e=Object(e),j5(xf(e),function(t){return S5.call(e,t)}))}:_5,O5=C5;function P5(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var A5=P5,k5=xn,D5=yn,E5="[object Arguments]";function T5(e){return D5(e)&&k5(e)==E5}var $5=T5,vf=$5,M5=yn,ov=Object.prototype,I5=ov.hasOwnProperty,W5=ov.propertyIsEnumerable,N5=vf(function(){return arguments}())?vf:function(e){return M5(e)&&I5.call(e,"callee")&&!W5.call(e,"callee")},zd=N5,ms={exports:{}};function z5(){return!1}var L5=z5;ms.exports;(function(e,t){var r=vn,n=L5,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===a,l=s?r.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||n;e.exports=c})(ms,ms.exports);var sv=ms.exports,B5=9007199254740991,R5=/^(?:0|[1-9]\d*)$/;function F5(e,t){var r=typeof e;return t=t??B5,!!t&&(r=="number"||r!="symbol"&&R5.test(e))&&e>-1&&e%1==0&&e<t}var Ld=F5,q5=9007199254740991;function U5(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=q5}var Bd=U5,V5=xn,H5=Bd,K5=yn,G5="[object Arguments]",X5="[object Array]",Y5="[object Boolean]",J5="[object Date]",Q5="[object Error]",Z5="[object Function]",eA="[object Map]",tA="[object Number]",rA="[object Object]",nA="[object RegExp]",iA="[object Set]",aA="[object String]",oA="[object WeakMap]",sA="[object ArrayBuffer]",lA="[object DataView]",cA="[object Float32Array]",uA="[object Float64Array]",dA="[object Int8Array]",hA="[object Int16Array]",fA="[object Int32Array]",pA="[object Uint8Array]",gA="[object Uint8ClampedArray]",mA="[object Uint16Array]",xA="[object Uint32Array]",tt={};tt[cA]=tt[uA]=tt[dA]=tt[hA]=tt[fA]=tt[pA]=tt[gA]=tt[mA]=tt[xA]=!0;tt[G5]=tt[X5]=tt[sA]=tt[Y5]=tt[lA]=tt[J5]=tt[Q5]=tt[Z5]=tt[eA]=tt[tA]=tt[rA]=tt[nA]=tt[iA]=tt[aA]=tt[oA]=!1;function vA(e){return K5(e)&&H5(e.length)&&!!tt[V5(e)]}var yA=vA;function bA(e){return function(t){return e(t)}}var lv=bA,xs={exports:{}};xs.exports;(function(e,t){var r=jj,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===n,s=o&&r.process,l=function(){try{var u=a&&a.require&&a.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(xs,xs.exports);var jA=xs.exports,_A=yA,wA=lv,yf=jA,bf=yf&&yf.isTypedArray,SA=bf?wA(bf):_A,cv=SA,CA=A5,OA=zd,PA=Jt,AA=sv,kA=Ld,DA=cv,EA=Object.prototype,TA=EA.hasOwnProperty;function $A(e,t){var r=PA(e),n=!r&&OA(e),a=!r&&!n&&AA(e),o=!r&&!n&&!a&&DA(e),s=r||n||a||o,l=s?CA(e.length,String):[],u=l.length;for(var c in e)(t||TA.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||kA(c,u)))&&l.push(c);return l}var MA=$A,IA=Object.prototype;function WA(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||IA;return e===r}var NA=WA;function zA(e,t){return function(r){return e(t(r))}}var uv=zA,LA=uv,BA=LA(Object.keys,Object),RA=BA,FA=NA,qA=RA,UA=Object.prototype,VA=UA.hasOwnProperty;function HA(e){if(!FA(e))return qA(e);var t=[];for(var r in Object(e))VA.call(e,r)&&r!="constructor"&&t.push(r);return t}var KA=HA,GA=wd,XA=Bd;function YA(e){return e!=null&&XA(e.length)&&!GA(e)}var Ao=YA,JA=MA,QA=KA,ZA=Ao;function ek(e){return ZA(e)?JA(e):QA(e)}var Sl=ek,tk=m5,rk=O5,nk=Sl;function ik(e){return tk(e,nk,rk)}var ak=ik,jf=ak,ok=1,sk=Object.prototype,lk=sk.hasOwnProperty;function ck(e,t,r,n,a,o){var s=r&ok,l=jf(e),u=l.length,c=jf(t),d=c.length;if(u!=d&&!s)return!1;for(var h=u;h--;){var f=l[h];if(!(s?f in t:lk.call(t,f)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var x=!0;o.set(e,t),o.set(t,e);for(var v=s;++h<u;){f=l[h];var b=e[f],_=t[f];if(n)var w=s?n(_,b,f,t,e,o):n(b,_,f,e,t,o);if(!(w===void 0?b===_||a(b,_,r,n,o):w)){x=!1;break}v||(v=f=="constructor")}if(x&&!v){var S=e.constructor,y=t.constructor;S!=y&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof y=="function"&&y instanceof y)&&(x=!1)}return o.delete(e),o.delete(t),x}var uk=ck,dk=ai,hk=vn,fk=dk(hk,"DataView"),pk=fk,gk=ai,mk=vn,xk=gk(mk,"Promise"),vk=xk,yk=ai,bk=vn,jk=yk(bk,"Set"),dv=jk,_k=ai,wk=vn,Sk=_k(wk,"WeakMap"),Ck=Sk,ru=pk,nu=Cd,iu=vk,au=dv,ou=Ck,hv=xn,oa=bx,_f="[object Map]",Ok="[object Object]",wf="[object Promise]",Sf="[object Set]",Cf="[object WeakMap]",Of="[object DataView]",Pk=oa(ru),Ak=oa(nu),kk=oa(iu),Dk=oa(au),Ek=oa(ou),En=hv;(ru&&En(new ru(new ArrayBuffer(1)))!=Of||nu&&En(new nu)!=_f||iu&&En(iu.resolve())!=wf||au&&En(new au)!=Sf||ou&&En(new ou)!=Cf)&&(En=function(e){var t=hv(e),r=t==Ok?e.constructor:void 0,n=r?oa(r):"";if(n)switch(n){case Pk:return Of;case Ak:return _f;case kk:return wf;case Dk:return Sf;case Ek:return Cf}return t});var Tk=En,lc=ev,$k=iv,Mk=d5,Ik=uk,Pf=Tk,Af=Jt,kf=sv,Wk=cv,Nk=1,Df="[object Arguments]",Ef="[object Array]",Lo="[object Object]",zk=Object.prototype,Tf=zk.hasOwnProperty;function Lk(e,t,r,n,a,o){var s=Af(e),l=Af(t),u=s?Ef:Pf(e),c=l?Ef:Pf(t);u=u==Df?Lo:u,c=c==Df?Lo:c;var d=u==Lo,h=c==Lo,f=u==c;if(f&&kf(e)){if(!kf(t))return!1;s=!0,d=!1}if(f&&!d)return o||(o=new lc),s||Wk(e)?$k(e,t,r,n,a,o):Mk(e,t,u,r,n,a,o);if(!(r&Nk)){var p=d&&Tf.call(e,"__wrapped__"),m=h&&Tf.call(t,"__wrapped__");if(p||m){var x=p?e.value():e,v=m?t.value():t;return o||(o=new lc),a(x,v,r,n,o)}}return f?(o||(o=new lc),Ik(e,t,r,n,a,o)):!1}var Bk=Lk,Rk=Bk,$f=yn;function fv(e,t,r,n,a){return e===t?!0:e==null||t==null||!$f(e)&&!$f(t)?e!==e&&t!==t:Rk(e,t,r,n,fv,a)}var Rd=fv,Fk=ev,qk=Rd,Uk=1,Vk=2;function Hk(e,t,r,n){var a=r.length,o=a,s=!n;if(e==null)return!o;for(e=Object(e);a--;){var l=r[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){l=r[a];var u=l[0],c=e[u],d=l[1];if(s&&l[2]){if(c===void 0&&!(u in e))return!1}else{var h=new Fk;if(n)var f=n(c,d,u,e,t,h);if(!(f===void 0?qk(d,c,Uk|Vk,n,h):f))return!1}}return!0}var Kk=Hk,Gk=ul;function Xk(e){return e===e&&!Gk(e)}var pv=Xk,Yk=pv,Jk=Sl;function Qk(e){for(var t=Jk(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Yk(a)]}return t}var Zk=Qk;function eD(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var gv=eD,tD=Kk,rD=Zk,nD=gv;function iD(e){var t=rD(e);return t.length==1&&t[0][2]?nD(t[0][0],t[0][1]):function(r){return r===e||tD(r,e,t)}}var aD=iD;function oD(e,t){return e!=null&&t in Object(e)}var sD=oD,lD=Cx,cD=zd,uD=Jt,dD=Ld,hD=Bd,fD=yl;function pD(e,t,r){t=lD(t,e);for(var n=-1,a=t.length,o=!1;++n<a;){var s=fD(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=a?o:(a=e==null?0:e.length,!!a&&hD(a)&&dD(s,a)&&(uD(e)||cD(e)))}var gD=pD,mD=sD,xD=gD;function vD(e,t){return e!=null&&xD(e,t,mD)}var yD=vD,bD=Rd,jD=Ox,_D=yD,wD=_d,SD=pv,CD=gv,OD=yl,PD=1,AD=2;function kD(e,t){return wD(e)&&SD(t)?CD(OD(e),t):function(r){var n=jD(r,e);return n===void 0&&n===t?_D(r,e):bD(t,n,PD|AD)}}var DD=kD;function ED(e){return e}var sa=ED;function TD(e){return function(t){return t==null?void 0:t[e]}}var $D=TD,MD=kd;function ID(e){return function(t){return MD(t,e)}}var WD=ID,ND=$D,zD=WD,LD=_d,BD=yl;function RD(e){return LD(e)?ND(BD(e)):zD(e)}var FD=RD,qD=aD,UD=DD,VD=sa,HD=Jt,KD=FD;function GD(e){return typeof e=="function"?e:e==null?VD:typeof e=="object"?HD(e)?UD(e[0],e[1]):qD(e):KD(e)}var Sn=GD;function XD(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var mv=XD;function YD(e){return e!==e}var JD=YD;function QD(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var ZD=QD,eE=mv,tE=JD,rE=ZD;function nE(e,t,r){return t===t?rE(e,t,r):eE(e,tE,r)}var iE=nE,aE=iE;function oE(e,t){var r=e==null?0:e.length;return!!r&&aE(e,t,0)>-1}var sE=oE;function lE(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var cE=lE;function uE(){}var dE=uE,cc=dv,hE=dE,fE=Nd,pE=1/0,gE=cc&&1/fE(new cc([,-0]))[1]==pE?function(e){return new cc(e)}:hE,mE=gE,xE=tv,vE=sE,yE=cE,bE=nv,jE=mE,_E=Nd,wE=200;function SE(e,t,r){var n=-1,a=vE,o=e.length,s=!0,l=[],u=l;if(r)s=!1,a=yE;else if(o>=wE){var c=t?null:jE(e);if(c)return _E(c);s=!1,a=bE,u=new xE}else u=t?[]:l;e:for(;++n<o;){var d=e[n],h=t?t(d):d;if(d=r||d!==0?d:0,s&&h===h){for(var f=u.length;f--;)if(u[f]===h)continue e;t&&u.push(h),l.push(d)}else a(u,h,r)||(u!==l&&u.push(h),l.push(d))}return l}var CE=SE,OE=Sn,PE=CE;function AE(e,t){return e&&e.length?PE(e,OE(t)):[]}var kE=AE;const Mf=ut(kE);function xv(e,t,r){return t===!0?Mf(e,r):Ie(t)?Mf(e,t):e}function Ti(e){"@babel/helpers - typeof";return Ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ti(e)}var DE=["ref"];function If(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?If(Object(r),!0).forEach(function(n){Cl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):If(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yv(n.key),n)}}function TE(e,t,r){return t&&Wf(e.prototype,t),r&&Wf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $E(e,t,r){return t=vs(t),ME(e,vv()?Reflect.construct(t,r||[],vs(e).constructor):t.apply(e,r))}function ME(e,t){if(t&&(Ti(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IE(e)}function IE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vv=function(){return!!e})()}function vs(e){return vs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vs(e)}function WE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&su(e,t)}function su(e,t){return su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},su(e,t)}function Cl(e,t,r){return t=yv(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yv(e){var t=NE(e,"string");return Ti(t)=="symbol"?t:t+""}function NE(e,t){if(Ti(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ti(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zE(e,t){if(e==null)return{};var r=LE(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LE(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BE(e){return e.value}function RE(e,t){if(W.isValidElement(e))return W.cloneElement(e,t);if(typeof e=="function")return W.createElement(e,t);t.ref;var r=zE(t,DE);return W.createElement(Wd,r)}var Nf=1,Hn=function(e){function t(){var r;EE(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=$E(this,t,[].concat(a)),Cl(r,"lastBoundingBox",{width:-1,height:-1}),r}return WE(t,e),TE(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Nf||Math.abs(a.height-this.lastBoundingBox.height)>Nf)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,s=a.align,l=a.verticalAlign,u=a.margin,c=a.chartWidth,d=a.chartHeight,h,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();h={left:((c||0)-p.width)/2}}else h=s==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();f={top:((d||0)-m.height)/2}}else f=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Vr(Vr({},h),f)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,s=a.width,l=a.height,u=a.wrapperStyle,c=a.payloadUniqBy,d=a.payload,h=Vr(Vr({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return W.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){n.wrapperNode=p}},RE(o,Vr(Vr({},this.props),{},{payload:xv(d,c,BE)})))}}],[{key:"getWithHeight",value:function(n,a){var o=Vr(Vr({},this.defaultProps),n.props),s=o.layout;return s==="vertical"&&re(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(g.PureComponent);Cl(Hn,"displayName","Legend");Cl(Hn,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zf=yd,FE=zd,qE=Jt,Lf=zf?zf.isConcatSpreadable:void 0;function UE(e){return qE(e)||FE(e)||!!(Lf&&e&&e[Lf])}var VE=UE,HE=av,KE=VE;function bv(e,t,r,n,a){var o=-1,s=e.length;for(r||(r=KE),a||(a=[]);++o<s;){var l=e[o];t>0&&r(l)?t>1?bv(l,t-1,r,n,a):HE(a,l):n||(a[a.length]=l)}return a}var jv=bv;function GE(e){return function(t,r,n){for(var a=-1,o=Object(t),s=n(t),l=s.length;l--;){var u=s[e?l:++a];if(r(o[u],u,o)===!1)break}return t}}var XE=GE,YE=XE,JE=YE(),QE=JE,ZE=QE,eT=Sl;function tT(e,t){return e&&ZE(e,t,eT)}var _v=tT,rT=Ao;function nT(e,t){return function(r,n){if(r==null)return r;if(!rT(r))return e(r,n);for(var a=r.length,o=t?a:-1,s=Object(r);(t?o--:++o<a)&&n(s[o],o,s)!==!1;);return r}}var iT=nT,aT=_v,oT=iT,sT=oT(aT),Fd=sT,lT=Fd,cT=Ao;function uT(e,t){var r=-1,n=cT(e)?Array(e.length):[];return lT(e,function(a,o,s){n[++r]=t(a,o,s)}),n}var wv=uT;function dT(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var hT=dT,Bf=jo;function fT(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,o=Bf(e),s=t!==void 0,l=t===null,u=t===t,c=Bf(t);if(!l&&!c&&!o&&e>t||o&&s&&u&&!l&&!c||n&&s&&u||!r&&u||!a)return 1;if(!n&&!o&&!c&&e<t||c&&r&&a&&!n&&!o||l&&r&&a||!s&&a||!u)return-1}return 0}var pT=fT,gT=pT;function mT(e,t,r){for(var n=-1,a=e.criteria,o=t.criteria,s=a.length,l=r.length;++n<s;){var u=gT(a[n],o[n]);if(u){if(n>=l)return u;var c=r[n];return u*(c=="desc"?-1:1)}}return e.index-t.index}var xT=mT,uc=Ad,vT=kd,yT=Sn,bT=wv,jT=hT,_T=lv,wT=xT,ST=sa,CT=Jt;function OT(e,t,r){t.length?t=uc(t,function(o){return CT(o)?function(s){return vT(s,o.length===1?o[0]:o)}:o}):t=[ST];var n=-1;t=uc(t,_T(yT));var a=bT(e,function(o,s,l){var u=uc(t,function(c){return c(o)});return{criteria:u,index:++n,value:o}});return jT(a,function(o,s){return wT(o,s,r)})}var PT=OT;function AT(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var kT=AT,DT=kT,Rf=Math.max;function ET(e,t,r){return t=Rf(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=Rf(n.length-t,0),s=Array(o);++a<o;)s[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(s),DT(e,this,l)}}var TT=ET;function $T(e){return function(){return e}}var MT=$T,IT=ai,WT=function(){try{var e=IT(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Sv=WT,NT=MT,Ff=Sv,zT=sa,LT=Ff?function(e,t){return Ff(e,"toString",{configurable:!0,enumerable:!1,value:NT(t),writable:!0})}:zT,BT=LT,RT=800,FT=16,qT=Date.now;function UT(e){var t=0,r=0;return function(){var n=qT(),a=FT-(n-r);if(r=n,a>0){if(++t>=RT)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var VT=UT,HT=BT,KT=VT,GT=KT(HT),XT=GT,YT=sa,JT=TT,QT=XT;function ZT(e,t){return QT(JT(e,t,YT),e+"")}var e$=ZT,t$=Sd,r$=Ao,n$=Ld,i$=ul;function a$(e,t,r){if(!i$(r))return!1;var n=typeof t;return(n=="number"?r$(r)&&n$(t,r.length):n=="string"&&t in r)?t$(r[t],e):!1}var Ol=a$,o$=jv,s$=PT,l$=e$,qf=Ol,c$=l$(function(e,t){if(e==null)return[];var r=t.length;return r>1&&qf(e,t[0],t[1])?t=[]:r>2&&qf(t[0],t[1],t[2])&&(t=[t[0]]),s$(e,o$(t,1),[])}),u$=c$;const qd=ut(u$);function Ta(e){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ta(e)}function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lu.apply(this,arguments)}function d$(e,t){return g$(e)||p$(e,t)||f$(e,t)||h$()}function h$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$(e,t){if(e){if(typeof e=="string")return Uf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uf(e,t)}}function Uf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(d){c=!0,a=d}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function g$(e){if(Array.isArray(e))return e}function Vf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vf(Object(r),!0).forEach(function(n){m$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m$(e,t,r){return t=x$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x$(e){var t=v$(e,"string");return Ta(t)=="symbol"?t:t+""}function v$(e,t){if(Ta(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ta(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y$(e){return Array.isArray(e)&&At(e[0])&&At(e[1])?e.join(" ~ "):e}var b$=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,o=a===void 0?{}:a,s=t.itemStyle,l=s===void 0?{}:s,u=t.labelStyle,c=u===void 0?{}:u,d=t.payload,h=t.formatter,f=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,x=t.label,v=t.labelFormatter,b=t.accessibilityLayer,_=b===void 0?!1:b,w=function(){if(d&&d.length){var E={padding:0,margin:0},z=(f?qd(d,f):d).map(function(B,F){if(B.type==="none")return null;var U=dc({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),R=B.formatter||h||y$,H=B.value,X=B.name,ee=H,ue=X;if(R&&ee!=null&&ue!=null){var J=R(H,X,B,F,d);if(Array.isArray(J)){var le=d$(J,2);ee=le[0],ue=le[1]}else ee=J}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:U},At(ue)?W.createElement("span",{className:"recharts-tooltip-item-name"},ue):null,At(ue)?W.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,W.createElement("span",{className:"recharts-tooltip-item-value"},ee),W.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:E},z)}return null},S=dc({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),y=dc({margin:0},c),j=!Re(x),C=j?x:"",P=ze("recharts-default-tooltip",p),A=ze("recharts-tooltip-label",m);j&&v&&d!==void 0&&d!==null&&(C=v(x,d));var T=_?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",lu({className:P,style:S},T),W.createElement("p",{className:A,style:y},W.isValidElement(C)?C:"".concat(C)),w())};function $a(e){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(e)}function Bo(e,t,r){return t=j$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j$(e){var t=_$(e,"string");return $a(t)=="symbol"?t:t+""}function _$(e,t){if($a(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($a(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ha="recharts-tooltip-wrapper",w$={visibility:"hidden"};function S$(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ze(ha,Bo(Bo(Bo(Bo({},"".concat(ha,"-right"),re(r)&&t&&re(t.x)&&r>=t.x),"".concat(ha,"-left"),re(r)&&t&&re(t.x)&&r<t.x),"".concat(ha,"-bottom"),re(n)&&t&&re(t.y)&&n>=t.y),"".concat(ha,"-top"),re(n)&&t&&re(t.y)&&n<t.y))}function Hf(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,o=e.position,s=e.reverseDirection,l=e.tooltipDimension,u=e.viewBox,c=e.viewBoxDimension;if(o&&re(o[n]))return o[n];var d=r[n]-l-a,h=r[n]+a;if(t[n])return s[n]?d:h;if(s[n]){var f=d,p=u[n];return f<p?Math.max(h,u[n]):Math.max(d,u[n])}var m=h+l,x=u[n]+c;return m>x?Math.max(d,u[n]):Math.max(h,u[n])}function C$(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function O$(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,u=e.viewBox,c,d,h;return s.height>0&&s.width>0&&r?(d=Hf({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),h=Hf({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),c=C$({translateX:d,translateY:h,useTranslate3d:l})):c=w$,{cssProperties:c,cssClasses:S$({translateX:d,translateY:h,coordinate:r})}}function $i(e){"@babel/helpers - typeof";return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(e)}function Kf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kf(Object(r),!0).forEach(function(n){uu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ov(n.key),n)}}function k$(e,t,r){return t&&A$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D$(e,t,r){return t=ys(t),E$(e,Cv()?Reflect.construct(t,r||[],ys(e).constructor):t.apply(e,r))}function E$(e,t){if(t&&($i(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T$(e)}function T$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cv=function(){return!!e})()}function ys(e){return ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ys(e)}function $$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cu(e,t)}function cu(e,t){return cu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cu(e,t)}function uu(e,t,r){return t=Ov(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ov(e){var t=M$(e,"string");return $i(t)=="symbol"?t:t+""}function M$(e,t){if($i(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($i(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xf=1,I$=function(e){function t(){var r;P$(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=D$(this,t,[].concat(a)),uu(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uu(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,u,c,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),r}return $$(t,e),k$(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Xf||Math.abs(n.height-this.state.lastBoundingBox.height)>Xf)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,u=a.animationEasing,c=a.children,d=a.coordinate,h=a.hasPayload,f=a.isAnimationActive,p=a.offset,m=a.position,x=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,w=O$({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),S=w.cssClasses,y=w.cssProperties,j=Gf(Gf({transition:f&&o?"transform ".concat(l,"ms ").concat(u):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},_);return W.createElement("div",{tabIndex:-1,className:S,style:j,ref:function(P){n.wrapperNode=P}},c)}}])}(g.PureComponent),W$=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Zr={isSsr:W$(),get:function(t){return Zr[t]},set:function(t,r){if(typeof t=="string")Zr[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Zr[a]=t[a]})}}};function Mi(e){"@babel/helpers - typeof";return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(e)}function Yf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yf(Object(r),!0).forEach(function(n){Ud(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Av(n.key),n)}}function L$(e,t,r){return t&&z$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B$(e,t,r){return t=bs(t),R$(e,Pv()?Reflect.construct(t,r||[],bs(e).constructor):t.apply(e,r))}function R$(e,t){if(t&&(Mi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F$(e)}function F$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pv=function(){return!!e})()}function bs(e){return bs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bs(e)}function q$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&du(e,t)}function du(e,t){return du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},du(e,t)}function Ud(e,t,r){return t=Av(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Av(e){var t=U$(e,"string");return Mi(t)=="symbol"?t:t+""}function U$(e,t){if(Mi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V$(e){return e.dataKey}function H$(e,t){return W.isValidElement(e)?W.cloneElement(e,t):typeof e=="function"?W.createElement(e,t):W.createElement(b$,t)}var Nr=function(e){function t(){return N$(this,t),B$(this,t,arguments)}return q$(t,e),L$(t,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,u=a.animationEasing,c=a.content,d=a.coordinate,h=a.filterNull,f=a.isAnimationActive,p=a.offset,m=a.payload,x=a.payloadUniqBy,v=a.position,b=a.reverseDirection,_=a.useTranslate3d,w=a.viewBox,S=a.wrapperStyle,y=m??[];h&&y.length&&(y=xv(m.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),x,V$));var j=y.length>0;return W.createElement(I$,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:f,active:o,coordinate:d,hasPayload:j,offset:p,position:v,reverseDirection:b,useTranslate3d:_,viewBox:w,wrapperStyle:S},H$(c,Jf(Jf({},this.props),{},{payload:y})))}}])}(g.PureComponent);Ud(Nr,"displayName","Tooltip");Ud(Nr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Zr.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});function Ma(e){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ma(e)}function Qf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qf(Object(r),!0).forEach(function(n){K$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K$(e,t,r){return t=G$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G$(e){var t=X$(e,"string");return Ma(t)=="symbol"?t:t+""}function X$(e,t){if(Ma(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ma(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y$(e,t){return eM(e)||Z$(e,t)||Q$(e,t)||J$()}function J$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q$(e,t){if(e){if(typeof e=="string")return Zf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zf(e,t)}}function Zf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(d){c=!0,a=d}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function eM(e){if(Array.isArray(e))return e}var tM=g.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=e.width,s=o===void 0?"100%":o,l=e.height,u=l===void 0?"100%":l,c=e.minWidth,d=c===void 0?0:c,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,x=m===void 0?0:m,v=e.id,b=e.className,_=e.onResize,w=e.style,S=w===void 0?{}:w,y=g.useRef(null),j=g.useRef();j.current=_,g.useImperativeHandle(t,function(){return Object.defineProperty(y.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),y.current},configurable:!0})});var C=g.useState({containerWidth:a.width,containerHeight:a.height}),P=Y$(C,2),A=P[0],T=P[1],k=g.useCallback(function(z,B){T(function(F){var U=Math.round(z),R=Math.round(B);return F.containerWidth===U&&F.containerHeight===R?F:{containerWidth:U,containerHeight:R}})},[]);g.useEffect(function(){var z=function(X){var ee,ue=X[0].contentRect,J=ue.width,le=ue.height;k(J,le),(ee=j.current)===null||ee===void 0||ee.call(j,J,le)};x>0&&(z=hx(z,x,{trailing:!0,leading:!1}));var B=new ResizeObserver(z),F=y.current.getBoundingClientRect(),U=F.width,R=F.height;return k(U,R),B.observe(y.current),function(){B.disconnect()}},[k,x]);var E=g.useMemo(function(){var z=A.containerWidth,B=A.containerHeight;if(z<0||B<0)return null;Qr(In(s)||In(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,u),Qr(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=In(s)?z:s,U=In(u)?B:u;r&&r>0&&(F?U=F/r:U&&(F=U*r),f&&U>f&&(U=f)),Qr(F>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,U,s,u,d,h,r);var R=!Array.isArray(p)&&Jr(p.type).endsWith("Chart");return W.Children.map(p,function(H){return W.isValidElement(H)?g.cloneElement(H,Ro({width:F,height:U},R?{style:Ro({height:"100%",width:"100%",maxHeight:U,maxWidth:F},H.props.style)}:{})):H})},[r,p,u,f,h,d,A,s]);return W.createElement("div",{id:v?"".concat(v):void 0,className:ze("recharts-responsive-container",b),style:Ro(Ro({},S),{},{width:s,height:u,minWidth:d,minHeight:h,maxHeight:f}),ref:y},E)}),kv=function(t){return null};kv.displayName="Cell";function Ia(e){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ia(e)}function ep(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ep(Object(r),!0).forEach(function(n){rM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ep(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rM(e,t,r){return t=nM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nM(e){var t=iM(e,"string");return Ia(t)=="symbol"?t:t+""}function iM(e,t){if(Ia(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ia(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hi={widthCache:{},cacheCount:0},aM=2e3,oM={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tp="recharts_measurement_span";function sM(e){var t=hu({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Sa=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Zr.isSsr)return{width:0,height:0};var n=sM(r),a=JSON.stringify({text:t,copyStyle:n});if(hi.widthCache[a])return hi.widthCache[a];try{var o=document.getElementById(tp);o||(o=document.createElement("span"),o.setAttribute("id",tp),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=hu(hu({},oM),n);Object.assign(o.style,s),o.textContent="".concat(t);var l=o.getBoundingClientRect(),u={width:l.width,height:l.height};return hi.widthCache[a]=u,++hi.cacheCount>aM&&(hi.cacheCount=0,hi.widthCache={}),u}catch{return{width:0,height:0}}},lM=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Wa(e){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(e)}function js(e,t){return hM(e)||dM(e,t)||uM(e,t)||cM()}function cM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uM(e,t){if(e){if(typeof e=="string")return rp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rp(e,t)}}function rp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dM(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(d){c=!0,a=d}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function hM(e){if(Array.isArray(e))return e}function fM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function np(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gM(n.key),n)}}function pM(e,t,r){return t&&np(e.prototype,t),r&&np(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gM(e){var t=mM(e,"string");return Wa(t)=="symbol"?t:t+""}function mM(e,t){if(Wa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ip=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ap=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xM=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vM=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Dv={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},yM=Object.keys(Dv),ji="NaN";function bM(e,t){return e*Dv[t]}var Fo=function(){function e(t,r){fM(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!xM.test(r)&&(this.num=NaN,this.unit=""),yM.includes(r)&&(this.num=bM(t,r),this.unit="px")}return pM(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=vM.exec(r))!==null&&n!==void 0?n:[],o=js(a,3),s=o[1],l=o[2];return new e(parseFloat(s),l??"")}}])}();function Ev(e){if(e.includes(ji))return ji;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=ip.exec(t))!==null&&r!==void 0?r:[],a=js(n,4),o=a[1],s=a[2],l=a[3],u=Fo.parse(o??""),c=Fo.parse(l??""),d=s==="*"?u.multiply(c):u.divide(c);if(d.isNaN())return ji;t=t.replace(ip,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=ap.exec(t))!==null&&h!==void 0?h:[],p=js(f,4),m=p[1],x=p[2],v=p[3],b=Fo.parse(m??""),_=Fo.parse(v??""),w=x==="+"?b.add(_):b.subtract(_);if(w.isNaN())return ji;t=t.replace(ap,w.toString())}return t}var op=/\(([^()]*)\)/;function jM(e){for(var t=e;t.includes("(");){var r=op.exec(t),n=js(r,2),a=n[1];t=t.replace(op,Ev(a))}return t}function _M(e){var t=e.replace(/\s+/g,"");return t=jM(t),t=Ev(t),t}function wM(e){try{return _M(e)}catch{return ji}}function hc(e){var t=wM(e.slice(5,-1));return t===ji?"":t}var SM=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],CM=["dx","dy","angle","className","breakAll"];function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fu.apply(this,arguments)}function sp(e,t){if(e==null)return{};var r=OM(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lp(e,t){return DM(e)||kM(e,t)||AM(e,t)||PM()}function PM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AM(e,t){if(e){if(typeof e=="string")return cp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cp(e,t)}}function cp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kM(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(d){c=!0,a=d}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function DM(e){if(Array.isArray(e))return e}var Tv=/[ \f\n\r\t\v\u2028\u2029]+/,$v=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var o=[];Re(r)||(n?o=r.toString().split(""):o=r.toString().split(Tv));var s=o.map(function(u){return{word:u,width:Sa(u,a).width}}),l=n?0:Sa("",a).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},EM=function(t,r,n,a,o){var s=t.maxLines,l=t.children,u=t.style,c=t.breakAll,d=re(s),h=l,f=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(U,R){var H=R.word,X=R.width,ee=U[U.length-1];if(ee&&(a==null||o||ee.width+X+n<Number(a)))ee.words.push(H),ee.width+=X+n;else{var ue={words:[H],width:X};U.push(ue)}return U},[])},p=f(r),m=function(F){return F.reduce(function(U,R){return U.width>R.width?U:R})};if(!d)return p;for(var x="",v=function(F){var U=h.slice(0,F),R=$v({breakAll:c,style:u,children:U+x}).wordsWithComputedWidth,H=f(R),X=H.length>s||m(H).width>Number(a);return[X,H]},b=0,_=h.length-1,w=0,S;b<=_&&w<=h.length-1;){var y=Math.floor((b+_)/2),j=y-1,C=v(j),P=lp(C,2),A=P[0],T=P[1],k=v(y),E=lp(k,1),z=E[0];if(!A&&!z&&(b=y+1),A&&z&&(_=y-1),!A&&z){S=T;break}w++}return S||p},up=function(t){var r=Re(t)?[]:t.toString().split(Tv);return[{words:r}]},TM=function(t){var r=t.width,n=t.scaleToFit,a=t.children,o=t.style,s=t.breakAll,l=t.maxLines;if((r||n)&&!Zr.isSsr){var u,c,d=$v({breakAll:s,children:a,style:o});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;u=h,c=f}else return up(a);return EM({breakAll:s,children:a,maxLines:l,style:o},u,c,r,n)}return up(a)},dp="#808080",_s=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,s=t.lineHeight,l=s===void 0?"1em":s,u=t.capHeight,c=u===void 0?"0.71em":u,d=t.scaleToFit,h=d===void 0?!1:d,f=t.textAnchor,p=f===void 0?"start":f,m=t.verticalAnchor,x=m===void 0?"end":m,v=t.fill,b=v===void 0?dp:v,_=sp(t,SM),w=g.useMemo(function(){return TM({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:h,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,h,_.style,_.width]),S=_.dx,y=_.dy,j=_.angle,C=_.className,P=_.breakAll,A=sp(_,CM);if(!At(n)||!At(o))return null;var T=n+(re(S)?S:0),k=o+(re(y)?y:0),E;switch(x){case"start":E=hc("calc(".concat(c,")"));break;case"middle":E=hc("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:E=hc("calc(".concat(w.length-1," * -").concat(l,")"));break}var z=[];if(h){var B=w[0].width,F=_.width;z.push("scale(".concat((re(F)?F/B:1)/B,")"))}return j&&z.push("rotate(".concat(j,", ").concat(T,", ").concat(k,")")),z.length&&(A.transform=z.join(" ")),W.createElement("text",fu({},qe(A,!0),{x:T,y:k,className:ze("recharts-text",C),textAnchor:p,fill:b.includes("url")?dp:b}),w.map(function(U,R){var H=U.words.join(P?"":" ");return W.createElement("tspan",{x:T,dy:R===0?E:l,key:"".concat(H,"-").concat(R)},H)}))};function fn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $M(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vd(e){let t,r,n;e.length!==2?(t=fn,r=(l,u)=>fn(e(l),u),n=(l,u)=>e(l)-u):(t=e===fn||e===$M?e:MM,r=e,n=e);function a(l,u,c=0,d=l.length){if(c<d){if(t(u,u)!==0)return d;do{const h=c+d>>>1;r(l[h],u)<0?c=h+1:d=h}while(c<d)}return c}function o(l,u,c=0,d=l.length){if(c<d){if(t(u,u)!==0)return d;do{const h=c+d>>>1;r(l[h],u)<=0?c=h+1:d=h}while(c<d)}return c}function s(l,u,c=0,d=l.length){const h=a(l,u,c,d-1);return h>c&&n(l[h-1],u)>-n(l[h],u)?h-1:h}return{left:a,center:s,right:o}}function MM(){return 0}function Mv(e){return e===null?NaN:+e}function*IM(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const WM=Vd(fn),ko=WM.right;Vd(Mv).center;class hp extends Map{constructor(t,r=LM){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(fp(this,t))}has(t){return super.has(fp(this,t))}set(t,r){return super.set(NM(this,t),r)}delete(t){return super.delete(zM(this,t))}}function fp({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function NM({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function zM({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function LM(e){return e!==null&&typeof e=="object"?e.valueOf():e}function BM(e=fn){if(e===fn)return Iv;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Iv(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const RM=Math.sqrt(50),FM=Math.sqrt(10),qM=Math.sqrt(2);function ws(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),s=o>=RM?10:o>=FM?5:o>=qM?2:1;let l,u,c;return a<0?(c=Math.pow(10,-a)/s,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,a)*s,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=r&&r<2?ws(e,t,r*2):[l,u,c]}function pu(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,s]=n?ws(t,e,r):ws(e,t,r);if(!(o>=a))return[];const l=o-a+1,u=new Array(l);if(n)if(s<0)for(let c=0;c<l;++c)u[c]=(o-c)/-s;else for(let c=0;c<l;++c)u[c]=(o-c)*s;else if(s<0)for(let c=0;c<l;++c)u[c]=(a+c)/-s;else for(let c=0;c<l;++c)u[c]=(a+c)*s;return u}function gu(e,t,r){return t=+t,e=+e,r=+r,ws(e,t,r)[2]}function mu(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?gu(t,e,r):gu(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function pp(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function gp(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Wv(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Iv:BM(a);n>r;){if(n-r>600){const u=n-r+1,c=t-r+1,d=Math.log(u),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(u-h)/u)*(c-u/2<0?-1:1),p=Math.max(r,Math.floor(t-c*h/u+f)),m=Math.min(n,Math.floor(t+(u-c)*h/u+f));Wv(e,t,p,m,a)}const o=e[t];let s=r,l=n;for(fa(e,r,t),a(e[n],o)>0&&fa(e,r,n);s<l;){for(fa(e,s,l),++s,--l;a(e[s],o)<0;)++s;for(;a(e[l],o)>0;)--l}a(e[r],o)===0?fa(e,r,l):(++l,fa(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function fa(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function UM(e,t,r){if(e=Float64Array.from(IM(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return gp(e);if(t>=1)return pp(e);var n,a=(n-1)*t,o=Math.floor(a),s=pp(Wv(e,o).subarray(0,o+1)),l=gp(e.subarray(o+1));return s+(l-s)*(a-o)}}function VM(e,t,r=Mv){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),s=+r(e[o],o,e),l=+r(e[o+1],o+1,e);return s+(l-s)*(a-o)}}function HM(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}function br(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ln(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const xu=Symbol("implicit");function Hd(){var e=new hp,t=[],r=[],n=xu;function a(o){let s=e.get(o);if(s===void 0){if(n!==xu)return n;e.set(o,s=t.push(o)-1)}return r[s%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new hp;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Hd(t,r).unknown(n)},br.apply(a,arguments),a}function Na(){var e=Hd().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,s,l=!1,u=0,c=0,d=.5;delete e.unknown;function h(){var f=t().length,p=a<n,m=p?a:n,x=p?n:a;o=(x-m)/Math.max(1,f-u+c*2),l&&(o=Math.floor(o)),m+=(x-m-o*(f-u))*d,s=o*(1-u),l&&(m=Math.round(m),s=Math.round(s));var v=HM(f).map(function(b){return m+o*b});return r(p?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([n,a]=f,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(f){return[n,a]=f,n=+n,a=+a,l=!0,h()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(u=Math.min(1,c=+f),h()):u},e.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),h()):u},e.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},e.copy=function(){return Na(t(),[n,a]).round(l).paddingInner(u).paddingOuter(c).align(d)},br.apply(h(),arguments)}function Nv(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Nv(t())},e}function Ca(){return Nv(Na.apply(null,arguments).paddingInner(1))}function Kd(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function zv(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Do(){}var za=.7,Ss=1/za,Oi="\\s*([+-]?\\d+)\\s*",La="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Br="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KM=/^#([0-9a-f]{3,8})$/,GM=new RegExp(`^rgb\\(${Oi},${Oi},${Oi}\\)$`),XM=new RegExp(`^rgb\\(${Br},${Br},${Br}\\)$`),YM=new RegExp(`^rgba\\(${Oi},${Oi},${Oi},${La}\\)$`),JM=new RegExp(`^rgba\\(${Br},${Br},${Br},${La}\\)$`),QM=new RegExp(`^hsl\\(${La},${Br},${Br}\\)$`),ZM=new RegExp(`^hsla\\(${La},${Br},${Br},${La}\\)$`),mp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kd(Do,Ba,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xp,formatHex:xp,formatHex8:eI,formatHsl:tI,formatRgb:vp,toString:vp});function xp(){return this.rgb().formatHex()}function eI(){return this.rgb().formatHex8()}function tI(){return Lv(this).formatHsl()}function vp(){return this.rgb().formatRgb()}function Ba(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=KM.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?yp(t):r===3?new Ht(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?qo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?qo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GM.exec(e))?new Ht(t[1],t[2],t[3],1):(t=XM.exec(e))?new Ht(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=YM.exec(e))?qo(t[1],t[2],t[3],t[4]):(t=JM.exec(e))?qo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=QM.exec(e))?_p(t[1],t[2]/100,t[3]/100,1):(t=ZM.exec(e))?_p(t[1],t[2]/100,t[3]/100,t[4]):mp.hasOwnProperty(e)?yp(mp[e]):e==="transparent"?new Ht(NaN,NaN,NaN,0):null}function yp(e){return new Ht(e>>16&255,e>>8&255,e&255,1)}function qo(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ht(e,t,r,n)}function rI(e){return e instanceof Do||(e=Ba(e)),e?(e=e.rgb(),new Ht(e.r,e.g,e.b,e.opacity)):new Ht}function vu(e,t,r,n){return arguments.length===1?rI(e):new Ht(e,t,r,n??1)}function Ht(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Kd(Ht,vu,zv(Do,{brighter(e){return e=e==null?Ss:Math.pow(Ss,e),new Ht(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?za:Math.pow(za,e),new Ht(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ht(Kn(this.r),Kn(this.g),Kn(this.b),Cs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bp,formatHex:bp,formatHex8:nI,formatRgb:jp,toString:jp}));function bp(){return`#${Wn(this.r)}${Wn(this.g)}${Wn(this.b)}`}function nI(){return`#${Wn(this.r)}${Wn(this.g)}${Wn(this.b)}${Wn((isNaN(this.opacity)?1:this.opacity)*255)}`}function jp(){const e=Cs(this.opacity);return`${e===1?"rgb(":"rgba("}${Kn(this.r)}, ${Kn(this.g)}, ${Kn(this.b)}${e===1?")":`, ${e})`}`}function Cs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wn(e){return e=Kn(e),(e<16?"0":"")+e.toString(16)}function _p(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ar(e,t,r,n)}function Lv(e){if(e instanceof Ar)return new Ar(e.h,e.s,e.l,e.opacity);if(e instanceof Do||(e=Ba(e)),!e)return new Ar;if(e instanceof Ar)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),s=NaN,l=o-a,u=(o+a)/2;return l?(t===o?s=(r-n)/l+(r<n)*6:r===o?s=(n-t)/l+2:s=(t-r)/l+4,l/=u<.5?o+a:2-o-a,s*=60):l=u>0&&u<1?0:s,new Ar(s,l,u,e.opacity)}function iI(e,t,r,n){return arguments.length===1?Lv(e):new Ar(e,t,r,n??1)}function Ar(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Kd(Ar,iI,zv(Do,{brighter(e){return e=e==null?Ss:Math.pow(Ss,e),new Ar(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?za:Math.pow(za,e),new Ar(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ht(fc(e>=240?e-240:e+120,a,n),fc(e,a,n),fc(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ar(wp(this.h),Uo(this.s),Uo(this.l),Cs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cs(this.opacity);return`${e===1?"hsl(":"hsla("}${wp(this.h)}, ${Uo(this.s)*100}%, ${Uo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function wp(e){return e=(e||0)%360,e<0?e+360:e}function Uo(e){return Math.max(0,Math.min(1,e||0))}function fc(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Gd=e=>()=>e;function aI(e,t){return function(r){return e+r*t}}function oI(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function sI(e){return(e=+e)==1?Bv:function(t,r){return r-t?oI(t,r,e):Gd(isNaN(t)?r:t)}}function Bv(e,t){var r=t-e;return r?aI(e,r):Gd(isNaN(e)?t:e)}const Sp=function e(t){var r=sI(t);function n(a,o){var s=r((a=vu(a)).r,(o=vu(o)).r),l=r(a.g,o.g),u=r(a.b,o.b),c=Bv(a.opacity,o.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=u(d),a.opacity=c(d),a+""}}return n.gamma=e,n}(1);function lI(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function cI(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uI(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)a[s]=la(e[s],t[s]);for(;s<r;++s)o[s]=t[s];return function(l){for(s=0;s<n;++s)o[s]=a[s](l);return o}}function dI(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Os(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function hI(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=la(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var yu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pc=new RegExp(yu.source,"g");function fI(e){return function(){return e}}function pI(e){return function(t){return e(t)+""}}function gI(e,t){var r=yu.lastIndex=pc.lastIndex=0,n,a,o,s=-1,l=[],u=[];for(e=e+"",t=t+"";(n=yu.exec(e))&&(a=pc.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),l[s]?l[s]+=o:l[++s]=o),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,u.push({i:s,x:Os(n,a)})),r=pc.lastIndex;return r<t.length&&(o=t.slice(r),l[s]?l[s]+=o:l[++s]=o),l.length<2?u[0]?pI(u[0].x):fI(t):(t=u.length,function(c){for(var d=0,h;d<t;++d)l[(h=u[d]).i]=h.x(c);return l.join("")})}function la(e,t){var r=typeof t,n;return t==null||r==="boolean"?Gd(t):(r==="number"?Os:r==="string"?(n=Ba(t))?(t=n,Sp):gI:t instanceof Ba?Sp:t instanceof Date?dI:cI(t)?lI:Array.isArray(t)?uI:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?hI:Os)(e,t)}function Xd(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function mI(e,t){t===void 0&&(t=e,e=la);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return o[l](s-l)}}function xI(e){return function(){return e}}function Ps(e){return+e}var Cp=[0,1];function Ut(e){return e}function bu(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:xI(isNaN(t)?NaN:.5)}function vI(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function yI(e,t,r){var n=e[0],a=e[1],o=t[0],s=t[1];return a<n?(n=bu(a,n),o=r(s,o)):(n=bu(n,a),o=r(o,s)),function(l){return o(n(l))}}function bI(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=bu(e[s],e[s+1]),o[s]=r(t[s],t[s+1]);return function(l){var u=ko(e,l,1,n)-1;return o[u](a[u](l))}}function Eo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pl(){var e=Cp,t=Cp,r=la,n,a,o,s=Ut,l,u,c;function d(){var f=Math.min(e.length,t.length);return s!==Ut&&(s=vI(e[0],e[f-1])),l=f>2?bI:yI,u=c=null,h}function h(f){return f==null||isNaN(f=+f)?o:(u||(u=l(e.map(n),t,r)))(n(s(f)))}return h.invert=function(f){return s(a((c||(c=l(t,e.map(n),Os)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,Ps),d()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),r=Xd,d()},h.clamp=function(f){return arguments.length?(s=f?!0:Ut,d()):s!==Ut},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,p){return n=f,a=p,d()}}function Yd(){return Pl()(Ut,Ut)}function jI(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function As(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ii(e){return e=As(Math.abs(e)),e?e[1]:NaN}function _I(e,t){return function(r,n){for(var a=r.length,o=[],s=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),o.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[s=(s+1)%e.length];return o.reverse().join(t)}}function wI(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var SI=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ra(e){if(!(t=SI.exec(e)))throw new Error("invalid format: "+e);var t;return new Jd({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ra.prototype=Jd.prototype;function Jd(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Jd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function CI(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Rv;function OI(e,t){var r=As(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(Rv=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+As(e,Math.max(0,t+o-1))[0]}function Op(e,t){var r=As(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Pp={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jI,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Op(e*100,t),r:Op,s:OI,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ap(e){return e}var kp=Array.prototype.map,Dp=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function PI(e){var t=e.grouping===void 0||e.thousands===void 0?Ap:_I(kp.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Ap:wI(kp.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(h){h=Ra(h);var f=h.fill,p=h.align,m=h.sign,x=h.symbol,v=h.zero,b=h.width,_=h.comma,w=h.precision,S=h.trim,y=h.type;y==="n"?(_=!0,y="g"):Pp[y]||(w===void 0&&(w=12),S=!0,y="g"),(v||f==="0"&&p==="=")&&(v=!0,f="0",p="=");var j=x==="$"?r:x==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",C=x==="$"?n:/[%p]/.test(y)?s:"",P=Pp[y],A=/[defgprs%]/.test(y);w=w===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(k){var E=j,z=C,B,F,U;if(y==="c")z=P(k)+z,k="";else{k=+k;var R=k<0||1/k<0;if(k=isNaN(k)?u:P(Math.abs(k),w),S&&(k=CI(k)),R&&+k==0&&m!=="+"&&(R=!1),E=(R?m==="("?m:l:m==="-"||m==="("?"":m)+E,z=(y==="s"?Dp[8+Rv/3]:"")+z+(R&&m==="("?")":""),A){for(B=-1,F=k.length;++B<F;)if(U=k.charCodeAt(B),48>U||U>57){z=(U===46?a+k.slice(B+1):k.slice(B))+z,k=k.slice(0,B);break}}}_&&!v&&(k=t(k,1/0));var H=E.length+k.length+z.length,X=H<b?new Array(b-H+1).join(f):"";switch(_&&v&&(k=t(X+k,X.length?b-z.length:1/0),X=""),p){case"<":k=E+k+z+X;break;case"=":k=E+X+k+z;break;case"^":k=X.slice(0,H=X.length>>1)+E+k+z+X.slice(H);break;default:k=X+E+k+z;break}return o(k)}return T.toString=function(){return h+""},T}function d(h,f){var p=c((h=Ra(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(Ii(f)/3)))*3,x=Math.pow(10,-m),v=Dp[8+m/3];return function(b){return p(x*b)+v}}return{format:c,formatPrefix:d}}var Vo,Qd,Fv;AI({thousands:",",grouping:[3],currency:["$",""]});function AI(e){return Vo=PI(e),Qd=Vo.format,Fv=Vo.formatPrefix,Vo}function kI(e){return Math.max(0,-Ii(Math.abs(e)))}function DI(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ii(t)/3)))*3-Ii(Math.abs(e)))}function EI(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ii(t)-Ii(e))+1}function qv(e,t,r,n){var a=mu(e,t,r),o;switch(n=Ra(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=DI(a,s))&&(n.precision=o),Fv(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=EI(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=kI(a))&&(n.precision=o-(n.type==="%")*2);break}}return Qd(n)}function Cn(e){var t=e.domain;return e.ticks=function(r){var n=t();return pu(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return qv(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,s=n[a],l=n[o],u,c,d=10;for(l<s&&(c=s,s=l,l=c,c=a,a=o,o=c);d-- >0;){if(c=gu(s,l,r),c===u)return n[a]=s,n[o]=l,t(n);if(c>0)s=Math.floor(s/c)*c,l=Math.ceil(l/c)*c;else if(c<0)s=Math.ceil(s*c)/c,l=Math.floor(l*c)/c;else break;u=c}return e},e}function ks(){var e=Yd();return e.copy=function(){return Eo(e,ks())},br.apply(e,arguments),Cn(e)}function Uv(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ps),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Uv(e).unknown(t)},e=arguments.length?Array.from(e,Ps):[0,1],Cn(r)}function Vv(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],s;return o<a&&(s=r,r=n,n=s,s=a,a=o,o=s),e[r]=t.floor(a),e[n]=t.ceil(o),e}function Ep(e){return Math.log(e)}function Tp(e){return Math.exp(e)}function TI(e){return-Math.log(-e)}function $I(e){return-Math.exp(-e)}function MI(e){return isFinite(e)?+("1e"+e):e<0?0:e}function II(e){return e===10?MI:e===Math.E?Math.exp:t=>Math.pow(e,t)}function WI(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $p(e){return(t,r)=>-e(-t,r)}function Zd(e){const t=e(Ep,Tp),r=t.domain;let n=10,a,o;function s(){return a=WI(n),o=II(n),r()[0]<0?(a=$p(a),o=$p(o),e(TI,$I)):e(Ep,Tp),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const u=r();let c=u[0],d=u[u.length-1];const h=d<c;h&&([c,d]=[d,c]);let f=a(c),p=a(d),m,x;const v=l==null?10:+l;let b=[];if(!(n%1)&&p-f<v){if(f=Math.floor(f),p=Math.ceil(p),c>0){for(;f<=p;++f)for(m=1;m<n;++m)if(x=f<0?m/o(-f):m*o(f),!(x<c)){if(x>d)break;b.push(x)}}else for(;f<=p;++f)for(m=n-1;m>=1;--m)if(x=f>0?m/o(-f):m*o(f),!(x<c)){if(x>d)break;b.push(x)}b.length*2<v&&(b=pu(c,d,v))}else b=pu(f,p,Math.min(p-f,v)).map(o);return h?b.reverse():b},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Ra(u)).precision==null&&(u.trim=!0),u=Qd(u)),l===1/0)return u;const c=Math.max(1,n*l/t.ticks().length);return d=>{let h=d/o(Math.round(a(d)));return h*n<n-.5&&(h*=n),h<=c?u(d):""}},t.nice=()=>r(Vv(r(),{floor:l=>o(Math.floor(a(l))),ceil:l=>o(Math.ceil(a(l)))})),t}function Hv(){const e=Zd(Pl()).domain([1,10]);return e.copy=()=>Eo(e,Hv()).base(e.base()),br.apply(e,arguments),e}function Mp(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ip(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function eh(e){var t=1,r=e(Mp(t),Ip(t));return r.constant=function(n){return arguments.length?e(Mp(t=+n),Ip(t)):t},Cn(r)}function Kv(){var e=eh(Pl());return e.copy=function(){return Eo(e,Kv()).constant(e.constant())},br.apply(e,arguments)}function Wp(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function NI(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zI(e){return e<0?-e*e:e*e}function th(e){var t=e(Ut,Ut),r=1;function n(){return r===1?e(Ut,Ut):r===.5?e(NI,zI):e(Wp(r),Wp(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Cn(t)}function rh(){var e=th(Pl());return e.copy=function(){return Eo(e,rh()).exponent(e.exponent())},br.apply(e,arguments),e}function LI(){return rh.apply(null,arguments).exponent(.5)}function Np(e){return Math.sign(e)*e*e}function BI(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Gv(){var e=Yd(),t=[0,1],r=!1,n;function a(o){var s=BI(e(o));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(o){return e.invert(Np(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Ps)).map(Np)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Gv(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},br.apply(a,arguments),Cn(a)}function Xv(){var e=[],t=[],r=[],n;function a(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=VM(e,s/l);return o}function o(s){return s==null||isNaN(s=+s)?n:t[ko(r,s)]}return o.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(fn),a()},o.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return Xv().domain(e).range(t).unknown(n)},br.apply(o,arguments)}function Yv(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function s(u){return u!=null&&u<=u?a[ko(n,u,0,r)]:o}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},s.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,l()):a.slice()},s.invertExtent=function(u){var c=a.indexOf(u);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(u){return arguments.length&&(o=u),s},s.thresholds=function(){return n.slice()},s.copy=function(){return Yv().domain([e,t]).range(a).unknown(o)},br.apply(Cn(s),arguments)}function Jv(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[ko(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return Jv().domain(e).range(t).unknown(r)},br.apply(a,arguments)}const gc=new Date,mc=new Date;function kt(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const s=a(o),l=a.ceil(o);return o-s<l-o?s:l},a.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),a.range=(o,s,l)=>{const u=[];if(o=a.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return u;let c;do u.push(c=new Date(+o)),t(o,l),e(o);while(c<o&&o<s);return u},a.filter=o=>kt(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!o(s););else for(;--l>=0;)for(;t(s,1),!o(s););}),r&&(a.count=(o,s)=>(gc.setTime(+o),mc.setTime(+s),e(gc),e(mc),Math.floor(r(gc,mc))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?s=>n(s)%o===0:s=>a.count(0,s)%o===0):a)),a}const Ds=kt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ds.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?kt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ds);Ds.range;const Kr=1e3,hr=Kr*60,Gr=hr*60,rn=Gr*24,nh=rn*7,zp=rn*30,xc=rn*365,Nn=kt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Kr)},(e,t)=>(t-e)/Kr,e=>e.getUTCSeconds());Nn.range;const ih=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kr)},(e,t)=>{e.setTime(+e+t*hr)},(e,t)=>(t-e)/hr,e=>e.getMinutes());ih.range;const ah=kt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*hr)},(e,t)=>(t-e)/hr,e=>e.getUTCMinutes());ah.range;const oh=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kr-e.getMinutes()*hr)},(e,t)=>{e.setTime(+e+t*Gr)},(e,t)=>(t-e)/Gr,e=>e.getHours());oh.range;const sh=kt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Gr)},(e,t)=>(t-e)/Gr,e=>e.getUTCHours());sh.range;const To=kt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*hr)/rn,e=>e.getDate()-1);To.range;const Al=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rn,e=>e.getUTCDate()-1);Al.range;const Qv=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rn,e=>Math.floor(e/rn));Qv.range;function oi(e){return kt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*hr)/nh)}const kl=oi(0),Es=oi(1),RI=oi(2),FI=oi(3),Wi=oi(4),qI=oi(5),UI=oi(6);kl.range;Es.range;RI.range;FI.range;Wi.range;qI.range;UI.range;function si(e){return kt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/nh)}const Dl=si(0),Ts=si(1),VI=si(2),HI=si(3),Ni=si(4),KI=si(5),GI=si(6);Dl.range;Ts.range;VI.range;HI.range;Ni.range;KI.range;GI.range;const lh=kt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());lh.range;const ch=kt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ch.range;const nn=kt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());nn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});nn.range;const an=kt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());an.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});an.range;function Zv(e,t,r,n,a,o){const s=[[Nn,1,Kr],[Nn,5,5*Kr],[Nn,15,15*Kr],[Nn,30,30*Kr],[o,1,hr],[o,5,5*hr],[o,15,15*hr],[o,30,30*hr],[a,1,Gr],[a,3,3*Gr],[a,6,6*Gr],[a,12,12*Gr],[n,1,rn],[n,2,2*rn],[r,1,nh],[t,1,zp],[t,3,3*zp],[e,1,xc]];function l(c,d,h){const f=d<c;f&&([c,d]=[d,c]);const p=h&&typeof h.range=="function"?h:u(c,d,h),m=p?p.range(c,+d+1):[];return f?m.reverse():m}function u(c,d,h){const f=Math.abs(d-c)/h,p=Vd(([,,v])=>v).right(s,f);if(p===s.length)return e.every(mu(c/xc,d/xc,h));if(p===0)return Ds.every(Math.max(mu(c,d,h),1));const[m,x]=s[f/s[p-1][2]<s[p][2]/f?p-1:p];return m.every(x)}return[l,u]}const[XI,YI]=Zv(an,ch,Dl,Qv,sh,ah),[JI,QI]=Zv(nn,lh,kl,To,oh,ih);function vc(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pa(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ZI(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,s=e.shortDays,l=e.months,u=e.shortMonths,c=ga(a),d=ma(a),h=ga(o),f=ma(o),p=ga(s),m=ma(s),x=ga(l),v=ma(l),b=ga(u),_=ma(u),w={a:R,A:H,b:X,B:ee,c:null,d:Up,e:Up,f:_3,g:T3,G:M3,H:y3,I:b3,j:j3,L:ey,m:w3,M:S3,p:ue,q:J,Q:Kp,s:Gp,S:C3,u:O3,U:P3,V:A3,w:k3,W:D3,x:null,X:null,y:E3,Y:$3,Z:I3,"%":Hp},S={a:le,A:Pe,b:Le,B:$e,c:null,d:Vp,e:Vp,f:L3,g:X3,G:J3,H:W3,I:N3,j:z3,L:ry,m:B3,M:R3,p:Ye,q:Ue,Q:Kp,s:Gp,S:F3,u:q3,U:U3,V:V3,w:H3,W:K3,x:null,X:null,y:G3,Y:Y3,Z:Q3,"%":Hp},y={a:T,A:k,b:E,B:z,c:B,d:Fp,e:Fp,f:g3,g:Rp,G:Bp,H:qp,I:qp,j:d3,L:p3,m:u3,M:h3,p:A,q:c3,Q:x3,s:v3,S:f3,u:i3,U:a3,V:o3,w:n3,W:s3,x:F,X:U,y:Rp,Y:Bp,Z:l3,"%":m3};w.x=j(r,w),w.X=j(n,w),w.c=j(t,w),S.x=j(r,S),S.X=j(n,S),S.c=j(t,S);function j(Q,oe){return function(ae){var G=[],pe=-1,fe=0,Ae=Q.length,Y,q,se;for(ae instanceof Date||(ae=new Date(+ae));++pe<Ae;)Q.charCodeAt(pe)===37&&(G.push(Q.slice(fe,pe)),(q=Lp[Y=Q.charAt(++pe)])!=null?Y=Q.charAt(++pe):q=Y==="e"?" ":"0",(se=oe[Y])&&(Y=se(ae,q)),G.push(Y),fe=pe+1);return G.push(Q.slice(fe,pe)),G.join("")}}function C(Q,oe){return function(ae){var G=pa(1900,void 0,1),pe=P(G,Q,ae+="",0),fe,Ae;if(pe!=ae.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(oe&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(fe=yc(pa(G.y,0,1)),Ae=fe.getUTCDay(),fe=Ae>4||Ae===0?Ts.ceil(fe):Ts(fe),fe=Al.offset(fe,(G.V-1)*7),G.y=fe.getUTCFullYear(),G.m=fe.getUTCMonth(),G.d=fe.getUTCDate()+(G.w+6)%7):(fe=vc(pa(G.y,0,1)),Ae=fe.getDay(),fe=Ae>4||Ae===0?Es.ceil(fe):Es(fe),fe=To.offset(fe,(G.V-1)*7),G.y=fe.getFullYear(),G.m=fe.getMonth(),G.d=fe.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),Ae="Z"in G?yc(pa(G.y,0,1)).getUTCDay():vc(pa(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(Ae+5)%7:G.w+G.U*7-(Ae+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,yc(G)):vc(G)}}function P(Q,oe,ae,G){for(var pe=0,fe=oe.length,Ae=ae.length,Y,q;pe<fe;){if(G>=Ae)return-1;if(Y=oe.charCodeAt(pe++),Y===37){if(Y=oe.charAt(pe++),q=y[Y in Lp?oe.charAt(pe++):Y],!q||(G=q(Q,ae,G))<0)return-1}else if(Y!=ae.charCodeAt(G++))return-1}return G}function A(Q,oe,ae){var G=c.exec(oe.slice(ae));return G?(Q.p=d.get(G[0].toLowerCase()),ae+G[0].length):-1}function T(Q,oe,ae){var G=p.exec(oe.slice(ae));return G?(Q.w=m.get(G[0].toLowerCase()),ae+G[0].length):-1}function k(Q,oe,ae){var G=h.exec(oe.slice(ae));return G?(Q.w=f.get(G[0].toLowerCase()),ae+G[0].length):-1}function E(Q,oe,ae){var G=b.exec(oe.slice(ae));return G?(Q.m=_.get(G[0].toLowerCase()),ae+G[0].length):-1}function z(Q,oe,ae){var G=x.exec(oe.slice(ae));return G?(Q.m=v.get(G[0].toLowerCase()),ae+G[0].length):-1}function B(Q,oe,ae){return P(Q,t,oe,ae)}function F(Q,oe,ae){return P(Q,r,oe,ae)}function U(Q,oe,ae){return P(Q,n,oe,ae)}function R(Q){return s[Q.getDay()]}function H(Q){return o[Q.getDay()]}function X(Q){return u[Q.getMonth()]}function ee(Q){return l[Q.getMonth()]}function ue(Q){return a[+(Q.getHours()>=12)]}function J(Q){return 1+~~(Q.getMonth()/3)}function le(Q){return s[Q.getUTCDay()]}function Pe(Q){return o[Q.getUTCDay()]}function Le(Q){return u[Q.getUTCMonth()]}function $e(Q){return l[Q.getUTCMonth()]}function Ye(Q){return a[+(Q.getUTCHours()>=12)]}function Ue(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var oe=j(Q+="",w);return oe.toString=function(){return Q},oe},parse:function(Q){var oe=C(Q+="",!1);return oe.toString=function(){return Q},oe},utcFormat:function(Q){var oe=j(Q+="",S);return oe.toString=function(){return Q},oe},utcParse:function(Q){var oe=C(Q+="",!0);return oe.toString=function(){return Q},oe}}}var Lp={"-":"",_:" ",0:"0"},Tt=/^\s*\d+/,e3=/^%/,t3=/[\\^$*+?|[\]().{}]/g;function Ve(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function r3(e){return e.replace(t3,"\\$&")}function ga(e){return new RegExp("^(?:"+e.map(r3).join("|")+")","i")}function ma(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function n3(e,t,r){var n=Tt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function i3(e,t,r){var n=Tt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function a3(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function o3(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function s3(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Bp(e,t,r){var n=Tt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Rp(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function l3(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function c3(e,t,r){var n=Tt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function u3(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Fp(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function d3(e,t,r){var n=Tt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function qp(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function h3(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function f3(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function p3(e,t,r){var n=Tt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function g3(e,t,r){var n=Tt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function m3(e,t,r){var n=e3.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function x3(e,t,r){var n=Tt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function v3(e,t,r){var n=Tt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Up(e,t){return Ve(e.getDate(),t,2)}function y3(e,t){return Ve(e.getHours(),t,2)}function b3(e,t){return Ve(e.getHours()%12||12,t,2)}function j3(e,t){return Ve(1+To.count(nn(e),e),t,3)}function ey(e,t){return Ve(e.getMilliseconds(),t,3)}function _3(e,t){return ey(e,t)+"000"}function w3(e,t){return Ve(e.getMonth()+1,t,2)}function S3(e,t){return Ve(e.getMinutes(),t,2)}function C3(e,t){return Ve(e.getSeconds(),t,2)}function O3(e){var t=e.getDay();return t===0?7:t}function P3(e,t){return Ve(kl.count(nn(e)-1,e),t,2)}function ty(e){var t=e.getDay();return t>=4||t===0?Wi(e):Wi.ceil(e)}function A3(e,t){return e=ty(e),Ve(Wi.count(nn(e),e)+(nn(e).getDay()===4),t,2)}function k3(e){return e.getDay()}function D3(e,t){return Ve(Es.count(nn(e)-1,e),t,2)}function E3(e,t){return Ve(e.getFullYear()%100,t,2)}function T3(e,t){return e=ty(e),Ve(e.getFullYear()%100,t,2)}function $3(e,t){return Ve(e.getFullYear()%1e4,t,4)}function M3(e,t){var r=e.getDay();return e=r>=4||r===0?Wi(e):Wi.ceil(e),Ve(e.getFullYear()%1e4,t,4)}function I3(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ve(t/60|0,"0",2)+Ve(t%60,"0",2)}function Vp(e,t){return Ve(e.getUTCDate(),t,2)}function W3(e,t){return Ve(e.getUTCHours(),t,2)}function N3(e,t){return Ve(e.getUTCHours()%12||12,t,2)}function z3(e,t){return Ve(1+Al.count(an(e),e),t,3)}function ry(e,t){return Ve(e.getUTCMilliseconds(),t,3)}function L3(e,t){return ry(e,t)+"000"}function B3(e,t){return Ve(e.getUTCMonth()+1,t,2)}function R3(e,t){return Ve(e.getUTCMinutes(),t,2)}function F3(e,t){return Ve(e.getUTCSeconds(),t,2)}function q3(e){var t=e.getUTCDay();return t===0?7:t}function U3(e,t){return Ve(Dl.count(an(e)-1,e),t,2)}function ny(e){var t=e.getUTCDay();return t>=4||t===0?Ni(e):Ni.ceil(e)}function V3(e,t){return e=ny(e),Ve(Ni.count(an(e),e)+(an(e).getUTCDay()===4),t,2)}function H3(e){return e.getUTCDay()}function K3(e,t){return Ve(Ts.count(an(e)-1,e),t,2)}function G3(e,t){return Ve(e.getUTCFullYear()%100,t,2)}function X3(e,t){return e=ny(e),Ve(e.getUTCFullYear()%100,t,2)}function Y3(e,t){return Ve(e.getUTCFullYear()%1e4,t,4)}function J3(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ni(e):Ni.ceil(e),Ve(e.getUTCFullYear()%1e4,t,4)}function Q3(){return"+0000"}function Hp(){return"%"}function Kp(e){return+e}function Gp(e){return Math.floor(+e/1e3)}var fi,iy,ay;Z3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Z3(e){return fi=ZI(e),iy=fi.format,fi.parse,ay=fi.utcFormat,fi.utcParse,fi}function eW(e){return new Date(e)}function tW(e){return e instanceof Date?+e:+new Date(+e)}function uh(e,t,r,n,a,o,s,l,u,c){var d=Yd(),h=d.invert,f=d.domain,p=c(".%L"),m=c(":%S"),x=c("%I:%M"),v=c("%I %p"),b=c("%a %d"),_=c("%b %d"),w=c("%B"),S=c("%Y");function y(j){return(u(j)<j?p:l(j)<j?m:s(j)<j?x:o(j)<j?v:n(j)<j?a(j)<j?b:_:r(j)<j?w:S)(j)}return d.invert=function(j){return new Date(h(j))},d.domain=function(j){return arguments.length?f(Array.from(j,tW)):f().map(eW)},d.ticks=function(j){var C=f();return e(C[0],C[C.length-1],j??10)},d.tickFormat=function(j,C){return C==null?y:c(C)},d.nice=function(j){var C=f();return(!j||typeof j.range!="function")&&(j=t(C[0],C[C.length-1],j??10)),j?f(Vv(C,j)):d},d.copy=function(){return Eo(d,uh(e,t,r,n,a,o,s,l,u,c))},d}function rW(){return br.apply(uh(JI,QI,nn,lh,kl,To,oh,ih,Nn,iy).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nW(){return br.apply(uh(XI,YI,an,ch,Dl,Al,sh,ah,Nn,ay).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function El(){var e=0,t=1,r,n,a,o,s=Ut,l=!1,u;function c(h){return h==null||isNaN(h=+h)?u:s(a===0?.5:(h=(o(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([e,t]=h,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(h){return arguments.length?(l=!!h,c):l},c.interpolator=function(h){return arguments.length?(s=h,c):s};function d(h){return function(f){var p,m;return arguments.length?([p,m]=f,s=h(p,m),c):[s(0),s(1)]}}return c.range=d(la),c.rangeRound=d(Xd),c.unknown=function(h){return arguments.length?(u=h,c):u},function(h){return o=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),c}}function On(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function oy(){var e=Cn(El()(Ut));return e.copy=function(){return On(e,oy())},ln.apply(e,arguments)}function sy(){var e=Zd(El()).domain([1,10]);return e.copy=function(){return On(e,sy()).base(e.base())},ln.apply(e,arguments)}function ly(){var e=eh(El());return e.copy=function(){return On(e,ly()).constant(e.constant())},ln.apply(e,arguments)}function dh(){var e=th(El());return e.copy=function(){return On(e,dh()).exponent(e.exponent())},ln.apply(e,arguments)}function iW(){return dh.apply(null,arguments).exponent(.5)}function cy(){var e=[],t=Ut;function r(n){if(n!=null&&!isNaN(n=+n))return t((ko(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(fn),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>UM(e,o/n))},r.copy=function(){return cy(t).domain(e)},ln.apply(r,arguments)}function Tl(){var e=0,t=.5,r=1,n=1,a,o,s,l,u,c=Ut,d,h=!1,f;function p(x){return isNaN(x=+x)?f:(x=.5+((x=+d(x))-o)*(n*x<n*o?l:u),c(h?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),o=d(t=+t),s=d(r=+r),l=a===o?0:.5/(o-a),u=o===s?0:.5/(s-o),n=o<a?-1:1,p):[e,t,r]},p.clamp=function(x){return arguments.length?(h=!!x,p):h},p.interpolator=function(x){return arguments.length?(c=x,p):c};function m(x){return function(v){var b,_,w;return arguments.length?([b,_,w]=v,c=mI(x,[b,_,w]),p):[c(0),c(.5),c(1)]}}return p.range=m(la),p.rangeRound=m(Xd),p.unknown=function(x){return arguments.length?(f=x,p):f},function(x){return d=x,a=x(e),o=x(t),s=x(r),l=a===o?0:.5/(o-a),u=o===s?0:.5/(s-o),n=o<a?-1:1,p}}function uy(){var e=Cn(Tl()(Ut));return e.copy=function(){return On(e,uy())},ln.apply(e,arguments)}function dy(){var e=Zd(Tl()).domain([.1,1,10]);return e.copy=function(){return On(e,dy()).base(e.base())},ln.apply(e,arguments)}function hy(){var e=eh(Tl());return e.copy=function(){return On(e,hy()).constant(e.constant())},ln.apply(e,arguments)}function hh(){var e=th(Tl());return e.copy=function(){return On(e,hh()).exponent(e.exponent())},ln.apply(e,arguments)}function aW(){return hh.apply(null,arguments).exponent(.5)}const Xp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Na,scaleDiverging:uy,scaleDivergingLog:dy,scaleDivergingPow:hh,scaleDivergingSqrt:aW,scaleDivergingSymlog:hy,scaleIdentity:Uv,scaleImplicit:xu,scaleLinear:ks,scaleLog:Hv,scaleOrdinal:Hd,scalePoint:Ca,scalePow:rh,scaleQuantile:Xv,scaleQuantize:Yv,scaleRadial:Gv,scaleSequential:oy,scaleSequentialLog:sy,scaleSequentialPow:dh,scaleSequentialQuantile:cy,scaleSequentialSqrt:iW,scaleSequentialSymlog:ly,scaleSqrt:LI,scaleSymlog:Kv,scaleThreshold:Jv,scaleTime:rW,scaleUtc:nW,tickFormat:qv},Symbol.toStringTag,{value:"Module"}));var oW=jo;function sW(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],s=t(o);if(s!=null&&(l===void 0?s===s&&!oW(s):r(s,l)))var l=s,u=o}return u}var fy=sW;function lW(e,t){return e>t}var cW=lW,uW=fy,dW=cW,hW=sa;function fW(e){return e&&e.length?uW(e,hW,dW):void 0}var pW=fW;const $l=ut(pW);function gW(e,t){return e<t}var mW=gW,xW=fy,vW=mW,yW=sa;function bW(e){return e&&e.length?xW(e,yW,vW):void 0}var jW=bW;const Ml=ut(jW);var _W=Ad,wW=Sn,SW=wv,CW=Jt;function OW(e,t){var r=CW(e)?_W:SW;return r(e,wW(t))}var PW=OW,AW=jv,kW=PW;function DW(e,t){return AW(kW(e,t),1)}var EW=DW;const TW=ut(EW);var $W=Rd;function MW(e,t){return $W(e,t)}var IW=MW;const Il=ut(IW);var ca=1e9,WW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ph,ot=!0,mr="[DecimalError] ",Gn=mr+"Invalid argument: ",fh=mr+"Exponent out of range: ",ua=Math.floor,Tn=Math.pow,NW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rr,Dt=1e7,nt=7,py=9007199254740991,$s=ua(py/nt),de={};de.absoluteValue=de.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};de.comparedTo=de.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};de.decimalPlaces=de.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*nt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};de.dividedBy=de.div=function(e){return en(this,new this.constructor(e))};de.dividedToIntegerBy=de.idiv=function(e){var t=this,r=t.constructor;return Je(en(t,new r(e),0,1),r.precision)};de.equals=de.eq=function(e){return!this.cmp(e)};de.exponent=function(){return jt(this)};de.greaterThan=de.gt=function(e){return this.cmp(e)>0};de.greaterThanOrEqualTo=de.gte=function(e){return this.cmp(e)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(e){return this.cmp(e)<0};de.lessThanOrEqualTo=de.lte=function(e){return this.cmp(e)<1};de.logarithm=de.log=function(e){var t,r=this,n=r.constructor,a=n.precision,o=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(rr))throw Error(mr+"NaN");if(r.s<1)throw Error(mr+(r.s?"NaN":"-Infinity"));return r.eq(rr)?new n(0):(ot=!1,t=en(Fa(r,o),Fa(e,o),o),ot=!0,Je(t,a))};de.minus=de.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xy(t,e):gy(t,(e.s=-e.s,e))};de.modulo=de.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(mr+"NaN");return r.s?(ot=!1,t=en(r,e,0,1).times(e),ot=!0,r.minus(t)):Je(new n(r),a)};de.naturalExponential=de.exp=function(){return my(this)};de.naturalLogarithm=de.ln=function(){return Fa(this)};de.negated=de.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};de.plus=de.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gy(t,e):xy(t,(e.s=-e.s,e))};de.precision=de.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Gn+e);if(t=jt(a)+1,n=a.d.length-1,r=n*nt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};de.squareRoot=de.sqrt=function(){var e,t,r,n,a,o,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(mr+"NaN")}for(e=jt(l),ot=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=zr(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ua((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=s=r+3;;)if(o=n,n=o.plus(en(l,o,s+2)).times(.5),zr(o.d).slice(0,s)===(t=zr(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Je(o,r+1,0),o.times(o).eq(l)){n=o;break}}else if(t!="9999")break;s+=4}return ot=!0,Je(n,r)};de.times=de.mul=function(e){var t,r,n,a,o,s,l,u,c,d=this,h=d.constructor,f=d.d,p=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,u=f.length,c=p.length,u<c&&(o=f,f=p,p=o,s=u,u=c,c=s),o=[],s=u+c,n=s;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,a=u+n;a>n;)l=o[a]+p[n]*f[a-n-1]+t,o[a--]=l%Dt|0,t=l/Dt|0;o[a]=(o[a]+t)%Dt|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,ot?Je(e,h.precision):e};de.toDecimalPlaces=de.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Fr(e,0,ca),t===void 0?t=n.rounding:Fr(t,0,8),Je(r,e+jt(r)+1,t))};de.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Zn(n,!0):(Fr(e,0,ca),t===void 0?t=a.rounding:Fr(t,0,8),n=Je(new a(n),e+1,t),r=Zn(n,!0,e+1)),r};de.toFixed=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?Zn(a):(Fr(e,0,ca),t===void 0?t=o.rounding:Fr(t,0,8),n=Je(new o(a),e+jt(a)+1,t),r=Zn(n.abs(),!1,e+jt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};de.toInteger=de.toint=function(){var e=this,t=e.constructor;return Je(new t(e),jt(e)+1,t.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(e){var t,r,n,a,o,s,l=this,u=l.constructor,c=12,d=+(e=new u(e));if(!e.s)return new u(rr);if(l=new u(l),!l.s){if(e.s<1)throw Error(mr+"Infinity");return l}if(l.eq(rr))return l;if(n=u.precision,e.eq(rr))return Je(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,o=l.s,s){if((r=d<0?-d:d)<=py){for(a=new u(rr),t=Math.ceil(n/nt+4),ot=!1;r%2&&(a=a.times(l),Jp(a.d,t)),r=ua(r/2),r!==0;)l=l.times(l),Jp(l.d,t);return ot=!0,e.s<0?new u(rr).div(a):Je(a,n)}}else if(o<0)throw Error(mr+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ot=!1,a=e.times(Fa(l,n+c)),ot=!0,a=my(a),a.s=o,a};de.toPrecision=function(e,t){var r,n,a=this,o=a.constructor;return e===void 0?(r=jt(a),n=Zn(a,r<=o.toExpNeg||r>=o.toExpPos)):(Fr(e,1,ca),t===void 0?t=o.rounding:Fr(t,0,8),a=Je(new o(a),e,t),r=jt(a),n=Zn(a,e<=r||r<=o.toExpNeg,e)),n};de.toSignificantDigits=de.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Fr(e,1,ca),t===void 0?t=n.rounding:Fr(t,0,8)),Je(new n(r),e,t)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=jt(e),r=e.constructor;return Zn(e,t<=r.toExpNeg||t>=r.toExpPos)};function gy(e,t){var r,n,a,o,s,l,u,c,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ot?Je(t,h):t;if(u=e.d,c=t.d,s=e.e,a=t.e,u=u.slice(),o=s-a,o){for(o<0?(n=u,o=-o,l=c.length):(n=c,a=s,l=u.length),s=Math.ceil(h/nt),l=s>l?s+1:l+1,o>l&&(o=l,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(l=u.length,o=c.length,l-o<0&&(o=l,n=c,c=u,u=n),r=0;o;)r=(u[--o]=u[o]+c[o]+r)/Dt|0,u[o]%=Dt;for(r&&(u.unshift(r),++a),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=a,ot?Je(t,h):t}function Fr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Gn+e)}function zr(e){var t,r,n,a=e.length-1,o="",s=e[0];if(a>0){for(o+=s,t=1;t<a;t++)n=e[t]+"",r=nt-n.length,r&&(o+=un(r)),o+=n;s=e[t],n=s+"",r=nt-n.length,r&&(o+=un(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var en=function(){function e(n,a){var o,s=0,l=n.length;for(n=n.slice();l--;)o=n[l]*a+s,n[l]=o%Dt|0,s=o/Dt|0;return s&&n.unshift(s),n}function t(n,a,o,s){var l,u;if(o!=s)u=o>s?1:-1;else for(l=u=0;l<o;l++)if(n[l]!=a[l]){u=n[l]>a[l]?1:-1;break}return u}function r(n,a,o){for(var s=0;o--;)n[o]-=s,s=n[o]<a[o]?1:0,n[o]=s*Dt+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,s){var l,u,c,d,h,f,p,m,x,v,b,_,w,S,y,j,C,P,A=n.constructor,T=n.s==a.s?1:-1,k=n.d,E=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(mr+"Division by zero");for(u=n.e-a.e,C=E.length,y=k.length,p=new A(T),m=p.d=[],c=0;E[c]==(k[c]||0);)++c;if(E[c]>(k[c]||0)&&--u,o==null?_=o=A.precision:s?_=o+(jt(n)-jt(a))+1:_=o,_<0)return new A(0);if(_=_/nt+2|0,c=0,C==1)for(d=0,E=E[0],_++;(c<y||d)&&_--;c++)w=d*Dt+(k[c]||0),m[c]=w/E|0,d=w%E|0;else{for(d=Dt/(E[0]+1)|0,d>1&&(E=e(E,d),k=e(k,d),C=E.length,y=k.length),S=C,x=k.slice(0,C),v=x.length;v<C;)x[v++]=0;P=E.slice(),P.unshift(0),j=E[0],E[1]>=Dt/2&&++j;do d=0,l=t(E,x,C,v),l<0?(b=x[0],C!=v&&(b=b*Dt+(x[1]||0)),d=b/j|0,d>1?(d>=Dt&&(d=Dt-1),h=e(E,d),f=h.length,v=x.length,l=t(h,x,f,v),l==1&&(d--,r(h,C<f?P:E,f))):(d==0&&(l=d=1),h=E.slice()),f=h.length,f<v&&h.unshift(0),r(x,h,v),l==-1&&(v=x.length,l=t(E,x,C,v),l<1&&(d++,r(x,C<v?P:E,v))),v=x.length):l===0&&(d++,x=[0]),m[c++]=d,l&&x[0]?x[v++]=k[S]||0:(x=[k[S]],v=1);while((S++<y||x[0]!==void 0)&&_--)}return m[0]||m.shift(),p.e=u,Je(p,s?o+jt(p)+1:o)}}();function my(e,t){var r,n,a,o,s,l,u=0,c=0,d=e.constructor,h=d.precision;if(jt(e)>16)throw Error(fh+jt(e));if(!e.s)return new d(rr);for(t==null?(ot=!1,l=h):l=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(Tn(2,c))/Math.LN10*2+5|0,l+=n,r=a=o=new d(rr),d.precision=l;;){if(a=Je(a.times(e),l),r=r.times(++u),s=o.plus(en(a,r,l)),zr(s.d).slice(0,l)===zr(o.d).slice(0,l)){for(;c--;)o=Je(o.times(o),l);return d.precision=h,t==null?(ot=!0,Je(o,h)):o}o=s}}function jt(e){for(var t=e.e*nt,r=e.d[0];r>=10;r/=10)t++;return t}function bc(e,t,r){if(t>e.LN10.sd())throw ot=!0,r&&(e.precision=r),Error(mr+"LN10 precision limit exceeded");return Je(new e(e.LN10),t)}function un(e){for(var t="";e--;)t+="0";return t}function Fa(e,t){var r,n,a,o,s,l,u,c,d,h=1,f=10,p=e,m=p.d,x=p.constructor,v=x.precision;if(p.s<1)throw Error(mr+(p.s?"NaN":"-Infinity"));if(p.eq(rr))return new x(0);if(t==null?(ot=!1,c=v):c=t,p.eq(10))return t==null&&(ot=!0),bc(x,c);if(c+=f,x.precision=c,r=zr(m),n=r.charAt(0),o=jt(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=zr(p.d),n=r.charAt(0),h++;o=jt(p),n>1?(p=new x("0."+r),o++):p=new x(n+"."+r.slice(1))}else return u=bc(x,c+2,v).times(o+""),p=Fa(new x(n+"."+r.slice(1)),c-f).plus(u),x.precision=v,t==null?(ot=!0,Je(p,v)):p;for(l=s=p=en(p.minus(rr),p.plus(rr),c),d=Je(p.times(p),c),a=3;;){if(s=Je(s.times(d),c),u=l.plus(en(s,new x(a),c)),zr(u.d).slice(0,c)===zr(l.d).slice(0,c))return l=l.times(2),o!==0&&(l=l.plus(bc(x,c+2,v).times(o+""))),l=en(l,new x(h),c),x.precision=v,t==null?(ot=!0,Je(l,v)):l;l=u,a+=2}}function Yp(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=ua(r/nt),e.d=[],n=(r+1)%nt,r<0&&(n+=nt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=nt;n<a;)e.d.push(+t.slice(n,n+=nt));t=t.slice(n),n=nt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ot&&(e.e>$s||e.e<-$s))throw Error(fh+r)}else e.s=0,e.e=0,e.d=[0];return e}function Je(e,t,r){var n,a,o,s,l,u,c,d,h=e.d;for(s=1,o=h[0];o>=10;o/=10)s++;if(n=t-s,n<0)n+=nt,a=t,c=h[d=0];else{if(d=Math.ceil((n+1)/nt),o=h.length,d>=o)return e;for(c=o=h[d],s=1;o>=10;o/=10)s++;n%=nt,a=n-nt+s}if(r!==void 0&&(o=Tn(10,s-a-1),l=c/o%10|0,u=t<0||h[d+1]!==void 0||c%o,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?a>0?c/Tn(10,s-a):0:h[d-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return u?(o=jt(e),h.length=1,t=t-o-1,h[0]=Tn(10,(nt-t%nt)%nt),e.e=ua(-t/nt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=d,o=1,d--):(h.length=d+1,o=Tn(10,nt-n),h[d]=a>0?(c/Tn(10,s-a)%Tn(10,a)|0)*o:0),u)for(;;)if(d==0){(h[0]+=o)==Dt&&(h[0]=1,++e.e);break}else{if(h[d]+=o,h[d]!=Dt)break;h[d--]=0,o=1}for(n=h.length;h[--n]===0;)h.pop();if(ot&&(e.e>$s||e.e<-$s))throw Error(fh+jt(e));return e}function xy(e,t){var r,n,a,o,s,l,u,c,d,h,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),ot?Je(t,p):t;if(u=e.d,h=t.d,n=t.e,c=e.e,u=u.slice(),s=c-n,s){for(d=s<0,d?(r=u,s=-s,l=h.length):(r=h,n=c,l=u.length),a=Math.max(Math.ceil(p/nt),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=u.length,l=h.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(u[a]!=h[a]){d=u[a]<h[a];break}s=0}for(d&&(r=u,u=h,h=r,t.s=-t.s),l=u.length,a=h.length-l;a>0;--a)u[l++]=0;for(a=h.length;a>s;){if(u[--a]<h[a]){for(o=a;o&&u[--o]===0;)u[o]=Dt-1;--u[o],u[a]+=Dt}u[a]-=h[a]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,ot?Je(t,p):t):new f(0)}function Zn(e,t,r){var n,a=jt(e),o=zr(e.d),s=o.length;return t?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+un(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+un(-a-1)+o,r&&(n=r-s)>0&&(o+=un(n))):a>=s?(o+=un(a+1-s),r&&(n=r-a-1)>0&&(o=o+"."+un(n))):((n=a+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(o+="."),o+=un(n))),e.s<0?"-"+o:o}function Jp(e,t){if(e.length>t)return e.length=t,!0}function vy(e){var t,r,n;function a(o){var s=this;if(!(s instanceof a))return new a(o);if(s.constructor=a,o instanceof a){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Gn+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return Yp(s,o.toString())}else if(typeof o!="string")throw Error(Gn+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,NW.test(o))Yp(s,o);else throw Error(Gn+o)}if(a.prototype=de,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=vy,a.config=a.set=zW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function zW(e){if(!e||typeof e!="object")throw Error(mr+"Object expected");var t,r,n,a=["precision",1,ca,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(ua(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Gn+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Gn+r+": "+n);return this}var ph=vy(WW);rr=new ph(1);const Ge=ph;function LW(e){return qW(e)||FW(e)||RW(e)||BW()}function BW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RW(e,t){if(e){if(typeof e=="string")return ju(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ju(e,t)}}function FW(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function qW(e){if(Array.isArray(e))return ju(e)}function ju(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var UW=function(t){return t},yy={"@@functional/placeholder":!0},by=function(t){return t===yy},Qp=function(t){return function r(){return arguments.length===0||arguments.length===1&&by(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},VW=function e(t,r){return t===1?r:Qp(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var s=a.filter(function(l){return l!==yy}).length;return s>=t?r.apply(void 0,a):e(t-s,Qp(function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=a.map(function(h){return by(h)?u.shift():h});return r.apply(void 0,LW(d).concat(u))}))})},Wl=function(t){return VW(t.length,t)},_u=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},HW=Wl(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),KW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return UW;var a=r.reverse(),o=a[0],s=a.slice(1);return function(){return s.reduce(function(l,u){return u(l)},o.apply(void 0,arguments))}},wu=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},jy=function(t){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r&&o.every(function(l,u){return l===r[u]})||(r=o,n=t.apply(void 0,o)),n}};function GW(e){var t;return e===0?t=1:t=Math.floor(new Ge(e).abs().log(10).toNumber())+1,t}function XW(e,t,r){for(var n=new Ge(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var YW=Wl(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),JW=Wl(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),QW=Wl(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Nl={rangeStep:XW,getDigitCount:GW,interpolateNumber:YW,uninterpolateNumber:JW,uninterpolateTruncation:QW};function Su(e){return t4(e)||e4(e)||_y(e)||ZW()}function ZW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e4(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function t4(e){if(Array.isArray(e))return Cu(e)}function qa(e,t){return i4(e)||n4(e,t)||_y(e,t)||r4()}function r4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _y(e,t){if(e){if(typeof e=="string")return Cu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cu(e,t)}}function Cu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n4(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,o=void 0;try{for(var s=e[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(u){a=!0,o=u}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw o}}return r}}function i4(e){if(Array.isArray(e))return e}function wy(e){var t=qa(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function Sy(e,t,r){if(e.lte(0))return new Ge(0);var n=Nl.getDigitCount(e.toNumber()),a=new Ge(10).pow(n),o=e.div(a),s=n!==1?.05:.1,l=new Ge(Math.ceil(o.div(s).toNumber())).add(r).mul(s),u=l.mul(a);return t?u:new Ge(Math.ceil(u))}function a4(e,t,r){var n=1,a=new Ge(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new Ge(10).pow(Nl.getDigitCount(e)-1),a=new Ge(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new Ge(Math.floor(e)))}else e===0?a=new Ge(Math.floor((t-1)/2)):r||(a=new Ge(Math.floor(e)));var s=Math.floor((t-1)/2),l=KW(HW(function(u){return a.add(new Ge(u-s).mul(n)).toNumber()}),_u);return l(0,t)}function Cy(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ge(0),tickMin:new Ge(0),tickMax:new Ge(0)};var o=Sy(new Ge(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Ge(0):(s=new Ge(e).add(t).div(2),s=s.sub(new Ge(s).mod(o)));var l=Math.ceil(s.sub(e).div(o).toNumber()),u=Math.ceil(new Ge(t).sub(s).div(o).toNumber()),c=l+u+1;return c>r?Cy(e,t,r,n,a+1):(c<r&&(u=t>0?u+(r-c):u,l=t>0?l:l+(r-c)),{step:o,tickMin:s.sub(new Ge(l).mul(o)),tickMax:s.add(new Ge(u).mul(o))})}function o4(e){var t=qa(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=wy([r,n]),u=qa(l,2),c=u[0],d=u[1];if(c===-1/0||d===1/0){var h=d===1/0?[c].concat(Su(_u(0,a-1).map(function(){return 1/0}))):[].concat(Su(_u(0,a-1).map(function(){return-1/0})),[d]);return r>n?wu(h):h}if(c===d)return a4(c,a,o);var f=Cy(c,d,s,o),p=f.step,m=f.tickMin,x=f.tickMax,v=Nl.rangeStep(m,x.add(new Ge(.1).mul(p)),p);return r>n?wu(v):v}function s4(e,t){var r=qa(e,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=wy([n,a]),l=qa(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0)return[n,a];if(u===c)return[u];var d=Math.max(t,2),h=Sy(new Ge(c).sub(u).div(d-1),o,0),f=[].concat(Su(Nl.rangeStep(new Ge(u),new Ge(c).sub(new Ge(.99).mul(h)),h)),[c]);return n>a?wu(f):f}var l4=jy(o4),c4=jy(s4),u4="Invariant failed";function ei(e,t){throw new Error(u4)}var d4=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zi(e){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(e)}function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ms.apply(this,arguments)}function h4(e,t){return m4(e)||g4(e,t)||p4(e,t)||f4()}function f4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p4(e,t){if(e){if(typeof e=="string")return Zp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zp(e,t)}}function Zp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g4(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(d){c=!0,a=d}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function m4(e){if(Array.isArray(e))return e}function x4(e,t){if(e==null)return{};var r=v4(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v4(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function y4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ay(n.key),n)}}function j4(e,t,r){return t&&b4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _4(e,t,r){return t=Is(t),w4(e,Oy()?Reflect.construct(t,r||[],Is(e).constructor):t.apply(e,r))}function w4(e,t){if(t&&(zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S4(e)}function S4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oy=function(){return!!e})()}function Is(e){return Is=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Is(e)}function C4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ou(e,t)}function Ou(e,t){return Ou=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ou(e,t)}function Py(e,t,r){return t=Ay(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ay(e){var t=O4(e,"string");return zi(t)=="symbol"?t:t+""}function O4(e,t){if(zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $o=function(e){function t(){return y4(this,t),_4(this,t,arguments)}return C4(t,e),j4(t,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,s=n.width,l=n.dataKey,u=n.data,c=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,f=x4(n,d4),p=qe(f,!1);this.props.direction==="x"&&d.type!=="number"&&ei();var m=u.map(function(x){var v=c(x,l),b=v.x,_=v.y,w=v.value,S=v.errorVal;if(!S)return null;var y=[],j,C;if(Array.isArray(S)){var P=h4(S,2);j=P[0],C=P[1]}else j=C=S;if(o==="vertical"){var A=d.scale,T=_+a,k=T+s,E=T-s,z=A(w-j),B=A(w+C);y.push({x1:B,y1:k,x2:B,y2:E}),y.push({x1:z,y1:T,x2:B,y2:T}),y.push({x1:z,y1:k,x2:z,y2:E})}else if(o==="horizontal"){var F=h.scale,U=b+a,R=U-s,H=U+s,X=F(w-j),ee=F(w+C);y.push({x1:R,y1:ee,x2:H,y2:ee}),y.push({x1:U,y1:X,x2:U,y2:ee}),y.push({x1:R,y1:X,x2:H,y2:X})}return W.createElement(vt,Ms({className:"recharts-errorBar",key:"bar-".concat(y.map(function(ue){return"".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))},p),y.map(function(ue){return W.createElement("line",Ms({},ue,{key:"line-".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))}))});return W.createElement(vt,{className:"recharts-errorBars"},m)}}])}(W.Component);Py($o,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Py($o,"displayName","ErrorBar");function Ua(e){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ua(e)}function eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eg(Object(r),!0).forEach(function(n){P4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P4(e,t,r){return t=A4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A4(e){var t=k4(e,"string");return Ua(t)=="symbol"?t:t+""}function k4(e,t){if(Ua(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ua(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ky=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,s=er(r,Hn);if(!s)return null;var l=Hn.defaultProps,u=l!==void 0?kn(kn({},l),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:o==="children"?c=(n||[]).reduce(function(d,h){var f=h.item,p=h.props,m=p.sectors||p.data||[];return d.concat(m.map(function(x){return{type:s.props.iconType||f.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):c=(n||[]).map(function(d){var h=d.item,f=h.type.defaultProps,p=f!==void 0?kn(kn({},f),h.props):{},m=p.dataKey,x=p.name,v=p.legendType,b=p.hide;return{inactive:b,dataKey:m,type:u.iconType||v||"square",color:gh(h),value:x||m,payload:p}}),kn(kn(kn({},u),Hn.getWithHeight(s,a)),{},{payload:c,item:s})};function Va(e){"@babel/helpers - typeof";return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(e)}function tg(e){return $4(e)||T4(e)||E4(e)||D4()}function D4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E4(e,t){if(e){if(typeof e=="string")return Pu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pu(e,t)}}function T4(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $4(e){if(Array.isArray(e))return Pu(e)}function Pu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rg(Object(r),!0).forEach(function(n){Pi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pi(e,t,r){return t=M4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M4(e){var t=I4(e,"string");return Va(t)=="symbol"?t:t+""}function I4(e,t){if(Va(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Va(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sr(e,t,r){return Re(e)||Re(t)?r:At(t)?fr(e,t,r):Ie(t)?t(e):r}function Oa(e,t,r,n){var a=TW(e,function(l){return sr(l,t)});if(r==="number"){var o=a.filter(function(l){return re(l)||parseFloat(l)});return o.length?[Ml(o),$l(o)]:[1/0,-1/0]}var s=n?a.filter(function(l){return!Re(l)}):a;return s.map(function(l){return At(l)||l instanceof Date?l:""})}var W4=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var u=o.range,c=0;c<l;c++){var d=c>0?a[c-1].coordinate:a[l-1].coordinate,h=a[c].coordinate,f=c>=l-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(kr(h-d)!==kr(f-h)){var m=[];if(kr(f-h)===kr(u[1]-u[0])){p=f;var x=h+u[1]-u[0];m[0]=Math.min(x,(x+d)/2),m[1]=Math.max(x,(x+d)/2)}else{p=d;var v=f+u[1]-u[0];m[0]=Math.min(h,(v+h)/2),m[1]=Math.max(h,(v+h)/2)}var b=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(t>b[0]&&t<=b[1]||t>=m[0]&&t<=m[1]){s=a[c].index;break}}else{var _=Math.min(d,f),w=Math.max(d,f);if(t>(_+h)/2&&t<=(w+h)/2){s=a[c].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){s=n[S].index;break}return s},gh=function(t){var r,n=t,a=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?dt(dt({},t.type.defaultProps),t.props):t.props,s=o.stroke,l=o.fill,u;switch(a){case"Line":u=s;break;case"Area":case"Radar":u=s&&s!=="none"?s:l;break;default:u=l;break}return u},N4=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var s={},l=Object.keys(o),u=0,c=l.length;u<c;u++)for(var d=o[l[u]].stackGroups,h=Object.keys(d),f=0,p=h.length;f<p;f++){var m=d[h[f]],x=m.items,v=m.cateAxisId,b=x.filter(function(C){return Jr(C.type).indexOf("Bar")>=0});if(b&&b.length){var _=b[0].type.defaultProps,w=_!==void 0?dt(dt({},_),b[0].props):b[0].props,S=w.barSize,y=w[v];s[y]||(s[y]=[]);var j=Re(S)?r:S;s[y].push({item:b[0],stackList:b.slice(1),barSize:Re(j)?void 0:Qn(j,n,0)})}}return s},z4=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,o=t.sizeList,s=o===void 0?[]:o,l=t.maxBarSize,u=s.length;if(u<1)return null;var c=Qn(r,a,0,!0),d,h=[];if(s[0].barSize===+s[0].barSize){var f=!1,p=a/u,m=s.reduce(function(S,y){return S+y.barSize||0},0);m+=(u-1)*c,m>=a&&(m-=(u-1)*c,c=0),m>=a&&p>0&&(f=!0,p*=.9,m=u*p);var x=(a-m)/2>>0,v={offset:x-c,size:0};d=s.reduce(function(S,y){var j={item:y.item,position:{offset:v.offset+v.size+c,size:f?p:y.barSize}},C=[].concat(tg(S),[j]);return v=C[C.length-1].position,y.stackList&&y.stackList.length&&y.stackList.forEach(function(P){C.push({item:P,position:v})}),C},h)}else{var b=Qn(n,a,0,!0);a-2*b-(u-1)*c<=0&&(c=0);var _=(a-2*b-(u-1)*c)/u;_>1&&(_>>=0);var w=l===+l?Math.min(_,l):_;d=s.reduce(function(S,y,j){var C=[].concat(tg(S),[{item:y.item,position:{offset:b+(_+c)*j+(_-w)/2,size:w}}]);return y.stackList&&y.stackList.length&&y.stackList.forEach(function(P){C.push({item:P,position:C[C.length-1].position})}),C},h)}return d},L4=function(t,r,n,a){var o=n.children,s=n.width,l=n.margin,u=s-(l.left||0)-(l.right||0),c=ky({children:o,legendWidth:u});if(c){var d=a||{},h=d.width,f=d.height,p=c.align,m=c.verticalAlign,x=c.layout;if((x==="vertical"||x==="horizontal"&&m==="middle")&&p!=="center"&&re(t[p]))return dt(dt({},t),{},Pi({},p,t[p]+(h||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&m!=="middle"&&re(t[m]))return dt(dt({},t),{},Pi({},m,t[m]+(f||0)))}return t},B4=function(t,r,n){return Re(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Dy=function(t,r,n,a,o){var s=r.props.children,l=pr(s,$o).filter(function(c){return B4(a,o,c.props.direction)});if(l&&l.length){var u=l.map(function(c){return c.props.dataKey});return t.reduce(function(c,d){var h=sr(d,n);if(Re(h))return c;var f=Array.isArray(h)?[Ml(h),$l(h)]:[h,h],p=u.reduce(function(m,x){var v=sr(d,x,0),b=f[0]-Math.abs(Array.isArray(v)?v[0]:v),_=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,m[0]),Math.max(_,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},R4=function(t,r,n,a,o){var s=r.map(function(l){return Dy(t,l,n,o,a)}).filter(function(l){return!Re(l)});return s&&s.length?s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},Ey=function(t,r,n,a,o){var s=r.map(function(u){var c=u.props.dataKey;return n==="number"&&c&&Dy(t,u,c,a)||Oa(t,c,n,o)});if(n==="number")return s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]);var l={};return s.reduce(function(u,c){for(var d=0,h=c.length;d<h;d++)l[c[d]]||(l[c[d]]=!0,u.push(c[d]));return u},[])},Ty=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},$y=function(t,r,n,a){if(a)return t.map(function(u){return u.coordinate});var o,s,l=t.map(function(u){return u.coordinate===r&&(o=!0),u.coordinate===n&&(s=!0),u.coordinate});return o||l.push(r),s||l.push(n),l},Xr=function(t,r,n){if(!t)return null;var a=t.scale,o=t.duplicateDomain,s=t.type,l=t.range,u=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/u:0;if(c=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?kr(l[0]-l[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(h){var f=o?o.indexOf(h):h;return{coordinate:a(f)+c,value:h,offset:c}});return d.filter(function(h){return!Oo(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,f){return{coordinate:a(h)+c,value:h,index:f,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+c,value:h,offset:c}}):a.domain().map(function(h,f){return{coordinate:a(h)+c,value:o?o[h]:h,index:f,offset:c}})},jc=new WeakMap,Ho=function(t,r){if(typeof r!="function")return t;jc.has(t)||jc.set(t,new WeakMap);var n=jc.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},F4=function(t,r,n){var a=t.scale,o=t.type,s=t.layout,l=t.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Na(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:ks(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ca(),realScaleType:"point"}:o==="category"?{scale:Na(),realScaleType:"band"}:{scale:ks(),realScaleType:"linear"};if(Co(a)){var u="scale".concat(bl(a));return{scale:(Xp[u]||Ca)(),realScaleType:Xp[u]?u:"point"}}return Ie(a)?{scale:a}:{scale:Ca(),realScaleType:"point"}},ng=1e-4,q4=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),o=Math.min(a[0],a[1])-ng,s=Math.max(a[0],a[1])+ng,l=t(r[0]),u=t(r[n-1]);(l<o||l>s||u<o||u>s)&&t.domain([r[0],r[n-1]])}},U4=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},V4=function(t,r){if(!r||r.length!==2||!re(r[0])||!re(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!re(t[0])||t[0]<n)&&(o[0]=n),(!re(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},H4=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,s=0,l=0;l<r;++l){var u=Oo(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+u,s=t[l][n][1])}},K4=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var o=0,s=0;s<r;++s){var l=Oo(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},G4={sign:H4,expand:WO,none:Di,silhouette:NO,wiggle:zO,positive:K4},X4=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),o=G4[n],s=IO().keys(a).value(function(l,u){return+sr(l,u,0)}).order(Qc).offset(o);return s(t)},Y4=function(t,r,n,a,o,s){if(!t)return null;var l=s?r.reverse():r,u={},c=l.reduce(function(h,f){var p,m=(p=f.type)!==null&&p!==void 0&&p.defaultProps?dt(dt({},f.type.defaultProps),f.props):f.props,x=m.stackId,v=m.hide;if(v)return h;var b=m[n],_=h[b]||{hasStack:!1,stackGroups:{}};if(At(x)){var w=_.stackGroups[x]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(f),_.hasStack=!0,_.stackGroups[x]=w}else _.stackGroups[Po("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[f]};return dt(dt({},h),{},Pi({},b,_))},u),d={};return Object.keys(c).reduce(function(h,f){var p=c[f];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,v){var b=p.stackGroups[v];return dt(dt({},x),{},Pi({},v,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:X4(t,b.items,o)}))},m)}return dt(dt({},h),{},Pi({},f,p))},d)},J4=function(t,r){var n=r.realScaleType,a=r.type,o=r.tickCount,s=r.originalDomain,l=r.allowDecimals,u=n||r.scale;if(u!=="auto"&&u!=="linear")return null;if(o&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var d=l4(c,o,l);return t.domain([Ml(d),$l(d)]),{niceTicks:d}}if(o&&a==="number"){var h=t.domain(),f=c4(h,o,l);return{niceTicks:f}}return null};function ig(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Re(a[t.dataKey])){var l=os(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var u=sr(a,Re(s)?t.dataKey:s);return Re(u)?null:t.scale(u)}var ag=function(t){var r=t.axis,n=t.ticks,a=t.offset,o=t.bandSize,s=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var u=sr(s,r.dataKey,r.domain[l]);return Re(u)?null:r.scale(u)-o/2+a},Q4=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},Z4=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?dt(dt({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(At(o)){var s=r[o];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},e7=function(t){return t.reduce(function(r,n){return[Ml(n.concat([r[0]]).filter(re)),$l(n.concat([r[1]]).filter(re))]},[1/0,-1/0])},My=function(t,r,n){return Object.keys(t).reduce(function(a,o){var s=t[o],l=s.stackedData,u=l.reduce(function(c,d){var h=e7(d.slice(r,n+1));return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(u[0],a[0]),Math.max(u[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},og=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sg=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Au=function(t,r,n){if(Ie(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(re(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(og.test(t[0])){var o=+og.exec(t[0])[1];a[0]=r[0]-o}else Ie(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(re(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(sg.test(t[1])){var s=+sg.exec(t[1])[1];a[1]=r[1]+s}else Ie(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Ws=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var o=qd(r,function(h){return h.coordinate}),s=1/0,l=1,u=o.length;l<u;l++){var c=o[l],d=o[l-1];s=Math.min((c.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},lg=function(t,r,n){return!t||!t.length||Il(t,fr(n,"type.defaultProps.domain"))?r:t},Iy=function(t,r){var n=t.type.defaultProps?dt(dt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,o=n.name,s=n.unit,l=n.formatter,u=n.tooltipType,c=n.chartType,d=n.hide;return dt(dt({},qe(t,!1)),{},{dataKey:a,unit:s,formatter:l,name:o||a,color:gh(t),value:sr(r,a),type:u,payload:r,chartType:c,hide:d})};function Ha(e){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ha(e)}function cg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ug(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cg(Object(r),!0).forEach(function(n){t7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t7(e,t,r){return t=r7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r7(e){var t=n7(e,"string");return Ha(t)=="symbol"?t:t+""}function n7(e,t){if(Ha(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ha(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ns=Math.PI/180,i7=function(t){return t*180/Math.PI},It=function(t,r,n,a){return{x:t+Math.cos(-Ns*a)*n,y:r+Math.sin(-Ns*a)*n}},a7=function(t,r){var n=t.x,a=t.y,o=r.x,s=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-s,2))},o7=function(t,r){var n=t.x,a=t.y,o=r.cx,s=r.cy,l=a7({x:n,y:a},{x:o,y:s});if(l<=0)return{radius:l};var u=(n-o)/l,c=Math.acos(u);return a>s&&(c=2*Math.PI-c),{radius:l,angle:i7(c),angleInRadian:c}},s7=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),s=Math.min(a,o);return{startAngle:r-s*360,endAngle:n-s*360}},l7=function(t,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(o,s);return t+l*360},dg=function(t,r){var n=t.x,a=t.y,o=o7({x:n,y:a},r),s=o.radius,l=o.angle,u=r.innerRadius,c=r.outerRadius;if(s<u||s>c)return!1;if(s===0)return!0;var d=s7(r),h=d.startAngle,f=d.endAngle,p=l,m;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}return m?ug(ug({},r),{},{radius:s,angle:l7(p,r)}):null};function Ka(e){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(e)}var c7=["offset"];function u7(e){return p7(e)||f7(e)||h7(e)||d7()}function d7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h7(e,t){if(e){if(typeof e=="string")return ku(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ku(e,t)}}function f7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p7(e){if(Array.isArray(e))return ku(e)}function ku(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g7(e,t){if(e==null)return{};var r=m7(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hg(Object(r),!0).forEach(function(n){x7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x7(e,t,r){return t=v7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v7(e){var t=y7(e,"string");return Ka(t)=="symbol"?t:t+""}function y7(e,t){if(Ka(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ka(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ga(){return Ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ga.apply(this,arguments)}var b7=function(t){var r=t.value,n=t.formatter,a=Re(t.children)?r:t.children;return Ie(n)?n(a):a},j7=function(t,r){var n=kr(r-t),a=Math.min(Math.abs(r-t),360);return n*a},_7=function(t,r,n){var a=t.position,o=t.viewBox,s=t.offset,l=t.className,u=o,c=u.cx,d=u.cy,h=u.innerRadius,f=u.outerRadius,p=u.startAngle,m=u.endAngle,x=u.clockWise,v=(h+f)/2,b=j7(p,m),_=b>=0?1:-1,w,S;a==="insideStart"?(w=p+_*s,S=x):a==="insideEnd"?(w=m-_*s,S=!x):a==="end"&&(w=m+_*s,S=x),S=b<=0?S:!S;var y=It(c,d,v,w),j=It(c,d,v,w+(S?1:-1)*359),C="M".concat(y.x,",").concat(y.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(j.x,",").concat(j.y),P=Re(t.id)?Po("recharts-radial-line-"):t.id;return W.createElement("text",Ga({},n,{dominantBaseline:"central",className:ze("recharts-radial-bar-label",l)}),W.createElement("defs",null,W.createElement("path",{id:P,d:C})),W.createElement("textPath",{xlinkHref:"#".concat(P)},r))},w7=function(t){var r=t.viewBox,n=t.offset,a=t.position,o=r,s=o.cx,l=o.cy,u=o.innerRadius,c=o.outerRadius,d=o.startAngle,h=o.endAngle,f=(d+h)/2;if(a==="outside"){var p=It(s,l,c+n,f),m=p.x,x=p.y;return{x:m,y:x,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(u+c)/2,b=It(s,l,v,f),_=b.x,w=b.y;return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},S7=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,o=t.position,s=r,l=s.x,u=s.y,c=s.width,d=s.height,h=d>=0?1:-1,f=h*a,p=h>0?"end":"start",m=h>0?"start":"end",x=c>=0?1:-1,v=x*a,b=x>0?"end":"start",_=x>0?"start":"end";if(o==="top"){var w={x:l+c/2,y:u-h*a,textAnchor:"middle",verticalAnchor:p};return Ot(Ot({},w),n?{height:Math.max(u-n.y,0),width:c}:{})}if(o==="bottom"){var S={x:l+c/2,y:u+d+f,textAnchor:"middle",verticalAnchor:m};return Ot(Ot({},S),n?{height:Math.max(n.y+n.height-(u+d),0),width:c}:{})}if(o==="left"){var y={x:l-v,y:u+d/2,textAnchor:b,verticalAnchor:"middle"};return Ot(Ot({},y),n?{width:Math.max(y.x-n.x,0),height:d}:{})}if(o==="right"){var j={x:l+c+v,y:u+d/2,textAnchor:_,verticalAnchor:"middle"};return Ot(Ot({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var C=n?{width:c,height:d}:{};return o==="insideLeft"?Ot({x:l+v,y:u+d/2,textAnchor:_,verticalAnchor:"middle"},C):o==="insideRight"?Ot({x:l+c-v,y:u+d/2,textAnchor:b,verticalAnchor:"middle"},C):o==="insideTop"?Ot({x:l+c/2,y:u+f,textAnchor:"middle",verticalAnchor:m},C):o==="insideBottom"?Ot({x:l+c/2,y:u+d-f,textAnchor:"middle",verticalAnchor:p},C):o==="insideTopLeft"?Ot({x:l+v,y:u+f,textAnchor:_,verticalAnchor:m},C):o==="insideTopRight"?Ot({x:l+c-v,y:u+f,textAnchor:b,verticalAnchor:m},C):o==="insideBottomLeft"?Ot({x:l+v,y:u+d-f,textAnchor:_,verticalAnchor:p},C):o==="insideBottomRight"?Ot({x:l+c-v,y:u+d-f,textAnchor:b,verticalAnchor:p},C):ea(o)&&(re(o.x)||In(o.x))&&(re(o.y)||In(o.y))?Ot({x:l+Qn(o.x,c),y:u+Qn(o.y,d),textAnchor:"end",verticalAnchor:"end"},C):Ot({x:l+c/2,y:u+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},C7=function(t){return"cx"in t&&re(t.cx)};function zt(e){var t=e.offset,r=t===void 0?5:t,n=g7(e,c7),a=Ot({offset:r},n),o=a.viewBox,s=a.position,l=a.value,u=a.children,c=a.content,d=a.className,h=d===void 0?"":d,f=a.textBreakAll;if(!o||Re(l)&&Re(u)&&!g.isValidElement(c)&&!Ie(c))return null;if(g.isValidElement(c))return g.cloneElement(c,a);var p;if(Ie(c)){if(p=g.createElement(c,a),g.isValidElement(p))return p}else p=b7(a);var m=C7(o),x=qe(a,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return _7(a,p,x);var v=m?w7(a):S7(a);return W.createElement(_s,Ga({className:ze("recharts-label",h)},x,v,{breakAll:f}),p)}zt.displayName="Label";var Wy=function(t){var r=t.cx,n=t.cy,a=t.angle,o=t.startAngle,s=t.endAngle,l=t.r,u=t.radius,c=t.innerRadius,d=t.outerRadius,h=t.x,f=t.y,p=t.top,m=t.left,x=t.width,v=t.height,b=t.clockWise,_=t.labelViewBox;if(_)return _;if(re(x)&&re(v)){if(re(h)&&re(f))return{x:h,y:f,width:x,height:v};if(re(p)&&re(m))return{x:p,y:m,width:x,height:v}}return re(h)&&re(f)?{x:h,y:f,width:0,height:0}:re(r)&&re(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:d||u||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},O7=function(t,r){return t?t===!0?W.createElement(zt,{key:"label-implicit",viewBox:r}):At(t)?W.createElement(zt,{key:"label-implicit",viewBox:r,value:t}):g.isValidElement(t)?t.type===zt?g.cloneElement(t,{key:"label-implicit",viewBox:r}):W.createElement(zt,{key:"label-implicit",content:t,viewBox:r}):Ie(t)?W.createElement(zt,{key:"label-implicit",content:t,viewBox:r}):ea(t)?W.createElement(zt,Ga({viewBox:r},t,{key:"label-implicit"})):null:null},P7=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,o=Wy(t),s=pr(a,zt).map(function(u,c){return g.cloneElement(u,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return s;var l=O7(t.label,r||o);return[l].concat(u7(s))};zt.parseViewBox=Wy;zt.renderCallByParent=P7;function A7(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var k7=A7;const D7=ut(k7);function Xa(e){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}var E7=["valueAccessor"],T7=["data","dataKey","clockWise","id","textBreakAll"];function $7(e){return N7(e)||W7(e)||I7(e)||M7()}function M7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I7(e,t){if(e){if(typeof e=="string")return Du(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Du(e,t)}}function W7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N7(e){if(Array.isArray(e))return Du(e)}function Du(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zs.apply(this,arguments)}function fg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fg(Object(r),!0).forEach(function(n){z7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z7(e,t,r){return t=L7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L7(e){var t=B7(e,"string");return Xa(t)=="symbol"?t:t+""}function B7(e,t){if(Xa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gg(e,t){if(e==null)return{};var r=R7(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var F7=function(t){return Array.isArray(t.value)?D7(t.value):t.value};function pn(e){var t=e.valueAccessor,r=t===void 0?F7:t,n=gg(e,E7),a=n.data,o=n.dataKey,s=n.clockWise,l=n.id,u=n.textBreakAll,c=gg(n,T7);return!a||!a.length?null:W.createElement(vt,{className:"recharts-label-list"},a.map(function(d,h){var f=Re(o)?r(d,h):sr(d&&d.payload,o),p=Re(l)?{}:{id:"".concat(l,"-").concat(h)};return W.createElement(zt,zs({},qe(d,!0),c,p,{parentViewBox:d.parentViewBox,value:f,textBreakAll:u,viewBox:zt.parseViewBox(Re(s)?d:pg(pg({},d),{},{clockWise:s})),key:"label-".concat(h),index:h}))}))}pn.displayName="LabelList";function q7(e,t){return e?e===!0?W.createElement(pn,{key:"labelList-implicit",data:t}):W.isValidElement(e)||Ie(e)?W.createElement(pn,{key:"labelList-implicit",data:t,content:e}):ea(e)?W.createElement(pn,zs({data:t},e,{key:"labelList-implicit"})):null:null}function U7(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=pr(n,pn).map(function(s,l){return g.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var o=q7(e.label,t);return[o].concat($7(a))}pn.renderCallByParent=U7;function Ya(e){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ya(e)}function Eu(){return Eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eu.apply(this,arguments)}function mg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mg(Object(r),!0).forEach(function(n){V7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V7(e,t,r){return t=H7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H7(e){var t=K7(e,"string");return Ya(t)=="symbol"?t:t+""}function K7(e,t){if(Ya(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ya(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G7=function(t,r){var n=kr(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ko=function(t){var r=t.cx,n=t.cy,a=t.radius,o=t.angle,s=t.sign,l=t.isExternal,u=t.cornerRadius,c=t.cornerIsExternal,d=u*(l?1:-1)+a,h=Math.asin(u/d)/Ns,f=c?o:o+s*h,p=It(r,n,d,f),m=It(r,n,a,f),x=c?o-s*h:o,v=It(r,n,d*Math.cos(h*Ns),x);return{center:p,circleTangency:m,lineTangency:v,theta:h}},Ny=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,s=t.startAngle,l=t.endAngle,u=G7(s,l),c=s+u,d=It(r,n,o,s),h=It(r,n,o,c),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var p=It(r,n,a,s),m=It(r,n,a,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},X7=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,u=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,h=kr(d-c),f=Ko({cx:r,cy:n,radius:o,angle:c,sign:h,cornerRadius:s,cornerIsExternal:u}),p=f.circleTangency,m=f.lineTangency,x=f.theta,v=Ko({cx:r,cy:n,radius:o,angle:d,sign:-h,cornerRadius:s,cornerIsExternal:u}),b=v.circleTangency,_=v.lineTangency,w=v.theta,S=u?Math.abs(c-d):Math.abs(c-d)-x-w;if(S<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Ny({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:c,endAngle:d});var y="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
  `);if(a>0){var j=Ko({cx:r,cy:n,radius:a,angle:c,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),C=j.circleTangency,P=j.lineTangency,A=j.theta,T=Ko({cx:r,cy:n,radius:a,angle:d,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),k=T.circleTangency,E=T.lineTangency,z=T.theta,B=u?Math.abs(c-d):Math.abs(c-d)-A-z;if(B<0&&s===0)return"".concat(y,"L").concat(r,",").concat(n,"Z");y+="L".concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,"Z")}else y+="L".concat(r,",").concat(n,"Z");return y},Y7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zy=function(t){var r=xg(xg({},Y7),t),n=r.cx,a=r.cy,o=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,u=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,f=r.className;if(s<o||d===h)return null;var p=ze("recharts-sector",f),m=s-o,x=Qn(l,m,0,!0),v;return x>0&&Math.abs(d-h)<360?v=X7({cx:n,cy:a,innerRadius:o,outerRadius:s,cornerRadius:Math.min(x,m/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h}):v=Ny({cx:n,cy:a,innerRadius:o,outerRadius:s,startAngle:d,endAngle:h}),W.createElement("path",Eu({},qe(r,!0),{className:p,d:v,role:"img"}))};function Ja(e){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(e)}function Tu(){return Tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tu.apply(this,arguments)}function vg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vg(Object(r),!0).forEach(function(n){J7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J7(e,t,r){return t=Q7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q7(e){var t=Z7(e,"string");return Ja(t)=="symbol"?t:t+""}function Z7(e,t){if(Ja(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ja(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bg={curveBasisClosed:SO,curveBasisOpen:CO,curveBasis:wO,curveBumpX:cO,curveBumpY:uO,curveLinearClosed:OO,curveLinear:_l,curveMonotoneX:PO,curveMonotoneY:AO,curveNatural:kO,curveStep:DO,curveStepAfter:TO,curveStepBefore:EO},Go=function(t){return t.x===+t.x&&t.y===+t.y},xa=function(t){return t.x},va=function(t){return t.y},eN=function(t,r){if(Ie(t))return t;var n="curve".concat(bl(t));return(n==="curveMonotone"||n==="curveBump")&&r?bg["".concat(n).concat(r==="vertical"?"Y":"X")]:bg[n]||_l},tN=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,o=a===void 0?[]:a,s=t.baseLine,l=t.layout,u=t.connectNulls,c=u===void 0?!1:u,d=eN(n,l),h=c?o.filter(function(x){return Go(x)}):o,f;if(Array.isArray(s)){var p=c?s.filter(function(x){return Go(x)}):s,m=h.map(function(x,v){return yg(yg({},x),{},{base:p[v]})});return l==="vertical"?f=zo().y(va).x1(xa).x0(function(x){return x.base.x}):f=zo().x(xa).y1(va).y0(function(x){return x.base.y}),f.defined(Go).curve(d),f(m)}return l==="vertical"&&re(s)?f=zo().y(va).x1(xa).x0(s):re(s)?f=zo().x(xa).y1(va).y0(s):f=Bx().x(xa).y(va),f.defined(Go).curve(d),f(h)},$u=function(t){var r=t.className,n=t.points,a=t.path,o=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?tN(t):a;return W.createElement("path",Tu({},qe(t,!1),ss(t),{className:ze("recharts-curve",r),d:s,ref:o}))},rN=Object.getOwnPropertyNames,nN=Object.getOwnPropertySymbols,iN=Object.prototype.hasOwnProperty;function jg(e,t){return function(n,a,o){return e(n,a,o)&&t(n,a,o)}}function Xo(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var o=a.cache,s=o.get(r),l=o.get(n);if(s&&l)return s===n&&l===r;o.set(r,n),o.set(n,r);var u=e(r,n,a);return o.delete(r),o.delete(n),u}}function _g(e){return rN(e).concat(nN(e))}var aN=Object.hasOwn||function(e,t){return iN.call(e,t)};function li(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var oN="__v",sN="__o",lN="_owner",wg=Object.getOwnPropertyDescriptor,Sg=Object.keys;function cN(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function uN(e,t){return li(e.getTime(),t.getTime())}function dN(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function hN(e,t){return e===t}function Cg(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),o=e.entries(),s,l,u=0;(s=o.next())&&!s.done;){for(var c=t.entries(),d=!1,h=0;(l=c.next())&&!l.done;){if(a[h]){h++;continue}var f=s.value,p=l.value;if(r.equals(f[0],p[0],u,h,e,t,r)&&r.equals(f[1],p[1],f[0],p[0],e,t,r)){d=a[h]=!0;break}h++}if(!d)return!1;u++}return!0}var fN=li;function pN(e,t,r){var n=Sg(e),a=n.length;if(Sg(t).length!==a)return!1;for(;a-- >0;)if(!Ly(e,t,r,n[a]))return!1;return!0}function ya(e,t,r){var n=_g(e),a=n.length;if(_g(t).length!==a)return!1;for(var o,s,l;a-- >0;)if(o=n[a],!Ly(e,t,r,o)||(s=wg(e,o),l=wg(t,o),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function gN(e,t){return li(e.valueOf(),t.valueOf())}function mN(e,t){return e.source===t.source&&e.flags===t.flags}function Og(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),o=e.values(),s,l;(s=o.next())&&!s.done;){for(var u=t.values(),c=!1,d=0;(l=u.next())&&!l.done;){if(!a[d]&&r.equals(s.value,l.value,s.value,l.value,e,t,r)){c=a[d]=!0;break}d++}if(!c)return!1}return!0}function xN(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function vN(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Ly(e,t,r,n){return(n===lN||n===sN||n===oN)&&(e.$$typeof||t.$$typeof)?!0:aN(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var yN="[object Arguments]",bN="[object Boolean]",jN="[object Date]",_N="[object Error]",wN="[object Map]",SN="[object Number]",CN="[object Object]",ON="[object RegExp]",PN="[object Set]",AN="[object String]",kN="[object URL]",DN=Array.isArray,Pg=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Ag=Object.assign,EN=Object.prototype.toString.call.bind(Object.prototype.toString);function TN(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,o=e.areMapsEqual,s=e.areNumbersEqual,l=e.areObjectsEqual,u=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,h=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(m,x,v){if(m===x)return!0;if(m==null||x==null)return!1;var b=typeof m;if(b!==typeof x)return!1;if(b!=="object")return b==="number"?s(m,x,v):b==="function"?a(m,x,v):!1;var _=m.constructor;if(_!==x.constructor)return!1;if(_===Object)return l(m,x,v);if(DN(m))return t(m,x,v);if(Pg!=null&&Pg(m))return h(m,x,v);if(_===Date)return r(m,x,v);if(_===RegExp)return c(m,x,v);if(_===Map)return o(m,x,v);if(_===Set)return d(m,x,v);var w=EN(m);return w===jN?r(m,x,v):w===ON?c(m,x,v):w===wN?o(m,x,v):w===PN?d(m,x,v):w===CN?typeof m.then!="function"&&typeof x.then!="function"&&l(m,x,v):w===kN?f(m,x,v):w===_N?n(m,x,v):w===yN?l(m,x,v):w===bN||w===SN||w===AN?u(m,x,v):!1}}function $N(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?ya:cN,areDatesEqual:uN,areErrorsEqual:dN,areFunctionsEqual:hN,areMapsEqual:n?jg(Cg,ya):Cg,areNumbersEqual:fN,areObjectsEqual:n?ya:pN,arePrimitiveWrappersEqual:gN,areRegExpsEqual:mN,areSetsEqual:n?jg(Og,ya):Og,areTypedArraysEqual:n?ya:xN,areUrlsEqual:vN};if(r&&(a=Ag({},a,r(a))),t){var o=Xo(a.areArraysEqual),s=Xo(a.areMapsEqual),l=Xo(a.areObjectsEqual),u=Xo(a.areSetsEqual);a=Ag({},a,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:u})}return a}function MN(e){return function(t,r,n,a,o,s,l){return e(t,r,l)}}function IN(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,o=e.strict;if(n)return function(u,c){var d=n(),h=d.cache,f=h===void 0?t?new WeakMap:void 0:h,p=d.meta;return r(u,c,{cache:f,equals:a,meta:p,strict:o})};if(t)return function(u,c){return r(u,c,{cache:new WeakMap,equals:a,meta:void 0,strict:o})};var s={cache:void 0,equals:a,meta:void 0,strict:o};return function(u,c){return r(u,c,s)}}var WN=Pn();Pn({strict:!0});Pn({circular:!0});Pn({circular:!0,strict:!0});Pn({createInternalComparator:function(){return li}});Pn({strict:!0,createInternalComparator:function(){return li}});Pn({circular:!0,createInternalComparator:function(){return li}});Pn({circular:!0,createInternalComparator:function(){return li},strict:!0});function Pn(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,o=e.strict,s=o===void 0?!1:o,l=$N(e),u=TN(l),c=n?n(u):MN(u);return IN({circular:r,comparator:u,createState:a,equals:c,strict:s})}function NN(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function kg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>t?(e(o),r=-1):NN(a)};requestAnimationFrame(n)}function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function zN(e){return FN(e)||RN(e)||BN(e)||LN()}function LN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BN(e,t){if(e){if(typeof e=="string")return Dg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dg(e,t)}}function Dg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RN(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FN(e){if(Array.isArray(e))return e}function qN(){var e={},t=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,l=zN(s),u=l[0],c=l.slice(1);if(typeof u=="number"){kg(a.bind(null,c),u);return}a(u),kg(a.bind(null,c));return}Mu(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Qa(e){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(e)}function Eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eg(Object(r),!0).forEach(function(n){By(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function By(e,t,r){return t=UN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UN(e){var t=VN(e,"string");return Qa(t)==="symbol"?t:String(t)}function VN(e,t){if(Qa(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qa(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HN=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},KN=function(t){return t},GN=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Pa=function(t,r){return Object.keys(r).reduce(function(n,a){return Tg(Tg({},n),{},By({},a,t(a,r[a])))},{})},$g=function(t,r,n){return t.map(function(a){return"".concat(GN(a)," ").concat(r,"ms ").concat(n)}).join(",")};function XN(e,t){return QN(e)||JN(e,t)||Ry(e,t)||YN()}function YN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JN(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(d){c=!0,a=d}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function QN(e){if(Array.isArray(e))return e}function ZN(e){return r8(e)||t8(e)||Ry(e)||e8()}function e8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ry(e,t){if(e){if(typeof e=="string")return Iu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iu(e,t)}}function t8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r8(e){if(Array.isArray(e))return Iu(e)}function Iu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ls=1e-4,Fy=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},qy=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Mg=function(t,r){return function(n){var a=Fy(t,r);return qy(a,n)}},n8=function(t,r){return function(n){var a=Fy(t,r),o=[].concat(ZN(a.map(function(s,l){return s*l}).slice(1)),[0]);return qy(o,n)}},Ig=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],o=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,s=1,l=1;break;case"ease":a=.25,o=.1,s=.25,l=1;break;case"ease-in":a=.42,o=0,s=1,l=1;break;case"ease-out":a=.42,o=0,s=.58,l=1;break;case"ease-in-out":a=0,o=0,s=.58,l=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var c=u[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=XN(c,4);a=d[0],o=d[1],s=d[2],l=d[3]}}}var h=Mg(a,s),f=Mg(o,l),p=n8(a,s),m=function(b){return b>1?1:b<0?0:b},x=function(b){for(var _=b>1?1:b,w=_,S=0;S<8;++S){var y=h(w)-_,j=p(w);if(Math.abs(y-_)<Ls||j<Ls)return f(w);w=m(w-y/j)}return f(w)};return x.isStepper=!1,x},i8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,o=a===void 0?8:a,s=t.dt,l=s===void 0?17:s,u=function(d,h,f){var p=-(d-h)*n,m=f*o,x=f+(p-m)*l/1e3,v=f*l/1e3+d;return Math.abs(v-h)<Ls&&Math.abs(x)<Ls?[h,0]:[v,x]};return u.isStepper=!0,u.dt=l,u},a8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ig(a);case"spring":return i8();default:if(a.split("(")[0]==="cubic-bezier")return Ig(a)}return typeof a=="function"?a:null};function Za(e){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}function Wg(e){return l8(e)||s8(e)||Uy(e)||o8()}function o8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l8(e){if(Array.isArray(e))return Nu(e)}function Ng(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ng(Object(r),!0).forEach(function(n){Wu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ng(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wu(e,t,r){return t=c8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c8(e){var t=u8(e,"string");return Za(t)==="symbol"?t:String(t)}function u8(e,t){if(Za(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Za(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d8(e,t){return p8(e)||f8(e,t)||Uy(e,t)||h8()}function h8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uy(e,t){if(e){if(typeof e=="string")return Nu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nu(e,t)}}function Nu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(d){c=!0,a=d}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function p8(e){if(Array.isArray(e))return e}var Bs=function(t,r,n){return t+(r-t)*n},zu=function(t){var r=t.from,n=t.to;return r!==n},g8=function e(t,r,n){var a=Pa(function(o,s){if(zu(s)){var l=t(s.from,s.to,s.velocity),u=d8(l,2),c=u[0],d=u[1];return $t($t({},s),{},{from:c,velocity:d})}return s},r);return n<1?Pa(function(o,s){return zu(s)?$t($t({},s),{},{velocity:Bs(s.velocity,a[o].velocity,n),from:Bs(s.from,a[o].from,n)}):s},r):e(t,a,n-1)};const m8=function(e,t,r,n,a){var o=HN(e,t),s=o.reduce(function(v,b){return $t($t({},v),{},Wu({},b,[e[b],t[b]]))},{}),l=o.reduce(function(v,b){return $t($t({},v),{},Wu({},b,{from:e[b],velocity:0,to:t[b]}))},{}),u=-1,c,d,h=function(){return null},f=function(){return Pa(function(b,_){return _.from},l)},p=function(){return!Object.values(l).filter(zu).length},m=function(b){c||(c=b);var _=b-c,w=_/r.dt;l=g8(r,l,w),a($t($t($t({},e),t),f())),c=b,p()||(u=requestAnimationFrame(h))},x=function(b){d||(d=b);var _=(b-d)/n,w=Pa(function(y,j){return Bs.apply(void 0,Wg(j).concat([r(_)]))},s);if(a($t($t($t({},e),t),w)),_<1)u=requestAnimationFrame(h);else{var S=Pa(function(y,j){return Bs.apply(void 0,Wg(j).concat([r(1)]))},s);a($t($t($t({},e),t),S))}};return h=r.isStepper?m:x,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(u)}}};function Li(e){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(e)}var x8=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function v8(e,t){if(e==null)return{};var r=y8(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y8(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function _c(e){return w8(e)||_8(e)||j8(e)||b8()}function b8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j8(e,t){if(e){if(typeof e=="string")return Lu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lu(e,t)}}function _8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w8(e){if(Array.isArray(e))return Lu(e)}function Lu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zg(Object(r),!0).forEach(function(n){_a(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _a(e,t,r){return t=Vy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vy(n.key),n)}}function O8(e,t,r){return t&&C8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vy(e){var t=P8(e,"string");return Li(t)==="symbol"?t:String(t)}function P8(e,t){if(Li(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Li(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bu(e,t)}function Bu(e,t){return Bu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bu(e,t)}function k8(e){var t=D8();return function(){var n=Rs(e),a;if(t){var o=Rs(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Ru(this,a)}}function Ru(e,t){if(t&&(Li(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fu(e)}function Fu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rs(e){return Rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rs(e)}var on=function(e){A8(r,e);var t=k8(r);function r(n,a){var o;S8(this,r),o=t.call(this,n,a);var s=o.props,l=s.isActive,u=s.attributeName,c=s.from,d=s.to,h=s.steps,f=s.children,p=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Fu(o)),o.changeStyle=o.changeStyle.bind(Fu(o)),!l||p<=0)return o.state={style:{}},typeof f=="function"&&(o.state={style:d}),Ru(o);if(h&&h.length)o.state={style:h[0].style};else if(c){if(typeof f=="function")return o.state={style:c},Ru(o);o.state={style:u?_a({},u,c):c}}else o.state={style:{}};return o}return O8(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,s=a.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,s=o.isActive,l=o.canBegin,u=o.attributeName,c=o.shouldReAnimate,d=o.to,h=o.from,f=this.state.style;if(l){if(!s){var p={style:u?_a({},u,d):d};this.state&&f&&(u&&f[u]!==d||!u&&f!==d)&&this.setState(p);return}if(!(WN(a.to,d)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=m||c?h:a.to;if(this.state&&f){var v={style:u?_a({},u,x):x};(u&&f[u]!==x||!u&&f!==x)&&this.setState(v)}this.runAnimation(wr(wr({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,s=a.from,l=a.to,u=a.duration,c=a.easing,d=a.begin,h=a.onAnimationEnd,f=a.onAnimationStart,p=m8(s,l,a8(c),u,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([f,d,m,u,h])}},{key:"runStepAnimation",value:function(a){var o=this,s=a.steps,l=a.begin,u=a.onAnimationStart,c=s[0],d=c.style,h=c.duration,f=h===void 0?0:h,p=function(x,v,b){if(b===0)return x;var _=v.duration,w=v.easing,S=w===void 0?"ease":w,y=v.style,j=v.properties,C=v.onAnimationEnd,P=b>0?s[b-1]:v,A=j||Object.keys(y);if(typeof S=="function"||S==="spring")return[].concat(_c(x),[o.runJSAnimation.bind(o,{from:P.style,to:y,duration:_,easing:S}),_]);var T=$g(A,_,S),k=wr(wr(wr({},P.style),y),{},{transition:T});return[].concat(_c(x),[k,_,C]).filter(KN)};return this.manager.start([u].concat(_c(s.reduce(p,[d,Math.max(f,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=qN());var o=a.begin,s=a.duration,l=a.attributeName,u=a.to,c=a.easing,d=a.onAnimationStart,h=a.onAnimationEnd,f=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(f.length>1){this.runStepAnimation(a);return}var x=l?_a({},l,u):u,v=$g(Object.keys(x),s,c);m.start([d,o,wr(wr({},x),{},{transition:v}),s,h])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var u=v8(a,x8),c=g.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!l||c===0||s<=0)return o;var h=function(p){var m=p.props,x=m.style,v=x===void 0?{}:x,b=m.className,_=g.cloneElement(p,wr(wr({},u),{},{style:wr(wr({},v),d),className:b}));return _};return c===1?h(g.Children.only(o)):W.createElement("div",null,g.Children.map(o,function(f){return h(f)}))}}]),r}(g.PureComponent);on.displayName="Animate";on.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};on.propTypes={from:He.oneOfType([He.object,He.string]),to:He.oneOfType([He.object,He.string]),attributeName:He.string,duration:He.number,begin:He.number,easing:He.oneOfType([He.string,He.func]),steps:He.arrayOf(He.shape({duration:He.number.isRequired,style:He.object.isRequired,easing:He.oneOfType([He.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),He.func]),properties:He.arrayOf("string"),onAnimationEnd:He.func})),children:He.oneOfType([He.node,He.func]),isActive:He.bool,canBegin:He.bool,onAnimationEnd:He.func,shouldReAnimate:He.bool,onAnimationStart:He.func,onAnimationReStart:He.func};function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fs.apply(this,arguments)}function E8(e,t){return I8(e)||M8(e,t)||$8(e,t)||T8()}function T8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $8(e,t){if(e){if(typeof e=="string")return Lg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lg(e,t)}}function Lg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(d){c=!0,a=d}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function I8(e){if(Array.isArray(e))return e}function Bg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bg(Object(r),!0).forEach(function(n){W8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W8(e,t,r){return t=N8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N8(e){var t=z8(e,"string");return eo(t)=="symbol"?t:t+""}function z8(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fg=function(t,r,n,a,o){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,u=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&o instanceof Array){for(var h=[0,0,0,0],f=0,p=4;f<p;f++)h[f]=o[f]>s?s:o[f];d="M".concat(t,",").concat(r+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+u*h[0],",").concat(r)),d+="L ".concat(t+n-u*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+l*h[1])),d+="L ".concat(t+n,",").concat(r+a-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+n-u*h[2],",").concat(r+a)),d+="L ".concat(t+u*h[3],",").concat(r+a),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-l*h[3])),d+="Z"}else if(s>0&&o===+o&&o>0){var m=Math.min(s,o);d="M ".concat(t,",").concat(r+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+u*m,",").concat(r,`
            L `).concat(t+n-u*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+l*m,`
            L `).concat(t+n,",").concat(r+a-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-u*m,",").concat(r+a,`
            L `).concat(t+u*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-l*m," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},L8=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,o=r.x,s=r.y,l=r.width,u=r.height;if(Math.abs(l)>0&&Math.abs(u)>0){var c=Math.min(o,o+l),d=Math.max(o,o+l),h=Math.min(s,s+u),f=Math.max(s,s+u);return n>=c&&n<=d&&a>=h&&a<=f}return!1},B8={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mh=function(t){var r=Rg(Rg({},B8),t),n=g.useRef(),a=g.useState(-1),o=E8(a,2),s=o[0],l=o[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var u=r.x,c=r.y,d=r.width,h=r.height,f=r.radius,p=r.className,m=r.animationEasing,x=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,_=r.isUpdateAnimationActive;if(u!==+u||c!==+c||d!==+d||h!==+h||d===0||h===0)return null;var w=ze("recharts-rectangle",p);return _?W.createElement(on,{canBegin:s>0,from:{width:d,height:h,x:u,y:c},to:{width:d,height:h,x:u,y:c},duration:x,animationEasing:m,isActive:_},function(S){var y=S.width,j=S.height,C=S.x,P=S.y;return W.createElement(on,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,isActive:b,easing:m},W.createElement("path",Fs({},qe(r,!0),{className:w,d:Fg(C,P,y,j,f),ref:n})))}):W.createElement("path",Fs({},qe(r,!0),{className:w,d:Fg(u,c,d,h,f)}))};function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qu.apply(this,arguments)}var xh=function(t){var r=t.cx,n=t.cy,a=t.r,o=t.className,s=ze("recharts-dot",o);return r===+r&&n===+n&&a===+a?W.createElement("circle",qu({},qe(t,!1),ss(t),{className:s,cx:r,cy:n,r:a})):null};function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}var R8=["x","y","top","left","width","height","className"];function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uu.apply(this,arguments)}function qg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qg(Object(r),!0).forEach(function(n){q8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q8(e,t,r){return t=U8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U8(e){var t=V8(e,"string");return to(t)=="symbol"?t:t+""}function V8(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H8(e,t){if(e==null)return{};var r=K8(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function K8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var G8=function(t,r,n,a,o,s){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},X8=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,o=a===void 0?0:a,s=t.top,l=s===void 0?0:s,u=t.left,c=u===void 0?0:u,d=t.width,h=d===void 0?0:d,f=t.height,p=f===void 0?0:f,m=t.className,x=H8(t,R8),v=F8({x:n,y:o,top:l,left:c,width:h,height:p},x);return!re(n)||!re(o)||!re(h)||!re(p)||!re(l)||!re(c)?null:W.createElement("path",Uu({},qe(v,!0),{className:ze("recharts-cross",m),d:G8(n,o,h,p,l,c)}))},Y8=uv,J8=Y8(Object.getPrototypeOf,Object),Q8=J8,Z8=xn,ez=Q8,tz=yn,rz="[object Object]",nz=Function.prototype,iz=Object.prototype,Hy=nz.toString,az=iz.hasOwnProperty,oz=Hy.call(Object);function sz(e){if(!tz(e)||Z8(e)!=rz)return!1;var t=ez(e);if(t===null)return!0;var r=az.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Hy.call(r)==oz}var lz=sz;const cz=ut(lz);var uz=xn,dz=yn,hz="[object Boolean]";function fz(e){return e===!0||e===!1||dz(e)&&uz(e)==hz}var pz=fz;const gz=ut(pz);function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qs.apply(this,arguments)}function mz(e,t){return bz(e)||yz(e,t)||vz(e,t)||xz()}function xz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vz(e,t){if(e){if(typeof e=="string")return Ug(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ug(e,t)}}function Ug(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(d){c=!0,a=d}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function bz(e){if(Array.isArray(e))return e}function Vg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vg(Object(r),!0).forEach(function(n){jz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jz(e,t,r){return t=_z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _z(e){var t=wz(e,"string");return ro(t)=="symbol"?t:t+""}function wz(e,t){if(ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kg=function(t,r,n,a,o){var s=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-s/2,",").concat(r+o),l+="L ".concat(t+n-s/2-a,",").concat(r+o),l+="L ".concat(t,",").concat(r," Z"),l},Sz={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cz=function(t){var r=Hg(Hg({},Sz),t),n=g.useRef(),a=g.useState(-1),o=mz(a,2),s=o[0],l=o[1];g.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var u=r.x,c=r.y,d=r.upperWidth,h=r.lowerWidth,f=r.height,p=r.className,m=r.animationEasing,x=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(u!==+u||c!==+c||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var _=ze("recharts-trapezoid",p);return b?W.createElement(on,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:f,x:u,y:c},to:{upperWidth:d,lowerWidth:h,height:f,x:u,y:c},duration:x,animationEasing:m,isActive:b},function(w){var S=w.upperWidth,y=w.lowerWidth,j=w.height,C=w.x,P=w.y;return W.createElement(on,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,easing:m},W.createElement("path",qs({},qe(r,!0),{className:_,d:Kg(C,P,S,y,j),ref:n})))}):W.createElement("g",null,W.createElement("path",qs({},qe(r,!0),{className:_,d:Kg(u,c,d,h,f)})))},Oz=["option","shapeType","propTransformer","activeClassName","isActive"];function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function Pz(e,t){if(e==null)return{};var r=Az(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Az(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gg(Object(r),!0).forEach(function(n){kz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kz(e,t,r){return t=Dz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dz(e){var t=Ez(e,"string");return no(t)=="symbol"?t:t+""}function Ez(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(no(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tz(e,t){return Us(Us({},t),e)}function $z(e,t){return e==="symbols"}function Xg(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return W.createElement(mh,r);case"trapezoid":return W.createElement(Cz,r);case"sector":return W.createElement(zy,r);case"symbols":if($z(t))return W.createElement(Id,r);break;default:return null}}function Mz(e){return g.isValidElement(e)?e.props:e}function Iz(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Tz:n,o=e.activeClassName,s=o===void 0?"recharts-active-shape":o,l=e.isActive,u=Pz(e,Oz),c;if(g.isValidElement(t))c=g.cloneElement(t,Us(Us({},u),Mz(t)));else if(Ie(t))c=t(u);else if(cz(t)&&!gz(t)){var d=a(t,u);c=W.createElement(Xg,{shapeType:r,elementProps:d})}else{var h=u;c=W.createElement(Xg,{shapeType:r,elementProps:h})}return l?W.createElement(vt,{className:s},c):c}function zl(e,t){return t!=null&&"trapezoids"in e.props}function Ll(e,t){return t!=null&&"sectors"in e.props}function io(e,t){return t!=null&&"points"in e.props}function Wz(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&o}function Nz(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function zz(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Lz(e,t){var r;return zl(e,t)?r=Wz:Ll(e,t)?r=Nz:io(e,t)&&(r=zz),r}function Bz(e,t){var r;return zl(e,t)?r="trapezoids":Ll(e,t)?r="sectors":io(e,t)&&(r="points"),r}function Rz(e,t){if(zl(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ll(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return io(e,t)?t.payload:{}}function Fz(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Bz(r,t),o=Rz(r,t),s=n.filter(function(u,c){var d=Il(o,u),h=r.props[a].filter(function(m){var x=Lz(r,t);return x(m,t)}),f=r.props[a].indexOf(h[h.length-1]),p=c===f;return d&&p}),l=n.indexOf(s[s.length-1]);return l}var qz=Math.ceil,Uz=Math.max;function Vz(e,t,r,n){for(var a=-1,o=Uz(qz((t-e)/(r||1)),0),s=Array(o);o--;)s[n?o:++a]=e,e+=r;return s}var Hz=Vz,Kz=_j,Yg=1/0,Gz=17976931348623157e292;function Xz(e){if(!e)return e===0?e:0;if(e=Kz(e),e===Yg||e===-Yg){var t=e<0?-1:1;return t*Gz}return e===e?e:0}var Ky=Xz,Yz=Hz,Jz=Ol,wc=Ky;function Qz(e){return function(t,r,n){return n&&typeof n!="number"&&Jz(t,r,n)&&(r=n=void 0),t=wc(t),r===void 0?(r=t,t=0):r=wc(r),n=n===void 0?t<r?1:-1:wc(n),Yz(t,r,n,e)}}var Zz=Qz,eL=Zz,tL=eL(),rL=tL;const Vs=ut(rL);function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function Jg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jg(Object(r),!0).forEach(function(n){Gy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gy(e,t,r){return t=nL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nL(e){var t=iL(e,"string");return ao(t)=="symbol"?t:t+""}function iL(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aL=["Webkit","Moz","O","ms"],oL=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=aL.reduce(function(o,s){return Qg(Qg({},o),{},Gy({},s+n,r))},{});return a[t]=r,a};function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hs.apply(this,arguments)}function Zg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zg(Object(r),!0).forEach(function(n){Zt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function em(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yy(n.key),n)}}function lL(e,t,r){return t&&em(e.prototype,t),r&&em(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cL(e,t,r){return t=Ks(t),uL(e,Xy()?Reflect.construct(t,r||[],Ks(e).constructor):t.apply(e,r))}function uL(e,t){if(t&&(Bi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dL(e)}function dL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xy=function(){return!!e})()}function Ks(e){return Ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ks(e)}function hL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vu(e,t)}function Vu(e,t){return Vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vu(e,t)}function Zt(e,t,r){return t=Yy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yy(e){var t=fL(e,"string");return Bi(t)=="symbol"?t:t+""}function fL(e,t){if(Bi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pL=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,o=t.x,s=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var u=r.length,c=Ca().domain(Vs(0,u)).range([o,o+s-l]),d=c.domain().map(function(h){return c(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:d}},tm=function(t){return t.changedTouches&&!!t.changedTouches.length},Ri=function(e){function t(r){var n;return sL(this,t),n=cL(this,t,[r]),Zt(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Zt(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Zt(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,s=a.onDragEnd,l=a.startIndex;s==null||s({endIndex:o,startIndex:l})}),n.detachDragEndListener()}),Zt(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Zt(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Zt(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Zt(n,"handleSlideDragStart",function(a){var o=tm(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return hL(t,e),lL(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,s=this.state.scaleValues,l=this.props,u=l.gap,c=l.data,d=c.length-1,h=Math.min(a,o),f=Math.max(a,o),p=t.getIndexInRange(s,h),m=t.getIndexInRange(s,f);return{startIndex:p-p%u,endIndex:m===d?d:m-m%u}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,s=a.tickFormatter,l=a.dataKey,u=sr(o[n],l,n);return Ie(s)?s(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,s=a.startX,l=a.endX,u=this.props,c=u.x,d=u.width,h=u.travellerWidth,f=u.startIndex,p=u.endIndex,m=u.onChange,x=n.pageX-o;x>0?x=Math.min(x,c+d-h-l,c+d-h-s):x<0&&(x=Math.max(x,c-s,c-l));var v=this.getIndex({startX:s+x,endX:l+x});(v.startIndex!==f||v.endIndex!==p)&&m&&m(v),this.setState({startX:s+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=tm(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,s=a.movingTravellerId,l=a.endX,u=a.startX,c=this.state[s],d=this.props,h=d.x,f=d.width,p=d.travellerWidth,m=d.onChange,x=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},_=n.pageX-o;_>0?_=Math.min(_,h+f-p-c):_<0&&(_=Math.max(_,h-c)),b[s]=c+_;var w=this.getIndex(b),S=w.startIndex,y=w.endIndex,j=function(){var P=v.length-1;return s==="startX"&&(l>u?S%x===0:y%x===0)||l<u&&y===P||s==="endX"&&(l>u?y%x===0:S%x===0)||l>u&&y===P};this.setState(Zt(Zt({},s,c+_),"brushMoveStartX",n.pageX),function(){m&&j()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,s=this.state,l=s.scaleValues,u=s.startX,c=s.endX,d=this.state[a],h=l.indexOf(d);if(h!==-1){var f=h+n;if(!(f===-1||f>=l.length)){var p=l[f];a==="startX"&&p>=c||a==="endX"&&p<=u||this.setState(Zt({},a,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,s=n.width,l=n.height,u=n.fill,c=n.stroke;return W.createElement("rect",{stroke:c,fill:u,x:a,y:o,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,s=n.width,l=n.height,u=n.data,c=n.children,d=n.padding,h=g.Children.only(c);return h?W.cloneElement(h,{x:a,y:o,width:s,height:l,margin:d,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,s,l=this,u=this.props,c=u.y,d=u.travellerWidth,h=u.height,f=u.traveller,p=u.ariaLabel,m=u.data,x=u.startIndex,v=u.endIndex,b=Math.max(n,this.props.x),_=Sc(Sc({},qe(this.props,!1)),{},{x:b,y:c,width:d,height:h}),w=p||"Min value: ".concat((o=m[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=m[v])===null||s===void 0?void 0:s.name);return W.createElement(vt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(y){["ArrowLeft","ArrowRight"].includes(y.key)&&(y.preventDefault(),y.stopPropagation(),l.handleTravellerMoveKeyboard(y.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,_))}},{key:"renderSlide",value:function(n,a){var o=this.props,s=o.y,l=o.height,u=o.stroke,c=o.travellerWidth,d=Math.min(n,a)+c,h=Math.max(Math.abs(a-n)-c,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:d,y:s,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,s=n.y,l=n.height,u=n.travellerWidth,c=n.stroke,d=this.state,h=d.startX,f=d.endX,p=5,m={pointerEvents:"none",fill:c};return W.createElement(vt,{className:"recharts-brush-texts"},W.createElement(_s,Hs({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-p,y:s+l/2},m),this.getTextOfTick(a)),W.createElement(_s,Hs({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+u+p,y:s+l/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,s=n.children,l=n.x,u=n.y,c=n.width,d=n.height,h=n.alwaysShowText,f=this.state,p=f.startX,m=f.endX,x=f.isTextActive,v=f.isSlideMoving,b=f.isTravellerMoving,_=f.isTravellerFocused;if(!a||!a.length||!re(l)||!re(u)||!re(c)||!re(d)||c<=0||d<=0)return null;var w=ze("recharts-brush",o),S=W.Children.count(s)===1,y=oL("userSelect","none");return W.createElement(vt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:y},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(x||v||b||_||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,s=n.width,l=n.height,u=n.stroke,c=Math.floor(o+l/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:a,y:o,width:s,height:l,fill:u,stroke:"none"}),W.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return W.isValidElement(n)?o=W.cloneElement(n,a):Ie(n)?o=n(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,s=n.width,l=n.x,u=n.travellerWidth,c=n.updateId,d=n.startIndex,h=n.endIndex;if(o!==a.prevData||c!==a.prevUpdateId)return Sc({prevData:o,prevTravellerWidth:u,prevUpdateId:c,prevX:l,prevWidth:s},o&&o.length?pL({data:o,width:s,x:l,travellerWidth:u,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||u!==a.prevTravellerWidth)){a.scale.range([l,l+s-u]);var f=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:o,prevTravellerWidth:u,prevUpdateId:c,prevX:l,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,s=0,l=o-1;l-s>1;){var u=Math.floor((s+l)/2);n[u]>a?l=u:s=u}return a>=n[l]?l:s}}])}(g.PureComponent);Zt(Ri,"displayName","Brush");Zt(Ri,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var gL=Fd;function mL(e,t){var r;return gL(e,function(n,a,o){return r=t(n,a,o),!r}),!!r}var xL=mL,vL=rv,yL=Sn,bL=xL,jL=Jt,_L=Ol;function wL(e,t,r){var n=jL(e)?vL:bL;return r&&_L(e,t,r)&&(t=void 0),n(e,yL(t))}var SL=wL;const CL=ut(SL);var Rr=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},rm=Sv;function OL(e,t,r){t=="__proto__"&&rm?rm(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var PL=OL,AL=PL,kL=_v,DL=Sn;function EL(e,t){var r={};return t=DL(t),kL(e,function(n,a,o){AL(r,a,t(n,a,o))}),r}var TL=EL;const $L=ut(TL);function ML(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var IL=ML,WL=Fd;function NL(e,t){var r=!0;return WL(e,function(n,a,o){return r=!!t(n,a,o),r}),r}var zL=NL,LL=IL,BL=zL,RL=Sn,FL=Jt,qL=Ol;function UL(e,t,r){var n=FL(e)?LL:BL;return r&&qL(e,t,r)&&(t=void 0),n(e,RL(t))}var VL=UL;const Jy=ut(VL);var HL=["x","y"];function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hu.apply(this,arguments)}function nm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nm(Object(r),!0).forEach(function(n){KL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KL(e,t,r){return t=GL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GL(e){var t=XL(e,"string");return oo(t)=="symbol"?t:t+""}function XL(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YL(e,t){if(e==null)return{};var r=JL(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QL(e,t){var r=e.x,n=e.y,a=YL(e,HL),o="".concat(r),s=parseInt(o,10),l="".concat(n),u=parseInt(l,10),c="".concat(t.height||a.height),d=parseInt(c,10),h="".concat(t.width||a.width),f=parseInt(h,10);return ba(ba(ba(ba(ba({},t),a),s?{x:s}:{}),u?{y:u}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function im(e){return W.createElement(Iz,Hu({shapeType:"rectangle",propTransformer:QL,activeClassName:"recharts-active-bar"},e))}var ZL=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var o=typeof n=="number";return o?t(n,a):(o||ei(),r)}},e6=["value","background"],Qy;function Fi(e){"@babel/helpers - typeof";return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(e)}function t6(e,t){if(e==null)return{};var r=r6(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gs.apply(this,arguments)}function am(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?am(Object(r),!0).forEach(function(n){hn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):am(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function om(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e0(n.key),n)}}function i6(e,t,r){return t&&om(e.prototype,t),r&&om(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a6(e,t,r){return t=Xs(t),o6(e,Zy()?Reflect.construct(t,r||[],Xs(e).constructor):t.apply(e,r))}function o6(e,t){if(t&&(Fi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s6(e)}function s6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zy=function(){return!!e})()}function Xs(e){return Xs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xs(e)}function l6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ku(e,t)}function Ku(e,t){return Ku=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ku(e,t)}function hn(e,t,r){return t=e0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e0(e){var t=c6(e,"string");return Fi(t)=="symbol"?t:t+""}function c6(e,t){if(Fi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mo=function(e){function t(){var r;n6(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=a6(this,t,[].concat(a)),hn(r,"state",{isAnimationFinished:!1}),hn(r,"id",Po("recharts-bar-")),hn(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),hn(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return l6(t,e),i6(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,s=o.shape,l=o.dataKey,u=o.activeIndex,c=o.activeBar,d=qe(this.props,!1);return n&&n.map(function(h,f){var p=f===u,m=p?c:s,x=yt(yt(yt({},d),h),{},{isActive:p,option:m,index:f,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return W.createElement(vt,Gs({className:"recharts-bar-rectangle"},ls(a.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),W.createElement(im,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,s=a.layout,l=a.isAnimationActive,u=a.animationBegin,c=a.animationDuration,d=a.animationEasing,h=a.animationId,f=this.state.prevData;return W.createElement(on,{begin:u,duration:c,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,x=o.map(function(v,b){var _=f&&f[b];if(_){var w=Or(_.x,v.x),S=Or(_.y,v.y),y=Or(_.width,v.width),j=Or(_.height,v.height);return yt(yt({},v),{},{x:w(m),y:S(m),width:y(m),height:j(m)})}if(s==="horizontal"){var C=Or(0,v.height),P=C(m);return yt(yt({},v),{},{y:v.y+v.height-P,height:P})}var A=Or(0,v.width),T=A(m);return yt(yt({},v),{},{width:T})});return W.createElement(vt,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,s=this.state.prevData;return o&&a&&a.length&&(!s||!Il(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,s=a.dataKey,l=a.activeIndex,u=qe(this.props.background,!1);return o.map(function(c,d){c.value;var h=c.background,f=t6(c,e6);if(!h)return null;var p=yt(yt(yt(yt(yt({},f),{},{fill:"#eee"},h),u),ls(n.props,c,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return W.createElement(im,Gs({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,l=o.xAxis,u=o.yAxis,c=o.layout,d=o.children,h=pr(d,$o);if(!h)return null;var f=c==="vertical"?s[0].height/2:s[0].width/2,p=function(v,b){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:sr(v,b)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return W.createElement(vt,m,h.map(function(x){return W.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:s,xAxis:l,yAxis:u,layout:c,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,s=n.className,l=n.xAxis,u=n.yAxis,c=n.left,d=n.top,h=n.width,f=n.height,p=n.isAnimationActive,m=n.background,x=n.id;if(a||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=ze("recharts-bar",s),_=l&&l.allowDataOverflow,w=u&&u.allowDataOverflow,S=_||w,y=Re(x)?this.id:x;return W.createElement(vt,{className:b},_||w?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(y)},W.createElement("rect",{x:_?c:c-h/2,y:w?d:d-f/2,width:_?h:h*2,height:w?f:f*2}))):null,W.createElement(vt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(y,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,y),(!p||v)&&pn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(g.PureComponent);Qy=Mo;hn(Mo,"displayName","Bar");hn(Mo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Zr.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});hn(Mo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,s=e.yAxis,l=e.xAxisTicks,u=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,p=U4(n,r);if(!p)return null;var m=t.layout,x=r.type.defaultProps,v=x!==void 0?yt(yt({},x),r.props):r.props,b=v.dataKey,_=v.children,w=v.minPointSize,S=m==="horizontal"?s:o,y=c?S.scale.domain():null,j=Q4({numericAxis:S}),C=pr(_,kv),P=h.map(function(A,T){var k,E,z,B,F,U;c?k=V4(c[d+T],y):(k=sr(A,b),Array.isArray(k)||(k=[j,k]));var R=ZL(w,Qy.defaultProps.minPointSize)(k[1],T);if(m==="horizontal"){var H,X=[s.scale(k[0]),s.scale(k[1])],ee=X[0],ue=X[1];E=ag({axis:o,ticks:l,bandSize:a,offset:p.offset,entry:A,index:T}),z=(H=ue??ee)!==null&&H!==void 0?H:void 0,B=p.size;var J=ee-ue;if(F=Number.isNaN(J)?0:J,U={x:E,y:s.y,width:B,height:s.height},Math.abs(R)>0&&Math.abs(F)<Math.abs(R)){var le=kr(F||R)*(Math.abs(R)-Math.abs(F));z-=le,F+=le}}else{var Pe=[o.scale(k[0]),o.scale(k[1])],Le=Pe[0],$e=Pe[1];if(E=Le,z=ag({axis:s,ticks:u,bandSize:a,offset:p.offset,entry:A,index:T}),B=$e-Le,F=p.size,U={x:o.x,y:z,width:o.width,height:F},Math.abs(R)>0&&Math.abs(B)<Math.abs(R)){var Ye=kr(B||R)*(Math.abs(R)-Math.abs(B));B+=Ye}}return yt(yt(yt({},A),{},{x:E,y:z,width:B,height:F,value:c?k:k[1],payload:A,background:U},C&&C[T]&&C[T].props),{},{tooltipPayload:[Iy(r,A)],tooltipPosition:{x:E+B/2,y:z+F/2}})});return yt({data:P,layout:m},f)});function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function u6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t0(n.key),n)}}function d6(e,t,r){return t&&sm(e.prototype,t),r&&sm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lm(Object(r),!0).forEach(function(n){Bl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bl(e,t,r){return t=t0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t0(e){var t=h6(e,"string");return so(t)=="symbol"?t:t+""}function h6(e,t){if(so(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(so(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f6=function(t,r,n,a,o){var s=t.width,l=t.height,u=t.layout,c=t.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!er(c,Mo);return d.reduce(function(p,m){var x=r[m],v=x.orientation,b=x.domain,_=x.padding,w=_===void 0?{}:_,S=x.mirror,y=x.reversed,j="".concat(v).concat(S?"Mirror":""),C,P,A,T,k;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var E=b[1]-b[0],z=1/0,B=x.categoricalDomain.sort();if(B.forEach(function(Pe,Le){Le>0&&(z=Math.min((Pe||0)-(B[Le-1]||0),z))}),Number.isFinite(z)){var F=z/E,U=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(C=F*U/2),x.padding==="no-gap"){var R=Qn(t.barCategoryGap,F*U),H=F*U/2;C=H-R-(H-R)/U*R}}}a==="xAxis"?P=[n.left+(w.left||0)+(C||0),n.left+n.width-(w.right||0)-(C||0)]:a==="yAxis"?P=u==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(C||0),n.top+n.height-(w.bottom||0)-(C||0)]:P=x.range,y&&(P=[P[1],P[0]]);var X=F4(x,o,f),ee=X.scale,ue=X.realScaleType;ee.domain(b).range(P),q4(ee);var J=J4(ee,Sr(Sr({},x),{},{realScaleType:ue}));a==="xAxis"?(k=v==="top"&&!S||v==="bottom"&&S,A=n.left,T=h[j]-k*x.height):a==="yAxis"&&(k=v==="left"&&!S||v==="right"&&S,A=h[j]-k*x.width,T=n.top);var le=Sr(Sr(Sr({},x),J),{},{realScaleType:ue,x:A,y:T,scale:ee,width:a==="xAxis"?n.width:x.width,height:a==="yAxis"?n.height:x.height});return le.bandSize=Ws(le,J),!x.hide&&a==="xAxis"?h[j]+=(k?-1:1)*le.height:x.hide||(h[j]+=(k?-1:1)*le.width),Sr(Sr({},p),{},Bl({},m,le))},{})},r0=function(t,r){var n=t.x,a=t.y,o=r.x,s=r.y;return{x:Math.min(n,o),y:Math.min(a,s),width:Math.abs(o-n),height:Math.abs(s-a)}},p6=function(t){var r=t.x1,n=t.y1,a=t.x2,o=t.y2;return r0({x:r,y:n},{x:a,y:o})},n0=function(){function e(t){u6(this,e),this.scale=t}return d6(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Bl(n0,"EPS",1e-4);var vh=function(t){var r=Object.keys(t).reduce(function(n,a){return Sr(Sr({},n),{},Bl({},a,n0.create(t[a])))},{});return Sr(Sr({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,l=o.position;return $L(a,function(u,c){return r[c].apply(u,{bandAware:s,position:l})})},isInRange:function(a){return Jy(a,function(o,s){return r[s].isInRange(o)})}})};function g6(e){return(e%180+180)%180}var m6=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=g6(a),s=o*Math.PI/180,l=Math.atan(n/r),u=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(u)},x6=Sn,v6=Ao,y6=Sl;function b6(e){return function(t,r,n){var a=Object(t);if(!v6(t)){var o=x6(r);t=y6(t),r=function(l){return o(a[l],l,a)}}var s=e(t,r,n);return s>-1?a[o?t[s]:s]:void 0}}var j6=b6,_6=Ky;function w6(e){var t=_6(e),r=t%1;return t===t?r?t-r:t:0}var S6=w6,C6=mv,O6=Sn,P6=S6,A6=Math.max;function k6(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:P6(r);return a<0&&(a=A6(n+a,0)),C6(e,O6(t),a)}var D6=k6,E6=j6,T6=D6,$6=E6(T6),M6=$6;const I6=ut(M6);var W6=n2(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),yh=g.createContext(void 0),bh=g.createContext(void 0),i0=g.createContext(void 0),a0=g.createContext({}),o0=g.createContext(void 0),s0=g.createContext(0),l0=g.createContext(0),cm=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,s=t.clipPathId,l=t.children,u=t.width,c=t.height,d=W6(o);return W.createElement(yh.Provider,{value:n},W.createElement(bh.Provider,{value:a},W.createElement(a0.Provider,{value:o},W.createElement(i0.Provider,{value:d},W.createElement(o0.Provider,{value:s},W.createElement(s0.Provider,{value:c},W.createElement(l0.Provider,{value:u},l)))))))},N6=function(){return g.useContext(o0)},c0=function(t){var r=g.useContext(yh);r==null&&ei();var n=r[t];return n==null&&ei(),n},z6=function(){var t=g.useContext(yh);return dn(t)},L6=function(){var t=g.useContext(bh),r=I6(t,function(n){return Jy(n.domain,Number.isFinite)});return r||dn(t)},u0=function(t){var r=g.useContext(bh);r==null&&ei();var n=r[t];return n==null&&ei(),n},B6=function(){var t=g.useContext(i0);return t},R6=function(){return g.useContext(a0)},jh=function(){return g.useContext(l0)},_h=function(){return g.useContext(s0)};function qi(e){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}function F6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h0(n.key),n)}}function U6(e,t,r){return t&&q6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V6(e,t,r){return t=Ys(t),H6(e,d0()?Reflect.construct(t,r||[],Ys(e).constructor):t.apply(e,r))}function H6(e,t){if(t&&(qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K6(e)}function K6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d0=function(){return!!e})()}function Ys(e){return Ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ys(e)}function G6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gu(e,t)}function Gu(e,t){return Gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gu(e,t)}function um(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?um(Object(r),!0).forEach(function(n){wh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):um(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wh(e,t,r){return t=h0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h0(e){var t=X6(e,"string");return qi(t)=="symbol"?t:t+""}function X6(e,t){if(qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y6(e,t){return eB(e)||Z6(e,t)||Q6(e,t)||J6()}function J6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q6(e,t){if(e){if(typeof e=="string")return hm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hm(e,t)}}function hm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z6(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(d){c=!0,a=d}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function eB(e){if(Array.isArray(e))return e}function Xu(){return Xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xu.apply(this,arguments)}var tB=function(t,r){var n;return W.isValidElement(t)?n=W.cloneElement(t,r):Ie(t)?n=t(r):n=W.createElement("line",Xu({},r,{className:"recharts-reference-line-line"})),n},rB=function(t,r,n,a,o,s,l,u,c){var d=o.x,h=o.y,f=o.width,p=o.height;if(n){var m=c.y,x=t.y.apply(m,{position:s});if(Rr(c,"discard")&&!t.y.isInRange(x))return null;var v=[{x:d+f,y:x},{x:d,y:x}];return u==="left"?v.reverse():v}if(r){var b=c.x,_=t.x.apply(b,{position:s});if(Rr(c,"discard")&&!t.x.isInRange(_))return null;var w=[{x:_,y:h+p},{x:_,y:h}];return l==="top"?w.reverse():w}if(a){var S=c.segment,y=S.map(function(j){return t.apply(j,{position:s})});return Rr(c,"discard")&&CL(y,function(j){return!t.isInRange(j)})?null:y}return null};function nB(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,o=e.yAxisId,s=e.shape,l=e.className,u=e.alwaysShow,c=N6(),d=c0(a),h=u0(o),f=B6();if(!c||!f)return null;Qr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=vh({x:d.scale,y:h.scale}),m=At(t),x=At(r),v=n&&n.length===2,b=rB(p,m,x,v,f,e.position,d.orientation,h.orientation,e);if(!b)return null;var _=Y6(b,2),w=_[0],S=w.x,y=w.y,j=_[1],C=j.x,P=j.y,A=Rr(e,"hidden")?"url(#".concat(c,")"):void 0,T=dm(dm({clipPath:A},qe(e,!0)),{},{x1:S,y1:y,x2:C,y2:P});return W.createElement(vt,{className:ze("recharts-reference-line",l)},tB(s,T),zt.renderCallByParent(e,p6({x1:S,y1:y,x2:C,y2:P})))}var Sh=function(e){function t(){return F6(this,t),V6(this,t,arguments)}return G6(t,e),U6(t,[{key:"render",value:function(){return W.createElement(nB,this.props)}}])}(W.Component);wh(Sh,"displayName","ReferenceLine");wh(Sh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(this,arguments)}function Ui(e){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}function fm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fm(Object(r),!0).forEach(function(n){Rl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p0(n.key),n)}}function oB(e,t,r){return t&&aB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sB(e,t,r){return t=Js(t),lB(e,f0()?Reflect.construct(t,r||[],Js(e).constructor):t.apply(e,r))}function lB(e,t){if(t&&(Ui(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cB(e)}function cB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f0=function(){return!!e})()}function Js(e){return Js=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Js(e)}function uB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ju(e,t)}function Ju(e,t){return Ju=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ju(e,t)}function Rl(e,t,r){return t=p0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p0(e){var t=dB(e,"string");return Ui(t)=="symbol"?t:t+""}function dB(e,t){if(Ui(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ui(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hB=function(t){var r=t.x,n=t.y,a=t.xAxis,o=t.yAxis,s=vh({x:a.scale,y:o.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return Rr(t,"discard")&&!s.isInRange(l)?null:l},Fl=function(e){function t(){return iB(this,t),sB(this,t,arguments)}return uB(t,e),oB(t,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,s=n.r,l=n.alwaysShow,u=n.clipPathId,c=At(a),d=At(o);if(Qr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var h=hB(this.props);if(!h)return null;var f=h.x,p=h.y,m=this.props,x=m.shape,v=m.className,b=Rr(this.props,"hidden")?"url(#".concat(u,")"):void 0,_=pm(pm({clipPath:b},qe(this.props,!0)),{},{cx:f,cy:p});return W.createElement(vt,{className:ze("recharts-reference-dot",v)},t.renderDot(x,_),zt.renderCallByParent(this.props,{x:f-s,y:p-s,width:2*s,height:2*s}))}}])}(W.Component);Rl(Fl,"displayName","ReferenceDot");Rl(Fl,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Rl(Fl,"renderDot",function(e,t){var r;return W.isValidElement(e)?r=W.cloneElement(e,t):Ie(e)?r=e(t):r=W.createElement(xh,Yu({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qu.apply(this,arguments)}function Vi(e){"@babel/helpers - typeof";return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(e)}function gm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gm(Object(r),!0).forEach(function(n){ql(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m0(n.key),n)}}function gB(e,t,r){return t&&pB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mB(e,t,r){return t=Qs(t),xB(e,g0()?Reflect.construct(t,r||[],Qs(e).constructor):t.apply(e,r))}function xB(e,t){if(t&&(Vi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vB(e)}function vB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g0=function(){return!!e})()}function Qs(e){return Qs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qs(e)}function yB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zu(e,t)}function Zu(e,t){return Zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zu(e,t)}function ql(e,t,r){return t=m0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m0(e){var t=bB(e,"string");return Vi(t)=="symbol"?t:t+""}function bB(e,t){if(Vi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jB=function(t,r,n,a,o){var s=o.x1,l=o.x2,u=o.y1,c=o.y2,d=o.xAxis,h=o.yAxis;if(!d||!h)return null;var f=vh({x:d.scale,y:h.scale}),p={x:t?f.x.apply(s,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(u,{position:"start"}):f.y.rangeMin},m={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:a?f.y.apply(c,{position:"end"}):f.y.rangeMax};return Rr(o,"discard")&&(!f.isInRange(p)||!f.isInRange(m))?null:r0(p,m)},Ul=function(e){function t(){return fB(this,t),mB(this,t,arguments)}return yB(t,e),gB(t,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,s=n.y1,l=n.y2,u=n.className,c=n.alwaysShow,d=n.clipPathId;Qr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=At(a),f=At(o),p=At(s),m=At(l),x=this.props.shape;if(!h&&!f&&!p&&!m&&!x)return null;var v=jB(h,f,p,m,this.props);if(!v&&!x)return null;var b=Rr(this.props,"hidden")?"url(#".concat(d,")"):void 0;return W.createElement(vt,{className:ze("recharts-reference-area",u)},t.renderRect(x,mm(mm({clipPath:b},qe(this.props,!0)),v)),zt.renderCallByParent(this.props,v))}}])}(W.Component);ql(Ul,"displayName","ReferenceArea");ql(Ul,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ql(Ul,"renderRect",function(e,t){var r;return W.isValidElement(e)?r=W.cloneElement(e,t):Ie(e)?r=e(t):r=W.createElement(mh,Qu({},t,{className:"recharts-reference-area-rect"})),r});function x0(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function _B(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return m6(n,r)}function wB(e,t,r){var n=r==="width",a=e.x,o=e.y,s=e.width,l=e.height;return t===1?{start:n?a:o,end:n?a+s:o+l}:{start:n?a+s:o+l,end:n?a:o}}function Zs(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-a)<=0}function SB(e,t){return x0(e,t+1)}function CB(e,t,r,n,a){for(var o=(n||[]).slice(),s=t.start,l=t.end,u=0,c=1,d=s,h=function(){var m=n==null?void 0:n[u];if(m===void 0)return{v:x0(n,c)};var x=u,v,b=function(){return v===void 0&&(v=r(m,x)),v},_=m.coordinate,w=u===0||Zs(e,_,b,d,l);w||(u=0,d=s,c+=1),w&&(d=_+e*(b()/2+a),u+=c)},f;c<=o.length;)if(f=h(),f)return f.v;return[]}function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function xm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xm(Object(r),!0).forEach(function(n){OB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OB(e,t,r){return t=PB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PB(e){var t=AB(e,"string");return lo(t)=="symbol"?t:t+""}function AB(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kB(e,t,r,n,a){for(var o=(n||[]).slice(),s=o.length,l=t.start,u=t.end,c=function(f){var p=o[f],m,x=function(){return m===void 0&&(m=r(p,f)),m};if(f===s-1){var v=e*(p.coordinate+e*x()/2-u);o[f]=p=Nt(Nt({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else o[f]=p=Nt(Nt({},p),{},{tickCoord:p.coordinate});var b=Zs(e,p.tickCoord,x,l,u);b&&(u=p.tickCoord-e*(x()/2+a),o[f]=Nt(Nt({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return o}function DB(e,t,r,n,a,o){var s=(n||[]).slice(),l=s.length,u=t.start,c=t.end;if(o){var d=n[l-1],h=r(d,l-1),f=e*(d.coordinate+e*h/2-c);s[l-1]=d=Nt(Nt({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var p=Zs(e,d.tickCoord,function(){return h},u,c);p&&(c=d.tickCoord-e*(h/2+a),s[l-1]=Nt(Nt({},d),{},{isShow:!0}))}for(var m=o?l-1:l,x=function(_){var w=s[_],S,y=function(){return S===void 0&&(S=r(w,_)),S};if(_===0){var j=e*(w.coordinate-e*y()/2-u);s[_]=w=Nt(Nt({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else s[_]=w=Nt(Nt({},w),{},{tickCoord:w.coordinate});var C=Zs(e,w.tickCoord,y,u,c);C&&(u=w.tickCoord+e*(y()/2+a),s[_]=Nt(Nt({},w),{},{isShow:!0}))},v=0;v<m;v++)x(v);return s}function Ch(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,s=e.minTickGap,l=e.orientation,u=e.interval,c=e.tickFormatter,d=e.unit,h=e.angle;if(!a||!a.length||!n)return[];if(re(u)||Zr.isSsr)return SB(a,typeof u=="number"&&re(u)?u:0);var f=[],p=l==="top"||l==="bottom"?"width":"height",m=d&&p==="width"?Sa(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(w,S){var y=Ie(c)?c(w.value,S):w.value;return p==="width"?_B(Sa(y,{fontSize:t,letterSpacing:r}),m,h):Sa(y,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?kr(a[1].coordinate-a[0].coordinate):1,b=wB(o,v,p);return u==="equidistantPreserveStart"?CB(v,b,x,a,s):(u==="preserveStart"||u==="preserveStartEnd"?f=DB(v,b,x,a,s,u==="preserveStartEnd"):f=kB(v,b,x,a,s),f.filter(function(_){return _.isShow}))}var EB=["viewBox"],TB=["viewBox"],$B=["ticks"];function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_i.apply(this,arguments)}function vm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vm(Object(r),!0).forEach(function(n){Oh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cc(e,t){if(e==null)return{};var r=MB(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ym(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y0(n.key),n)}}function WB(e,t,r){return t&&ym(e.prototype,t),r&&ym(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NB(e,t,r){return t=el(t),zB(e,v0()?Reflect.construct(t,r||[],el(e).constructor):t.apply(e,r))}function zB(e,t){if(t&&(Hi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LB(e)}function LB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v0=function(){return!!e})()}function el(e){return el=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},el(e)}function BB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ed(e,t)}function ed(e,t){return ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ed(e,t)}function Oh(e,t,r){return t=y0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y0(e){var t=RB(e,"string");return Hi(t)=="symbol"?t:t+""}function RB(e,t){if(Hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var da=function(e){function t(r){var n;return IB(this,t),n=NB(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return BB(t,e),WB(t,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,s=Cc(n,EB),l=this.props,u=l.viewBox,c=Cc(l,TB);return!Ci(o,u)||!Ci(s,c)||!Ci(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,s=a.y,l=a.width,u=a.height,c=a.orientation,d=a.tickSize,h=a.mirror,f=a.tickMargin,p,m,x,v,b,_,w=h?-1:1,S=n.tickSize||d,y=re(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,v=s+ +!h*u,x=v-w*S,_=x-w*f,b=y;break;case"left":x=v=n.coordinate,m=o+ +!h*l,p=m-w*S,b=p-w*f,_=y;break;case"right":x=v=n.coordinate,m=o+ +h*l,p=m+w*S,b=p+w*f,_=y;break;default:p=m=n.coordinate,v=s+ +h*u,x=v+w*S,_=x+w*f,b=y;break}return{line:{x1:p,y1:x,x2:m,y2:v},tick:{x:b,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,s;switch(a){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,s=n.width,l=n.height,u=n.orientation,c=n.mirror,d=n.axisLine,h=Ft(Ft(Ft({},qe(this.props,!1)),qe(d,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var f=+(u==="top"&&!c||u==="bottom"&&c);h=Ft(Ft({},h),{},{x1:a,y1:o+f*l,x2:a+s,y2:o+f*l})}else{var p=+(u==="left"&&!c||u==="right"&&c);h=Ft(Ft({},h),{},{x1:a+p*s,y1:o,x2:a+p*s,y2:o+l})}return W.createElement("line",_i({},h,{className:ze("recharts-cartesian-axis-line",fr(d,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var s=this,l=this.props,u=l.tickLine,c=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,p=Ch(Ft(Ft({},this.props),{},{ticks:n}),a,o),m=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),v=qe(this.props,!1),b=qe(d,!1),_=Ft(Ft({},v),{},{fill:"none"},qe(u,!1)),w=p.map(function(S,y){var j=s.getTickLineCoord(S),C=j.line,P=j.tick,A=Ft(Ft(Ft(Ft({textAnchor:m,verticalAnchor:x},v),{},{stroke:"none",fill:c},b),P),{},{index:y,payload:S,visibleTicksCount:p.length,tickFormatter:h});return W.createElement(vt,_i({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},ls(s.props,S,y)),u&&W.createElement("line",_i({},_,C,{className:ze("recharts-cartesian-axis-tick-line",fr(u,"className"))})),d&&t.renderTickItem(d,A,"".concat(Ie(h)?h(S.value,y):S.value).concat(f||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,s=a.width,l=a.height,u=a.ticksGenerator,c=a.className,d=a.hide;if(d)return null;var h=this.props,f=h.ticks,p=Cc(h,$B),m=f;return Ie(u)&&(m=f&&f.length>0?u(this.props):u(p)),s<=0||l<=0||!m||!m.length?null:W.createElement(vt,{className:ze("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),zt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var s;return W.isValidElement(n)?s=W.cloneElement(n,a):Ie(n)?s=n(a):s=W.createElement(_s,_i({},a,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(g.Component);Oh(da,"displayName","CartesianAxis");Oh(da,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var FB=["x1","y1","x2","y2","key"],qB=["offset"];function ti(e){"@babel/helpers - typeof";return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(e)}function bm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bm(Object(r),!0).forEach(function(n){UB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UB(e,t,r){return t=VB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VB(e){var t=HB(e,"string");return ti(t)=="symbol"?t:t+""}function HB(e,t){if(ti(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ti(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zn(){return zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zn.apply(this,arguments)}function jm(e,t){if(e==null)return{};var r=KB(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var GB=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.ry;return W.createElement("rect",{x:a,y:o,ry:u,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function b0(e,t){var r;if(W.isValidElement(e))r=W.cloneElement(e,t);else if(Ie(e))r=e(t);else{var n=t.x1,a=t.y1,o=t.x2,s=t.y2,l=t.key,u=jm(t,FB),c=qe(u,!1);c.offset;var d=jm(c,qB);r=W.createElement("line",zn({},d,{x1:n,y1:a,x2:o,y2:s,fill:"none",key:l}))}return r}function XB(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var s=o.map(function(l,u){var c=Lt(Lt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(u),index:u});return b0(a,c)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function YB(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,o=e.verticalPoints;if(!a||!o||!o.length)return null;var s=o.map(function(l,u){var c=Lt(Lt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(u),index:u});return b0(a,c)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function JB(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,o=e.width,s=e.height,l=e.horizontalPoints,u=e.horizontal,c=u===void 0?!0:u;if(!c||!t||!t.length)return null;var d=l.map(function(f){return Math.round(f+a-a)}).sort(function(f,p){return f-p});a!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var m=!d[p+1],x=m?a+s-f:d[p+1]-f;if(x<=0)return null;var v=p%t.length;return W.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:x,width:o,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function QB(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,o=e.x,s=e.y,l=e.width,u=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var d=c.map(function(f){return Math.round(f+o-o)}).sort(function(f,p){return f-p});o!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var m=!d[p+1],x=m?o+l-f:d[p+1]-f;if(x<=0)return null;var v=p%n.length;return W.createElement("rect",{key:"react-".concat(p),x:f,y:s,width:x,height:u,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var ZB=function(t,r){var n=t.xAxis,a=t.width,o=t.height,s=t.offset;return $y(Ch(Lt(Lt(Lt({},da.defaultProps),n),{},{ticks:Xr(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),s.left,s.left+s.width,r)},eR=function(t,r){var n=t.yAxis,a=t.width,o=t.height,s=t.offset;return $y(Ch(Lt(Lt(Lt({},da.defaultProps),n),{},{ticks:Xr(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),s.top,s.top+s.height,r)},pi={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function j0(e){var t,r,n,a,o,s,l=jh(),u=_h(),c=R6(),d=Lt(Lt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:pi.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:pi.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:pi.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:pi.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:pi.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:pi.verticalFill,x:re(e.x)?e.x:c.left,y:re(e.y)?e.y:c.top,width:re(e.width)?e.width:c.width,height:re(e.height)?e.height:c.height}),h=d.x,f=d.y,p=d.width,m=d.height,x=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,_=z6(),w=L6();if(!re(p)||p<=0||!re(m)||m<=0||!re(h)||h!==+h||!re(f)||f!==+f)return null;var S=d.verticalCoordinatesGenerator||ZB,y=d.horizontalCoordinatesGenerator||eR,j=d.horizontalPoints,C=d.verticalPoints;if((!j||!j.length)&&Ie(y)){var P=v&&v.length,A=y({yAxis:w?Lt(Lt({},w),{},{ticks:P?v:w.ticks}):void 0,width:l,height:u,offset:c},P?!0:x);Qr(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ti(A),"]")),Array.isArray(A)&&(j=A)}if((!C||!C.length)&&Ie(S)){var T=b&&b.length,k=S({xAxis:_?Lt(Lt({},_),{},{ticks:T?b:_.ticks}):void 0,width:l,height:u,offset:c},T?!0:x);Qr(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ti(k),"]")),Array.isArray(k)&&(C=k)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(GB,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),W.createElement(XB,zn({},d,{offset:c,horizontalPoints:j,xAxis:_,yAxis:w})),W.createElement(YB,zn({},d,{offset:c,verticalPoints:C,xAxis:_,yAxis:w})),W.createElement(JB,zn({},d,{horizontalPoints:j})),W.createElement(QB,zn({},d,{verticalPoints:C})))}j0.displayName="CartesianGrid";var tR=["type","layout","connectNulls","ref"],rR=["key"];function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function _m(e,t){if(e==null)return{};var r=nR(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aa.apply(this,arguments)}function wm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wm(Object(r),!0).forEach(function(n){Cr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gi(e){return sR(e)||oR(e)||aR(e)||iR()}function iR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aR(e,t){if(e){if(typeof e=="string")return td(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return td(e,t)}}function oR(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sR(e){if(Array.isArray(e))return td(e)}function td(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w0(n.key),n)}}function cR(e,t,r){return t&&Sm(e.prototype,t),r&&Sm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uR(e,t,r){return t=tl(t),dR(e,_0()?Reflect.construct(t,r||[],tl(e).constructor):t.apply(e,r))}function dR(e,t){if(t&&(Ki(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hR(e)}function hR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_0=function(){return!!e})()}function tl(e){return tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tl(e)}function fR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rd(e,t)}function rd(e,t){return rd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rd(e,t)}function Cr(e,t,r){return t=w0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w0(e){var t=pR(e,"string");return Ki(t)=="symbol"?t:t+""}function pR(e,t){if(Ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xn=function(e){function t(){var r;lR(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=uR(this,t,[].concat(a)),Cr(r,"state",{isAnimationFinished:!0,totalLength:0}),Cr(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),Cr(r,"getStrokeDasharray",function(s,l,u){var c=u.reduce(function(b,_){return b+_});if(!c)return r.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/c),h=s%c,f=l-s,p=[],m=0,x=0;m<u.length;x+=u[m],++m)if(x+u[m]>h){p=[].concat(gi(u.slice(0,m)),[h-x]);break}var v=p.length%2===0?[0,f]:[f];return[].concat(gi(t.repeat(u,d)),gi(p),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Cr(r,"id",Po("recharts-line-")),Cr(r,"pathRef",function(s){r.mainCurve=s}),Cr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Cr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return fR(t,e),cR(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,l=o.xAxis,u=o.yAxis,c=o.layout,d=o.children,h=pr(d,$o);if(!h)return null;var f=function(x,v){return{x:x.x,y:x.y,value:x.value,errorVal:sr(x.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return W.createElement(vt,p,h.map(function(m){return W.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:l,yAxis:u,layout:c,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,a,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,h=qe(this.props,!1),f=qe(u,!0),p=c.map(function(x,v){var b=Qt(Qt(Qt({key:"dot-".concat(v),r:3},h),f),{},{value:x.value,dataKey:d,cx:x.x,cy:x.y,index:v,payload:x.payload});return t.renderDotItem(u,b)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return W.createElement(vt,Aa({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,o,s){var l=this.props,u=l.type,c=l.layout,d=l.connectNulls;l.ref;var h=_m(l,tR),f=Qt(Qt(Qt({},qe(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},s),{},{type:u,layout:c,connectNulls:d});return W.createElement($u,Aa({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,s=this.props,l=s.points,u=s.strokeDasharray,c=s.isAnimationActive,d=s.animationBegin,h=s.animationDuration,f=s.animationEasing,p=s.animationId,m=s.animateNewValues,x=s.width,v=s.height,b=this.state,_=b.prevPoints,w=b.totalLength;return W.createElement(on,{begin:d,duration:h,isActive:c,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var y=S.t;if(_){var j=_.length/l.length,C=l.map(function(E,z){var B=Math.floor(z*j);if(_[B]){var F=_[B],U=Or(F.x,E.x),R=Or(F.y,E.y);return Qt(Qt({},E),{},{x:U(y),y:R(y)})}if(m){var H=Or(x*2,E.x),X=Or(v/2,E.y);return Qt(Qt({},E),{},{x:H(y),y:X(y)})}return Qt(Qt({},E),{},{x:E.x,y:E.y})});return o.renderCurveStatically(C,n,a)}var P=Or(0,w),A=P(y),T;if(u){var k="".concat(u).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});T=o.getStrokeDasharray(A,w,k)}else T=o.generateSimpleStrokeDasharray(w,A);return o.renderCurveStatically(l,n,a,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,a){var o=this.props,s=o.points,l=o.isAnimationActive,u=this.state,c=u.prevPoints,d=u.totalLength;return l&&s&&s.length&&(!c&&d>0||!Il(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,s=a.dot,l=a.points,u=a.className,c=a.xAxis,d=a.yAxis,h=a.top,f=a.left,p=a.width,m=a.height,x=a.isAnimationActive,v=a.id;if(o||!l||!l.length)return null;var b=this.state.isAnimationFinished,_=l.length===1,w=ze("recharts-line",u),S=c&&c.allowDataOverflow,y=d&&d.allowDataOverflow,j=S||y,C=Re(v)?this.id:v,P=(n=qe(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=P.r,T=A===void 0?3:A,k=P.strokeWidth,E=k===void 0?2:k,z=oC(s)?s:{},B=z.clipDot,F=B===void 0?!0:B,U=T*2+E;return W.createElement(vt,{className:w},S||y?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(C)},W.createElement("rect",{x:S?f:f-p/2,y:y?h:h-m/2,width:S?p:p*2,height:y?m:m*2})),!F&&W.createElement("clipPath",{id:"clipPath-dots-".concat(C)},W.createElement("rect",{x:f-U/2,y:h-U/2,width:p+U,height:m+U}))):null,!_&&this.renderCurve(j,C),this.renderErrorBar(j,C),(_||s)&&this.renderDots(j,F,C),(!x||b)&&pn.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(gi(n),[0]):n,s=[],l=0;l<a;++l)s=[].concat(gi(s),gi(o));return s}},{key:"renderDotItem",value:function(n,a){var o;if(W.isValidElement(n))o=W.cloneElement(n,a);else if(Ie(n))o=n(a);else{var s=a.key,l=_m(a,rR),u=ze("recharts-line-dot",typeof n!="boolean"?n.className:"");o=W.createElement(xh,Aa({key:s},l,{className:u}))}return o}}])}(g.PureComponent);Cr(Xn,"displayName","Line");Cr(Xn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Zr.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Cr(Xn,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,s=e.dataKey,l=e.bandSize,u=e.displayedData,c=e.offset,d=t.layout,h=u.map(function(f,p){var m=sr(f,s);return d==="horizontal"?{x:ig({axis:r,ticks:a,bandSize:l,entry:f,index:p}),y:Re(m)?null:n.scale(m),value:m,payload:f}:{x:Re(m)?null:r.scale(m),y:ig({axis:n,ticks:o,bandSize:l,entry:f,index:p}),value:m,payload:f}});return Qt({points:h,layout:d},c)});function Gi(e){"@babel/helpers - typeof";return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(e)}function gR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O0(n.key),n)}}function xR(e,t,r){return t&&mR(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vR(e,t,r){return t=rl(t),yR(e,S0()?Reflect.construct(t,r||[],rl(e).constructor):t.apply(e,r))}function yR(e,t){if(t&&(Gi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bR(e)}function bR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S0=function(){return!!e})()}function rl(e){return rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rl(e)}function jR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nd(e,t)}function nd(e,t){return nd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nd(e,t)}function C0(e,t,r){return t=O0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O0(e){var t=_R(e,"string");return Gi(t)=="symbol"?t:t+""}function _R(e,t){if(Gi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},id.apply(this,arguments)}function wR(e){var t=e.xAxisId,r=jh(),n=_h(),a=c0(t);return a==null?null:W.createElement(da,id({},a,{className:ze("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Xr(s,!0)}}))}var Vl=function(e){function t(){return gR(this,t),vR(this,t,arguments)}return jR(t,e),xR(t,[{key:"render",value:function(){return W.createElement(wR,this.props)}}])}(W.Component);C0(Vl,"displayName","XAxis");C0(Vl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function SR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k0(n.key),n)}}function OR(e,t,r){return t&&CR(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PR(e,t,r){return t=nl(t),AR(e,P0()?Reflect.construct(t,r||[],nl(e).constructor):t.apply(e,r))}function AR(e,t){if(t&&(Xi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kR(e)}function kR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P0=function(){return!!e})()}function nl(e){return nl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nl(e)}function DR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ad(e,t)}function ad(e,t){return ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ad(e,t)}function A0(e,t,r){return t=k0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k0(e){var t=ER(e,"string");return Xi(t)=="symbol"?t:t+""}function ER(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},od.apply(this,arguments)}var TR=function(t){var r=t.yAxisId,n=jh(),a=_h(),o=u0(r);return o==null?null:W.createElement(da,od({},o,{className:ze("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Xr(l,!0)}}))},Hl=function(e){function t(){return SR(this,t),PR(this,t,arguments)}return DR(t,e),OR(t,[{key:"render",value:function(){return W.createElement(TR,this.props)}}])}(W.Component);A0(Hl,"displayName","YAxis");A0(Hl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Cm(e){return WR(e)||IR(e)||MR(e)||$R()}function $R(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MR(e,t){if(e){if(typeof e=="string")return sd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sd(e,t)}}function IR(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WR(e){if(Array.isArray(e))return sd(e)}function sd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ld=function(t,r,n,a,o){var s=pr(t,Sh),l=pr(t,Fl),u=[].concat(Cm(s),Cm(l)),c=pr(t,Ul),d="".concat(a,"Id"),h=a[0],f=r;if(u.length&&(f=u.reduce(function(x,v){if(v.props[d]===n&&Rr(v.props,"extendDomain")&&re(v.props[h])){var b=v.props[h];return[Math.min(x[0],b),Math.max(x[1],b)]}return x},f)),c.length){var p="".concat(h,"1"),m="".concat(h,"2");f=c.reduce(function(x,v){if(v.props[d]===n&&Rr(v.props,"extendDomain")&&re(v.props[p])&&re(v.props[m])){var b=v.props[p],_=v.props[m];return[Math.min(x[0],b,_),Math.max(x[1],b,_)]}return x},f)}return o&&o.length&&(f=o.reduce(function(x,v){return re(v)?[Math.min(x[0],v),Math.max(x[1],v)]:x},f)),f},D0={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function o(u,c,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,h||u,f),m=r?r+c:c;return u._events[m]?u._events[m].fn?u._events[m]=[u._events[m],p]:u._events[m].push(p):(u._events[m]=p,u._eventsCount++),u}function s(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)t.call(d,h)&&c.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},l.prototype.listeners=function(c){var d=r?r+c:c,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},l.prototype.listenerCount=function(c){var d=r?r+c:c,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(c,d,h,f,p,m){var x=r?r+c:c;if(!this._events[x])return!1;var v=this._events[x],b=arguments.length,_,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,f),!0;case 5:return v.fn.call(v.context,d,h,f,p),!0;case 6:return v.fn.call(v.context,d,h,f,p,m),!0}for(w=1,_=new Array(b-1);w<b;w++)_[w-1]=arguments[w];v.fn.apply(v.context,_)}else{var S=v.length,y;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,h);break;case 4:v[w].fn.call(v[w].context,d,h,f);break;default:if(!_)for(y=1,_=new Array(b-1);y<b;y++)_[y-1]=arguments[y];v[w].fn.apply(v[w].context,_)}}return!0},l.prototype.on=function(c,d,h){return o(this,c,d,h,!1)},l.prototype.once=function(c,d,h){return o(this,c,d,h,!0)},l.prototype.removeListener=function(c,d,h,f){var p=r?r+c:c;if(!this._events[p])return this;if(!d)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!f||m.once)&&(!h||m.context===h)&&s(this,p);else{for(var x=0,v=[],b=m.length;x<b;x++)(m[x].fn!==d||f&&!m[x].once||h&&m[x].context!==h)&&v.push(m[x]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},l.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(D0);var NR=D0.exports;const zR=ut(NR);var Oc=new zR,Pc="recharts.syncMouseEvents";function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function LR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E0(n.key),n)}}function RR(e,t,r){return t&&BR(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ac(e,t,r){return t=E0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E0(e){var t=FR(e,"string");return co(t)=="symbol"?t:t+""}function FR(e,t){if(co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qR=function(){function e(){LR(this,e),Ac(this,"activeIndex",0),Ac(this,"coordinateList",[]),Ac(this,"layout","horizontal")}return RR(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,s=r.container,l=s===void 0?null:s,u=r.layout,c=u===void 0?null:u,d=r.offset,h=d===void 0?null:d,f=r.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=c??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,s=a.y,l=a.height,u=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=o+u+c,f=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function UR(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&re(n)&&re(a))return!0}return!1}function VR(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function T0(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,o=e.endAngle,s=It(t,r,n,a),l=It(t,r,n,o);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:o}}function HR(e,t,r){var n,a,o,s;if(e==="horizontal")n=t.x,o=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,u=t.cy,c=t.innerRadius,d=t.outerRadius,h=t.angle,f=It(l,u,c,h),p=It(l,u,d,h);n=f.x,a=f.y,o=p.x,s=p.y}else return T0(t);return[{x:n,y:a},{x:o,y:s}]}function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function Om(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Om(Object(r),!0).forEach(function(n){KR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Om(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KR(e,t,r){return t=GR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GR(e){var t=XR(e,"string");return uo(t)=="symbol"?t:t+""}function XR(e,t){if(uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YR(e){var t,r,n=e.element,a=e.tooltipEventType,o=e.isActive,s=e.activeCoordinate,l=e.activePayload,u=e.offset,c=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!s||f!=="ScatterChart"&&a!=="axis")return null;var m,x=$u;if(f==="ScatterChart")m=s,x=X8;else if(f==="BarChart")m=VR(h,s,u,d),x=mh;else if(h==="radial"){var v=T0(s),b=v.cx,_=v.cy,w=v.radius,S=v.startAngle,y=v.endAngle;m={cx:b,cy:_,startAngle:S,endAngle:y,innerRadius:w,outerRadius:w},x=zy}else m={points:HR(h,s,u)},x=$u;var j=Yo(Yo(Yo(Yo({stroke:"#ccc",pointerEvents:"none"},u),m),qe(p,!1)),{},{payload:l,payloadIndex:c,className:ze("recharts-tooltip-cursor",p.className)});return g.isValidElement(p)?g.cloneElement(p,j):g.createElement(x,j)}var JR=["item"],QR=["children","className","width","height","style","compact","title","desc"];function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wi.apply(this,arguments)}function Pm(e,t){return tF(e)||eF(e,t)||M0(e,t)||ZR()}function ZR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,s,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(d){c=!0,a=d}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}function tF(e){if(Array.isArray(e))return e}function Am(e,t){if(e==null)return{};var r=rF(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I0(n.key),n)}}function aF(e,t,r){return t&&iF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oF(e,t,r){return t=il(t),sF(e,$0()?Reflect.construct(t,r||[],il(e).constructor):t.apply(e,r))}function sF(e,t){if(t&&(Yi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lF(e)}function lF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($0=function(){return!!e})()}function il(e){return il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},il(e)}function cF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cd(e,t)}function cd(e,t){return cd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cd(e,t)}function Ji(e){return hF(e)||dF(e)||M0(e)||uF()}function uF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M0(e,t){if(e){if(typeof e=="string")return ud(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ud(e,t)}}function dF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hF(e){if(Array.isArray(e))return ud(e)}function ud(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function km(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?km(Object(r),!0).forEach(function(n){Ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):km(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ce(e,t,r){return t=I0(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I0(e){var t=fF(e,"string");return Yi(t)=="symbol"?t:t+""}function fF(e,t){if(Yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pF={xAxis:["bottom","top"],yAxis:["left","right"]},gF={width:"100%",height:"100%"},W0={x:0,y:0};function Jo(e){return e}var mF=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},xF=function(t,r,n,a){var o=r.find(function(d){return d&&d.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var s=o.coordinate,l=a.radius;return K(K(K({},a),It(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var u=o.coordinate,c=a.angle;return K(K(K({},a),It(a.cx,a.cy,u,c)),{},{angle:c,radius:u})}return W0},Kl=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,s=(n??[]).reduce(function(l,u){var c=u.props.data;return c&&c.length?[].concat(Ji(l),Ji(c)):l},[]);return s.length>0?s:t&&t.length&&re(a)&&re(o)?t.slice(a,o+1):[]};function N0(e){return e==="number"?[0,"auto"]:void 0}var dd=function(t,r,n,a){var o=t.graphicalItems,s=t.tooltipAxis,l=Kl(r,t);return n<0||!o||!o.length||n>=l.length?null:o.reduce(function(u,c){var d,h=(d=c.props.data)!==null&&d!==void 0?d:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(s.dataKey&&!s.allowDuplicatedCategory){var p=h===void 0?l:h;f=os(p,s.dataKey,a)}else f=h&&h[n]||l[n];return f?[].concat(Ji(u),[Iy(c,f)]):u},[])},Dm=function(t,r,n,a){var o=a||{x:t.chartX,y:t.chartY},s=mF(o,n),l=t.orderedTooltipTicks,u=t.tooltipAxis,c=t.tooltipTicks,d=W4(s,l,c,u);if(d>=0&&c){var h=c[d]&&c[d].value,f=dd(t,r,d,h),p=xF(n,l,d,o);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:p}}return null},vF=function(t,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,s=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,h=t.children,f=t.stackOffset,p=Ty(d,o);return n.reduce(function(m,x){var v,b=x.type.defaultProps!==void 0?K(K({},x.type.defaultProps),x.props):x.props,_=b.type,w=b.dataKey,S=b.allowDataOverflow,y=b.allowDuplicatedCategory,j=b.scale,C=b.ticks,P=b.includeHidden,A=b[s];if(m[A])return m;var T=Kl(t.data,{graphicalItems:a.filter(function(J){var le,Pe=s in J.props?J.props[s]:(le=J.type.defaultProps)===null||le===void 0?void 0:le[s];return Pe===A}),dataStartIndex:u,dataEndIndex:c}),k=T.length,E,z,B;UR(b.domain,S,_)&&(E=Au(b.domain,null,S),p&&(_==="number"||j!=="auto")&&(B=Oa(T,w,"category")));var F=N0(_);if(!E||E.length===0){var U,R=(U=b.domain)!==null&&U!==void 0?U:F;if(w){if(E=Oa(T,w,_),_==="category"&&p){var H=J2(E);y&&H?(z=E,E=Vs(0,k)):y||(E=lg(R,E,x).reduce(function(J,le){return J.indexOf(le)>=0?J:[].concat(Ji(J),[le])},[]))}else if(_==="category")y?E=E.filter(function(J){return J!==""&&!Re(J)}):E=lg(R,E,x).reduce(function(J,le){return J.indexOf(le)>=0||le===""||Re(le)?J:[].concat(Ji(J),[le])},[]);else if(_==="number"){var X=R4(T,a.filter(function(J){var le,Pe,Le=s in J.props?J.props[s]:(le=J.type.defaultProps)===null||le===void 0?void 0:le[s],$e="hide"in J.props?J.props.hide:(Pe=J.type.defaultProps)===null||Pe===void 0?void 0:Pe.hide;return Le===A&&(P||!$e)}),w,o,d);X&&(E=X)}p&&(_==="number"||j!=="auto")&&(B=Oa(T,w,"category"))}else p?E=Vs(0,k):l&&l[A]&&l[A].hasStack&&_==="number"?E=f==="expand"?[0,1]:My(l[A].stackGroups,u,c):E=Ey(T,a.filter(function(J){var le=s in J.props?J.props[s]:J.type.defaultProps[s],Pe="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return le===A&&(P||!Pe)}),_,d,!0);if(_==="number")E=ld(h,E,A,o,C),R&&(E=Au(R,E,S));else if(_==="category"&&R){var ee=R,ue=E.every(function(J){return ee.indexOf(J)>=0});ue&&(E=ee)}}return K(K({},m),{},Ce({},A,K(K({},b),{},{axisType:o,domain:E,categoricalDomain:B,duplicateDomain:z,originalDomain:(v=b.domain)!==null&&v!==void 0?v:F,isCategorical:p,layout:d})))},{})},yF=function(t,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,s=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,c=r.dataEndIndex,d=t.layout,h=t.children,f=Kl(t.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:c}),p=f.length,m=Ty(d,o),x=-1;return n.reduce(function(v,b){var _=b.type.defaultProps!==void 0?K(K({},b.type.defaultProps),b.props):b.props,w=_[s],S=N0("number");if(!v[w]){x++;var y;return m?y=Vs(0,p):l&&l[w]&&l[w].hasStack?(y=My(l[w].stackGroups,u,c),y=ld(h,y,w,o)):(y=Au(S,Ey(f,n.filter(function(j){var C,P,A=s in j.props?j.props[s]:(C=j.type.defaultProps)===null||C===void 0?void 0:C[s],T="hide"in j.props?j.props.hide:(P=j.type.defaultProps)===null||P===void 0?void 0:P.hide;return A===w&&!T}),"number",d),a.defaultProps.allowDataOverflow),y=ld(h,y,w,o)),K(K({},v),{},Ce({},w,K(K({axisType:o},a.defaultProps),{},{hide:!0,orientation:fr(pF,"".concat(o,".").concat(x%2),null),domain:y,originalDomain:S,isCategorical:m,layout:d})))}return v},{})},bF=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,u=r.dataStartIndex,c=r.dataEndIndex,d=t.children,h="".concat(a,"Id"),f=pr(d,o),p={};return f&&f.length?p=vF(t,{axes:f,graphicalItems:s,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:u,dataEndIndex:c}):s&&s.length&&(p=yF(t,{Axis:o,graphicalItems:s,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:u,dataEndIndex:c})),p},jF=function(t){var r=dn(t),n=Xr(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:qd(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ws(r,n)}},Em=function(t){var r=t.children,n=t.defaultShowTooltip,a=er(r,Ri),o=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},_F=function(t){return!t||!t.length?!1:t.some(function(r){var n=Jr(r&&r.type);return n&&n.indexOf("Bar")>=0})},Tm=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},wF=function(t,r){var n=t.props,a=t.graphicalItems,o=t.xAxisMap,s=o===void 0?{}:o,l=t.yAxisMap,u=l===void 0?{}:l,c=n.width,d=n.height,h=n.children,f=n.margin||{},p=er(h,Ri),m=er(h,Hn),x=Object.keys(u).reduce(function(y,j){var C=u[j],P=C.orientation;return!C.mirror&&!C.hide?K(K({},y),{},Ce({},P,y[P]+C.width)):y},{left:f.left||0,right:f.right||0}),v=Object.keys(s).reduce(function(y,j){var C=s[j],P=C.orientation;return!C.mirror&&!C.hide?K(K({},y),{},Ce({},P,fr(y,"".concat(P))+C.height)):y},{top:f.top||0,bottom:f.bottom||0}),b=K(K({},v),x),_=b.bottom;p&&(b.bottom+=p.props.height||Ri.defaultProps.height),m&&r&&(b=L4(b,a,n,r));var w=c-b.left-b.right,S=d-b.top-b.bottom;return K(K({brushBottom:_},b),{},{width:Math.max(w,0),height:Math.max(S,0)})},SF=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},CF=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,u=t.axisComponents,c=t.legendContent,d=t.formatAxisMap,h=t.defaultProps,f=function(b,_){var w=_.graphicalItems,S=_.stackGroups,y=_.offset,j=_.updateId,C=_.dataStartIndex,P=_.dataEndIndex,A=b.barSize,T=b.layout,k=b.barGap,E=b.barCategoryGap,z=b.maxBarSize,B=Tm(T),F=B.numericAxisName,U=B.cateAxisName,R=_F(w),H=[];return w.forEach(function(X,ee){var ue=Kl(b.data,{graphicalItems:[X],dataStartIndex:C,dataEndIndex:P}),J=X.type.defaultProps!==void 0?K(K({},X.type.defaultProps),X.props):X.props,le=J.dataKey,Pe=J.maxBarSize,Le=J["".concat(F,"Id")],$e=J["".concat(U,"Id")],Ye={},Ue=u.reduce(function(Be,Ke){var me=_["".concat(Ke.axisType,"Map")],_e=J["".concat(Ke.axisType,"Id")];me&&me[_e]||Ke.axisType==="zAxis"||ei();var Se=me[_e];return K(K({},Be),{},Ce(Ce({},Ke.axisType,Se),"".concat(Ke.axisType,"Ticks"),Xr(Se)))},Ye),Q=Ue[U],oe=Ue["".concat(U,"Ticks")],ae=S&&S[Le]&&S[Le].hasStack&&Z4(X,S[Le].stackGroups),G=Jr(X.type).indexOf("Bar")>=0,pe=Ws(Q,oe),fe=[],Ae=R&&N4({barSize:A,stackGroups:S,totalSize:SF(Ue,U)});if(G){var Y,q,se=Re(Pe)?z:Pe,Fe=(Y=(q=Ws(Q,oe,!0))!==null&&q!==void 0?q:se)!==null&&Y!==void 0?Y:0;fe=z4({barGap:k,barCategoryGap:E,bandSize:Fe!==pe?Fe:pe,sizeList:Ae[$e],maxBarSize:se}),Fe!==pe&&(fe=fe.map(function(Be){return K(K({},Be),{},{position:K(K({},Be.position),{},{offset:Be.position.offset-Fe/2})})}))}var Ur=X&&X.type&&X.type.getComposedData;Ur&&H.push({props:K(K({},Ur(K(K({},Ue),{},{displayedData:ue,props:b,dataKey:le,item:X,bandSize:pe,barPosition:fe,offset:y,stackedData:ae,layout:T,dataStartIndex:C,dataEndIndex:P}))),{},Ce(Ce(Ce({key:X.key||"item-".concat(ee)},F,Ue[F]),U,Ue[U]),"animationId",j)),childIndex:cC(X,b.children),item:X})}),H},p=function(b,_){var w=b.props,S=b.dataStartIndex,y=b.dataEndIndex,j=b.updateId;if(!nf({props:w}))return null;var C=w.children,P=w.layout,A=w.stackOffset,T=w.data,k=w.reverseStackOrder,E=Tm(P),z=E.numericAxisName,B=E.cateAxisName,F=pr(C,n),U=Y4(T,F,"".concat(z,"Id"),"".concat(B,"Id"),A,k),R=u.reduce(function(J,le){var Pe="".concat(le.axisType,"Map");return K(K({},J),{},Ce({},Pe,bF(w,K(K({},le),{},{graphicalItems:F,stackGroups:le.axisType===z&&U,dataStartIndex:S,dataEndIndex:y}))))},{}),H=wF(K(K({},R),{},{props:w,graphicalItems:F}),_==null?void 0:_.legendBBox);Object.keys(R).forEach(function(J){R[J]=d(w,R[J],H,J.replace("Map",""),r)});var X=R["".concat(B,"Map")],ee=jF(X),ue=f(w,K(K({},R),{},{dataStartIndex:S,dataEndIndex:y,updateId:j,graphicalItems:F,stackGroups:U,offset:H}));return K(K({formattedGraphicalItems:ue,graphicalItems:F,offset:H,stackGroups:U},ee),R)},m=function(v){function b(_){var w,S,y;return nF(this,b),y=oF(this,b,[_]),Ce(y,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ce(y,"accessibilityManager",new qR),Ce(y,"handleLegendBBoxUpdate",function(j){if(j){var C=y.state,P=C.dataStartIndex,A=C.dataEndIndex,T=C.updateId;y.setState(K({legendBBox:j},p({props:y.props,dataStartIndex:P,dataEndIndex:A,updateId:T},K(K({},y.state),{},{legendBBox:j}))))}}),Ce(y,"handleReceiveSyncEvent",function(j,C,P){if(y.props.syncId===j){if(P===y.eventEmitterSymbol&&typeof y.props.syncMethod!="function")return;y.applySyncEvent(C)}}),Ce(y,"handleBrushChange",function(j){var C=j.startIndex,P=j.endIndex;if(C!==y.state.dataStartIndex||P!==y.state.dataEndIndex){var A=y.state.updateId;y.setState(function(){return K({dataStartIndex:C,dataEndIndex:P},p({props:y.props,dataStartIndex:C,dataEndIndex:P,updateId:A},y.state))}),y.triggerSyncEvent({dataStartIndex:C,dataEndIndex:P})}}),Ce(y,"handleMouseEnter",function(j){var C=y.getMouseInfo(j);if(C){var P=K(K({},C),{},{isTooltipActive:!0});y.setState(P),y.triggerSyncEvent(P);var A=y.props.onMouseEnter;Ie(A)&&A(P,j)}}),Ce(y,"triggeredAfterMouseMove",function(j){var C=y.getMouseInfo(j),P=C?K(K({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};y.setState(P),y.triggerSyncEvent(P);var A=y.props.onMouseMove;Ie(A)&&A(P,j)}),Ce(y,"handleItemMouseEnter",function(j){y.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Ce(y,"handleItemMouseLeave",function(){y.setState(function(){return{isTooltipActive:!1}})}),Ce(y,"handleMouseMove",function(j){j.persist(),y.throttleTriggeredAfterMouseMove(j)}),Ce(y,"handleMouseLeave",function(j){y.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};y.setState(C),y.triggerSyncEvent(C);var P=y.props.onMouseLeave;Ie(P)&&P(C,j)}),Ce(y,"handleOuterEvent",function(j){var C=lC(j),P=fr(y.props,"".concat(C));if(C&&Ie(P)){var A,T;/.*touch.*/i.test(C)?T=y.getMouseInfo(j.changedTouches[0]):T=y.getMouseInfo(j),P((A=T)!==null&&A!==void 0?A:{},j)}}),Ce(y,"handleClick",function(j){var C=y.getMouseInfo(j);if(C){var P=K(K({},C),{},{isTooltipActive:!0});y.setState(P),y.triggerSyncEvent(P);var A=y.props.onClick;Ie(A)&&A(P,j)}}),Ce(y,"handleMouseDown",function(j){var C=y.props.onMouseDown;if(Ie(C)){var P=y.getMouseInfo(j);C(P,j)}}),Ce(y,"handleMouseUp",function(j){var C=y.props.onMouseUp;if(Ie(C)){var P=y.getMouseInfo(j);C(P,j)}}),Ce(y,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&y.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Ce(y,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&y.handleMouseDown(j.changedTouches[0])}),Ce(y,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&y.handleMouseUp(j.changedTouches[0])}),Ce(y,"handleDoubleClick",function(j){var C=y.props.onDoubleClick;if(Ie(C)){var P=y.getMouseInfo(j);C(P,j)}}),Ce(y,"handleContextMenu",function(j){var C=y.props.onContextMenu;if(Ie(C)){var P=y.getMouseInfo(j);C(P,j)}}),Ce(y,"triggerSyncEvent",function(j){y.props.syncId!==void 0&&Oc.emit(Pc,y.props.syncId,j,y.eventEmitterSymbol)}),Ce(y,"applySyncEvent",function(j){var C=y.props,P=C.layout,A=C.syncMethod,T=y.state.updateId,k=j.dataStartIndex,E=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)y.setState(K({dataStartIndex:k,dataEndIndex:E},p({props:y.props,dataStartIndex:k,dataEndIndex:E,updateId:T},y.state)));else if(j.activeTooltipIndex!==void 0){var z=j.chartX,B=j.chartY,F=j.activeTooltipIndex,U=y.state,R=U.offset,H=U.tooltipTicks;if(!R)return;if(typeof A=="function")F=A(H,j);else if(A==="value"){F=-1;for(var X=0;X<H.length;X++)if(H[X].value===j.activeLabel){F=X;break}}var ee=K(K({},R),{},{x:R.left,y:R.top}),ue=Math.min(z,ee.x+ee.width),J=Math.min(B,ee.y+ee.height),le=H[F]&&H[F].value,Pe=dd(y.state,y.props.data,F),Le=H[F]?{x:P==="horizontal"?H[F].coordinate:ue,y:P==="horizontal"?J:H[F].coordinate}:W0;y.setState(K(K({},j),{},{activeLabel:le,activeCoordinate:Le,activePayload:Pe,activeTooltipIndex:F}))}else y.setState(j)}),Ce(y,"renderCursor",function(j){var C,P=y.state,A=P.isTooltipActive,T=P.activeCoordinate,k=P.activePayload,E=P.offset,z=P.activeTooltipIndex,B=P.tooltipAxisBandSize,F=y.getTooltipEventType(),U=(C=j.props.active)!==null&&C!==void 0?C:A,R=y.props.layout,H=j.key||"_recharts-cursor";return W.createElement(YR,{key:H,activeCoordinate:T,activePayload:k,activeTooltipIndex:z,chartName:r,element:j,isActive:U,layout:R,offset:E,tooltipAxisBandSize:B,tooltipEventType:F})}),Ce(y,"renderPolarAxis",function(j,C,P){var A=fr(j,"type.axisType"),T=fr(y.state,"".concat(A,"Map")),k=j.type.defaultProps,E=k!==void 0?K(K({},k),j.props):j.props,z=T&&T[E["".concat(A,"Id")]];return g.cloneElement(j,K(K({},z),{},{className:ze(A,z.className),key:j.key||"".concat(C,"-").concat(P),ticks:Xr(z,!0)}))}),Ce(y,"renderPolarGrid",function(j){var C=j.props,P=C.radialLines,A=C.polarAngles,T=C.polarRadius,k=y.state,E=k.radiusAxisMap,z=k.angleAxisMap,B=dn(E),F=dn(z),U=F.cx,R=F.cy,H=F.innerRadius,X=F.outerRadius;return g.cloneElement(j,{polarAngles:Array.isArray(A)?A:Xr(F,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(T)?T:Xr(B,!0).map(function(ee){return ee.coordinate}),cx:U,cy:R,innerRadius:H,outerRadius:X,key:j.key||"polar-grid",radialLines:P})}),Ce(y,"renderLegend",function(){var j=y.state.formattedGraphicalItems,C=y.props,P=C.children,A=C.width,T=C.height,k=y.props.margin||{},E=A-(k.left||0)-(k.right||0),z=ky({children:P,formattedGraphicalItems:j,legendWidth:E,legendContent:c});if(!z)return null;var B=z.item,F=Am(z,JR);return g.cloneElement(B,K(K({},F),{},{chartWidth:A,chartHeight:T,margin:k,onBBoxUpdate:y.handleLegendBBoxUpdate}))}),Ce(y,"renderTooltip",function(){var j,C=y.props,P=C.children,A=C.accessibilityLayer,T=er(P,Nr);if(!T)return null;var k=y.state,E=k.isTooltipActive,z=k.activeCoordinate,B=k.activePayload,F=k.activeLabel,U=k.offset,R=(j=T.props.active)!==null&&j!==void 0?j:E;return g.cloneElement(T,{viewBox:K(K({},U),{},{x:U.left,y:U.top}),active:R,label:F,payload:R?B:[],coordinate:z,accessibilityLayer:A})}),Ce(y,"renderBrush",function(j){var C=y.props,P=C.margin,A=C.data,T=y.state,k=T.offset,E=T.dataStartIndex,z=T.dataEndIndex,B=T.updateId;return g.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Ho(y.handleBrushChange,j.props.onChange),data:A,x:re(j.props.x)?j.props.x:k.left,y:re(j.props.y)?j.props.y:k.top+k.height+k.brushBottom-(P.bottom||0),width:re(j.props.width)?j.props.width:k.width,startIndex:E,endIndex:z,updateId:"brush-".concat(B)})}),Ce(y,"renderReferenceElement",function(j,C,P){if(!j)return null;var A=y,T=A.clipPathId,k=y.state,E=k.xAxisMap,z=k.yAxisMap,B=k.offset,F=j.type.defaultProps||{},U=j.props,R=U.xAxisId,H=R===void 0?F.xAxisId:R,X=U.yAxisId,ee=X===void 0?F.yAxisId:X;return g.cloneElement(j,{key:j.key||"".concat(C,"-").concat(P),xAxis:E[H],yAxis:z[ee],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:T})}),Ce(y,"renderActivePoints",function(j){var C=j.item,P=j.activePoint,A=j.basePoint,T=j.childIndex,k=j.isRange,E=[],z=C.props.key,B=C.item.type.defaultProps!==void 0?K(K({},C.item.type.defaultProps),C.item.props):C.item.props,F=B.activeDot,U=B.dataKey,R=K(K({index:T,dataKey:U,cx:P.x,cy:P.y,r:4,fill:gh(C.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},qe(F,!1)),ss(F));return E.push(b.renderActiveDot(F,R,"".concat(z,"-activePoint-").concat(T))),A?E.push(b.renderActiveDot(F,K(K({},R),{},{cx:A.x,cy:A.y}),"".concat(z,"-basePoint-").concat(T))):k&&E.push(null),E}),Ce(y,"renderGraphicChild",function(j,C,P){var A=y.filterFormatItem(j,C,P);if(!A)return null;var T=y.getTooltipEventType(),k=y.state,E=k.isTooltipActive,z=k.tooltipAxis,B=k.activeTooltipIndex,F=k.activeLabel,U=y.props.children,R=er(U,Nr),H=A.props,X=H.points,ee=H.isRange,ue=H.baseLine,J=A.item.type.defaultProps!==void 0?K(K({},A.item.type.defaultProps),A.item.props):A.item.props,le=J.activeDot,Pe=J.hide,Le=J.activeBar,$e=J.activeShape,Ye=!!(!Pe&&E&&R&&(le||Le||$e)),Ue={};T!=="axis"&&R&&R.props.trigger==="click"?Ue={onClick:Ho(y.handleItemMouseEnter,j.props.onClick)}:T!=="axis"&&(Ue={onMouseLeave:Ho(y.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Ho(y.handleItemMouseEnter,j.props.onMouseEnter)});var Q=g.cloneElement(j,K(K({},A.props),Ue));function oe(Ke){return typeof z.dataKey=="function"?z.dataKey(Ke.payload):null}if(Ye)if(B>=0){var ae,G;if(z.dataKey&&!z.allowDuplicatedCategory){var pe=typeof z.dataKey=="function"?oe:"payload.".concat(z.dataKey.toString());ae=os(X,pe,F),G=ee&&ue&&os(ue,pe,F)}else ae=X==null?void 0:X[B],G=ee&&ue&&ue[B];if($e||Le){var fe=j.props.activeIndex!==void 0?j.props.activeIndex:B;return[g.cloneElement(j,K(K(K({},A.props),Ue),{},{activeIndex:fe})),null,null]}if(!Re(ae))return[Q].concat(Ji(y.renderActivePoints({item:A,activePoint:ae,basePoint:G,childIndex:B,isRange:ee})))}else{var Ae,Y=(Ae=y.getItemByXY(y.state.activeCoordinate))!==null&&Ae!==void 0?Ae:{graphicalItem:Q},q=Y.graphicalItem,se=q.item,Fe=se===void 0?j:se,Ur=q.childIndex,Be=K(K(K({},A.props),Ue),{},{activeIndex:Ur});return[g.cloneElement(Fe,Be),null,null]}return ee?[Q,null,null]:[Q,null]}),Ce(y,"renderCustomized",function(j,C,P){return g.cloneElement(j,K(K({key:"recharts-customized-".concat(P)},y.props),y.state))}),Ce(y,"renderMap",{CartesianGrid:{handler:Jo,once:!0},ReferenceArea:{handler:y.renderReferenceElement},ReferenceLine:{handler:Jo},ReferenceDot:{handler:y.renderReferenceElement},XAxis:{handler:Jo},YAxis:{handler:Jo},Brush:{handler:y.renderBrush,once:!0},Bar:{handler:y.renderGraphicChild},Line:{handler:y.renderGraphicChild},Area:{handler:y.renderGraphicChild},Radar:{handler:y.renderGraphicChild},RadialBar:{handler:y.renderGraphicChild},Scatter:{handler:y.renderGraphicChild},Pie:{handler:y.renderGraphicChild},Funnel:{handler:y.renderGraphicChild},Tooltip:{handler:y.renderCursor,once:!0},PolarGrid:{handler:y.renderPolarGrid,once:!0},PolarAngleAxis:{handler:y.renderPolarAxis},PolarRadiusAxis:{handler:y.renderPolarAxis},Customized:{handler:y.renderCustomized}}),y.clipPathId="".concat((w=_.id)!==null&&w!==void 0?w:Po("recharts"),"-clip"),y.throttleTriggeredAfterMouseMove=hx(y.triggeredAfterMouseMove,(S=_.throttleDelay)!==null&&S!==void 0?S:1e3/60),y.state={},y}return cF(b,v),aF(b,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,y=w.data,j=w.height,C=w.layout,P=er(S,Nr);if(P){var A=P.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,k=dd(this.state,y,A,T),E=this.state.tooltipTicks[A].coordinate,z=(this.state.offset.top+j)/2,B=C==="horizontal",F=B?{x:E,y:z}:{y:E,x:z},U=this.state.formattedGraphicalItems.find(function(H){var X=H.item;return X.type.name==="Scatter"});U&&(F=K(K({},F),U.props.points[A].tooltipPosition),k=U.props.points[A].tooltipPayload);var R={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:T,activePayload:k,activeCoordinate:F};this.setState(R),this.renderCursor(P),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var y,j;this.accessibilityManager.setDetails({offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(w){qc([er(w.children,Nr)],[er(this.props.children,Nr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=er(this.props.children,Nr);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return l.indexOf(S)>=0?S:o}return o}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,y=S.getBoundingClientRect(),j=lM(y),C={chartX:Math.round(w.pageX-j.left),chartY:Math.round(w.pageY-j.top)},P=y.width/S.offsetWidth||1,A=this.inRange(C.chartX,C.chartY,P);if(!A)return null;var T=this.state,k=T.xAxisMap,E=T.yAxisMap,z=this.getTooltipEventType();if(z!=="axis"&&k&&E){var B=dn(k).scale,F=dn(E).scale,U=B&&B.invert?B.invert(C.chartX):null,R=F&&F.invert?F.invert(C.chartY):null;return K(K({},C),{},{xValue:U,yValue:R})}var H=Dm(this.state,this.props.data,this.props.layout,A);return H?K(K({},C),H):null}},{key:"inRange",value:function(w,S){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,C=w/y,P=S/y;if(j==="horizontal"||j==="vertical"){var A=this.state.offset,T=C>=A.left&&C<=A.left+A.width&&P>=A.top&&P<=A.top+A.height;return T?{x:C,y:P}:null}var k=this.state,E=k.angleAxisMap,z=k.radiusAxisMap;if(E&&z){var B=dn(E);return dg({x:C,y:P},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),y=er(w,Nr),j={};y&&S==="axis"&&(y.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=ss(this.props,this.handleOuterEvent);return K(K({},C),j)}},{key:"addListener",value:function(){Oc.on(Pc,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Oc.removeListener(Pc,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,y){for(var j=this.state.formattedGraphicalItems,C=0,P=j.length;C<P;C++){var A=j[C];if(A.item===w||A.props.key===w.key||S===Jr(A.item.type)&&y===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,y=S.left,j=S.top,C=S.height,P=S.width;return W.createElement("defs",null,W.createElement("clipPath",{id:w},W.createElement("rect",{x:y,y:j,height:C,width:P})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,y){var j=Pm(y,2),C=j[0],P=j[1];return K(K({},S),{},Ce({},C,P.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,y){var j=Pm(y,2),C=j[0],P=j[1];return K(K({},S),{},Ce({},C,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,y=S.formattedGraphicalItems,j=S.activeItem;if(y&&y.length)for(var C=0,P=y.length;C<P;C++){var A=y[C],T=A.props,k=A.item,E=k.type.defaultProps!==void 0?K(K({},k.type.defaultProps),k.props):k.props,z=Jr(k.type);if(z==="Bar"){var B=(T.data||[]).find(function(H){return L8(w,H)});if(B)return{graphicalItem:A,payload:B}}else if(z==="RadialBar"){var F=(T.data||[]).find(function(H){return dg(w,H)});if(F)return{graphicalItem:A,payload:F}}else if(zl(A,j)||Ll(A,j)||io(A,j)){var U=Fz({graphicalItem:A,activeTooltipItem:j,itemData:E.data}),R=E.activeIndex===void 0?U:E.activeIndex;return{graphicalItem:K(K({},A),{},{childIndex:R}),payload:io(A,j)?E.data[U]:A.props.data[U]}}}return null}},{key:"render",value:function(){var w=this;if(!nf(this))return null;var S=this.props,y=S.children,j=S.className,C=S.width,P=S.height,A=S.style,T=S.compact,k=S.title,E=S.desc,z=Am(S,QR),B=qe(z,!1);if(T)return W.createElement(cm,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(Vc,wi({},B,{width:C,height:P,title:k,desc:E}),this.renderClipPath(),of(y,this.renderMap)));if(this.props.accessibilityLayer){var F,U;B.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,B.role=(U=this.props.role)!==null&&U!==void 0?U:"application",B.onKeyDown=function(H){w.accessibilityManager.keyboardEvent(H)},B.onFocus=function(){w.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return W.createElement(cm,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",wi({className:ze("recharts-wrapper",j),style:K({position:"relative",cursor:"default",width:C,height:P},A)},R,{ref:function(X){w.container=X}}),W.createElement(Vc,wi({},B,{width:C,height:P,title:k,desc:E,style:gF}),this.renderClipPath(),of(y,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(g.Component);Ce(m,"displayName",r),Ce(m,"defaultProps",K({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Ce(m,"getDerivedStateFromProps",function(v,b){var _=v.dataKey,w=v.data,S=v.children,y=v.width,j=v.height,C=v.layout,P=v.stackOffset,A=v.margin,T=b.dataStartIndex,k=b.dataEndIndex;if(b.updateId===void 0){var E=Em(v);return K(K(K({},E),{},{updateId:0},p(K(K({props:v},E),{},{updateId:0}),b)),{},{prevDataKey:_,prevData:w,prevWidth:y,prevHeight:j,prevLayout:C,prevStackOffset:P,prevMargin:A,prevChildren:S})}if(_!==b.prevDataKey||w!==b.prevData||y!==b.prevWidth||j!==b.prevHeight||C!==b.prevLayout||P!==b.prevStackOffset||!Ci(A,b.prevMargin)){var z=Em(v),B={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},F=K(K({},Dm(b,w,C)),{},{updateId:b.updateId+1}),U=K(K(K({},z),B),F);return K(K(K({},U),p(K({props:v},U),b)),{},{prevDataKey:_,prevData:w,prevWidth:y,prevHeight:j,prevLayout:C,prevStackOffset:P,prevMargin:A,prevChildren:S})}if(!qc(S,b.prevChildren)){var R,H,X,ee,ue=er(S,Ri),J=ue&&(R=(H=ue.props)===null||H===void 0?void 0:H.startIndex)!==null&&R!==void 0?R:T,le=ue&&(X=(ee=ue.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&X!==void 0?X:k,Pe=J!==T||le!==k,Le=!Re(w),$e=Le&&!Pe?b.updateId:b.updateId+1;return K(K({updateId:$e},p(K(K({props:v},b),{},{updateId:$e,dataStartIndex:J,dataEndIndex:le}),b)),{},{prevChildren:S,dataStartIndex:J,dataEndIndex:le})}return null}),Ce(m,"renderActiveDot",function(v,b,_){var w;return g.isValidElement(v)?w=g.cloneElement(v,b):Ie(v)?w=v(b):w=W.createElement(xh,b),W.createElement(vt,{className:"recharts-active-dot",key:_},w)});var x=g.forwardRef(function(b,_){return W.createElement(m,wi({},b,{ref:_}))});return x.displayName=m.displayName,x},OF=CF({chartName:"LineChart",GraphicalChild:Xn,axisComponents:[{axisType:"xAxis",AxisComp:Vl},{axisType:"yAxis",AxisComp:Hl}],formatAxisMap:f6});function PF(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M19.27 5.33C17.94 4.71 16.5 4.26 15 4a.1.1 0 0 0-.07.03c-.18.33-.39.76-.53 1.09a16.1 16.1 0 0 0-4.8 0c-.14-.34-.35-.76-.54-1.09c-.01-.02-.04-.03-.07-.03c-1.5.26-2.93.71-4.27 1.33c-.01 0-.02.01-.03.02c-2.72 4.07-3.47 8.03-3.1 11.95c0 .02.01.04.03.05c1.8 1.32 3.53 2.12 5.24 2.65c.03.01.06 0 .07-.02c.4-.55.76-1.13 1.07-1.74c.02-.04 0-.08-.04-.09c-.57-.22-1.11-.48-1.64-.78c-.04-.02-.04-.08-.01-.11c.11-.08.22-.17.33-.25c.02-.02.05-.02.07-.01c3.44 1.57 7.15 1.57 10.55 0c.02-.01.05-.01.07.01c.11.09.22.17.33.26c.04.03.04.09-.01.11c-.52.31-1.07.56-1.64.78c-.04.01-.05.06-.04.09c.32.61.68 1.19 1.07 1.74c.03.01.06.02.09.01c1.72-.53 3.45-1.33 5.25-2.65c.02-.01.03-.03.03-.05c.44-4.53-.73-8.46-3.1-11.95c-.01-.01-.02-.02-.04-.02M8.52 14.91c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.84 2.12-1.89 2.12m6.97 0c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.83 2.12-1.89 2.12"})})}function AF(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M13 6.75V2H8.75A2.25 2.25 0 0 0 6.5 4.25v13a2.25 2.25 0 0 0 2.25 2.25h9A2.25 2.25 0 0 0 20 17.25V9h-4.75A2.25 2.25 0 0 1 13 6.75m1.5 0V2.5l5 5h-4.25a.75.75 0 0 1-.75-.75M5.503 4.627A2.251 2.251 0 0 0 4 6.75v10.504a4.75 4.75 0 0 0 4.75 4.75h6.494a2.25 2.25 0 0 0 2.122-1.5H8.75a3.25 3.25 0 0 1-3.25-3.25z"})})}function mi(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M6.25 5C5.56 5 5 5.56 5 6.25v11.5c0 .69.56 1.25 1.25 1.25h11.5c.69 0 1.25-.56 1.25-1.25V14a1 1 0 1 1 2 0v3.75A3.25 3.25 0 0 1 17.75 21H6.25A3.25 3.25 0 0 1 3 17.75V6.25A3.25 3.25 0 0 1 6.25 3H10a1 1 0 1 1 0 2zM14 5a1 1 0 1 1 0-2h6a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0V6.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L17.586 5z"})})}function kF(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M6.747 4h3.464a.75.75 0 0 1 .102 1.493l-.102.007H6.747a2.25 2.25 0 0 0-2.245 2.095l-.005.155v9.5a2.25 2.25 0 0 0 2.096 2.244l.154.006h9.5a2.25 2.25 0 0 0 2.246-2.096l.005-.154v-.498a.75.75 0 0 1 1.493-.102l.007.102v.498a3.75 3.75 0 0 1-3.551 3.744l-.2.006h-9.5a3.75 3.75 0 0 1-3.745-3.551l-.005-.2v-9.5a3.75 3.75 0 0 1 3.55-3.744zh3.464zm7.754 2.544V3.75a.75.75 0 0 1 1.187-.61l.082.068l5.995 5.75c.28.269.305.7.076.998l-.076.085l-5.995 5.752a.75.75 0 0 1-1.262-.435l-.007-.107V12.45l-.32-.007c-2.658-.008-4.93 1.084-6.866 3.302c-.495.567-1.425.131-1.305-.613c.827-5.14 3.599-8.044 8.19-8.558zV3.75z"})})}function DF(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M8.665 15.735c.245.173.537.265.836.264v-.004a1.441 1.441 0 0 0 1.327-.872l.613-1.864a2.87 2.87 0 0 1 1.817-1.812l1.778-.578a1.442 1.442 0 0 0-.052-2.74l-1.755-.57a2.877 2.877 0 0 1-1.822-1.823l-.578-1.777a1.446 1.446 0 0 0-2.732.022l-.583 1.792a2.877 2.877 0 0 1-1.77 1.786l-1.777.57a1.444 1.444 0 0 0 .017 2.735l1.754.569a2.887 2.887 0 0 1 1.822 1.826l.578 1.775c.099.283.283.527.527.7m7.667 5.047a1.123 1.123 0 0 1-.41-.55l-.328-1.006a1.292 1.292 0 0 0-.821-.823l-.991-.323a1.148 1.148 0 0 1-.781-1.083a1.142 1.142 0 0 1 .771-1.08l1.006-.326a1.3 1.3 0 0 0 .8-.82l.324-.991a1.143 1.143 0 0 1 2.157-.021l.329 1.014a1.299 1.299 0 0 0 .82.816l.992.323a1.141 1.141 0 0 1 .039 2.165l-1.014.329a1.3 1.3 0 0 0-.818.822l-.322.989c-.078.23-.226.43-.425.57a1.14 1.14 0 0 1-1.328-.005"})})}function EF(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19c-.14.75-.42 1-.68 1.03c-.58.05-1.02-.38-1.58-.75c-.88-.58-1.38-.94-2.23-1.5c-.99-.65-.35-1.01.22-1.59c.15-.15 2.71-2.48 2.76-2.69a.2.2 0 0 0-.05-.18c-.06-.05-.14-.03-.21-.02c-.09.02-1.49.95-4.22 2.79c-.4.27-.76.41-1.08.4c-.36-.01-1.04-.2-1.55-.37c-.63-.2-1.12-.31-1.08-.66c.02-.18.27-.36.74-.55c2.92-1.27 4.86-2.11 5.83-2.51c2.78-1.16 3.35-1.36 3.73-1.36c.08 0 .27.02.39.12c.1.08.13.19.14.27c-.01.06.01.24 0 .38"})})}const TF=({open:e,onClose:t,existingUrls:r})=>{const{t:n}=V("dashboard"),a=ge(),o=s=>()=>{const l=[...r];s?l.unshift(window.location.origin):l.push(window.location.origin),t(),a(Bm({settings:{siteURL:l.join(",")}}))};return i.jsx(i.Fragment,{children:i.jsx(ft,{dialogProps:{open:e,onClose:t,maxWidth:"sm",fullWidth:!0},title:n("summary.confirmSiteURLTitle"),children:i.jsx(wt,{children:i.jsxs(ce,{spacing:1,children:[i.jsx(L,{variant:"body2",color:"textSecondary",children:n("summary.siteURLNotMatch",{current:window.location.origin})}),i.jsxs(Nc,{dense:!0,children:[i.jsx(Hr,{onClick:o(!0),children:i.jsx($h,{primary:n("summary.setAsPrimary"),secondary:n("summary.setAsPrimaryDes",{current:window.location.origin})})}),i.jsx(Hr,{onClick:o(!1),children:i.jsx($h,{primary:n("summary.setAsSecondary"),secondary:n("summary.setAsSecondaryDes",{current:window.location.origin})})})]}),i.jsx(L,{variant:"body2",color:"textSecondary",children:n("summary.siteURLDescription")})]})})})})};function $F(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M5.25 5a4.32 4.32 0 0 0-.244.007A3.248 3.248 0 0 1 7.75 3.5h8a5.75 5.75 0 0 1 5.75 5.75v4a3.248 3.248 0 0 1-1.507 2.743c.005-.08.007-.161.007-.243v-6.5A4.25 4.25 0 0 0 15.75 5zM2 9.25A3.25 3.25 0 0 1 5.25 6h10.5A3.25 3.25 0 0 1 19 9.25v6.5A3.25 3.25 0 0 1 15.75 19h-5.002L6.99 21.76A1.25 1.25 0 0 1 5 20.752v-1.761a3.25 3.25 0 0 1-3-3.241z"})})}const Qo=at(ts)(({theme:e})=>({padding:e.spacing(3),boxShadow:"initial",border:"1px solid "+e.palette.divider})),xi=at(Wr)(()=>({minWidth:0})),M9=()=>{var f,p,m,x;const{t:e}=V("dashboard"),t=Xe(),r=ge(),[n,a]=g.useState(),[o,s]=g.useState(!1),[l,u]=g.useState(!1),[c,d]=g.useState(!1);g.useEffect(()=>{h(!1)},[]);const h=g.useCallback(v=>{v&&s(!0),r(zb(v)).then(b=>{a(b),v||b.site_urls.find(w=>w==window.location.origin)||u(!0)}).finally(()=>{s(!1)})},[]);return i.jsxs(Xt,{children:[i.jsx(gn,{open:c,onClose:()=>d(!1)}),i.jsx(TF,{open:l,onClose:()=>u(!1),existingUrls:(n==null?void 0:n.site_urls)??[]}),i.jsxs(Gt,{maxWidth:"xl",children:[i.jsx(Yt,{title:e("dashboard:nav.summary")}),i.jsxs(Mt,{container:!0,spacing:3,children:[i.jsx(Mt,{alignContent:"stretch",item:!0,xs:12,md:8,lg:9,children:i.jsxs(Qo,{children:[i.jsxs(L,{variant:"subtitle1",fontWeight:500,sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e("summary.trend"),i.jsx(L,{variant:"body2",color:"text.secondary",children:((f=n==null?void 0:n.metrics_summary)==null?void 0:f.generated_at)&&i.jsx(Z,{i18nKey:"summary.generatedAt",ns:"dashboard",components:[i.jsx(gr,{datetime:(p=n==null?void 0:n.metrics_summary)==null?void 0:p.generated_at,variant:"inherit"})]})})]}),i.jsx(bt,{sx:{mb:2,mt:1}}),i.jsx(ir,{children:i.jsx(ar,{addEndListener:(v,b)=>v.addEventListener("transitionend",b,!1),classNames:"fade",children:i.jsxs($,{children:[(n==null?void 0:n.metrics_summary)&&i.jsx(tM,{width:"100%",height:300,children:i.jsxs(OF,{height:350,data:n==null?void 0:n.metrics_summary.dates.map((v,b)=>{var _,w,S;return{name:vd(v).format("MM-DD"),file:((_=n==null?void 0:n.metrics_summary)==null?void 0:_.files[b])??0,user:((w=n==null?void 0:n.metrics_summary)==null?void 0:w.users[b])??0,share:((S=n==null?void 0:n.metrics_summary)==null?void 0:S.shares[b])??0}}),children:[i.jsx(j0,{strokeDasharray:"3 3"}),i.jsx(Vl,{dataKey:"name"}),i.jsx(Hl,{allowDecimals:!1}),i.jsx(Nr,{}),i.jsx(Hn,{}),i.jsx(Xn,{name:e("nav.files"),type:"monotone",dataKey:"file",stroke:"#3f51b5"}),i.jsx(Xn,{name:e("nav.users"),type:"monotone",dataKey:"user",stroke:"#82ca9d"}),i.jsx(Xn,{name:e("nav.shares"),type:"monotone",dataKey:"share",stroke:"#e91e63"})]})}),o&&i.jsx($,{sx:{height:"300px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(_t,{})}),!((m=n==null?void 0:n.metrics_summary)!=null&&m.generated_at)&&!o&&i.jsx($,{sx:{height:"300px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(Te,{onClick:()=>h(!0),children:e("application:fileManager.calculate")})})]})},`${!!(n!=null&&n.metrics_summary)}-${!!o}`)})]})}),i.jsx(Mt,{item:!0,xs:12,md:4,lg:3,children:i.jsxs(Qo,{children:[i.jsx(L,{variant:"subtitle1",fontWeight:500,children:e("summary.summary")}),i.jsx(bt,{sx:{mb:2,mt:1}}),i.jsx(ir,{children:i.jsx(ar,{addEndListener:(v,b)=>v.addEventListener("transitionend",b,!1),classNames:"fade",children:i.jsxs($,{children:[(n==null?void 0:n.metrics_summary)&&i.jsxs(Nc,{disablePadding:!0,sx:{minHeight:"300px"},children:[i.jsxs(Io,{children:[i.jsx(Wo,{children:i.jsx(No,{sx:{backgroundColor:Mh[100],color:Mh[600]},children:i.jsx(vj,{})})}),i.jsx(we,{secondary:e("summary.totalUsers"),primary:n.metrics_summary.user_total.toLocaleString()})]}),i.jsxs(Io,{children:[i.jsx(Wo,{children:i.jsx(No,{sx:{backgroundColor:zh[100],color:zh[800]},children:i.jsx(AF,{})})}),i.jsx(we,{secondary:e("summary.totalFiles"),primary:n.metrics_summary.file_total.toLocaleString()})]}),i.jsxs(Io,{children:[i.jsx(Wo,{children:i.jsx(No,{sx:{backgroundColor:Ih[100],color:Ih[800]},children:i.jsx(kF,{})})}),i.jsx(we,{secondary:e("summary.shareLinks"),primary:n.metrics_summary.share_total.toLocaleString()})]}),i.jsxs(Io,{children:[i.jsx(Wo,{children:i.jsx(No,{sx:{backgroundColor:Wh[100],color:Wh[800]},children:i.jsx(yj,{})})}),i.jsx(we,{secondary:e("summary.totalBlobs"),primary:n.metrics_summary.entities_total.toLocaleString()})]})]}),o&&i.jsx($,{sx:{height:"300px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(_t,{})}),!((x=n==null?void 0:n.metrics_summary)!=null&&x.generated_at)&&!o&&i.jsx($,{sx:{height:"300px",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(Te,{onClick:()=>h(!0),children:e("application:fileManager.calculate")})})]})},`${!!(n!=null&&n.metrics_summary)}-${o}`)})]})}),i.jsx(Mt,{item:!0,xs:12,md:5,lg:4,children:i.jsxs(Qo,{sx:{p:0},children:[i.jsxs($,{sx:{p:3,display:"flex",alignItems:"center"},children:[i.jsx($,{component:"img",sx:{width:70},alt:"cloudreve",src:"/static/img/cloudreve.svg"}),i.jsxs($,{sx:{ml:2},children:[i.jsxs(L,{variant:"h5",fontWeight:600,children:["Cloudreve",n&&n.version.pro&&i.jsx(Yr,{sx:{ml:1,height:"initial"},size:"small",color:"primary",label:"Pro"})]}),i.jsxs(L,{variant:"subtitle2",color:"text.secondary",children:[n?n.version.version:i.jsx(ne,{variant:"text",width:70}),n&&i.jsxs($,{component:"span",sx:{ml:1,color:v=>v.palette.action.disabled},children:["#",n.version.commit]})]})]})]}),i.jsx(bt,{}),i.jsxs(Nc,{component:"nav","aria-label":"main mailbox folders",sx:{mx:2},children:[i.jsxs(Hr,{onClick:()=>window.open("https://cloudreve.org"),children:[i.jsx(Wr,{children:i.jsx(tx,{})}),i.jsx(we,{primary:e("summary.homepage")}),i.jsx(xi,{children:i.jsx(mi,{})})]}),i.jsxs(Hr,{onClick:()=>window.open("https://github.com/cloudreve/cloudreve"),children:[i.jsx(Wr,{children:i.jsx(Gj,{})}),i.jsx(we,{primary:e("GitHub")}),i.jsx(xi,{children:i.jsx(mi,{})})]}),i.jsxs(Hr,{onClick:()=>window.open("https://docs.cloudreve.org/"),children:[i.jsx(Wr,{children:i.jsx(Lb,{})}),i.jsx(we,{primary:e("summary.documents")}),i.jsx(xi,{children:i.jsx(mi,{})})]}),i.jsxs(Hr,{onClick:()=>window.open("https://discord.gg/WTpMFpZT76"),children:[i.jsx(Wr,{children:i.jsx(PF,{})}),i.jsx(we,{primary:e("summary.discordCommunity")}),i.jsx(xi,{children:i.jsx(mi,{})})]}),i.jsxs(Hr,{onClick:()=>window.open("https://t.me/cloudreve_official"),children:[i.jsx(Wr,{children:i.jsx(EF,{})}),i.jsx(we,{primary:e("summary.telegram")}),i.jsx(xi,{children:i.jsx(mi,{})})]}),i.jsxs(Hr,{onClick:()=>window.open("https://github.com/cloudreve/Cloudreve/discussions"),children:[i.jsx(Wr,{children:i.jsx($F,{})}),i.jsx(we,{primary:e("summary.forum")}),i.jsx(xi,{children:i.jsx(mi,{})})]}),n&&!n.version.pro&&i.jsxs(Hr,{onClick:()=>d(!0),children:[i.jsx(Wr,{children:i.jsx(DF,{color:"primary"})}),i.jsx(we,{primary:e("summary.buyPro")})]})]}),i.jsx(bt,{})]})}),i.jsx(Mt,{item:!0,xs:12,md:7,lg:8,children:i.jsxs(Qo,{children:[i.jsx(L,{variant:"subtitle1",fontWeight:500,children:""}),i.jsx(bt,{sx:{mb:2,mt:1}}),i.jsx(V_,{id:"comments",repo:"cloudreve/Cloudreve",repoId:"MDEwOlJlcG9zaXRvcnkxMjAxNTYwNzY=",mapping:"number",term:Nh.language=="zh-CN"?"2170":"2169",reactionsEnabled:"1",emitMetadata:"0",inputPosition:"bottom",theme:t.palette.mode==="dark"?"dark":"light",lang:Nh.language=="zh-CN"?"zh-CN":"en",loading:"lazy"})]})})]})]})]})},hd={id:0,name:"",status:void 0,type:void 0,server:"",slave_key:"",capabilities:"",weight:1,settings:{},edges:{storage_policy:[]}},Gl=g.createContext({values:{...hd},setNode:()=>{}}),vi=e=>{var t;return{...e,edges:{storage_policy:(t=e.edges.storage_policy)==null?void 0:t.map(r=>({id:r.id}))}}},MF=({nodeID:e,children:t,onNodeChange:r})=>{const n=ge();V("dashboard");const[a,o]=g.useState({...hd}),[s,l]=g.useState({...hd}),[u,c]=g.useState(!0),[d,h]=g.useState(!1),f=g.useRef(null),p=g.useMemo(()=>JSON.stringify(s)!==JSON.stringify(a),[s,a]);g.useEffect(()=>{c(!0),n(Bb(e)).then(v=>{o(vi(v)),l(vi(v)),r(vi(v))}).finally(()=>{c(!1)})},[e]);const m=()=>{l(a)},x=()=>{if(f.current&&!f.current.checkValidity()){f.current.reportValidity();return}h(!0),n(rx({node:{...s}})).then(v=>{o(vi(v)),l(vi(v)),r(vi(v))}).finally(()=>{h(!1)})};return i.jsx(Gl.Provider,{value:{values:s,setNode:l,formRef:f},children:i.jsx(ir,{children:i.jsx(ar,{addEndListener:(v,b)=>v.addEventListener("transitionend",b,!1),classNames:"fade",children:i.jsxs($,{sx:{mt:3},children:[u&&i.jsx($,{sx:{pt:20,height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:i.jsx(_t,{})}),!u&&i.jsxs($,{children:[t,i.jsx(dl,{in:p,submitting:d,revert:m,submit:x})]})]})},`${u}`)})})},IF=()=>{const{t:e}=V("dashboard"),t=ge(),{enqueueSnackbar:r}=St(),{values:n,setNode:a}=g.useContext(Gl),[o,s]=g.useState(!1),l=g.useCallback(x=>{a(v=>({...v,name:x.target.value}))},[a]),u=g.useCallback(x=>{a(v=>({...v,server:x.target.value}))},[a]),c=g.useCallback(x=>{a(v=>({...v,slave_key:x.target.value}))},[a]),d=g.useCallback(x=>{const v=parseInt(x.target.value);a(b=>({...b,weight:isNaN(v)?1:v}))},[a]),h=g.useCallback(x=>{a(v=>({...v,status:x.target.checked?Fn.active:Fn.suspended}))},[a]),f=g.useMemo(()=>n.status===Fn.active,[n.status]),p=g.useMemo(()=>n.type===Pr.master?e("node.master"):e("node.slave"),[n.type,e]),m=g.useCallback(()=>{s(!0),t(nx({node:n})).then(x=>{r(e("node.testNodeSuccess"),{variant:"success",action:st})}).finally(()=>{s(!1)})},[t,n]);return i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("policy.basicInfo")}),i.jsxs(Me,{children:[n.type===Pr.master&&i.jsx(O,{lgWidth:5,children:i.jsx(tn,{severity:"info",children:e("node.thisIsMasterNodes")})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{disabled:n.type===Pr.master,control:i.jsx(Ee,{checked:f,onChange:h}),label:e("node.enableNode")}),i.jsx(D,{children:e("node.enableNodeDes")})]})}),i.jsx(O,{title:e("node.name"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,value:n.name,onChange:l}),i.jsx(D,{children:e("node.nameNode")})]})}),i.jsx(O,{title:e("node.type"),lgWidth:5,children:i.jsx(I,{fullWidth:!0,children:i.jsx(N,{disabled:!0,value:p})})}),n.type===Pr.slave&&i.jsxs(i.Fragment,{children:[i.jsx(O,{title:e("node.server"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(Er,{fullWidth:!0,enforceProtocol:!0,required:!0,value:n.server,onChange:u,variant:"outlined"}),i.jsx(D,{children:e("node.serverDes")})]})}),i.jsx(O,{title:e("node.slaveSecret"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,value:n.slave_key,onChange:c}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"node.slaveSecretDes",ns:"dashboard",components:[i.jsx(ie,{}),i.jsx(ie,{})]})})]})})]}),i.jsx(O,{title:e("node.loadBalancerRank"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{type:"number",slotProps:{htmlInput:{inputProps:{min:1}}},required:!0,value:n.weight,onChange:d}),i.jsx(D,{children:e("node.loadBalancerRankDes")})]})}),n.type===Pr.slave&&i.jsx(O,{lgWidth:5,children:i.jsx(Te,{loading:o,variant:"contained",onClick:m,children:e("node.testNode")})})]})]})};function z0(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M12 2c5.523 0 10 4.478 10 10s-4.477 10-10 10S2 17.522 2 12S6.477 2 12 2m0 1.667c-4.595 0-8.333 3.738-8.333 8.333c0 4.595 3.738 8.333 8.333 8.333c4.595 0 8.333-3.738 8.333-8.333c0-4.595-3.738-8.333-8.333-8.333M12 15.5a1 1 0 1 1 0 2a1 1 0 0 1 0-2m0-8.75a2.75 2.75 0 0 1 2.75 2.75c0 1.01-.297 1.574-1.051 2.359l-.169.171c-.622.622-.78.886-.78 1.47a.75.75 0 0 1-1.5 0c0-1.01.297-1.574 1.051-2.359l.169-.171c.622-.622.78-.886.78-1.47a1.25 1.25 0 0 0-2.493-.128l-.007.128a.75.75 0 0 1-1.5 0A2.75 2.75 0 0 1 12 6.75"})})}const WF=({open:e,onClose:t})=>{const{t:r}=V("dashboard");return i.jsx(ft,{dialogProps:{open:e,onClose:t,fullWidth:!0,maxWidth:"sm"},title:r("node.storeFiles"),children:i.jsx(wt,{children:i.jsx(L,{variant:"body2",children:i.jsx(Z,{i18nKey:"node.storeFilesHint",ns:"dashboard",components:[i.jsx(te,{component:Rt,to:"/admin/policy"})]})})})})},$m=g.lazy(()=>mn(()=>import("./MonacoEditor-BbzhZksg.js"),__vite__mapDeps([0,1,2,3,4,5]))),NF=()=>{var F,U,R,H,X,ee,ue,J,le,Pe,Le,$e,Ye,Ue,Q,oe,ae,G,pe,fe,Ae,Y,q,se,Fe,Ur,Be,Ke;const{t:e}=V("dashboard"),{values:t,setNode:r}=g.useContext(Gl),n=Xe(),a=ge(),{enqueueSnackbar:o}=St(),[s,l]=g.useState(""),[u,c]=g.useState(""),[d,h]=g.useState(!1),[f,p]=g.useState(!1),m=g.useMemo(()=>new Et(t.capabilities??""),[t.capabilities]),x=g.useMemo(()=>m.enabled(tr.remote_download),[m]);g.useEffect(()=>{var me,_e,Se,jr;l((_e=(me=t.settings)==null?void 0:me.aria2)!=null&&_e.options?JSON.stringify((jr=(Se=t.settings)==null?void 0:Se.aria2)==null?void 0:jr.options,null,2):"")},[(U=(F=t.settings)==null?void 0:F.aria2)==null?void 0:U.options]),g.useEffect(()=>{var me,_e,Se,jr;c((_e=(me=t.settings)==null?void 0:me.qbittorrent)!=null&&_e.options?JSON.stringify((jr=(Se=t.settings)==null?void 0:Se.qbittorrent)==null?void 0:jr.options,null,2):"")},[(H=(R=t.settings)==null?void 0:R.qbittorrent)==null?void 0:H.options]);const v=g.useCallback(me=>_e=>{r(Se=>({...Se,capabilities:new Et(Se.capabilities).set(me,_e.target.checked).toString()}))},[r]),b=g.useCallback(me=>{const _e=me.target.value;r(Se=>({...Se,settings:{...Se.settings,provider:_e}}))},[r]),_=g.useCallback(me=>{r(_e=>{var Se;return{..._e,settings:{..._e.settings,aria2:{...(Se=_e.settings)==null?void 0:Se.aria2,server:me.target.value}}}})},[r]),w=g.useCallback(me=>{r(_e=>{var Se;return{..._e,settings:{..._e.settings,aria2:{...(Se=_e.settings)==null?void 0:Se.aria2,token:me.target.value}}}})},[r]),S=g.useCallback(me=>{r(_e=>{var Se;return{..._e,settings:{..._e.settings,aria2:{...(Se=_e.settings)==null?void 0:Se.aria2,temp_path:me.target.value?me.target.value:void 0}}}})},[r]),y=g.useCallback(me=>{r(_e=>{var Se;return{..._e,settings:{..._e.settings,qbittorrent:{...(Se=_e.settings)==null?void 0:Se.qbittorrent,server:me.target.value}}}})},[r]),j=g.useCallback(me=>{r(_e=>{var Se;return{..._e,settings:{..._e.settings,qbittorrent:{...(Se=_e.settings)==null?void 0:Se.qbittorrent,user:me.target.value?me.target.value:void 0}}}})},[r]),C=g.useCallback(me=>{r(_e=>{var Se;return{..._e,settings:{..._e.settings,qbittorrent:{...(Se=_e.settings)==null?void 0:Se.qbittorrent,password:me.target.value?me.target.value:void 0}}}})},[r]),P=g.useCallback(me=>{r(_e=>{var Se;return{..._e,settings:{..._e.settings,qbittorrent:{...(Se=_e.settings)==null?void 0:Se.qbittorrent,temp_path:me.target.value?me.target.value:void 0}}}})},[r]),A=g.useCallback(me=>{const _e=parseInt(me.target.value);r(Se=>({...Se,settings:{...Se.settings,interval:isNaN(_e)?void 0:_e}}))},[r]),T=g.useCallback(me=>{r(_e=>({..._e,settings:{..._e.settings,wait_for_seeding:me.target.checked?!0:void 0}}))},[r]),k=g.useCallback(me=>{var _e=void 0;if(me)try{_e=JSON.parse(me)}catch(Se){console.error(Se)}r(Se=>{var jr;return{...Se,settings:{...Se.settings,aria2:{...(jr=Se.settings)==null?void 0:jr.aria2,options:_e}}}})},[s,r]),E=g.useCallback(me=>{var _e=void 0;if(me)try{_e=JSON.parse(me)}catch(Se){console.error(Se)}r(Se=>{var jr;return{...Se,settings:{...Se.settings,qbittorrent:{...(jr=Se.settings)==null?void 0:jr.qbittorrent,options:_e}}}})},[u,r]),z=g.useCallback(()=>{h(!0),a(Rb({node:t})).then(me=>{o({variant:"success",message:e("node.downloaderTestPass",{version:me}),action:st})}).finally(()=>{h(!1)})},[t]),B=g.useCallback(()=>{p(!0)},[]);return i.jsxs(i.Fragment,{children:[i.jsx(WF,{open:f,onClose:()=>p(!1)}),i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("node.features")}),i.jsxs(Me,{children:[i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:m.enabled(tr.create_archive),onChange:v(tr.create_archive)}),label:e("application:fileManager.createArchive")}),i.jsx(D,{children:e("node.createArchiveDes")})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:m.enabled(tr.extract_archive),onChange:v(tr.extract_archive)}),label:e("application:fileManager.extractArchive")}),i.jsx(D,{children:e("node.extractArchiveDes")})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:m.enabled(tr.remote_download),onChange:v(tr.remote_download)}),label:e("application:navbar.remoteDownload")}),i.jsx(D,{children:e("node.remoteDownloadDes")})]})}),t.type===Pr.slave&&i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{onChange:B,disabled:(((ee=(X=t.edges)==null?void 0:X.storage_policy)==null?void 0:ee.length)??0)>0,checked:(((J=(ue=t.edges)==null?void 0:ue.storage_policy)==null?void 0:J.length)??0)>0}),label:e("node.storeFiles")}),i.jsx(D,{children:e("node.storeFilesDes")})]})})]})]}),i.jsx(et,{in:x,unmountOnExit:!0,children:i.jsxs(Ne,{children:[i.jsxs(L,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:.5},children:[e("node.remoteDownload"),i.jsx(it,{onClick:()=>{window.open("https://docs.cloudreve.org/usage/remote-download","_blank")},children:i.jsx(z0,{})})]}),i.jsxs(Me,{children:[i.jsx(O,{title:e("node.downloader"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsxs(Ze,{value:((le=t.settings)==null?void 0:le.provider)||cn.aria2,onChange:b,children:[i.jsx(ke,{value:cn.aria2,children:i.jsx(we,{primary:"Aria2",slotProps:{primary:{variant:"body2"}}})}),i.jsx(ke,{value:cn.qbittorrent,children:i.jsx(we,{primary:"qBittorrent",slotProps:{primary:{variant:"body2"}}})})]}),i.jsx(D,{children:((Pe=t.settings)==null?void 0:Pe.provider)===cn.qbittorrent?e("node.qbittorrentDes"):e("node.aria2Des")})]})}),((Le=t.settings)==null?void 0:Le.provider)===cn.aria2&&i.jsxs(i.Fragment,{children:[i.jsx(O,{title:e("node.rpcServer"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(Er,{fullWidth:!0,required:!0,value:((Ye=($e=t.settings)==null?void 0:$e.aria2)==null?void 0:Ye.server)||"",onChange:_,variant:"outlined"}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"node.rpcServerHelpDes",ns:"dashboard",components:[i.jsx(ie,{})]})})]})}),i.jsx(O,{title:e("node.rpcToken"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:((Q=(Ue=t.settings)==null?void 0:Ue.aria2)==null?void 0:Q.token)||"",onChange:w}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"node.rpcTokenDes",ns:"dashboard",components:[i.jsx(ie,{})]})})]})}),i.jsx(O,{title:e("group.aria2Options"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(g.Suspense,{fallback:i.jsx(ns,{}),children:i.jsx($m,{theme:n.palette.mode==="dark"?"vs-dark":"vs",language:"json",value:s,onChange:me=>l(me||""),onBlur:k,height:"200px",minHeight:"200px",options:{wordWrap:"on",minimap:{enabled:!1},scrollBeyondLastLine:!1}})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"node.downloaderOptionDes",ns:"dashboard",components:[i.jsx(te,{href:"https://aria2.github.io/manual/en/html/aria2c.html#id2",target:"_blank"})]})})]})}),i.jsx(O,{title:e("node.tempPath"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:((ae=(oe=t.settings)==null?void 0:oe.aria2)==null?void 0:ae.temp_path)||"",onChange:S}),i.jsx(D,{children:e("node.tempPathDes")})]})})]}),((G=t.settings)==null?void 0:G.provider)===cn.qbittorrent&&i.jsxs(i.Fragment,{children:[i.jsx(O,{title:e("node.webUIEndpoint"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(Er,{fullWidth:!0,required:!0,value:((fe=(pe=t.settings)==null?void 0:pe.qbittorrent)==null?void 0:fe.server)||"",onChange:y,variant:"outlined"}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"node.webUIEndpointDes",ns:"dashboard",components:[i.jsx(ie,{})]})})]})}),i.jsx(O,{title:e("policy.accessCredential"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{placeholder:e("node.webUIUsername"),value:((Y=(Ae=t.settings)==null?void 0:Ae.qbittorrent)==null?void 0:Y.user)||"",onChange:j}),i.jsx(N,{placeholder:e("node.webUIPassword"),type:"password",sx:{mt:1},value:((se=(q=t.settings)==null?void 0:q.qbittorrent)==null?void 0:se.password)||"",onChange:C}),i.jsx(D,{children:e("node.webUICredDes")})]})}),i.jsx(O,{title:e("group.aria2Options"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(g.Suspense,{fallback:i.jsx(ns,{}),children:i.jsx($m,{theme:n.palette.mode==="dark"?"vs-dark":"vs",language:"json",value:u,onChange:me=>c(me||""),onBlur:E,height:"200px",minHeight:"200px",options:{wordWrap:"on",minimap:{enabled:!1},scrollBeyondLastLine:!1}})}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"node.downloaderOptionDes",ns:"dashboard",components:[i.jsx(te,{href:"https://github.com/qbittorrent/qBittorrent/wiki/WebUI-API-(qBittorrent-4.1)#add-new-torrent",target:"_blank"})]})})]})}),i.jsx(O,{title:e("node.tempPath"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{value:((Ur=(Fe=t.settings)==null?void 0:Fe.qbittorrent)==null?void 0:Ur.temp_path)||"",onChange:P}),i.jsx(D,{children:e("node.tempPathDes")})]})})]}),i.jsx(O,{title:e("node.refreshInterval"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{type:"number",slotProps:{htmlInput:{min:1}},required:!0,value:((Be=t.settings)==null?void 0:Be.interval)||"",onChange:A}),i.jsx(D,{children:e("node.refreshIntervalDes")})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:((Ke=t.settings)==null?void 0:Ke.wait_for_seeding)||!1,onChange:T}),label:e("node.waitForSeeding")}),i.jsx(D,{children:e("node.waitForSeedingDes")})]})}),i.jsx(O,{lgWidth:5,children:i.jsx(Te,{onClick:z,variant:"contained",loading:d,children:e("node.testDownloader")})})]})]})})]})},zF=({children:e})=>{const{formRef:t}=g.useContext(Gl);return i.jsx($,{component:"form",ref:t,noValidate:!0,children:i.jsx(ce,{spacing:5,children:e})})},I9=()=>{const{t:e}=V("dashboard"),{id:t}=xd(),[r,n]=g.useState(null),a=parseInt(t??"0");return i.jsx(Xt,{children:i.jsxs(Gt,{maxWidth:"xl",children:[i.jsx(Yt,{title:e("node.editNode",{node:r==null?void 0:r.name})}),i.jsx(MF,{nodeID:a,onNodeChange:n,children:i.jsxs(zF,{children:[i.jsx(IF,{}),i.jsx(NF,{})]})})]})})},LF=g.lazy(()=>mn(()=>import("./MonacoEditor-BbzhZksg.js"),__vite__mapDeps([0,1,2,3,4,5]))),Mm={id:0,name:"",type:Pr.slave,status:Fn.active,server:"",slave_key:"",capabilities:"",weight:1,settings:{provider:cn.aria2,qbittorrent:{},aria2:{},interval:5},edges:{storage_policy:[]}},Zo=({step:e,children:t})=>i.jsxs($,{sx:{display:"flex",padding:"10px",transition:r=>r.transitions.create("background-color",{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),"&:focus-within":{backgroundColor:r=>r.palette.mode=="dark"?rs[900]:rs[100]}},children:[i.jsx($,{sx:{ml:"20px"},children:i.jsx($,{sx:{width:"20px",fontSize:r=>r.typography.body2.fontSize,height:"20px",backgroundColor:r=>r.palette.primary.light,color:r=>r.palette.primary.contrastText,textAlign:"center",borderRadius:" 50%"},children:e})}),i.jsx($,{sx:{ml:"10px",mr:"20px",flexGrow:1},children:t})]}),BF=({open:e,onClose:t})=>{const{t:r}=V("dashboard"),n=Xe(),a=ge(),o=xr(),{enqueueSnackbar:s}=St(),[l,u]=g.useState(!1),[c,d]=g.useState({...Mm}),h=g.useRef(null);g.useEffect(()=>{e&&d({...Mm,slave_key:Fb(64)})},[e]);const f=()=>{var x,v;if(!((x=h.current)!=null&&x.checkValidity())){(v=h.current)==null||v.reportValidity();return}u(!0),a(rx({node:c})).then(b=>{o(`/admin/node/${b.id}`),t()}).finally(()=>{u(!1)})},p=g.useMemo(()=>`[System]
Mode = slave
Listen = :5212

[Slave]
Secret = ${c.slave_key}

; ${r("node.keepIfUpload")}
[CORS]
AllowOrigins = *
AllowMethods = OPTIONS,GET,POST
AllowHeaders = *
`,[r,c.slave_key]),m=()=>{var x,v;if(!((x=h.current)!=null&&x.checkValidity())){(v=h.current)==null||v.reportValidity();return}u(!0),a(nx({node:c})).then(()=>{u(!1),s(r("node.testNodeSuccess"),{variant:"success",action:st})}).finally(()=>u(!1))};return i.jsx(ft,{onAccept:f,loading:l,title:r("node.addNewNode"),showActions:!0,showCancel:!0,dialogProps:{open:e,onClose:t,fullWidth:!0,maxWidth:"sm"},children:i.jsx("form",{ref:h,onSubmit:f,children:i.jsxs(ce,{spacing:1,children:[i.jsx(Zo,{step:1,children:i.jsxs(O,{lgWidth:12,children:[i.jsx(L,{variant:"body2",sx:{mb:1},children:r("node.nameTheNode")}),i.jsx(N,{fullWidth:!0,required:!0,value:c.name,onChange:x=>d({...c,name:x.target.value})}),i.jsx(D,{children:r("node.nameNode")})]})}),i.jsx(Zo,{step:2,children:i.jsxs(O,{lgWidth:12,children:[i.jsx(L,{variant:"body2",sx:{mb:1},children:r("node.runCrSlave")}),i.jsx(g.Suspense,{fallback:i.jsx(_t,{}),children:i.jsx(LF,{theme:n.palette.mode==="dark"?"vs-dark":"vs",language:"ini",value:p,height:"200px",minHeight:"200px",options:{wordWrap:"on",minimap:{enabled:!1},scrollBeyondLastLine:!1,readOnly:!0}})}),i.jsx(D,{sx:{mt:1},children:i.jsx(Z,{i18nKey:"node.runCrWithConfig",ns:"dashboard",components:[i.jsx(ie,{})]})})]})}),i.jsx(Zo,{step:3,children:i.jsxs(O,{lgWidth:12,children:[i.jsx(L,{variant:"body2",sx:{mb:1},children:r("node.inputServer")}),i.jsx(Er,{variant:"outlined",fullWidth:!0,required:!0,enforceProtocol:!0,value:c.server,onChange:x=>d({...c,server:x.target.value})}),i.jsx(D,{children:r("node.serverDes")})]})}),i.jsx(Zo,{step:4,children:i.jsxs(O,{lgWidth:12,children:[i.jsx(L,{variant:"body2",sx:{mb:1},children:r("node.testButton")}),i.jsx(Te,{loading:l,variant:"contained",onClick:m,children:r("node.testNode")}),i.jsx(D,{sx:{mt:1},children:i.jsx(Z,{i18nKey:"node.hostHeaderHint",ns:"dashboard",components:[i.jsx(ie,{})]})})]})})]})})})};function RF(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M10.788 3.102c.495-1.003 1.926-1.003 2.421 0l2.358 4.778l5.273.766c1.107.16 1.549 1.522.748 2.303l-3.816 3.719l.901 5.25c.19 1.104-.968 1.945-1.959 1.424l-4.716-2.48l-4.715 2.48c-.99.52-2.148-.32-1.96-1.423l.901-5.251l-3.815-3.72c-.801-.78-.359-2.141.748-2.302L8.43 7.88z"})})}const kc=({node:e,onRefresh:t,loading:r})=>{const{t:n}=V("dashboard"),a=ge(),o=xr(),[s,l]=g.useState(!1),u=g.useCallback(f=>{f.stopPropagation(),a(Tr(n("node.deleteNodeConfirmation",{name:(e==null?void 0:e.name)??""}))).then(()=>{l(!0),a(qb((e==null?void 0:e.id)??0)).then(()=>{t==null||t()}).finally(()=>{l(!1)})})},[e,a,t]),c=g.useCallback(f=>{f.stopPropagation(),o(`/admin/node/${e==null?void 0:e.id}`)},[e,o]),d=g.useCallback(()=>{if(!(e!=null&&e.capabilities))return[];const f=new Et(e.capabilities),p=[];return f.enabled(tr.create_archive)&&p.push({id:tr.create_archive,name:n("application:fileManager.createArchive")}),f.enabled(tr.extract_archive)&&p.push({id:tr.extract_archive,name:n("application:fileManager.extractArchive")}),f.enabled(tr.remote_download)&&p.push({id:tr.remote_download,name:n("application:navbar.remoteDownload")}),p},[e,n]);if(r)return i.jsx(Bt,{size:{xs:12,md:6,lg:4},children:i.jsxs(ka,{children:[i.jsxs($,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx(L,{variant:"subtitle1",fontWeight:600,children:i.jsx(ne,{variant:"text",width:100})}),i.jsx(L,{variant:"body2",color:"text.secondary",children:i.jsx(ne,{variant:"text",width:60})})]}),i.jsx(Ai,{sx:{mt:1,mb:2},children:i.jsx($,{sx:{display:"flex",alignItems:"center",minHeight:"25px"},children:i.jsx(ne,{width:60,height:25,sx:{mr:1}})})}),i.jsx(bt,{sx:{my:1}}),i.jsxs($,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx(ne,{variant:"text",width:"40%",height:20}),i.jsx(ne,{variant:"circular",width:30,height:30})]})]})});const h=d();return i.jsx(Bt,{size:{xs:12,md:6,lg:4},children:i.jsxs(ka,{onClick:c,children:[i.jsxs($,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx(L,{variant:"subtitle1",fontWeight:600,children:e==null?void 0:e.name}),i.jsxs($,{sx:{display:"flex",alignItems:"center"},children:[(e==null?void 0:e.type)===Pr.master&&i.jsx(RF,{sx:{mr:.5,fontSize:16,color:"primary.main"}}),i.jsx(L,{variant:"body2",color:"text.secondary",children:(e==null?void 0:e.type)===Pr.master?n("node.master"):n("node.slave")})]})]}),i.jsx(Ai,{sx:{mt:1,mb:2},children:h.length>0?h.map(f=>i.jsx(Yr,{sx:{mr:1},label:f.name,size:"small"},f.id)):i.jsxs($,{sx:{display:"flex",alignItems:"center",minHeight:"25px"},color:"text.secondary",children:[i.jsx(Lm,{sx:{mr:.5,fontSize:20}}),i.jsx(L,{variant:"caption",children:n("node.noCapabilities")})]})}),i.jsx(bt,{sx:{my:1}}),i.jsxs($,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx($,{sx:{display:"flex",alignItems:"center"},children:(e==null?void 0:e.status)===Fn.active?i.jsxs(i.Fragment,{children:[i.jsx(cx,{sx:{mr:.5,fontSize:20,color:"success.main"}}),i.jsx(L,{variant:"body2",color:"success.main",children:n("node.active")})]}):i.jsxs(i.Fragment,{children:[i.jsx(ix,{sx:{mr:.5,fontSize:20,color:"text.secondary"}}),i.jsx(L,{variant:"body2",color:"text.secondary",children:n("node.suspended")})]})}),i.jsx($,{children:i.jsx(it,{size:"small",onClick:u,disabled:s,children:i.jsx($r,{fontSize:"small"})})})]})]})})},W9=()=>{const{t:e}=V("dashboard"),t=ge(),[r,n]=g.useState(!0),[a,o]=g.useState([]),[s,l]=Oe(bn,{defaultValue:"1"}),[u,c]=Oe(jn,{defaultValue:"11"}),[d,h]=Oe(_n,{defaultValue:""}),[f,p]=Oe(wn,{defaultValue:"desc"}),[m,x]=g.useState(0);g.useState(!1);const[v,b]=g.useState(!1),_=parseInt(s)??1,w=parseInt(u)??11;g.useEffect(()=>{S()},[s,u,d,f]);const S=()=>{n(!0),t(Gm({page:_,page_size:w,order_by:d??"",order_direction:f??"desc",conditions:{}})).then(y=>{o(y.nodes),l((y.pagination.page+1).toString()),c(y.pagination.page_size.toString()),x(y.pagination.total_items??0),n(!1)}).finally(()=>{n(!1)})};return i.jsxs(Xt,{children:[i.jsx(BF,{open:v,onClose:()=>b(!1)}),i.jsxs(Gt,{maxWidth:"xl",children:[i.jsx(Yt,{title:e("dashboard:nav.nodes"),secondaryAction:i.jsx(it,{onClick:()=>window.open("https://docs.cloudreve.org/usage/slave-node","_blank"),children:i.jsx(z0,{})})}),i.jsx(ce,{direction:"row",spacing:1,sx:{mb:2},children:i.jsx(Te,{onClick:S,disabled:r,variant:"contained",startIcon:i.jsx(qr,{}),children:e("node.refresh")})}),i.jsxs(Bt,{container:!0,spacing:2,children:[i.jsx(Bt,{size:{xs:12,md:6,lg:4},children:i.jsxs(ka,{onClick:()=>b(!0),sx:{height:"100%",borderStyle:"dashed",display:"flex",alignItems:"center",gap:1,justifyContent:"center",color:y=>y.palette.text.secondary},children:[i.jsx(gd,{}),i.jsx(L,{variant:"h6",children:e("node.addNewNode")})]})}),!r&&a.map(y=>i.jsx(kc,{node:y,onRefresh:S},y.name)),r&&a.length>0&&a.map(y=>i.jsx(kc,{loading:!0},`loading-${y.name}`)),r&&a.length===0&&Array.from(Array(5)).map((y,j)=>i.jsx(kc,{loading:!0},`loading-${j}`))]}),m>0&&i.jsx($,{sx:{mt:1},children:i.jsx(sn,{page:_,totalItems:m,rowsPerPage:w,rowsPerPageOptions:[11,25,50,100,200,500,1e3],onRowsPerPageChange:y=>c(y.toString()),onChange:(y,j)=>l(j.toString())})})]})]})},FF=({values:e})=>{var m,x,v,b,_,w,S,y,j,C,P,A,T;const t=Xe(),r=Wt(t.breakpoints.down("md")),{t:n}=V("dashboard"),[a,o]=g.useState(!1),[s,l]=g.useState(0),[u,c]=g.useState(!1),[d,h]=g.useState(0),f=k=>{var E,z;k.preventDefault(),o(!0),l(((z=(E=e==null?void 0:e.edges)==null?void 0:E.user)==null?void 0:z.id)??0)},p=k=>{var E,z;k.preventDefault(),c(!0),h(((z=(E=e==null?void 0:e.edges)==null?void 0:E.file)==null?void 0:z.id)??0)};return i.jsxs(i.Fragment,{children:[i.jsx(Mr,{open:a,onClose:()=>o(!1),userID:s}),i.jsx(fl,{open:u,onClose:()=>c(!1),fileID:d}),i.jsx($,{children:i.jsxs(Bt,{container:!0,spacing:r?2:3,alignItems:"stretch",children:[i.jsx(O,{title:n("file.id"),noContainer:!0,lgWidth:2,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:e.id})}),i.jsx(O,{title:n("share.shareLink"),noContainer:!0,lgWidth:4,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:i.jsx(te,{href:e.share_link,target:"_blank",underline:"hover",sx:{wordBreak:"break-all"},children:e.share_link})})}),i.jsx(O,{title:n("file.creator"),noContainer:!0,lgWidth:4,children:i.jsx(xe,{variant:"body2",color:"textSecondary",children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(vr,{sx:{width:24,height:24},overwriteTextSize:!0,user:{id:(e==null?void 0:e.user_hash_id)??"",nickname:((x=(m=e==null?void 0:e.edges)==null?void 0:m.user)==null?void 0:x.nick)??"",created_at:((b=(v=e==null?void 0:e.edges)==null?void 0:v.user)==null?void 0:b.created_at)??""}}),i.jsx(xe,{variant:"inherit",children:i.jsx(te,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onClick:f,underline:"hover",href:"#/",children:(w=(_=e==null?void 0:e.edges)==null?void 0:_.user)==null?void 0:w.nick})})]})})}),i.jsx(O,{title:n("share.views"),noContainer:!0,lgWidth:2,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:e.views??0})}),i.jsx(O,{title:n("share.downloads"),noContainer:!0,lgWidth:2,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:e.downloads??0})}),i.jsx(O,{title:n("share.srcFileName"),noContainer:!0,lgWidth:4,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:(S=e==null?void 0:e.edges)!=null&&S.file?i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(cl,{name:((j=(y=e==null?void 0:e.edges)==null?void 0:y.file)==null?void 0:j.name)??"",fileType:((P=(C=e==null?void 0:e.edges)==null?void 0:C.file)==null?void 0:P.type)??0}),i.jsx(xe,{variant:"inherit",children:i.jsx(te,{href:"#/",onClick:p,underline:"hover",children:(T=(A=e==null?void 0:e.edges)==null?void 0:A.file)==null?void 0:T.name})})]}):i.jsx("em",{children:n("share.deleted")})})}),i.jsx(O,{title:n("share.createdAt"),noContainer:!0,lgWidth:4,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:i.jsx(gr,{datetime:e.created_at??"",timeAgoThreshold:0,variant:"inherit"})})})]})})]})},qF=({open:e,onClose:t,shareID:r})=>{const n=ge(),{t:a}=V("dashboard"),[o,s]=g.useState({edges:{},id:0}),[l,u]=g.useState(!0);return g.useEffect(()=>{!r||!e||(u(!0),n(Ub(r)).then(c=>{s(c)}).catch(()=>{t()}).finally(()=>{u(!1)}))},[e]),i.jsx(ft,{title:a("share.shareDialogTitle"),dialogProps:{fullWidth:!0,maxWidth:"md",open:e,onClose:t},children:i.jsx(wt,{children:i.jsx(Qi,{children:i.jsx(ir,{children:i.jsx(ar,{addEndListener:(c,d)=>c.addEventListener("transitionend",d,!1),classNames:"fade",children:i.jsxs($,{children:[l&&i.jsx($,{sx:{py:15,height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:i.jsx(_t,{})}),!l&&i.jsx(FF,{values:o})]})},`${l}`)})})})})},UF=({user:e,setUser:t,file:r,setFile:n,clearFilters:a,onClose:o,open:s,...l})=>{const{t:u}=V("dashboard"),[c,d]=g.useState(e),[h,f]=g.useState(r);g.useEffect(()=>{s&&(d(e),f(r))},[s]);const p=()=>{t(c),n(h),o==null||o({},"backdropClick")},m=()=>{d(""),f(""),a(),o==null||o({},"backdropClick")};return i.jsx(yo,{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},slotProps:{paper:{sx:{p:2,width:300,maxWidth:"100%"}}},onClose:o,open:s,...l,children:i.jsxs(ce,{spacing:2,children:[i.jsx(O,{title:u("event.userID"),noContainer:!0,lgWidth:12,children:i.jsx(N,{fullWidth:!0,value:c,onChange:x=>d(x.target.value),placeholder:u("user.emptyNoFilter"),size:"small"})}),i.jsx(O,{title:u("event.fileID"),noContainer:!0,lgWidth:12,children:i.jsx(N,{fullWidth:!0,value:h,onChange:x=>f(x.target.value),placeholder:u("user.emptyNoFilter"),size:"small"})}),i.jsxs($,{display:"flex",justifyContent:"space-between",children:[i.jsx(De,{variant:"outlined",size:"small",onClick:m,children:u("user.reset")}),i.jsx(De,{variant:"contained",size:"small",onClick:p,children:u("user.apply")})]})]})})},Dc=({share:e,loading:t,deleting:r,selected:n,onDelete:a,onDetails:o,onSelect:s,openUserDialog:l,openFileDialog:u})=>{var w,S,y,j,C,P,A,T,k,E,z,B,F,U;xr();const{t:c}=V("dashboard"),d=ge(),[h,f]=g.useState(!1);g.useState(!1);const p=()=>{o==null||o((e==null?void 0:e.id)??0)},m=R=>{R.stopPropagation(),R.preventDefault(),d(Tr(c("share.confirmDelete"))).then(()=>{e!=null&&e.id&&(f(!0),d(ax({ids:[e.id]})).then(()=>{a==null||a()}).finally(()=>{f(!1)}))})},x=R=>{R.stopPropagation(),R.preventDefault(),s==null||s((e==null?void 0:e.id)??0)};if(t)return i.jsxs(je,{sx:{height:"43px"},children:[i.jsx(M,{children:i.jsx(ne,{variant:"circular",width:24,height:24})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:30})}),i.jsx(M,{children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(ne,{variant:"circular",width:24,height:24}),i.jsx(ne,{variant:"text",width:200})]})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:50})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:50})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:50})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:130})}),i.jsx(M,{children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(ne,{variant:"circular",width:24,height:24}),i.jsx(ne,{variant:"text",width:50})]})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:70})}),i.jsx(M,{children:i.jsx(ne,{variant:"circular",width:24,height:24})})]});const v=R=>{var H,X;R.stopPropagation(),R.preventDefault(),l==null||l(((X=(H=e==null?void 0:e.edges)==null?void 0:H.user)==null?void 0:X.id)??0)},b=R=>{var H,X;R.stopPropagation(),R.preventDefault(),u==null||u(((X=(H=e==null?void 0:e.edges)==null?void 0:H.file)==null?void 0:X.id)??0)},_=R=>{R.stopPropagation(),R.preventDefault(),window.open((e==null?void 0:e.share_link)??"","_blank")};return i.jsxs(je,{hover:!0,sx:{cursor:"pointer"},onClick:p,selected:n,children:[i.jsx(ve,{padding:"checkbox",children:i.jsx(lt,{disabled:r,size:"small",disableRipple:!0,color:"primary",onClick:x,checked:n})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:e==null?void 0:e.id})}),i.jsx(ve,{children:(w=e==null?void 0:e.edges)!=null&&w.file?i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(cl,{name:((y=(S=e==null?void 0:e.edges)==null?void 0:S.file)==null?void 0:y.name)??"",fileType:((C=(j=e==null?void 0:e.edges)==null?void 0:j.file)==null?void 0:C.type)??0}),i.jsx(xe,{variant:"inherit",children:i.jsx(te,{href:"#/",onClick:b,underline:"hover",children:(A=(P=e==null?void 0:e.edges)==null?void 0:P.file)==null?void 0:A.name})})]}):i.jsx("em",{children:c("share.deleted")})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:(e==null?void 0:e.views)??0})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:(e==null?void 0:e.downloads)??0})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:e==null?void 0:e.price})}),i.jsx(ve,{children:i.jsx(Vb,{expires:e==null?void 0:e.expires,remain_downloads:e==null?void 0:e.remain_downloads})}),i.jsx(M,{children:((T=e==null?void 0:e.edges)==null?void 0:T.user)&&i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(vr,{sx:{width:24,height:24},overwriteTextSize:!0,user:{id:(e==null?void 0:e.user_hash_id)??"",nickname:((E=(k=e==null?void 0:e.edges)==null?void 0:k.user)==null?void 0:E.nick)??"",created_at:((B=(z=e==null?void 0:e.edges)==null?void 0:z.user)==null?void 0:B.created_at)??""}}),i.jsx(xe,{variant:"inherit",children:i.jsx(te,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onClick:v,underline:"hover",href:"#/",children:(U=(F=e==null?void 0:e.edges)==null?void 0:F.user)==null?void 0:U.nick})})]})}),i.jsx(M,{children:i.jsx(gr,{datetime:(e==null?void 0:e.created_at)??"",variant:"inherit",timeAgoThreshold:0})}),i.jsx(M,{children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(it,{size:"small",onClick:_,disabled:h||r,children:i.jsx(sl,{fontSize:"small"})}),i.jsx(it,{size:"small",onClick:m,disabled:h||r,children:i.jsx($r,{fontSize:"small"})})]})})]},e==null?void 0:e.id)},VF="user",HF="file",N9=()=>{const{t:e}=V("dashboard"),t=Xe(),r=Wt(t.breakpoints.down("sm")),n=ge(),[a,o]=g.useState(!0),[s,l]=g.useState([]),[u,c]=Oe(bn,{defaultValue:"1"}),[d,h]=Oe(jn,{defaultValue:"10"}),[f,p]=Oe(_n,{defaultValue:""}),[m,x]=Oe(wn,{defaultValue:"desc"}),[v,b]=Oe(VF,{defaultValue:""}),[_,w]=Oe(HF,{defaultValue:""}),[S,y]=g.useState(0),[j,C]=g.useState([]),P=ri({variant:"popover",popupId:"shareFilterPopover"}),[A,T]=g.useState(!1),[k,E]=g.useState(void 0),[z,B]=g.useState(void 0),[F,U]=g.useState(!1),[R,H]=g.useState(void 0),[X,ee]=g.useState(!1),[ue,J]=g.useState(!1),le=parseInt(u)??1,Pe=parseInt(d)??10,Le=g.useCallback(()=>{b(""),w("")},[b,w]);g.useEffect(()=>{$e()},[u,d,f,m,v,_]);const $e=()=>{o(!0),C([]),n(Hb({page:le,page_size:Pe,order_by:f??"",order_direction:m??"desc",conditions:{share_file_id:_,share_user_id:v}})).then(se=>{l(se.shares),h(se.pagination.page_size.toString()),y(se.pagination.total_items??0),o(!1)}).finally(()=>{o(!1)})},Ye=()=>{J(!0),n(Tr(e("share.confirmBatchDelete",{num:j.length}))).then(()=>{n(ax({ids:Array.from(j)})).then(()=>{$e()}).finally(()=>{J(!1)}),J(!1)}).finally(()=>{J(!1)})},Ue=q=>{if(q.target.checked){const se=s.map(Fe=>Fe.id);C(se);return}C([])},Q=g.useCallback(q=>{const se=j.indexOf(q);let Fe=[];se===-1?Fe=Fe.concat(j,q):se===0?Fe=Fe.concat(j.slice(1)):se===j.length-1?Fe=Fe.concat(j.slice(0,-1)):se>0&&(Fe=Fe.concat(j.slice(0,se),j.slice(se+1))),C(Fe)},[j]),oe=f==="id"||f==="",ae=m,G=q=>()=>{const se=f===q||q==="id"&&oe;p(q),x(se&&ae==="asc"?"desc":"asc")},pe=g.useMemo(()=>!!(v||_),[v,_]),fe=q=>{E(q),T(!0)},Ae=q=>{B(q),U(!0)},Y=q=>{H(q),ee(!0)};return i.jsxs(Xt,{children:[i.jsx(Mr,{open:A,onClose:()=>T(!1),userID:k}),i.jsx(fl,{open:F,onClose:()=>U(!1),fileID:z}),i.jsx(qF,{open:X,onClose:()=>ee(!1),shareID:R}),i.jsxs(Gt,{maxWidth:"xl",children:[i.jsx(Yt,{title:e("dashboard:nav.shares")}),i.jsxs(ce,{direction:"row",spacing:1,sx:{mb:2},children:[i.jsx(UF,{...bo(P),user:v,setUser:b,file:_,setFile:w,clearFilters:Le}),i.jsx(Te,{onClick:$e,disabled:a,variant:"contained",startIcon:i.jsx(qr,{}),children:e("node.refresh")}),i.jsx(Yn,{color:"primary",variant:"dot",invisible:!pe,children:i.jsx(Te,{startIcon:i.jsx(_o,{}),variant:"contained",...ni(P),children:e("user.filter")})}),j.length>0&&!r&&i.jsxs(i.Fragment,{children:[i.jsx(bt,{orientation:"vertical",flexItem:!0}),i.jsx(De,{startIcon:i.jsx(Dr,{}),variant:"contained",color:"error",onClick:Ye,children:e("share.deleteXShares",{num:j.length})})]})]}),r&&j.length>0&&i.jsx(ce,{direction:"row",spacing:1,sx:{mb:2},children:i.jsx(De,{startIcon:i.jsx(Dr,{}),variant:"contained",color:"error",onClick:Ye,children:e("share.deleteXShares",{num:j.length})})}),i.jsx(pt,{component:Ct,sx:{mt:2},children:i.jsxs(gt,{size:"small",stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed"},children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(ve,{padding:"checkbox",sx:{width:"36px!important"},width:50,children:i.jsx(lt,{size:"small",indeterminate:j.length>0&&j.length<s.length,checked:s.length>0&&j.length===s.length,onChange:Ue})}),i.jsx(M,{width:80,children:i.jsx(ht,{active:oe,direction:oe?ae:"asc",onClick:G("id"),children:e("group.#")})}),i.jsx(M,{width:400,children:e("share.srcFileName")}),i.jsx(M,{width:100,children:i.jsx(ht,{active:f==="views",direction:f==="views"?ae:"asc",onClick:G("views"),children:e("share.views")})}),i.jsx(M,{width:100,children:i.jsx(ht,{active:f==="downloads",direction:f==="downloads"?ae:"asc",onClick:G("downloads"),children:e("share.downloads")})}),i.jsx(M,{width:100,children:i.jsx(ht,{active:f==="price",direction:f==="price"?ae:"asc",onClick:G("price"),children:e("share.price")})}),i.jsx(M,{width:150,children:e("share.autoExpire")}),i.jsx(M,{width:150,children:e("share.owner")}),i.jsx(M,{width:180,children:i.jsx(ht,{active:f==="created_at",direction:f==="created_at"?ae:"asc",onClick:G("created_at"),children:e("share.createdAt")})}),i.jsx(M,{width:80})]})}),i.jsxs(xt,{children:[!a&&s.map(q=>i.jsx(Dc,{deleting:ue,share:q,onDelete:$e,selected:j.indexOf(q.id)!==-1,onSelect:Q,openUserDialog:fe,openFileDialog:Ae,onDetails:Y},q.id)),a&&s.length>0&&s.slice(0,10).map(q=>i.jsx(Dc,{loading:!0},`loading-${q.id}`)),a&&s.length===0&&Array.from(Array(10)).map((q,se)=>i.jsx(Dc,{loading:!0},`loading-${se}`))]})]})}),S>0&&i.jsx($,{sx:{mt:1},children:i.jsx(sn,{page:le,totalItems:S,rowsPerPage:Pe,rowsPerPageOptions:[10,25,50,100,200,500],onRowsPerPageChange:q=>h(q.toString()),onChange:(q,se)=>c(se.toString())})})]})]})},fd={id:0,type:he.local,name:"",edges:{}},An=g.createContext({values:{...fd},setPolicy:()=>{}}),KF=({policyID:e,children:t,onPolicyChange:r})=>{var v;const n=ge();V("dashboard");const[a,o]=g.useState({...fd}),[s,l]=g.useState({...fd}),[u,c]=g.useState(!0),[d,h]=g.useState(!1),f=g.useRef(null),p=g.useMemo(()=>JSON.stringify(s)!==JSON.stringify(a),[s,a]);g.useEffect(()=>{c(!0),n(zm(e)).then(b=>{o(b),l(b),r(b)}).finally(()=>{c(!1)})},[e]);const m=()=>{l(a)},x=()=>{if(f.current&&!f.current.checkValidity()){f.current.reportValidity();return}h(!0),n(Nm({policy:{...s,edges:{}}})).then(b=>{o(b),l(b),r(b)}).finally(()=>{h(!1)})};return i.jsx(An.Provider,{value:{values:s,setPolicy:l,formRef:f},children:i.jsx(ir,{children:i.jsx(ar,{addEndListener:(b,_)=>b.addEventListener("transitionend",_,!1),classNames:"fade",children:i.jsxs($,{sx:{mt:3},children:[u&&i.jsx($,{sx:{pt:20,height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:i.jsx(_t,{})}),!u&&i.jsxs($,{children:[t,i.jsx(dl,{in:p,disabled:((v=s==null?void 0:s.settings)==null?void 0:v.od_driver)===L0,submitting:d,revert:m,submit:x})]})]})},`${u}`)})})},GF=({open:e,onClose:t,onConfirm:r,initialAppId:n="",initialAppSecret:a=""})=>{const{t:o}=V("dashboard"),s=ge(),[l,u]=g.useState(!1),[c,d]=g.useState(""),[h,f]=g.useState(n),[p,m]=g.useState(a),x=window.location.protocol==="https:";g.useEffect(()=>{e&&(u(!0),s(Km()).then(b=>{d(b),u(!1)}))},[e,s]);const v=()=>{r(h,p),t()};return i.jsxs(ft,{title:o("policy.authorizeOneDrive"),dialogProps:{open:e,onClose:t,maxWidth:"sm",fullWidth:!0},children:[i.jsx(wt,{children:i.jsxs(ce,{spacing:3,sx:{mt:1},children:[i.jsx(L,{variant:"body2",gutterBottom:!0,children:o("policy.authorizeOneDriveDes")}),i.jsxs($,{children:[i.jsx(L,{variant:"subtitle2",gutterBottom:!0,children:o("policy.redirectUrl")}),i.jsx(L,{component:"div",variant:"body2",color:"textPrimary",children:c}),i.jsx(L,{component:"div",variant:"caption",color:"textSecondary",children:o("policy.redirectUrlDes")})]}),i.jsxs($,{children:[i.jsx(L,{variant:"subtitle2",gutterBottom:!0,children:o("policy.aadAppID")}),i.jsx(N,{fullWidth:!0,required:!0,value:h,onChange:b=>f(b.target.value)}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.aadAppIDDes",ns:"dashboard",components:[i.jsx(ie,{}),i.jsx(ie,{})]})})]}),i.jsxs($,{children:[i.jsx(L,{variant:"subtitle2",gutterBottom:!0,children:o("policy.aadAppSecret")}),i.jsx(N,{fullWidth:!0,required:!0,value:p,onChange:b=>m(b.target.value)}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.addAppSecretDes",ns:"dashboard",components:[i.jsx(ie,{}),i.jsx(ie,{}),i.jsx(ie,{})]})})]}),!x&&i.jsx(tn,{severity:"warning",children:o("policy.httpsRequired")})]})}),i.jsxs(ol,{children:[i.jsx(De,{onClick:t,children:o("common:cancel")}),i.jsx(De,{variant:"contained",color:"primary",onClick:v,disabled:!h||!p,children:o("policy.authorizeMicrosoft")})]})]})},XF=()=>{const{t:e}=V("dashboard"),{values:t,setPolicy:r}=g.useContext(An),n=ge(),[a,o]=g.useState(void 0),[s,l]=g.useState(!1),[u,c]=g.useState(!1),[d,h]=g.useState(!1);g.useEffect(()=>{if(!t.access_key){o({valid:!1,last_refresh_time:""});return}l(!0),n(Kb(t.id.toString())).then(v=>{o(v)}).finally(()=>{l(!1)})},[t.id,t.secret_key]);const f=!s&&a&&!!a.last_refresh_time,p=()=>{h(!0)},m=()=>{h(!1)},x=(v,b)=>{c(!0),n(Gb({id:t.id,secret:b,app_id:v})).then(_=>{window.location.href=_}).catch(()=>{c(!1)})};return i.jsxs($,{sx:{mt:1},children:[s&&i.jsx(_t,{size:30}),!s&&i.jsxs(i.Fragment,{children:[!f&&i.jsxs(L,{variant:"body2",color:"warning",sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(ix,{}),e("policy.notGranted")]}),f&&i.jsxs(L,{variant:"body2",color:"success",sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(cx,{}),i.jsx(Z,{i18nKey:"policy.granted",ns:"dashboard",components:[i.jsx(gr,{datetime:a.last_refresh_time,variant:"inherit"})]})]}),i.jsx(Te,{sx:{mt:1},variant:"contained",onClick:p,loading:u,children:e(f?"policy.authorizeAgain":"policy.authorizeNow")})]}),i.jsx(GF,{open:d,onClose:m,onConfirm:x,initialAppId:t.bucket_name,initialAppSecret:t.secret_key})]})},L0="sharepoint_pending",YF=()=>{var ee,ue,J,le,Pe,Le,$e,Ye,Ue,Q,oe,ae,G,pe,fe,Ae;const{t:e}=V("dashboard"),{values:t,setPolicy:r}=g.useContext(An),[n,a]=g.useState(!1),{enqueueSnackbar:o}=St(),s=ge(),l=g.useMemo(()=>{var Y;return(Y=t.settings)!=null&&Y.od_driver&&t.settings.od_driver!=="me/drive"?t.settings.od_driver:""},[(ee=t.settings)==null?void 0:ee.od_driver]),[u,c]=g.useState(l),[d,h]=g.useState(!1),f=g.useCallback(Y=>{r(q=>({...q,name:Y.target.value}))},[r]),p=g.useCallback(Y=>{r(q=>({...q,node_id:Y>0?Y:void 0}))},[r]),m=g.useCallback(Y=>{r(q=>({...q,bucket_name:Y.target.value}))},[r]),x=g.useMemo(()=>t.type===he.oss||t.type===he.cos||t.type===he.obs||t.type===he.qiniu||t.type===he.s3||t.type===he.upyun,[t.type]),v=g.useMemo(()=>t.type===he.cos||t.type===he.obs||t.type===he.s3,[t.type]),b=g.useMemo(()=>t.type===he.oss||t.type===he.cos||t.type===he.obs||t.type===he.s3,[t.type]),_=g.useMemo(()=>nr[t.type],[t.type]),w=g.useCallback(Y=>{r(q=>({...q,is_private:Y?!0:void 0}))},[r]),S=g.useCallback(Y=>{r(q=>({...q,server:Y.target.value}))},[r]),y=g.useCallback(Y=>{r(q=>({...q,settings:{...q.settings,server_side_endpoint:Y.target.value?Y.target.value:void 0}}))},[r]),j=g.useCallback(Y=>{r(q=>({...q,settings:{...q.settings,use_cname:Y.target.checked?!0:void 0}}))},[r]),C=g.useCallback(Y=>{r(q=>({...q,access_key:Y.target.value}))},[r]),P=g.useCallback(Y=>{r(q=>({...q,secret_key:Y.target.value}))},[r]),A=g.useCallback(Y=>{r(q=>({...q,settings:{...q.settings,s3_path_style:Y.target.checked?!0:void 0}}))},[r]),T=g.useCallback(Y=>{r(q=>({...q,settings:{...q.settings,region:Y.target.value}}))},[r]),k=g.useCallback(Y=>{r(q=>({...q,settings:{...q.settings,s3_delete_batch_size:parseInt(Y.target.value)?parseInt(Y.target.value):void 0}}))},[r]),E=g.useCallback(Y=>{r(q=>({...q,server:Y}))},[r]),z=g.useCallback(Y=>{Y.target.value==="default"?r(se=>({...se,settings:{...se.settings,od_driver:"me/drive"}})):(c(""),r(se=>({...se,settings:{...se.settings,od_driver:L0}})))},[r,c]),B=g.useCallback(Y=>{c(Y.target.value)},[]),F=g.useCallback(()=>{!u||u.startsWith("sites/")||(h(!0),s(Xb(t.id,u)).then(Y=>{r(q=>({...q,settings:{...q.settings,od_driver:Y}})),c(Y)}).finally(()=>{h(!1)}))},[u,r]),U=g.useCallback(()=>{a(!0),s(vo({policy:t})).then(()=>{o(e("policy.corsPolicyAdded"),{variant:"success",action:st})}).finally(()=>{a(!1)})},[s,t,e]),R=g.useCallback(Y=>{r(q=>({...q,settings:{...q.settings,tps_limit:parseFloat(Y.target.value)?parseFloat(Y.target.value):void 0}}))},[r]),H=g.useCallback(Y=>{r(q=>({...q,settings:{...q.settings,tps_limit_burst:parseInt(Y.target.value)?parseInt(Y.target.value):void 0}}))},[r]),X=g.useCallback(Y=>{r(q=>({...q,settings:{...q.settings,token:Y.target.value?Y.target.value:void 0}}))},[r]);return i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("policy.basicInfo")}),i.jsxs(Me,{children:[i.jsx(O,{title:e("policy.name"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,value:t.name,onChange:f}),i.jsx(D,{children:e("policy.policyName")})]})}),x&&i.jsxs(i.Fragment,{children:[i.jsxs(O,{title:e(_.bucketName??""),lgWidth:5,children:[i.jsx(N,{fullWidth:!0,required:!0,value:t.bucket_name,onChange:m}),i.jsx(D,{children:_.bucketNameDes})]}),i.jsx(O,{title:e(_.bucketType??""),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(ii,{phraseVariant:t.type,value:t.is_private??!1,onChange:w}),i.jsx(D,{children:e("policy.bucketTypeDes")})]})}),t.type===he.upyun&&i.jsx(et,{in:t.is_private,children:i.jsxs(O,{title:e("policy.upyunTokenSecret"),lgWidth:5,children:[i.jsx(N,{fullWidth:!0,required:!0,value:(ue=t.settings)==null?void 0:ue.token,onChange:X}),i.jsx(D,{children:e("policy.upyunTokenSecretDes")})]})}),v&&i.jsxs(O,{title:e(_.endpointName??""),lgWidth:5,children:[i.jsx(Er,{fullWidth:!0,enforceProtocol:!0,required:!0,value:t.server,onChange:S,variant:"outlined",enforcePrefix:!_.endpointNotEnforcePrefix}),i.jsx(D,{children:_.endpointDes}),t.type==he.obs&&i.jsxs(i.Fragment,{children:[i.jsx(be,{slotProps:{typography:{variant:"body2"}},control:i.jsx(lt,{size:"small",checked:((J=t.settings)==null?void 0:J.use_cname)??!1,onChange:j}),label:e("policy.thisIsACustomDomain")}),i.jsx(D,{children:e("policy.thisIsACustomDomainDes")})]}),t.type===he.s3&&i.jsxs(i.Fragment,{children:[i.jsx(be,{sx:{mt:1,mb:-1},slotProps:{typography:{variant:"body2"}},control:i.jsx(lt,{size:"small",checked:((le=t.settings)==null?void 0:le.s3_path_style)??!1,onChange:A}),label:e("policy.usePathEndpoint")}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.s3EndpointPathStyle",ns:"dashboard",components:[i.jsx(ie,{})]})})]})]}),t.type===he.oss&&i.jsxs(i.Fragment,{children:[i.jsxs(O,{title:e("policy.endpoint"),lgWidth:5,children:[i.jsx(N,{fullWidth:!0,required:!0,value:t.server,onChange:S}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.ossEndpointDes",ns:"dashboard",components:[i.jsx(ie,{}),i.jsx(ie,{}),i.jsx(ie,{})]})}),i.jsx(be,{sx:{mt:1,mb:-1},slotProps:{typography:{variant:"body2"}},control:i.jsx(lt,{size:"small",checked:((Pe=t.settings)==null?void 0:Pe.use_cname)??!1,onChange:j}),label:e("policy.thisIsACustomDomain")}),i.jsx(D,{children:e("policy.thisIsACustomDomainDes")})]}),i.jsxs(O,{title:e("policy.intranetEndPoint"),lgWidth:5,children:[i.jsx(N,{fullWidth:!0,value:(Le=t.settings)==null?void 0:Le.server_side_endpoint,onChange:y}),i.jsx(D,{children:e("policy.ossLANEndpointDes")})]})]}),t.type==he.s3&&i.jsxs(O,{title:e("policy.s3Region"),lgWidth:5,children:[i.jsx(N,{fullWidth:!0,required:!0,value:($e=t.settings)==null?void 0:$e.region,onChange:T}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.selectRegionDes",ns:"dashboard",components:[i.jsx(ie,{})]})})]}),i.jsx(O,{title:e("policy.accessCredential"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{placeholder:e(_.akName??""),fullWidth:!0,required:!0,value:t.access_key,onChange:C}),i.jsx(N,{placeholder:e(_.skName??""),sx:{mt:1},fullWidth:!0,required:!0,value:t.secret_key,onChange:P}),i.jsx(D,{children:_.credentialDes})]})})]}),t.type===he.remote&&i.jsxs(O,{title:e("policy.node"),lgWidth:5,children:[i.jsx(xx,{fullWidth:!0,required:!0,value:t.node_id??0,onChange:p}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.nodeDes",ns:"dashboard",components:[i.jsx(te,{component:Rt,to:"/admin/node"})]})})]}),b&&i.jsxs(O,{title:e("policy.corsSettingStep"),lgWidth:5,children:[i.jsxs(I,{fullWidth:!0,children:[i.jsx(wo,{exposedHeaders:_.corsExposedHeaders}),i.jsx(D,{children:e("policy.ossCORSDes")})]}),i.jsx(Te,{loading:n,variant:"contained",color:"primary",sx:{mt:1},onClick:U,children:e("policy.letCloudreveHelpMe")})]}),t.type===he.s3&&i.jsxs(O,{title:e("policy.batchDeleteSize"),lgWidth:5,children:[i.jsx(N,{fullWidth:!0,slotProps:{htmlInput:{min:0}},value:(Ye=t.settings)==null?void 0:Ye.s3_delete_batch_size,onChange:k,type:"number"}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.batchDeleteSizeDes",ns:"dashboard",components:[i.jsx(ie,{})]})})]}),t.type==he.onedrive&&i.jsxs(i.Fragment,{children:[i.jsxs(O,{title:e("policy.aadAccountCloud"),lgWidth:5,children:[i.jsx(mx,{fullWidth:!0,value:t.server??"",required:!0,onChange:E}),i.jsx(D,{children:e("policy.aadAccountCloudDes")})]}),i.jsx(O,{title:e("policy.grantAccess"),lgWidth:5,children:i.jsx(XF,{})}),i.jsxs(O,{title:e("policy.driverRoot"),lgWidth:5,children:[i.jsxs(I,{fullWidth:!0,children:[i.jsxs(Ze,{value:((Ue=t.settings)==null?void 0:Ue.od_driver)===void 0||((Q=t.settings)==null?void 0:Q.od_driver)===""||((oe=t.settings)==null?void 0:oe.od_driver)==="me/drive"?"default":"sharepoint",onChange:z,children:[i.jsx(ke,{value:"default",children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:e("policy.saveToDefaultOneDrive")})}),i.jsx(ke,{value:"sharepoint",children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:e("policy.saveToSharePoint")})})]}),i.jsx(D,{children:e("policy.driverRootDes")})]}),i.jsx(et,{in:((ae=t.settings)==null?void 0:ae.od_driver)!==void 0&&((G=t.settings)==null?void 0:G.od_driver)!==""&&((pe=t.settings)==null?void 0:pe.od_driver)!=="me/drive",children:i.jsxs(I,{fullWidth:!0,sx:{mt:2},children:[i.jsx(N,{fullWidth:!0,placeholder:"https://example.sharepoint.com/sites/yoursite",value:u,onChange:B,onBlur:F,disabled:d,slotProps:{input:{endAdornment:d?i.jsx(ns,{size:20,color:"inherit"}):null}}}),i.jsx(D,{children:e("policy.sharePointUrlDes")})]})})]}),i.jsx(O,{title:e("policy.limitOdTPSDes"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{placeholder:e("policy.tps"),slotProps:{htmlInput:{min:0,step:.1}},fullWidth:!0,value:(fe=t.settings)==null?void 0:fe.tps_limit,onChange:R}),i.jsx(D,{children:e("policy.tpsDes")}),i.jsx(N,{sx:{mt:1},placeholder:e("policy.tpsBurst"),slotProps:{htmlInput:{min:0,step:.1}},fullWidth:!0,value:(Ae=t.settings)==null?void 0:Ae.tps_limit_burst,onChange:H}),i.jsx(D,{children:e("policy.tpsBurstDes")})]})})]})]})]})};function JF(e){return i.jsx(ct,{...e,children:i.jsx("path",{d:"M8.904 16.5h6.192C14.476 19.773 13.235 22 12 22c-1.197 0-2.4-2.094-3.038-5.204zh6.192zm-5.838.001h4.306c.364 2.082.983 3.854 1.792 5.093a10.029 10.029 0 0 1-5.952-4.814zm13.563 0h4.305a10.028 10.028 0 0 1-6.097 5.093c.755-1.158 1.344-2.778 1.715-4.681zh4.305zm.302-6.5h4.87a10.047 10.047 0 0 1-.257 5H16.84a28.676 28.676 0 0 0 .13-4.344zh4.87zM2.2 10h4.87a28.211 28.211 0 0 0 .033 4.42l.057.58H2.456a10.047 10.047 0 0 1-.258-5m6.377 0h6.849a25.838 25.838 0 0 1-.037 4.425l-.062.575H8.674a25.987 25.987 0 0 1-.132-4.512zh6.849zm6.368-7.424l-.108-.17A10.027 10.027 0 0 1 21.373 8.5h-4.59c-.316-2.416-.957-4.492-1.838-5.923l-.108-.17zm-5.902-.133l.122-.037c-.88 1.351-1.535 3.33-1.883 5.654l-.062.44H2.63a10.028 10.028 0 0 1 6.413-6.057l.122-.037zM12 2.002c1.319 0 2.646 2.542 3.214 6.183l.047.315H8.739C9.28 4.691 10.644 2.002 12 2.002"})})}const QF=g.forwardRef(({type:e,size:t=40,storageNodeTitle:r,proxyNodeTitle:n,variant:a},o)=>{const{t:s}=V("dashboard"),l=Xe(),u=Wt(l.breakpoints.down("sm")),c=g.useMemo(()=>{switch(e){case"cloudreve":return i.jsx(tx,{sx:{width:t,height:t,color:h=>h.palette.action.active}});case"proxy":return i.jsx(JF,{sx:{width:t,height:t,color:h=>h.palette.action.active}});case"storage_node":case"storage_node_internal":return i.jsx(bj,{sx:{width:t,height:t,color:h=>h.palette.action.active}});case"user":return i.jsx(Qb,{sx:{width:t,height:t,color:h=>h.palette.action.active}});case"wopi":return i.jsx(Jb,{sx:{width:t,height:t,color:h=>h.palette.action.active}});case"arrow":return i.jsx(Yb,{sx:{width:t-10,mx:1,height:t-10,color:h=>h.palette.action.disabled,transform:a=="upload"?u?"rotate(-90deg)":"rotate(180deg)":u?"rotate(90deg)":"rotate(0deg)"}})}},[e,u]),d=g.useMemo(()=>{switch(e){case"cloudreve":return"Cloudreve";case"proxy":return n??s("policy.customProxy");case"storage_node":return r??s("policy.storageNode");case"storage_node_internal":return s("policy.storageNodeInternal");case"user":return s("nav.users");case"wopi":return s("settings.wopiViewer")}},[e]);return i.jsxs($,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1},ref:o,children:[c,d&&i.jsx(xe,{color:"text.secondary",variant:"body2",children:d})]})}),B0=({variant:e,cdn:t,proxyed:r,internalEndpoint:n,storageNodeTitle:a,proxyNodeTitle:o})=>{const{t:s}=V("dashboard"),l=Xe(),u=Wt(l.breakpoints.down("sm")),[c,d]=g.useState("web"),h=g.useMemo(()=>{const f=[];c=="wopi"?f.push("wopi"):f.push("user"),e=="upload"?(r||c=="dav"||c=="web_edit")&&f.push("cloudreve"):((r||c=="wopi")&&f.push("cloudreve"),t&&f.push("proxy")),e=="upload"&&n&&(c=="dav"||c=="web_edit"||r)||e=="download"&&n&&(c=="wopi"||r)&&!t?f.push("storage_node_internal"):f.push("storage_node");const p=[];for(const m of f)p.push(m),p.push("arrow");return p.slice(0,-1)},[r,c,t,e,n]);return i.jsxs(is,{sx:{overflow:"auto"},children:[i.jsxs(Ze,{variant:"filled",value:c,onChange:f=>d(f.target.value),children:[i.jsx(ke,{value:"web",children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:s("policy.sourceWeb")})}),i.jsx(ke,{value:"dav",children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:s("policy.sourceDav")})}),e=="upload"&&i.jsx(ke,{value:"web_edit",children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:s("policy.sourceWebEdit")})}),e=="download"&&i.jsx(ke,{value:"wopi",children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:s("settings.wopiViewer")})})]}),i.jsx($,{sx:{mt:2,display:"flex",justifyContent:"safe center",alignItems:"center",flexDirection:u?"column":"row",gap:2},children:h.map(f=>i.jsx(QF,{variant:e,type:f,storageNodeTitle:a,proxyNodeTitle:o}))})]})},ZF=()=>{var u,c,d,h,f,p,m,x,v;const{t:e}=V("dashboard"),{values:t,setPolicy:r}=g.useContext(An),n=g.useCallback(b=>{r(_=>({..._,settings:{..._.settings,custom_proxy:b.target.checked?!0:void 0}}))},[r]),a=g.useCallback(b=>{r(_=>({..._,settings:{..._.settings,proxy_server:b.target.value}}))},[r]),o=g.useCallback(b=>{r(_=>({..._,settings:{..._.settings,internal_proxy:b.target.checked?!0:void 0}}))},[r]),s=g.useCallback(b=>{r(_=>({..._,settings:{..._.settings,stream_saver:b.target.checked?!0:void 0}}))},[r]),l=g.useCallback(b=>{r(_=>({..._,settings:{..._.settings,source_auth:b.target.checked?!0:void 0}}))},[r]);return i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("policy.download")}),i.jsxs(Me,{children:[i.jsx(O,{title:e("policy.downloadCdn"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{slotProps:{typography:{variant:"body2"}},control:i.jsx(lt,{disabled:t.type===he.upyun||t.type===he.qiniu,size:"small",checked:((u=t.settings)==null?void 0:u.custom_proxy)??!1,onChange:n}),label:e("policy.useDownloadCdn")}),i.jsx(et,{in:(c=t.settings)==null?void 0:c.custom_proxy,unmountOnExit:!0,children:i.jsxs($,{children:[i.jsx(Er,{fullWidth:!0,required:!0,enforceProtocol:!0,variant:"outlined",value:((d=t.settings)==null?void 0:d.proxy_server)??"",onChange:a}),i.jsx(D,{children:e("policy.downloadCdnDes")}),t.type==he.cos&&t.is_private&&i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{slotProps:{typography:{variant:"body2"}},control:i.jsx(lt,{size:"small",checked:((h=t.settings)==null?void 0:h.source_auth)??!1,onChange:l}),label:e("policy.skipSign")}),i.jsx(D,{children:e("policy.skipSignDes")})]})]})})]})}),t.type!==he.local&&i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:((f=t.settings)==null?void 0:f.internal_proxy)??!1,onChange:o}),label:e("policy.downloadRelay")}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.downloadRelayDes",ns:"dashboard"})})]})}),t.type===he.onedrive&&i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:((p=t.settings)==null?void 0:p.stream_saver)??!1,onChange:s}),label:e("policy.streamSaver")}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.streamSaverDes",ns:"dashboard"})})]})}),t.type!==he.local&&i.jsx(O,{lgWidth:5,title:e("policy.downloadTrafficDiagram"),children:i.jsx(B0,{variant:"download",internalEndpoint:!!((m=t.settings)!=null&&m.server_side_endpoint),cdn:(x=t.settings)==null?void 0:x.custom_proxy,proxyed:(v=t.settings)==null?void 0:v.internal_proxy,proxyNodeTitle:t.type===he.qiniu?e("policy.cdnOrCustomDomain"):void 0,storageNodeTitle:e("policy.node")})})]})]})},R0=[{name:"{randomkey16}",value:"policy.magicVar.16digitsRandomString",example:"a1b2c3d4e5f6g7h8"},{name:"{randomkey8}",value:"policy.magicVar.8digitsRandomString",example:"a1b2c3d4"},{name:"{timestamp}",value:"policy.magicVar.secondTimestamp",example:"1609459200"},{name:"{timestamp_nano}",value:"policy.magicVar.nanoTimestamp",example:"1609459200000000000"},{name:"{randomnum2}",value:"policy.magicVar.randomNumber",example:"0-1"},{name:"{randomnum3}",value:"policy.magicVar.randomNumber",example:"0-2"},{name:"{randomnum4}",value:"policy.magicVar.randomNumber",example:"0-3"},{name:"{randomnum8}",value:"policy.magicVar.randomNumber",example:"0-7"},{name:"{uid}",value:"policy.magicVar.uid",example:"1"},{name:"{datetime}",value:"policy.magicVar.dateAndTime",example:"20220101120000"},{name:"{date}",value:"policy.magicVar.date",example:"20220101"},{name:"{year}",value:"policy.magicVar.year",example:"2022"},{name:"{month}",value:"policy.magicVar.month",example:"01"},{name:"{day}",value:"policy.magicVar.day",example:"01"},{name:"{hour}",value:"policy.magicVar.hour",example:"12"},{name:"{minute}",value:"policy.magicVar.minute",example:"00"},{name:"{second}",value:"policy.magicVar.second",example:"00"}],e9=[...R0,{name:"{path}",value:"policy.magicVar.path",example:"/path/to/"}],t9=[...R0,{name:"{originname}",value:"policy.magicVar.originalFileName",example:"example.jpg"},{name:"{ext}",value:"policy.magicVar.extension",example:".jpg"},{name:"{originname_without_ext}",value:"policy.magicVar.originFileNameNoext",example:"example"},{name:"{uuid}",value:"policy.magicVar.uuidV4",example:"550e8400-e29b-41d4-a716-446655440000"}],r9=()=>{var l,u,c;const{t:e}=V("dashboard"),{values:t,setPolicy:r}=g.useContext(An),n=g.useMemo(()=>nr[t.type],[t.type]),a=g.useCallback(d=>{r(h=>({...h,settings:{...h.settings,media_meta_exts:d.target.value===""?void 0:d.target.value.split(",").map(f=>f.trim())}}))},[r]),o=g.useCallback(d=>{r(h=>({...h,settings:{...h.settings,media_meta_generator_proxy:d.target.checked?!0:void 0}}))},[r]),s=g.useMemo(()=>t.type===he.s3||t.type===he.onedrive,[t.type]);return t.type===he.local?null:i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings.extractMediaMeta")}),i.jsxs(Me,{children:[!s&&i.jsx(O,{title:i.jsx(Z,{i18nKey:"policy.nativeMediaMetaExts",ns:"dashboard",values:{name:e(n.nativeExtractorName??"")},components:[i.jsx("span",{})]}),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{multiline:!0,fullWidth:!0,value:(u=(l=t.settings)==null?void 0:l.media_meta_exts)==null?void 0:u.join(","),onChange:a}),i.jsxs(D,{children:[i.jsx(Z,{i18nKey:"policy.nativeMediaMetaExtsGeneralDes",values:{name:e(n.nativeExtractorName??"")},ns:"dashboard",components:n.nativeExtractorDoc?[i.jsx(te,{target:"_blank",href:n.nativeExtractorDoc})]:[]}),n.nativeExtractorDes&&i.jsx(Z,{i18nKey:n.nativeExtractorDes,ns:"dashboard",components:[i.jsx(te,{target:"_blank",href:n.nativeExtractorDesDoc})]})]})]})}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:((c=t.settings)==null?void 0:c.media_meta_generator_proxy)??!1,onChange:o}),label:e("policy.mediaExtractorProxy")}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.mediaExtractorProxyDes",ns:"dashboard",components:[i.jsx(te,{component:Rt,to:"/admin/settings?tab=mediaProcessing"})]})})]})})]})]})},n9=()=>{var w,S,y,j,C,P;const{t:e}=V("dashboard"),{values:t,setPolicy:r}=g.useContext(An),[n,a]=g.useState(!1),[o,s]=g.useState("path"),l=g.useMemo(()=>nr[t.type],[t.type]),u=g.useMemo(()=>t.type===he.local||t.type===he.remote,[t.type]),c=g.useCallback(A=>{r(T=>({...T,dir_name_rule:A.target.value}))},[r]),d=g.useCallback(A=>{r(T=>({...T,file_name_rule:A.target.value}))},[r]),h=g.useCallback(A=>{A.preventDefault(),s("path"),a(!0)},[]),f=g.useCallback(A=>{A.preventDefault(),s("file"),a(!0)},[]),p=g.useCallback(A=>{r(T=>({...T,max_size:A||void 0}))},[r]),m=g.useMemo(()=>{var A,T;return((T=(A=t.settings)==null?void 0:A.file_type)==null?void 0:T.join())??""},[(w=t.settings)==null?void 0:w.file_type]),x=g.useCallback(A=>{r(T=>({...T,settings:{...T.settings??{},file_type:A.target.value===""?void 0:A.target.value.split(",").map(k=>k.trim())}}))},[r]),v=g.useCallback(A=>{r(T=>({...T,settings:{...T.settings,chunk_size:A===0?void 0:A}}))},[r]),b=g.useCallback(A=>{r(T=>({...T,settings:{...T.settings,pre_allocate:A.target.checked?!0:void 0}}))},[r]),_=g.useCallback(A=>{r(T=>({...T,settings:{...T.settings,relay:A.target.checked?!0:void 0}}))},[r]);return i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("policy.storageAndUpload")}),i.jsxs(Me,{children:[i.jsx(O,{title:e("policy.blobFolderNaming"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,value:t.dir_name_rule,onChange:c}),i.jsxs(D,{children:[i.jsx(Z,{i18nKey:"policy.blobFolderNamingDes",ns:"dashboard",components:[i.jsx(te,{href:"#",onClick:h})]}),e("policy.nameRuleImmutable")]})]})}),i.jsx(O,{title:e("policy.blobName"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{required:!0,value:t.file_name_rule,slotProps:{htmlInput:{pattern:".*?(\\{randomkey8\\}|\\{randomkey16\\}|\\{uuid\\}).*?",title:e("policy.uniqueVarRequired")}},onChange:d}),i.jsxs(D,{children:[i.jsx(Z,{i18nKey:"policy.blobNameDes",ns:"dashboard",components:[i.jsx(te,{href:"#",onClick:f})]}),e("policy.nameRuleImmutable")]})]})}),i.jsx(O,{title:e("policy.maxSizeOfSingleFile"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(or,{variant:"outlined",required:!0,value:t.max_size??0,onChange:p}),i.jsx(D,{children:e("policy.maxSizeOfSingleFileDes")})]})}),i.jsx(O,{title:e("policy.extList"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{multiline:!0,maxRows:4,value:m,onChange:x}),i.jsx(D,{children:e("policy.enterFileExt")})]})}),t.type!==he.upyun&&i.jsx(O,{title:e("policy.chunkSize"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(or,{min:l.chunkSizeMin??0,max:l.chunkSizeMax??0,allowZero:!l.chunkSizeMin,variant:"outlined",value:((S=t.settings)==null?void 0:S.chunk_size)??0,onChange:v}),i.jsx(D,{children:e("policy.chunkSizeDesSuffix",{prefix:e(l.chunkSizeDes??"")})})]})}),u&&i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:((y=t.settings)==null?void 0:y.pre_allocate)??!1,onChange:b}),label:e("policy.preallocate")}),i.jsx(D,{children:e("policy.preallocateDes")})]})}),t.type!==he.local&&i.jsxs(i.Fragment,{children:[i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:((j=t.settings)==null?void 0:j.relay)??!1,onChange:_}),label:e("policy.uploadRelay")}),i.jsx(D,{children:e("policy.uploadRelayDes")})]})}),i.jsx(O,{title:e("policy.uploadTrafficDiagram"),lgWidth:5,children:i.jsx(B0,{internalEndpoint:!!((C=t.settings)!=null&&C.server_side_endpoint),variant:"upload",storageNodeTitle:e("policy.node"),proxyed:(P=t.settings)==null?void 0:P.relay})})]})]}),i.jsx(jd,{open:n,onClose:()=>a(!1),vars:o==="path"?e9:t9})]})},i9=()=>{var c,d,h,f,p,m;const{t:e}=V("dashboard"),{values:t,setPolicy:r}=g.useContext(An),n=g.useMemo(()=>nr[t.type],[t.type]),a=g.useMemo(()=>t.type===he.local||t.type===he.s3,[t.type]),o=g.useCallback(x=>{r(v=>({...v,settings:{...v.settings,thumb_exts:x.target.value===""?void 0:x.target.value.split(",").map(b=>b.trim())}}))},[r]),s=g.useCallback(x=>{r(v=>({...v,settings:{...v.settings,thumb_support_all_exts:x.target.checked?!0:void 0}}))},[r]),l=g.useCallback(x=>{r(v=>({...v,settings:{...v.settings,thumb_max_size:x===0?void 0:x}}))},[r]),u=g.useCallback(x=>{r(v=>({...v,settings:{...v.settings,thumb_generator_proxy:x.target.checked?!0:void 0}}))},[r]);return t.type===he.local?null:i.jsxs(Ne,{children:[i.jsx(L,{variant:"h6",gutterBottom:!0,children:e("settings.thumbnails")}),i.jsxs(Me,{children:[!a&&i.jsxs(i.Fragment,{children:[i.jsx(O,{title:e("policy.nativeThumbNails"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(N,{multiline:!0,fullWidth:!0,disabled:(c=t.settings)==null?void 0:c.thumb_support_all_exts,maxRows:4,value:(h=(d=t.settings)==null?void 0:d.thumb_exts)==null?void 0:h.join(","),onChange:o}),i.jsx(be,{slotProps:{typography:{variant:"body2"}},control:i.jsx(lt,{size:"small",checked:((f=t.settings)==null?void 0:f.thumb_support_all_exts)??!1,onChange:s}),label:e("policy.nativeThumbNailsSupportAllExts")}),i.jsxs(D,{children:[e("policy.nativeThumbNailsGeneralDes"),n.nativeThumbDes&&i.jsx(Z,{i18nKey:n.nativeThumbDes,ns:"dashboard",components:n.nativeThumbDoc?[i.jsx(te,{href:n.nativeThumbDoc,target:"_blank"})]:[]})]})]})}),i.jsx(O,{title:e("policy.nativeThumbnailMaxSize"),lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(or,{variant:"outlined",value:((p=t.settings)==null?void 0:p.thumb_max_size)??0,onChange:l}),i.jsx(D,{children:e("policy.nativeThumbnailMaxSizeDes")})]})})]}),i.jsx(O,{lgWidth:5,children:i.jsxs(I,{fullWidth:!0,children:[i.jsx(be,{control:i.jsx(Ee,{checked:((m=t.settings)==null?void 0:m.thumb_generator_proxy)??!1,onChange:u}),label:e("policy.thumbProxy")}),i.jsx(D,{children:i.jsx(Z,{i18nKey:"policy.thumbProxyDes",ns:"dashboard",components:[i.jsx(te,{component:Rt,to:"/admin/settings?tab=mediaProcessing"})]})})]})})]})]})},a9=()=>{var r,n;V("dashboard");const{formRef:e,values:t}=g.useContext(An);return i.jsxs($,{component:"form",ref:e,onSubmit:a=>a.preventDefault(),children:[!((n=(r=t.edges)==null?void 0:r.groups)!=null&&n.length)&&i.jsx(tn,{severity:"warning",sx:{mb:3},children:i.jsx(Z,{i18nKey:"policy.noBindedGroupWarning",ns:"dashboard",components:[i.jsx(te,{component:Rt,to:"/admin/group"})]})}),i.jsxs(ce,{spacing:5,children:[i.jsx(YF,{}),i.jsx(n9,{}),i.jsx(ZF,{}),i.jsx(i9,{}),i.jsx(r9,{})]})]})},z9=()=>{const{t:e}=V("dashboard"),{id:t}=xd(),[r,n]=g.useState("");return i.jsx(Xt,{children:i.jsxs(Gt,{maxWidth:"xl",children:[i.jsx(Yt,{title:e("policy.editX",{name:r})}),i.jsx(KF,{policyID:parseInt(t??"1")??1,onPolicyChange:a=>n(a.name),children:i.jsx(a9,{})})]})})},L9=()=>{const{t:e}=V("dashboard"),t=ge(),{enqueueSnackbar:r}=St(),n=xr(),a=Zb();return g.useEffect(()=>{const o=a.get("code"),s=a.get("state");o&&s?t(ej({code:o,state:s})).finally(()=>{n(`/admin/policy/${s}`)}):r(e("policy.oauthCallbackFailed"),{variant:"error",action:st})},[]),i.jsxs(Xt,{children:[i.jsx(Gt,{maxWidth:"xl",children:i.jsx(Yt,{title:e("dashboard:nav.storagePolicy")})}),i.jsx($,{sx:{pt:15,display:"flex",justifyContent:"center",alignItems:"center"},children:i.jsx(_t,{})})]})},F0=[Pt.relocate,Pt.create_archive,Pt.extract_archive,Pt.remote_download,Pt.import],Ec=(e,t)=>{const r=new Ym(e);return r.fs()==tj.my&&!r.id()&&r.setUsername(t),r.toString()},q0=(e,t)=>{var r,n,a;return(r=e.props)!=null&&r.src&&(e.props.src=Ec(e.props.src,t)),(n=e.props)!=null&&n.dst&&(e.props.dst=Ec(e.props.dst,t)),(a=e.props)!=null&&a.src_multiple&&(e.props.src_multiple=e.props.src_multiple.map(o=>Ec(o,t))),e},o9=g.memo(({task:e,openEntity:t})=>{var o;const{t:r}=V("dashboard");if(F0.includes(e.type??"")){const s=q0({...e.summary},(e==null?void 0:e.user_hash_id)??"");return i.jsx(L,{variant:"body2",children:i.jsx(uj,{type:((o=e.type)==null?void 0:o.toString())??"",summary:s,isInDashboard:!0})})}const n=g.useCallback(s=>l=>{l.preventDefault(),l.stopPropagation(),t&&t(s)},[t]),a=g.useMemo(()=>{var l,u,c;var s={};try{s=JSON.parse(e.private_state??"{}")}catch(d){console.error(d)}switch(e.type){case Pt.upload_sentinel_check:return r("task.uploadSentinelCheck",{uploadSessionID:(u=(l=s==null?void 0:s.session)==null?void 0:l.Props)==null?void 0:u.UploadSessionID});case Pt.media_metadata:return i.jsx(Z,{ns:"dashboard",values:{entityID:(s==null?void 0:s.entity_id)??0},i18nKey:"task.mediaMetadata",components:[i.jsx(te,{href:"#/",onClick:n((s==null?void 0:s.entity_id)??0)},0)]});case Pt.entity_recycle_routine:return r("task.entityRecycleRoutine");case Pt.explicit_entity_recycle:return r("task.explicitEntityRecycle",{blobs:(c=s==null?void 0:s.entity_ids)==null?void 0:c.map(d=>`#${d}`).join(", ")});default:return""}},[e,r]);return i.jsx(L,{variant:"body2",children:a})}),s9=({privateState:e})=>{var l;const{t}=V("dashboard"),[r,n]=g.useState(!1),[a,o]=g.useState(void 0),s=u=>c=>{c.stopPropagation(),c.preventDefault(),n(!0),o(u)};return i.jsxs(pt,{component:Ct,sx:{maxHeight:300},children:[i.jsx(pl,{open:r,onClose:()=>n(!1),entityID:a}),i.jsxs(gt,{sx:{width:"100%",tableLayout:"fixed"},size:"small",children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(ve,{width:70,children:t("task.blobID")}),i.jsx(ve,{width:60,children:t("task.retryIndex")}),i.jsx(ve,{width:400,children:t("common:error")})]})}),i.jsx(xt,{children:(l=e==null?void 0:e.errors)==null?void 0:l.map((u,c)=>[...u.map((d,h)=>[i.jsxs(je,{hover:!0,sx:{"&:last-child td, &:last-child th":{border:0}},children:[i.jsx(ve,{component:"th",scope:"row",children:i.jsx(L,{variant:"body2",color:"textSecondary",children:i.jsxs(te,{href:"#/",onClick:s(d.id),children:["#",d.id]})})}),i.jsx(ve,{component:"th",scope:"row",children:i.jsx(L,{variant:"body2",color:"textSecondary",children:c})}),i.jsx(ve,{component:"th",scope:"row",children:i.jsx(L,{variant:"body2",color:"textSecondary",children:d.error})})]},h)])])})]})]})};vd.extend(rj);const l9=g.lazy(()=>mn(()=>import("./MonacoEditor-BbzhZksg.js"),__vite__mapDeps([0,1,2,3,4,5]))),c9=({values:e})=>{var f,p,m,x,v,b,_,w,S,y,j,C,P,A,T,k,E,z,B,F,U,R;const t=Xe(),r=Wt(t.breakpoints.down("md")),{t:n}=V("dashboard"),[a,o]=g.useState(!1),[s,l]=g.useState(0),u=H=>{var X,ee;H.preventDefault(),o(!0),l(((ee=(X=e==null?void 0:e.edges)==null?void 0:X.user)==null?void 0:ee.id)??0)},c=g.useMemo(()=>q0({...e.summary},(e==null?void 0:e.user_hash_id)??""),[e]),d=g.useMemo(()=>{let H={};if(e.private_state)try{H=JSON.parse(e.private_state)}catch(X){console.error(X)}return H},[e]),h=g.useMemo(()=>F0.includes(e.type??""),[e]);return i.jsxs(i.Fragment,{children:[i.jsx(Mr,{open:a,onClose:()=>o(!1),userID:s}),i.jsx($,{children:i.jsxs(Bt,{container:!0,spacing:r?2:3,alignItems:"stretch",children:[i.jsx(O,{title:n("file.id"),noContainer:!0,lgWidth:2,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:e.id})}),i.jsx(O,{title:n("task.type"),noContainer:!0,lgWidth:2,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:n(`task.${e.type}`)})}),i.jsx(O,{title:n("task.status"),noContainer:!0,lgWidth:2,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:ux((e==null?void 0:e.status)??yi.queued,n)})}),i.jsx(O,{title:n("task.node"),noContainer:!0,lgWidth:2,children:i.jsx(xe,{variant:"body2",color:"textSecondary",children:(f=e==null?void 0:e.node)!=null&&f.name?i.jsx(te,{component:Rt,to:`/admin/node/${(p=e==null?void 0:e.node)==null?void 0:p.id}`,underline:"hover",children:(m=e==null?void 0:e.node)==null?void 0:m.name}):"-"})}),i.jsx(O,{title:n("file.creator"),noContainer:!0,lgWidth:4,children:i.jsx(xe,{variant:"body2",color:"textSecondary",children:(x=e==null?void 0:e.edges)!=null&&x.user?i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(vr,{sx:{width:24,height:24},overwriteTextSize:!0,user:{id:(e==null?void 0:e.user_hash_id)??"",nickname:((b=(v=e==null?void 0:e.edges)==null?void 0:v.user)==null?void 0:b.nick)??"",created_at:((w=(_=e==null?void 0:e.edges)==null?void 0:_.user)==null?void 0:w.created_at)??""}}),i.jsx(xe,{variant:"inherit",children:i.jsx(te,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onClick:u,underline:"hover",href:"#/",children:(y=(S=e==null?void 0:e.edges)==null?void 0:S.user)==null?void 0:y.nick})})]}):"-"})}),i.jsx(O,{title:n("user.createdAt"),noContainer:!0,lgWidth:4,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:i.jsx(gr,{datetime:(e==null?void 0:e.created_at)??"",variant:"inherit",timeAgoThreshold:0})})}),i.jsx(O,{title:n("task.updatedAt"),noContainer:!0,lgWidth:4,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:i.jsx(gr,{datetime:(e==null?void 0:e.updated_at)??"",variant:"inherit",timeAgoThreshold:0})})}),i.jsx(O,{title:n("event.correlationId"),noContainer:!0,lgWidth:4,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:(e==null?void 0:e.correlation_id)??"-"})}),i.jsx(O,{title:n("application:setting.executeDuration"),noContainer:!0,lgWidth:2,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:nj(vd.duration((((j=e==null?void 0:e.public_state)==null?void 0:j.executed_duration)??0)/1e6))})}),i.jsx(O,{title:n("application:setting.retryCount"),noContainer:!0,lgWidth:2,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:((C=e==null?void 0:e.public_state)==null?void 0:C.retry_count)??"-"})}),((P=c==null?void 0:c.props)==null?void 0:P.src)&&i.jsx(O,{title:n("application:setting.input"),noContainer:!0,lgWidth:4,children:i.jsx(es,{variant:"outlined",simplifiedFile:{path:c==null?void 0:c.props.src,type:Mn.file}})}),((A=c==null?void 0:c.props)==null?void 0:A.src_multiple)&&i.jsx(O,{title:n("application:setting.input"),noContainer:!0,lgWidth:4,children:i.jsx(ce,{spacing:.5,sx:{maxHeight:150,overflowY:"scroll"},children:c==null?void 0:c.props.src_multiple.map((H,X)=>i.jsx(es,{variant:"outlined",simplifiedFile:{path:H,type:Mn.file}},X))})}),((T=c==null?void 0:c.props)==null?void 0:T.dst)&&i.jsx(O,{title:n("application:setting.output"),noContainer:!0,lgWidth:4,children:i.jsx(es,{variant:"outlined",simplifiedFile:{path:c==null?void 0:c.props.dst,type:(e==null?void 0:e.type)==Pt.extract_archive?Mn.folder:Mn.file}})}),((k=e==null?void 0:e.public_state)==null?void 0:k.error)&&i.jsx(O,{title:n("task.errorMsg"),noContainer:!0,lgWidth:12,children:i.jsx(L,{variant:"body2",color:"textSecondary",children:(E=e==null?void 0:e.public_state)==null?void 0:E.error})}),((z=c==null?void 0:c.props)==null?void 0:z.download)&&i.jsx(O,{title:n("application:setting.fileList"),noContainer:!0,lgWidth:12,children:i.jsx(dj,{taskId:"",summary:c,readonly:!0})}),h&&i.jsx(O,{title:n("application:setting.taskProgress"),noContainer:!0,lgWidth:12,children:i.jsx(hj,{taskId:e.task_hash_id??"",taskStatus:((B=e.status)==null?void 0:B.toString())??"",taskType:e.type??"",summary:e.summary,node:e.node?{type:((F=e.node.type)==null?void 0:F.toString())??""}:void 0})}),((U=e==null?void 0:e.public_state)==null?void 0:U.error_history)&&i.jsx(O,{title:n("application:setting.retryErrorHistory"),noContainer:!0,lgWidth:12,children:i.jsx(pt,{component:Ct,children:i.jsxs(gt,{sx:{width:"100%"},size:"small",children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(ve,{children:"#"}),i.jsx(ve,{children:n("common:error")})]})}),i.jsx(xt,{children:(R=e==null?void 0:e.public_state)==null?void 0:R.error_history.map((H,X)=>i.jsxs(je,{hover:!0,sx:{"&:last-child td, &:last-child th":{border:0}},children:[i.jsx(ve,{component:"th",scope:"row",children:X+1}),i.jsx(ve,{children:H})]},X))})]})})}),e.type==Pt.entity_recycle_routine&&(d==null?void 0:d.errors)&&i.jsx(O,{title:n("task.entityError"),noContainer:!0,lgWidth:12,children:i.jsx(s9,{privateState:d})}),i.jsx(O,{title:n("event.rawContent"),noContainer:!0,lgWidth:12,children:i.jsx(g.Suspense,{fallback:i.jsx(_t,{}),children:i.jsx(l9,{theme:t.palette.mode==="dark"?"vs-dark":"vs",language:"json",value:JSON.stringify(e,null,4),height:"300px",minHeight:"300px",options:{wordWrap:"on",minimap:{enabled:!1},scrollBeyondLastLine:!1,readOnly:!0}})})})]})})]})},u9=({open:e,onClose:t,taskID:r})=>{const n=ge(),{t:a}=V("dashboard"),[o,s]=g.useState({edges:{},id:0}),[l,u]=g.useState(!0);return g.useEffect(()=>{!r||!e||(u(!0),n(ij(r)).then(c=>{s(c)}).catch(()=>{t()}).finally(()=>{u(!1)}))},[e]),i.jsx(ft,{title:a("task.taskDialogTitle"),dialogProps:{fullWidth:!0,maxWidth:"md",open:e,onClose:t},children:i.jsx(wt,{children:i.jsx(Qi,{children:i.jsx(ir,{children:i.jsx(ar,{addEndListener:(c,d)=>c.addEventListener("transitionend",d,!1),classNames:"fade",children:i.jsxs($,{children:[l&&i.jsx($,{sx:{py:15,height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:i.jsx(_t,{})}),!l&&i.jsx(c9,{values:o})]})},`${l}`)})})})})},d9=({status:e,setStatus:t,user:r,setUser:n,correlationID:a,setCorrelationID:o,type:s,setType:l,clearFilters:u,onClose:c,open:d,...h})=>{const{t:f}=V("dashboard"),[p,m]=g.useState(e),[x,v]=g.useState(r),[b,_]=g.useState(a),[w,S]=g.useState(s);g.useEffect(()=>{d&&(m(e),v(r),_(a),S(s))},[d]);const y=()=>{t(p),n(x),o(b),l(w),c==null||c({},"backdropClick")},j=()=>{m(""),v(""),_(""),S(""),u(),c==null||c({},"backdropClick")};return i.jsx(yo,{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},slotProps:{paper:{sx:{p:2,width:300,maxWidth:"100%"}}},onClose:c,open:d,...h,children:i.jsxs(ce,{spacing:2,children:[i.jsx(O,{title:f("event.userID"),noContainer:!0,lgWidth:12,children:i.jsx(N,{fullWidth:!0,value:x,onChange:C=>v(C.target.value),placeholder:f("user.emptyNoFilter"),size:"small"})}),i.jsx(O,{title:f("event.correlationId"),noContainer:!0,lgWidth:12,children:i.jsx(N,{fullWidth:!0,value:b,onChange:C=>_(C.target.value),placeholder:f("user.emptyNoFilter"),size:"small"})}),i.jsx(O,{title:f("task.type"),noContainer:!0,lgWidth:12,children:i.jsxs(Ze,{fullWidth:!0,displayEmpty:!0,value:w!=""?w:" ",onChange:C=>S(C.target.value===" "?"":C.target.value),children:[[Pt.create_archive,Pt.extract_archive,Pt.remote_download,Pt.media_metadata,Pt.entity_recycle_routine,Pt.explicit_entity_recycle,Pt.upload_sentinel_check,Pt.import].map(C=>i.jsx(ke,{value:C,children:i.jsx(we,{primary:f(`task.${C}`),slotProps:{primary:{variant:"body2"}}})},C)),i.jsx(ke,{value:" ",children:i.jsx(we,{primary:i.jsx("em",{children:f("user.all")}),slotProps:{primary:{variant:"body2"}}})})]})}),i.jsx(O,{title:f("task.status"),noContainer:!0,lgWidth:12,children:i.jsxs(Ze,{fullWidth:!0,displayEmpty:!0,value:p==""?" ":p,onChange:C=>m(C.target.value===" "?"":C.target.value),children:[[yi.queued,yi.processing,yi.suspending,yi.error,yi.completed].map(C=>i.jsx(ke,{value:C,children:i.jsx(we,{primary:ux(C,f),slotProps:{primary:{variant:"body2"}}})},C)),i.jsx(ke,{value:" ",children:i.jsx(we,{primary:i.jsx("em",{children:f("user.all")}),slotProps:{primary:{variant:"body2"}}})})]})}),i.jsxs($,{display:"flex",justifyContent:"space-between",children:[i.jsx(De,{variant:"outlined",size:"small",onClick:j,children:f("user.reset")}),i.jsx(De,{variant:"contained",size:"small",onClick:y,children:f("user.apply")})]})]})})},Tc=({task:e,loading:t,deleting:r,selected:n,onDelete:a,onDetails:o,onSelect:s,openUserDialog:l,openEntity:u})=>{var b,_,w,S,y,j,C,P,A,T,k;xr();const{t:c}=V("dashboard"),d=ge(),[h,f]=g.useState(!1);g.useState(!1);const p=()=>{o==null||o((e==null?void 0:e.id)??0)},m=E=>{E.stopPropagation(),E.preventDefault(),d(Tr(c("task.confirmDelete"))).then(()=>{e!=null&&e.id&&(f(!0),d(ox({ids:[e.id]})).then(()=>{a==null||a()}).finally(()=>{f(!1)}))})},x=E=>{E.stopPropagation(),E.preventDefault(),s==null||s((e==null?void 0:e.id)??0)};if(t)return i.jsxs(je,{sx:{height:"44px"},children:[i.jsx(M,{children:i.jsx(ne,{variant:"circular",width:24,height:24})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:30})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:200})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:50})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:50})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:100})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:100})}),i.jsx(M,{children:i.jsx(ne,{variant:"circular",width:24,height:24})})]});const v=E=>{var z,B;E.stopPropagation(),E.preventDefault(),l==null||l(((B=(z=e==null?void 0:e.edges)==null?void 0:z.user)==null?void 0:B.id)??0)};return i.jsxs(je,{hover:!0,sx:{cursor:"pointer"},onClick:p,selected:n,children:[i.jsx(ve,{padding:"checkbox",children:i.jsx(lt,{disabled:r,size:"small",disableRipple:!0,color:"primary",onClick:x,checked:n})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:e==null?void 0:e.id})}),i.jsx(ve,{children:e&&i.jsx(o9,{task:e,openEntity:u})}),i.jsx(M,{children:i.jsx(fj,{simplified:!0,type:(e==null?void 0:e.type)??"",status:(e==null?void 0:e.status)??"",summary:e==null?void 0:e.summary,error:(b=e==null?void 0:e.public_state)==null?void 0:b.error})}),i.jsx(M,{children:((_=e==null?void 0:e.edges)==null?void 0:_.user)&&i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(vr,{sx:{width:24,height:24},overwriteTextSize:!0,user:{id:(e==null?void 0:e.user_hash_id)??"",nickname:((S=(w=e==null?void 0:e.edges)==null?void 0:w.user)==null?void 0:S.nick)??"",created_at:((j=(y=e==null?void 0:e.edges)==null?void 0:y.user)==null?void 0:j.created_at)??""}}),i.jsx(xe,{variant:"inherit",children:i.jsx(te,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onClick:v,underline:"hover",href:"#/",children:(P=(C=e==null?void 0:e.edges)==null?void 0:C.user)==null?void 0:P.nick})})]})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:(A=e==null?void 0:e.node)!=null&&A.name?i.jsx(te,{component:Rt,to:`/admin/node/${(T=e==null?void 0:e.node)==null?void 0:T.id}`,underline:"hover",children:(k=e==null?void 0:e.node)==null?void 0:k.name}):"-"})}),i.jsx(M,{children:i.jsx(gr,{datetime:(e==null?void 0:e.created_at)??"",variant:"inherit",timeAgoThreshold:0})}),i.jsx(M,{children:i.jsx($,{sx:{display:"flex",alignItems:"center",gap:1},children:i.jsx(it,{size:"small",onClick:m,disabled:h||r,children:i.jsx($r,{fontSize:"small"})})})})]},e==null?void 0:e.id)},h9="user",f9="type",p9="status",g9="correlation_id",B9=()=>{const{t:e}=V("dashboard"),t=Xe(),r=Wt(t.breakpoints.down("sm")),n=ge(),[a,o]=g.useState(!0),[s,l]=g.useState([]),[u,c]=Oe(bn,{defaultValue:"1"}),[d,h]=Oe(jn,{defaultValue:"10"}),[f,p]=Oe(_n,{defaultValue:""}),[m,x]=Oe(wn,{defaultValue:"desc"}),[v,b]=Oe(h9,{defaultValue:""}),[_,w]=Oe(f9,{defaultValue:""}),[S,y]=Oe(p9,{defaultValue:""}),[j,C]=Oe(g9,{defaultValue:""}),[P,A]=g.useState(0),[T,k]=g.useState([]),E=ri({variant:"popover",popupId:"taskFilterPopover"}),[z,B]=g.useState(!1),[F,U]=g.useState(void 0),[R,H]=g.useState(void 0),[X,ee]=g.useState(!1),[ue,J]=g.useState(void 0),[le,Pe]=g.useState(!1),[Le,$e]=g.useState(!1),Ye=parseInt(u)??1,Ue=parseInt(d)??10,Q=g.useCallback(()=>{b(""),w(""),y(""),C("")},[b,w,y,C]);g.useEffect(()=>{oe()},[u,d,f,m,v,_,S,j]);const oe=()=>{o(!0),k([]),n(aj({page:Ye,page_size:Ue,order_by:f??"",order_direction:m??"desc",conditions:{task_status:S,task_user_id:v,task_type:_,task_correlation_id:j}})).then(Ke=>{l(Ke.tasks),h(Ke.pagination.page_size.toString()),A(Ke.pagination.total_items??0),o(!1)}).finally(()=>{o(!1)})},ae=()=>{$e(!0),n(Tr(e("task.confirmBatchDelete",{num:T.length}))).then(()=>{n(ox({ids:Array.from(T)})).then(()=>{oe()}).finally(()=>{$e(!1)}),$e(!1)}).finally(()=>{$e(!1)})},G=Be=>{if(Be.target.checked){const Ke=s.map(me=>me.id);k(Ke);return}k([])},pe=g.useCallback(Be=>{const Ke=T.indexOf(Be);let me=[];Ke===-1?me=me.concat(T,Be):Ke===0?me=me.concat(T.slice(1)):Ke===T.length-1?me=me.concat(T.slice(0,-1)):Ke>0&&(me=me.concat(T.slice(0,Ke),T.slice(Ke+1))),k(me)},[T]),fe=f==="id"||f==="",Ae=m,Y=Be=>()=>{const Ke=f===Be||Be==="id"&&fe;p(Be),x(Ke&&Ae==="asc"?"desc":"asc")},q=g.useMemo(()=>!!(S||v||_),[S,v,_]),se=Be=>{U(Be),B(!0)},Fe=Be=>{H(Be),ee(!0)},Ur=Be=>{J(Be),Pe(!0)};return i.jsxs(Xt,{children:[i.jsx(Mr,{open:z,onClose:()=>B(!1),userID:F}),i.jsx(pl,{open:X,onClose:()=>ee(!1),entityID:R}),i.jsx(u9,{open:le,onClose:()=>Pe(!1),taskID:ue}),i.jsxs(Gt,{maxWidth:"xl",children:[i.jsx(Yt,{title:e("dashboard:nav.tasks")}),i.jsxs(ce,{direction:"row",spacing:1,sx:{mb:2},children:[i.jsx(d9,{...bo(E),status:S,setStatus:y,user:v,setUser:b,correlationID:j,setCorrelationID:C,type:_,setType:w,clearFilters:Q}),i.jsx(Te,{onClick:oe,disabled:a,variant:"contained",startIcon:i.jsx(qr,{}),children:e("node.refresh")}),i.jsx(Yn,{color:"primary",variant:"dot",invisible:!q,children:i.jsx(Te,{startIcon:i.jsx(_o,{}),variant:"contained",...ni(E),children:e("user.filter")})}),T.length>0&&!r&&i.jsxs(i.Fragment,{children:[i.jsx(bt,{orientation:"vertical",flexItem:!0}),i.jsx(De,{startIcon:i.jsx(Dr,{}),variant:"contained",color:"error",onClick:ae,children:e("task.deleteXTasks",{num:T.length})})]})]}),r&&T.length>0&&i.jsx(ce,{direction:"row",spacing:1,sx:{mb:2},children:i.jsx(De,{startIcon:i.jsx(Dr,{}),variant:"contained",color:"error",onClick:ae,children:e("task.deleteXTasks",{num:T.length})})}),i.jsx(pt,{component:Ct,sx:{mt:2},children:i.jsxs(gt,{size:"small",stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed"},children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(ve,{padding:"checkbox",sx:{width:"36px!important"},width:50,children:i.jsx(lt,{size:"small",indeterminate:T.length>0&&T.length<s.length,checked:s.length>0&&T.length===s.length,onChange:G})}),i.jsx(M,{width:80,children:i.jsx(ht,{active:fe,direction:fe?Ae:"asc",onClick:Y("id"),children:e("group.#")})}),i.jsx(M,{width:400,children:e("task.content")}),i.jsx(M,{width:120,children:e("task.status")}),i.jsx(M,{width:150,children:e("file.creator")}),i.jsx(M,{width:100,children:e("task.node")}),i.jsx(M,{width:180,children:i.jsx(ht,{active:f==="created_at",direction:f==="created_at"?Ae:"asc",onClick:Y("created_at"),children:e("file.createdAt")})}),i.jsx(M,{width:50})]})}),i.jsxs(xt,{children:[!a&&s.map(Be=>i.jsx(Tc,{deleting:Le,task:Be,onDelete:oe,selected:T.indexOf(Be.id)!==-1,onSelect:pe,openUserDialog:se,openEntity:Fe,onDetails:Ur},Be.id)),a&&s.length>0&&s.slice(0,10).map(Be=>i.jsx(Tc,{loading:!0},`loading-${Be.id}`)),a&&s.length===0&&Array.from(Array(10)).map((Be,Ke)=>i.jsx(Tc,{loading:!0},`loading-${Ke}`))]})]})}),P>0&&i.jsx($,{sx:{mt:1},children:i.jsx(sn,{page:Ye,totalItems:P,rowsPerPage:Ue,rowsPerPageOptions:[10,25,50,100,200,500],onRowsPerPageChange:Be=>h(Be.toString()),onChange:(Be,Ke)=>c(Ke.toString())})})]})]})},Im={edges:{},id:0,email:"",nick:"",password:"",status:qn.active,group_users:2},m9=({open:e,onClose:t,onCreated:r})=>{var h;const{t:n}=V("dashboard"),a=ge();xr();const[o,s]=g.useState(!1),[l,u]=g.useState({...Im}),c=g.useRef(null);g.useEffect(()=>{e&&u({...Im})},[e]);const d=()=>{var p,m;if(!((p=c.current)!=null&&p.checkValidity())){(m=c.current)==null||m.reportValidity();return}let f={...l,nick:l.email.split("@")[0]};s(!0),a(Xm({user:f,password:l.password})).then(x=>{r(x),t()}).finally(()=>{s(!1)})};return i.jsx(ft,{onAccept:d,loading:o,title:n("user.new"),showActions:!0,showCancel:!0,dialogProps:{open:e,onClose:t,fullWidth:!0,maxWidth:"sm"},children:i.jsx(wt,{children:i.jsx("form",{ref:c,children:i.jsxs(ce,{spacing:2,children:[i.jsx(O,{title:n("user.email"),lgWidth:12,children:i.jsx(N,{fullWidth:!0,required:!0,type:"email",value:l.email,onChange:f=>u({...l,email:f.target.value})})}),i.jsx(O,{title:n("user.password"),lgWidth:12,children:i.jsx(N,{fullWidth:!0,required:!0,slotProps:{htmlInput:{minLength:6}},type:"password",value:l.password,onChange:f=>u({...l,password:f.target.value})})}),i.jsx(O,{title:n("user.group"),lgWidth:12,children:i.jsx(ki,{required:!0,value:((h=l.group_users)==null?void 0:h.toString())??"",onChange:f=>u({...l,group_users:parseInt(f)}),fullWidth:!0})})]})})})})},x9=({email:e,setEmail:t,nick:r,setNick:n,group:a,setGroup:o,status:s,setStatus:l,clearFilters:u,onClose:c,open:d,...h})=>{const{t:f}=V("dashboard"),[p,m]=g.useState(e),[x,v]=g.useState(r),[b,_]=g.useState(a),[w,S]=g.useState(s);g.useEffect(()=>{d&&(m(e),v(r),_(a),S(s))},[d]);const y=()=>{t(p),n(x),o(b==" "?"":b),l(w==" "?"":w),c==null||c({},"backdropClick")},j=()=>{m(""),v(""),_(""),S(""),u(),c==null||c({},"backdropClick")};return i.jsx(yo,{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},slotProps:{paper:{sx:{p:2,width:300,maxWidth:"100%"}}},onClose:c,open:d,...h,children:i.jsxs(ce,{spacing:2,children:[i.jsx(O,{title:f("user.email"),noContainer:!0,lgWidth:12,children:i.jsx(N,{fullWidth:!0,value:p,onChange:C=>m(C.target.value),placeholder:f("user.emptyNoFilter"),size:"small"})}),i.jsx(O,{title:f("user.nick"),noContainer:!0,lgWidth:12,children:i.jsx(N,{fullWidth:!0,value:x,onChange:C=>v(C.target.value),placeholder:f("user.emptyNoFilter"),size:"small"})}),i.jsx(O,{title:f("user.group"),noContainer:!0,lgWidth:12,children:i.jsx(ki,{value:b==""?" ":b,onChange:_,emptyValue:" ",emptyText:f("user.all"),fullWidth:!0})}),i.jsx(O,{title:f("user.status"),noContainer:!0,lgWidth:12,children:i.jsx(I,{fullWidth:!0,children:i.jsxs(Ze,{value:w==""?" ":w,onChange:C=>S(C.target.value),children:[i.jsx(ke,{value:" ",children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:i.jsx("em",{children:f("user.all")})})}),Object.values(qn).map(C=>i.jsx(ke,{value:C,children:i.jsx(we,{slotProps:{primary:{variant:"body2"}},children:f(`user.status_${C}`)})},C))]})})}),i.jsxs($,{display:"flex",justifyContent:"space-between",children:[i.jsx(De,{variant:"outlined",size:"small",onClick:j,children:f("user.reset")}),i.jsx(De,{variant:"contained",size:"small",onClick:y,children:f("user.apply")})]})]})})},$c=({user:e,loading:t,deleting:r,selected:n,onDelete:a,onDetails:o,onSelect:s})=>{var x,v,b,_;xr();const{t:l}=V("dashboard"),u=ge(),[c,d]=g.useState(!1),h=()=>{o==null||o((e==null?void 0:e.id)??0)},f=w=>{w.stopPropagation(),w.preventDefault(),u(Tr(l("user.confirmDelete",{user:e==null?void 0:e.email}))).then(()=>{e!=null&&e.id&&(d(!0),u(sx({ids:[e.id]})).then(()=>{a==null||a()}).finally(()=>{d(!1)}))})},p=w=>{w.stopPropagation(),w.preventDefault(),s==null||s((e==null?void 0:e.id)??0)};if(g.useMemo(()=>{var S;const w={passkey:!1,twoFa:!1};return(S=e==null?void 0:e.edges)!=null&&S.passkey&&(w.passkey=!0),e!=null&&e.two_fa_enabled&&(w.twoFa=!0),w},[e]),t)return i.jsxs(je,{sx:{height:"43px"},children:[i.jsx(M,{children:i.jsx(ne,{variant:"circular",width:24,height:24})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:60})}),i.jsx(M,{children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(ne,{variant:"circular",width:24,height:24}),i.jsx(ne,{variant:"text",width:200})]})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:250})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:150})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:100})}),i.jsx(M,{children:i.jsx(ne,{variant:"text",width:100})})]});const m=w=>{w.stopPropagation()};return i.jsxs(je,{hover:!0,sx:{cursor:"pointer"},onClick:h,selected:n,children:[i.jsx(ve,{padding:"checkbox",children:i.jsx(lt,{disabled:r,size:"small",disableRipple:!0,color:"primary",onClick:p,checked:n})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:e==null?void 0:e.id})}),i.jsx(M,{children:i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(vr,{sx:{width:24,height:24},overwriteTextSize:!0,user:{id:(e==null?void 0:e.hash_id)??"",nickname:(e==null?void 0:e.nick)??"",created_at:(e==null?void 0:e.created_at)??""}}),i.jsx(xe,{variant:"inherit",children:e==null?void 0:e.nick}),i.jsxs($,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(e==null?void 0:e.status)==qn.inactive&&i.jsx(Yr,{size:"small",label:l("user.status_inactive")}),(e==null?void 0:e.status)==qn.sys_banned&&i.jsx(Yr,{size:"small",color:"error",label:l("user.status_sys_banned")}),(e==null?void 0:e.status)==qn.manual_banned&&i.jsx(Yr,{size:"small",color:"error",label:l("user.status_manual_banned")}),(e==null?void 0:e.two_fa_enabled)&&i.jsx(Lr,{title:l("user.2FAEnabled"),children:i.jsx($,{sx:{display:"flex",alignItems:"center"},children:i.jsx(bd,{fontSize:"small",sx:{color:"text.secondary"}})})})]})]})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:e==null?void 0:e.email})}),i.jsx(M,{children:i.jsx(xe,{variant:"inherit",children:i.jsx(te,{onClick:m,component:Rt,to:`/admin/group/${(v=(x=e==null?void 0:e.edges)==null?void 0:x.group)==null?void 0:v.id}`,underline:"hover",children:(_=(b=e==null?void 0:e.edges)==null?void 0:b.group)==null?void 0:_.name})})}),i.jsx(M,{children:Kt((e==null?void 0:e.storage)??0)}),i.jsx(M,{children:i.jsx(it,{size:"small",onClick:f,disabled:c||r,children:i.jsx($r,{fontSize:"small"})})})]},e==null?void 0:e.id)},v9="email",y9="nick",b9="group",j9="status",R9=()=>{const{t:e}=V("dashboard"),t=Xe(),r=Wt(t.breakpoints.down("sm")),n=ge(),[a,o]=g.useState(!0),[s,l]=g.useState([]),[u,c]=Oe(bn,{defaultValue:"1"}),[d,h]=Oe(jn,{defaultValue:"10"}),[f,p]=Oe(_n,{defaultValue:""}),[m,x]=Oe(wn,{defaultValue:"desc"}),[v,b]=Oe(v9,{defaultValue:""}),[_,w]=Oe(y9,{defaultValue:""}),[S,y]=Oe(b9,{defaultValue:""}),[j,C]=Oe(j9,{defaultValue:""}),[P,A]=g.useState(0),[T,k]=g.useState([]),[E,z]=g.useState(!1),B=ri({variant:"popover",popupId:"userFilterPopover"}),[F,U]=g.useState(!1),[R,H]=g.useState(void 0),[X,ee]=g.useState(!1),ue=parseInt(u)??1,J=parseInt(d)??11,le=g.useCallback(()=>{b(""),w(""),y(""),C("")},[b,w,y,C]);g.useEffect(()=>{Pe()},[u,d,f,m,v,_,S,j]);const Pe=()=>{o(!0),k([]),n(oj({page:ue,page_size:J,order_by:f??"",order_direction:m??"desc",conditions:{user_email:v,user_nick:_,user_group:S,user_status:j}})).then(pe=>{l(pe.users),h(pe.pagination.page_size.toString()),A(pe.pagination.total_items??0),o(!1)}).finally(()=>{o(!1)})},Le=()=>{ee(!0),n(Tr(e("user.confirmBatchDelete",{num:T.length}))).then(()=>{n(sx({ids:Array.from(T)})).then(()=>{Pe()}).finally(()=>{ee(!1)})}).finally(()=>{ee(!1)})},$e=pe=>{if(pe.target.checked){const fe=s.map(Ae=>Ae.id);k(fe);return}k([])},Ye=g.useCallback(pe=>{const fe=T.indexOf(pe);let Ae=[];fe===-1?Ae=Ae.concat(T,pe):fe===0?Ae=Ae.concat(T.slice(1)):fe===T.length-1?Ae=Ae.concat(T.slice(0,-1)):fe>0&&(Ae=Ae.concat(T.slice(0,fe),T.slice(fe+1))),k(Ae)},[T]),Ue=f==="id"||f==="",Q=m,oe=pe=>()=>{const fe=f===pe||pe==="id"&&Ue;p(pe),x(fe&&Q==="asc"?"desc":"asc")},ae=g.useMemo(()=>!!(v||_||S||j),[v,_,S,j]),G=pe=>{H(pe),U(!0)};return i.jsxs(Xt,{children:[i.jsx(m9,{open:E,onClose:()=>z(!1),onCreated:pe=>{H(pe.id),U(!0)}}),i.jsx(Mr,{open:F,onClose:()=>U(!1),userID:R,onUpdated:()=>Pe()}),i.jsxs(Gt,{maxWidth:"xl",children:[i.jsx(Yt,{title:e("dashboard:nav.users")}),i.jsxs(ce,{direction:"row",spacing:1,sx:{mb:2},children:[i.jsx(De,{onClick:()=>z(!0),variant:"contained",startIcon:i.jsx(yr,{}),children:e("group.create")}),i.jsx(x9,{...bo(B),email:v,setEmail:b,nick:_,setNick:w,group:S,setGroup:y,status:j,setStatus:C,clearFilters:le}),i.jsx(Te,{onClick:Pe,disabled:a,variant:"contained",startIcon:i.jsx(qr,{}),children:e("node.refresh")}),i.jsx(Yn,{color:"primary",variant:"dot",invisible:!ae,children:i.jsx(Te,{startIcon:i.jsx(_o,{}),variant:"contained",...ni(B),children:e("user.filter")})}),T.length>0&&!r&&i.jsxs(i.Fragment,{children:[i.jsx(bt,{orientation:"vertical",flexItem:!0}),i.jsx(De,{startIcon:i.jsx(Dr,{}),variant:"contained",color:"error",onClick:Le,children:e("user.deleteXUsers",{num:T.length})})]})]}),r&&T.length>0&&i.jsx(ce,{direction:"row",spacing:1,sx:{mb:2},children:i.jsx(De,{startIcon:i.jsx(Dr,{}),variant:"contained",color:"error",onClick:Le,children:e("user.deleteXUsers",{num:T.length})})}),i.jsx(pt,{component:Ct,sx:{mt:2},children:i.jsxs(gt,{size:"small",stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed"},children:[i.jsx(mt,{children:i.jsxs(je,{children:[i.jsx(ve,{padding:"checkbox",sx:{width:"36px!important"},width:50,children:i.jsx(lt,{size:"small",disableRipple:!0,color:"primary",indeterminate:T.length>0&&T.length<s.length,checked:s.length>0&&T.length===s.length,onChange:$e})}),i.jsx(M,{width:60,sortDirection:Ue?Q:!1,children:i.jsx(ht,{active:Ue,direction:Q,onClick:oe("id"),children:e("group.#")})}),i.jsx(M,{width:250,children:i.jsx(ht,{active:f==="nick",direction:Q,onClick:oe("nick"),children:e("user.nick")})}),i.jsx(M,{width:250,children:i.jsx(ht,{active:f==="email",direction:Q,onClick:oe("email"),children:e("user.email")})}),i.jsx(M,{width:150,children:e("user.group")}),i.jsx(M,{width:100,children:i.jsx(ht,{active:f==="storage",direction:Q,onClick:oe("storage"),children:e("user.usedStorage")})}),i.jsx(M,{width:100,align:"right"})]})}),i.jsxs(xt,{children:[!a&&s.map(pe=>i.jsx($c,{deleting:X,user:pe,onDelete:Pe,selected:T.includes(pe.id),onSelect:Ye,onDetails:G},pe.id)),a&&s.length>0&&s.slice(0,10).map(pe=>i.jsx($c,{loading:!0},`loading-${pe.id}`)),a&&s.length===0&&Array.from(Array(5)).map((pe,fe)=>i.jsx($c,{loading:!0},`loading-${fe}`))]})]})}),P>0&&i.jsx($,{sx:{mt:1},children:i.jsx(sn,{page:ue,totalItems:P,rowsPerPage:J,rowsPerPageOptions:[10,25,50,100,200],onRowsPerPageChange:pe=>h(pe.toString()),onChange:(pe,fe)=>c(fe.toString())})})]})]})};export{T9 as EditGroup,I9 as EditNode,z9 as EditStoragePolicy,D9 as EntitySetting,E9 as FileSetting,$9 as GroupSetting,M9 as Home,W9 as NodeSetting,L9 as OauthCallback,A9 as Settings,N9 as ShareList,k9 as StoragePolicySetting,B9 as TaskList,R9 as UserSetting};
