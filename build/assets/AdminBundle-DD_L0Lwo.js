const __vite__mapDeps = (
  i,
  m = __vite__mapDeps,
  d = m.f ||
    (m.f = [
      "assets/MonacoEditor-BnsLKTuc.js",
      "assets/react-CV3HRGEF.js",
      "assets/common-5dK6VpSw.js",
      "assets/react-4-pFdlfx.css",
      "assets/monaco-DSyTyO5T.js",
      "assets/monaco-Cjcdkwd9.css",
      "assets/index-CIdel1P5.js",
      "assets/index-qQxd8I_f.css",
    ]),
) => i.map((i) => d[i]);
import {
  r as f,
  j as r,
  g as F,
  q as dr,
  S as Kt,
  C as Ht,
  v as N,
  B as ya,
  z as ja,
  Q as ba,
  U as _a,
  n as X,
  e as Wx,
  L as zt,
  h as Mx,
  X as _c,
  Y as wa,
  Z as Jr,
  a0 as Rs,
  a1 as Qr,
  a2 as wc,
  a3 as Zr,
  a4 as mi,
  a5 as Nx,
  a6 as zx,
  a7 as jp,
  a8 as Jn,
  a9 as Lx,
} from "./react-CV3HRGEF.js";
import {
  a as Sa,
  g as Ca,
  s as et,
  P as Vi,
  u as Pa,
  d as Me,
  e as Oa,
  B as bp,
  m as Fs,
  f as vi,
  c as ol,
  n as hd,
  aj as Ye,
  j as Ge,
  b9 as $t,
  a9 as T,
  d$ as Bx,
  e0 as Ue,
  ar as de,
  aO as he,
  q as ge,
  e1 as _p,
  D as st,
  z as gt,
  ag as yi,
  b8 as St,
  cm as _t,
  e2 as te,
  T as L,
  e3 as Vs,
  bK as ke,
  dF as qs,
  e4 as wp,
  aL as wr,
  e5 as Rx,
  ai as ce,
  db as Qn,
  b7 as bt,
  e6 as br,
  cD as Sp,
  aS as Gt,
  bF as Z,
  aC as $e,
  d7 as ur,
  e7 as W,
  e8 as Fx,
  d9 as Vx,
  af as Us,
  e9 as Cp,
  A as le,
  at as $,
  ea as vn,
  eb as Lt,
  d3 as Dt,
  ec as qx,
  cg as Ux,
  ed as Sc,
  ee as Kx,
  ef as Hx,
  X as je,
  Y as pe,
  cF as Cc,
  R as ot,
  U as xt,
  V as lt,
  W as ct,
  aP as M,
  Z as dt,
  eg as we,
  cC as Rt,
  bx as Lr,
  eh as Gx,
  ei as Xx,
  bA as ut,
  cJ as nt,
  ej as pd,
  ek as fd,
  el as gd,
  em as xd,
  bO as ll,
  ax as md,
  cW as An,
  a8 as Pe,
  bI as yn,
  en as Pc,
  E as Ve,
  cP as xe,
  eo as Ot,
  ep as Vr,
  al as Yx,
  ak as Jx,
  am as jn,
  ah as Qx,
  eq as vd,
  a7 as Zx,
  C as Pp,
  er as em,
  L as it,
  es as ye,
  et as tr,
  eu as Op,
  F as Br,
  ev as Ks,
  ew as Dr,
  ex as tm,
  bf as ji,
  ey as kp,
  ez as Ap,
  eA as Dp,
  cz as en,
  cB as tn,
  eB as bi,
  eC as Ep,
  eD as Ip,
  eE as Oc,
  eF as rm,
  dv as hr,
  eG as nm,
  eH as Tp,
  eI as im,
  I as am,
  J as _r,
  K as Hn,
  bd as be,
  aR as sr,
  eJ as Hs,
  aH as Gn,
  aV as kc,
  _ as es,
  aG as sm,
  b1 as $p,
  a0 as gn,
  eK as om,
  eL as lm,
  da as Gs,
  eM as cm,
  dq as ka,
  eN as dm,
  dH as um,
  eO as hm,
  eP as pm,
  dw as Aa,
  v as Wp,
  eQ as fm,
  eR as Mp,
  eS as Np,
  eT as gm,
  bs as xm,
  eU as Ti,
  eV as mm,
  eW as vm,
  ay as ym,
  eX as jm,
  eY as bm,
  eZ as _m,
  e_ as qr,
  cw as wm,
  e$ as zp,
  cA as Lp,
  aN as Bp,
  ap as gr,
  f0 as Sm,
  f1 as Cm,
  f2 as Pm,
  f3 as ts,
  f4 as Rp,
  f5 as Om,
  f6 as km,
  f7 as Am,
  f8 as Dm,
  f9 as Pt,
  fa as Fp,
  G as Qe,
  fb as Vp,
  fc as Em,
  fd as qp,
  fe as Im,
  ao as cl,
  an as Tr,
  ff as yd,
  fg as Tm,
  o as Ac,
  fh as Po,
  fi as Oo,
  fj as za,
  fk as La,
  fl as Ba,
  fm as jd,
  bG as Up,
  fn as $m,
  bt as bd,
  fo as Wm,
  fp as Kp,
  fq as Hp,
  fr as Mm,
  fs as Nm,
  ft as _d,
  fu as zm,
  fv as Gp,
  fw as Lm,
  aY as Bm,
  fx as Xp,
  fy as Rm,
  fz as Fm,
  fA as Vm,
  fB as qm,
  fC as Um,
  fD as Km,
  du as Hm,
  fE as wd,
  bi as Ra,
  fF as Gm,
  fG as Xm,
  fH as Ym,
  fI as Jm,
  fJ as Qm,
  fK as Zm,
  cp as ev,
  p as tv,
  H as rv,
  fL as nv,
  fM as Yp,
  fN as iv,
  fO as Jp,
  fP as av,
} from "./index-CIdel1P5.js";
import {
  S as Oe,
  u as _e,
  G as sv,
  P as Ft,
  a as Vt,
  R as Qp,
  b as Zp,
  A as ov,
  N as Zt,
  C as ef,
  T as pn,
  g as rs,
  c as jt,
  d as lv,
  D as cv,
  e as dv,
  f as uv,
} from "./DownloadFileList-6nHycLmz.js";
import { P as Er, a as It, S as P, F as tf, C as oe } from "./SettingForm-B_4-_WPw.js";
import {
  D as hv,
  e as ko,
  C as pv,
  f as fv,
  g as gv,
  h as xv,
  i as rf,
  a as mv,
  A as kr,
  E as bn,
  j as vv,
  k as yv,
  S as jv,
  l as bv,
  d as _v,
  T as wv,
  m as Sv,
  B as Cv,
  n as Pv,
} from "./StorageSummary-_giPRPOL.js";
import Ao from "./MonacoEditor-BnsLKTuc.js";
import { _ as rn, g as ht } from "./common-5dK6VpSw.js";
import {
  S as Ov,
  s as nf,
  a as kv,
  b as Av,
  c as Dv,
  d as Ev,
  e as Iv,
  f as Tv,
  g as dl,
  h as $v,
  i as Wv,
  j as Mv,
  k as Nv,
  l as zv,
  n as Lv,
  o as Bv,
  p as ul,
  q as Rv,
  r as Fv,
  t as Li,
  u as Vv,
  v as qv,
  w as Uv,
  x as Kv,
  y as Hv,
  z as Gv,
  A as Xv,
  B as Yv,
  C as Jv,
  D as Qv,
  E as Zv,
  F as ey,
  G as ty,
  H as ry,
  I as ny,
  J as iy,
  K as ay,
  L as sy,
  M as oy,
  N as ly,
  O as cy,
  P as dy,
  Q as Fa,
  R as uy,
  T as af,
  U as hy,
  V as py,
  W as fy,
  X as gy,
  Y as xy,
  Z as my,
  _ as vy,
  $ as yy,
  a0 as jy,
  a1 as by,
  a2 as _y,
  a3 as wy,
} from "./mermaid-BthQq5t5.js";
import "./monaco-DSyTyO5T.js";
const Do = {
  50: "#fffde7",
  100: "#fff9c4",
  200: "#fff59d",
  300: "#fff176",
  400: "#ffee58",
  500: "#ffeb3b",
  600: "#fdd835",
  700: "#fbc02d",
  800: "#f9a825",
  900: "#f57f17",
  A100: "#ffff8d",
  A200: "#ffff00",
  A400: "#ffea00",
  A700: "#ffd600",
};
function Sy(e) {
  return Ca("MuiCard", e);
}
Sa("MuiCard", ["root"]);
const Cy = (e) => {
    const { classes: t } = e;
    return Oa({ root: ["root"] }, Sy, t);
  },
  Py = et(Vi, { name: "MuiCard", slot: "Root", overridesResolver: (e, t) => t.root })({ overflow: "hidden" }),
  Oy = f.forwardRef(function (t, n) {
    const i = Pa({ props: t, name: "MuiCard" }),
      { className: a, raised: s = !1, ...o } = i,
      l = { ...i, raised: s },
      d = Cy(l);
    return r.jsx(Py, { className: Me(d.root, a), elevation: s ? 8 : void 0, ref: n, ownerState: l, ...o });
  });
function ky(e) {
  return Ca("MuiCardActionArea", e);
}
const Eo = Sa("MuiCardActionArea", ["root", "focusVisible", "focusHighlight"]),
  Ay = (e) => {
    const { classes: t } = e;
    return Oa({ root: ["root"], focusHighlight: ["focusHighlight"] }, ky, t);
  },
  Dy = et(bp, { name: "MuiCardActionArea", slot: "Root", overridesResolver: (e, t) => t.root })(
    Fs(({ theme: e }) => ({
      display: "block",
      textAlign: "inherit",
      borderRadius: "inherit",
      width: "100%",
      [`&:hover .${Eo.focusHighlight}`]: {
        opacity: (e.vars || e).palette.action.hoverOpacity,
        "@media (hover: none)": { opacity: 0 },
      },
      [`&.${Eo.focusVisible} .${Eo.focusHighlight}`]: { opacity: (e.vars || e).palette.action.focusOpacity },
    })),
  ),
  Ey = et("span", { name: "MuiCardActionArea", slot: "FocusHighlight", overridesResolver: (e, t) => t.focusHighlight })(
    Fs(({ theme: e }) => ({
      overflow: "hidden",
      pointerEvents: "none",
      position: "absolute",
      top: 0,
      right: 0,
      bottom: 0,
      left: 0,
      borderRadius: "inherit",
      opacity: 0,
      backgroundColor: "currentcolor",
      transition: e.transitions.create("opacity", { duration: e.transitions.duration.short }),
    })),
  ),
  Iy = f.forwardRef(function (t, n) {
    const i = Pa({ props: t, name: "MuiCardActionArea" }),
      { children: a, className: s, focusVisibleClassName: o, ...l } = i,
      d = i,
      c = Ay(d);
    return r.jsxs(Dy, {
      className: Me(c.root, s),
      focusVisibleClassName: Me(o, c.focusVisible),
      ref: n,
      ownerState: d,
      ...l,
      children: [a, r.jsx(Ey, { className: c.focusHighlight, ownerState: d })],
    });
  });
function Ty(e) {
  return Ca("MuiCardContent", e);
}
Sa("MuiCardContent", ["root"]);
const $y = (e) => {
    const { classes: t } = e;
    return Oa({ root: ["root"] }, Ty, t);
  },
  Wy = et("div", { name: "MuiCardContent", slot: "Root", overridesResolver: (e, t) => t.root })({
    padding: 16,
    "&:last-child": { paddingBottom: 24 },
  }),
  My = f.forwardRef(function (t, n) {
    const i = Pa({ props: t, name: "MuiCardContent" }),
      { className: a, component: s = "div", ...o } = i,
      l = { ...i, component: s },
      d = $y(l);
    return r.jsx(Wy, { as: s, className: Me(d.root, a), ownerState: l, ref: n, ...o });
  });
function Ny(e) {
  return Ca("MuiCardMedia", e);
}
Sa("MuiCardMedia", ["root", "media", "img"]);
const zy = (e) => {
    const { classes: t, isMediaComponent: n, isImageComponent: i } = e;
    return Oa({ root: ["root", n && "media", i && "img"] }, Ny, t);
  },
  Ly = et("div", {
    name: "MuiCardMedia",
    slot: "Root",
    overridesResolver: (e, t) => {
      const { ownerState: n } = e,
        { isMediaComponent: i, isImageComponent: a } = n;
      return [t.root, i && t.media, a && t.img];
    },
  })({
    display: "block",
    backgroundSize: "cover",
    backgroundRepeat: "no-repeat",
    backgroundPosition: "center",
    variants: [
      { props: { isMediaComponent: !0 }, style: { width: "100%" } },
      { props: { isImageComponent: !0 }, style: { objectFit: "cover" } },
    ],
  }),
  By = ["video", "audio", "picture", "iframe", "img"],
  Ry = ["picture", "img"],
  Fy = f.forwardRef(function (t, n) {
    const i = Pa({ props: t, name: "MuiCardMedia" }),
      { children: a, className: s, component: o = "div", image: l, src: d, style: c, ...u } = i,
      h = By.includes(o),
      p = !h && l ? { backgroundImage: `url("${l}")`, ...c } : c,
      g = { ...i, component: o, isMediaComponent: h, isImageComponent: Ry.includes(o) },
      m = zy(g);
    return r.jsx(Ly, {
      className: Me(m.root, s),
      as: o,
      role: !h && l ? "img" : void 0,
      ref: n,
      style: p,
      ownerState: g,
      src: h ? l || d : void 0,
      ...u,
      children: a,
    });
  }),
  Vy = vi(r.jsx("path", { d: "M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z" }), "ArrowDownward");
function qy(e) {
  return Ca("MuiTableSortLabel", e);
}
const Io = Sa("MuiTableSortLabel", [
    "root",
    "active",
    "icon",
    "iconDirectionDesc",
    "iconDirectionAsc",
    "directionDesc",
    "directionAsc",
  ]),
  Uy = (e) => {
    const { classes: t, direction: n, active: i } = e,
      a = { root: ["root", i && "active", `direction${ol(n)}`], icon: ["icon", `iconDirection${ol(n)}`] };
    return Oa(a, qy, t);
  },
  Ky = et(bp, {
    name: "MuiTableSortLabel",
    slot: "Root",
    overridesResolver: (e, t) => {
      const { ownerState: n } = e;
      return [t.root, n.active && t.active];
    },
  })(
    Fs(({ theme: e }) => ({
      cursor: "pointer",
      display: "inline-flex",
      justifyContent: "flex-start",
      flexDirection: "inherit",
      alignItems: "center",
      "&:focus": { color: (e.vars || e).palette.text.secondary },
      "&:hover": { color: (e.vars || e).palette.text.secondary, [`& .${Io.icon}`]: { opacity: 0.5 } },
      [`&.${Io.active}`]: {
        color: (e.vars || e).palette.text.primary,
        [`& .${Io.icon}`]: { opacity: 1, color: (e.vars || e).palette.text.secondary },
      },
    })),
  ),
  Hy = et("span", {
    name: "MuiTableSortLabel",
    slot: "Icon",
    overridesResolver: (e, t) => {
      const { ownerState: n } = e;
      return [t.icon, t[`iconDirection${ol(n.direction)}`]];
    },
  })(
    Fs(({ theme: e }) => ({
      fontSize: 18,
      marginRight: 4,
      marginLeft: 4,
      opacity: 0,
      transition: e.transitions.create(["opacity", "transform"], { duration: e.transitions.duration.shorter }),
      userSelect: "none",
      variants: [
        { props: { direction: "desc" }, style: { transform: "rotate(0deg)" } },
        { props: { direction: "asc" }, style: { transform: "rotate(180deg)" } },
      ],
    })),
  ),
  ft = f.forwardRef(function (t, n) {
    const i = Pa({ props: t, name: "MuiTableSortLabel" }),
      {
        active: a = !1,
        children: s,
        className: o,
        direction: l = "asc",
        hideSortIcon: d = !1,
        IconComponent: c = Vy,
        slots: u = {},
        slotProps: h = {},
        ...p
      } = i,
      g = { ...i, active: a, direction: l, hideSortIcon: d, IconComponent: c },
      m = Uy(g),
      v = { slots: u, slotProps: h },
      [x, j] = hd("root", {
        elementType: Ky,
        externalForwardedProps: v,
        ownerState: g,
        className: Me(m.root, o),
        ref: n,
      }),
      [b, _] = hd("icon", { elementType: Hy, externalForwardedProps: v, ownerState: g, className: m.icon });
    return r.jsxs(x, {
      disableRipple: !0,
      component: "span",
      ...j,
      ...p,
      children: [s, d && !a ? null : r.jsx(b, { as: c, ..._ })],
    });
  }),
  or = vi(r.jsx("path", { d: "M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z" }), "Delete"),
  Gy = vi(
    r.jsx("path", { d: "M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z" }),
    "DeleteOutline",
  ),
  Xy = vi(
    r.jsx("path", {
      d: "M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27",
    }),
    "GitHub",
  ),
  Yy = vi(
    r.jsx("path", {
      d: "M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z",
    }),
    "OpenInNew",
  );
function Da(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M13.5 16a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5zm3-5a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1 0-1.5zm3-5a.75.75 0 0 1 0 1.5h-15a.75.75 0 0 1 0-1.5z",
    }),
  });
}
const Rr = ({
    rowsPerPageOptions: e = [5, 10, 25, 50],
    rowsPerPage: t = 5,
    onRowsPerPageChange: n,
    page: i,
    onChange: a,
    totalItems: s,
    ...o
  }) => {
    const { t: l } = F("dashboard"),
      d = Ge(),
      c = $t(d.breakpoints.down("sm")),
      u = (h) => {
        n == null || n(h.target.value);
      };
    return (
      f.useEffect(() => {
        (i - 1) * t >= s && a({}, Math.ceil(s / t));
      }, [t, s]),
      r.jsxs(T, {
        sx: {
          py: 1,
          display: "flex",
          flexDirection: c ? "column" : "row",
          justifyContent: "space-between",
          alignItems: c ? "start" : "center",
          gap: 1,
        },
        children: [
          r.jsx(Bx, { size: c ? "small" : "medium", count: Math.ceil(s / t), page: i, onChange: a, ...o }),
          r.jsx(Ue, {
            variant: "filled",
            value: t,
            onChange: u,
            renderValue: (h) =>
              r.jsx(de, { primary: l("settings.perPage", { num: h }), slotProps: { primary: { variant: "body2" } } }),
            children: e.map((h) =>
              r.jsx(
                he,
                {
                  value: h,
                  children: r.jsx(de, {
                    primary: l("settings.perPage", { num: h }),
                    slotProps: { primary: { variant: "body2" } },
                  }),
                },
                h,
              ),
            ),
          }),
        ],
      })
    );
  },
  ns = et(T)(({ theme: e }) => ({
    border: `1px solid ${e.palette.divider}`,
    borderRadius: e.shape.borderRadius,
    padding: e.spacing(2),
    backgroundColor: e.palette.background.paper,
  })),
  qi = et(ns)(({ theme: e }) => ({
    cursor: "pointer",
    "&:hover": { backgroundColor: e.palette.action.hover },
    transition: "background-color 0.3s ease",
  })),
  Sd = et(qi)(({ theme: e, img: t }) => ({
    position: "relative",
    overflow: "hidden",
    "&::before": {
      content: '""',
      position: "absolute",
      top: "-20px",
      right: "-20px",
      width: "150px",
      height: "150px",
      backgroundImage: `url(${t})`,
      backgroundSize: "cover",
      backgroundPosition: "center",
      transform: "rotate(-10deg)",
      opacity: 0.1,
      maskImage: "radial-gradient(circle at center, black 30%, transparent 80%)",
      pointerEvents: "none",
      zIndex: 0,
    },
    "& > *": { position: "relative", zIndex: 1 },
  })),
  Jy = ({ open: e, onClose: t, type: n }) => {
    const { t: i } = F("dashboard"),
      a = ge(),
      [s, o] = f.useState(!1),
      l = dr(),
      d = Et[n].wizard,
      c = f.useCallback(
        (u) => {
          o(!0),
            a(_p({ policy: u }))
              .then((h) => {
                t(), l(`/admin/policy/${h.id}`), o(!1);
              })
              .finally(() => {
                o(!1);
              });
        },
        [a],
      );
    return r.jsx(st, {
      loading: s,
      title: i("policy.addXStoragePolicy", { type: i(Et[n].name) }),
      dialogProps: { open: e, onClose: t, fullWidth: !0, maxWidth: Et[n].wizardSize ?? "lg" },
      children: r.jsx(gt, {
        children: r.jsx(yi, {
          children: r.jsx(Kt, {
            children: r.jsx(
              Ht,
              {
                addEndListener: (u, h) => u.addEventListener("transitionend", h, !1),
                classNames: "fade",
                children: r.jsxs(T, {
                  children: [
                    !s && d && r.jsx(d, { onSubmit: c }),
                    s &&
                      r.jsx(T, {
                        sx: { height: "300px", display: "flex", alignItems: "center", justifyContent: "center" },
                        children: r.jsx(St, {}),
                      }),
                  ],
                }),
              },
              `${s}`,
            ),
          }),
        }),
      }),
    });
  },
  Qy = et(Oy)(({ theme: e }) => ({ display: "flex", boxShadow: "none", border: `1px solid ${e.palette.divider}` })),
  Zy = ({ open: e, onClose: t, onSelect: n }) => {
    const { t: i } = F("dashboard"),
      [a, s] = f.useState(!1);
    return r.jsxs(st, {
      title: i("policy.selectAStorageProvider"),
      dialogProps: { open: e, onClose: t, fullWidth: !0, maxWidth: "sm" },
      children: [
        r.jsx(Er, { open: a, onClose: () => s(!1) }),
        r.jsx(gt, {
          dividers: !0,
          children: r.jsx(_t, {
            container: !0,
            spacing: 2,
            sx: { mt: 2 },
            children: Object.values(te).map((o) =>
              r.jsx(
                _t,
                {
                  size: { sm: 12, md: 6 },
                  children: r.jsx(Qy, {
                    sx: { display: "flex" },
                    children: r.jsxs(Iy, {
                      sx: { display: "flex", justifyContent: "flex-start" },
                      onClick: () => (Et[o].pro ? s(!0) : n(o)),
                      children: [
                        r.jsx(Fy, { component: "img", image: Et[o].img, sx: { width: 100, height: 60 } }),
                        r.jsx(My, {
                          children: r.jsxs(L, {
                            variant: "subtitle1",
                            color: "textSecondary",
                            children: [i(Et[o].name), Et[o].pro && r.jsx(It, { size: "small", label: "Pro" })],
                          }),
                        }),
                      ],
                    }),
                  }),
                },
                o.toString(),
              ),
            ),
          }),
        }),
        r.jsx(Vs, {
          sx: { justifyContent: "flex-start", p: 2, px: 3 },
          children: r.jsx(ke, {
            startIcon: r.jsx(qs, {}),
            variant: "contained",
            onClick: () => window.open("https://docs.cloudreve.org/usage/storage/", "_blank"),
            children: i("policy.compare"),
          }),
        }),
      ],
    });
  },
  To = ({ policy: e, onRefresh: t, loading: n }) => {
    var m;
    const { t: i } = F("dashboard"),
      a = ge(),
      [s, o] = f.useState(void 0),
      [l, d] = f.useState(!1),
      [c, u] = f.useState(!1),
      h = dr(),
      p = f.useCallback(
        (v) => {
          v.preventDefault(),
            v.stopPropagation(),
            e &&
              (u(!0),
              a(wp(e.id, !0)).then((x) => {
                o(x), u(!1);
              }));
        },
        [e, a],
      ),
      g = f.useCallback(
        (v) => {
          v.stopPropagation(),
            a(wr(i("policy.deletePolicyConfirmation", { name: (e == null ? void 0 : e.name) ?? "" }))).then(() => {
              d(!0),
                a(Rx((e == null ? void 0 : e.id) ?? 0))
                  .then(() => {
                    t == null || t();
                  })
                  .finally(() => {
                    d(!1);
                  });
            });
        },
        [e, a, t],
      );
    return n
      ? r.jsx(_t, {
          size: { xs: 12, md: 6, lg: 4 },
          children: r.jsxs(Sd, {
            img: "/static/img/local.png",
            children: [
              r.jsxs(T, {
                sx: { display: "flex", justifyContent: "space-between", alignItems: "center" },
                children: [
                  r.jsx(L, {
                    variant: "subtitle1",
                    fontWeight: 600,
                    children: r.jsx(ce, { variant: "text", width: 100 }),
                  }),
                  r.jsx(L, {
                    variant: "body2",
                    color: "text.secondary",
                    children: r.jsx(ce, { variant: "text", width: 100 }),
                  }),
                ],
              }),
              r.jsx(Qn, { children: r.jsx(ce, { variant: "text", width: 60, height: 25, sx: { mr: 1 } }) }),
              r.jsx(bt, { sx: { my: 1 } }),
              r.jsxs(T, {
                sx: { display: "flex", justifyContent: "space-between", alignItems: "center" },
                children: [
                  r.jsx(ce, { variant: "text", width: "40%", height: 20 }),
                  r.jsx(ce, { variant: "circular", width: 30, height: 30 }),
                ],
              }),
            ],
          }),
        })
      : r.jsx(_t, {
          size: { xs: 12, md: 6, lg: 4 },
          children: r.jsxs(Sd, {
            onClick: () => h(`/admin/policy/${e == null ? void 0 : e.id}`),
            img: e ? Et[e.type].img : void 0,
            children: [
              r.jsxs(T, {
                sx: { display: "flex", justifyContent: "space-between", alignItems: "center" },
                children: [
                  r.jsx(L, { variant: "subtitle1", fontWeight: 600, children: e == null ? void 0 : e.name }),
                  e && r.jsx(L, { variant: "body2", color: "text.secondary", children: i(Et[e.type].name) }),
                ],
              }),
              r.jsxs(Qn, {
                children: [
                  (m = e == null ? void 0 : e.edges.groups) == null
                    ? void 0
                    : m.map((v) => r.jsx(br, { sx: { mr: 1 }, label: v.name, size: "small" }, v.name)),
                  !(e != null && e.edges.groups) &&
                    r.jsxs(T, {
                      sx: { display: "flex", alignItems: "center", minHeight: "25px" },
                      color: "text.secondary",
                      children: [
                        r.jsx(Sp, { sx: { mr: 0.5, fontSize: 20 } }),
                        r.jsx(L, { variant: "caption", children: i("policy.noGroupBinded") }),
                      ],
                    }),
                ],
              }),
              r.jsx(bt, { sx: { my: 1 } }),
              r.jsxs(T, {
                sx: { display: "flex", justifyContent: "space-between", alignItems: "center" },
                children: [
                  r.jsx(L, {
                    variant: "body2",
                    color: "text.secondary",
                    children: c
                      ? r.jsx(ce, { variant: "text", width: 30 })
                      : s
                        ? i("policy.policySummary", { count: s.entities_count ?? 0, size: Gt(s.entities_size ?? 0) })
                        : r.jsx(Z, { underline: "hover", href: "#/", onClick: p, children: i("policy.loadSummary") }),
                  }),
                  r.jsx($e, { size: "small", onClick: g, children: r.jsx(ur, { fontSize: "small" }) }),
                ],
              }),
            ],
          }),
        });
  },
  lr = (e) => {
    const { t } = F("dashboard"),
      { enforceProtocol: n, enforcePrefix: i = !0, onChange: a, ...s } = e,
      [o, l] = f.useState(e.value ?? ""),
      d = f.useCallback(
        (u) => {
          l(u.target.value), a == null || a(u);
        },
        [a],
      ),
      c = f.useMemo(() => (n ? o.startsWith("http://") && window.location.protocol == "https:" : !1), [n, o]);
    return r.jsx(W, {
      onChange: d,
      value: e.value,
      slotProps: {
        htmlInput: { pattern: i ? "^https?://.*$" : void 0, title: i ? t("settings.startWithProtocol") : void 0 },
      },
      error: c,
      helperText: c ? t("settings.tlsWarning") : void 0,
      ...s,
    });
  };
var sf = ((e) => (
    (e.IO_INTENSE = "io_intense"),
    (e.MEDIA_META = "media_meta"),
    (e.RECYCLE = "recycle"),
    (e.THUMB = "thumb"),
    (e.REMOTE_DOWNLOAD = "remote_download"),
    e
  ))(sf || {}),
  yr = ((e) => ((e.master = "master"), (e.slave = "slave"), e))(yr || {}),
  Ur = ((e) => ((e.qbittorrent = "qbittorrent"), (e.aria2 = "aria2"), e))(Ur || {}),
  _n = ((e) => ((e.active = "active"), (e.suspended = "suspended"), e))(_n || {}),
  wn = ((e) => (
    (e.active = "active"),
    (e.inactive = "inactive"),
    (e.manual_banned = "manual_banned"),
    (e.sys_banned = "sys_banned"),
    e
  ))(wn || {});
function ej(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M17.753 14a2.25 2.25 0 0 1 2.25 2.25v.904A3.75 3.75 0 0 1 18.696 20c-1.565 1.344-3.806 2-6.696 2c-2.89 0-5.128-.656-6.69-2a3.75 3.75 0 0 1-1.306-2.843v-.908A2.25 2.25 0 0 1 6.254 14zm0 1.5h-11.5a.75.75 0 0 0-.75.75v.907c0 .655.287 1.278.784 1.706C7.545 19.945 9.441 20.5 12 20.5c2.56 0 4.458-.557 5.72-1.64a2.25 2.25 0 0 0 .783-1.707v-.905a.75.75 0 0 0-.75-.75M11.9 2.006L12 2a.75.75 0 0 1 .743.648l.007.102l-.001.749h3.5a2.25 2.25 0 0 1 2.25 2.25v4.505a2.25 2.25 0 0 1-2.25 2.25h-8.5a2.25 2.25 0 0 1-2.25-2.25V5.75A2.25 2.25 0 0 1 7.75 3.5l3.5-.001V2.75a.75.75 0 0 1 .649-.743L12 2zM16.25 5h-8.5a.75.75 0 0 0-.75.75v4.504c0 .414.336.75.75.75h8.5a.75.75 0 0 0 .75-.75V5.75a.75.75 0 0 0-.75-.75m-6.5 1.5a1.25 1.25 0 1 1 0 2.498a1.25 1.25 0 0 1 0-2.498m4.492 0a1.25 1.25 0 1 1 0 2.498a1.25 1.25 0 0 1 0-2.498",
    }),
  });
}
function tj(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M3.839 5.858c2.94-3.916 9.03-5.055 13.364-2.36c4.28 2.66 5.854 7.777 4.1 12.577c-1.655 4.533-6.016 6.328-9.159 4.048c-1.177-.854-1.634-1.925-1.854-3.664l-.106-.987l-.045-.398c-.123-.934-.311-1.352-.705-1.572c-.535-.298-.892-.305-1.595-.033l-.351.146l-.179.078c-1.014.44-1.688.595-2.541.416l-.2-.047l-.164-.047c-2.789-.864-3.202-4.647-.565-8.157m.984 6.716l.123.037l.134.03c.439.087.814.015 1.437-.242l.602-.257c1.202-.493 1.985-.54 3.046.05c.917.512 1.275 1.298 1.457 2.66l.053.459l.055.532l.047.422c.172 1.361.485 2.09 1.248 2.644c2.275 1.65 5.534.309 6.87-3.349c1.516-4.152.174-8.514-3.484-10.789c-3.675-2.284-8.899-1.306-11.373 1.987c-2.075 2.763-1.82 5.28-.215 5.816m11.225-1.994a1.25 1.25 0 1 1 2.414-.647a1.25 1.25 0 0 1-2.414.647m.494 3.488a1.25 1.25 0 1 1 2.415-.647a1.25 1.25 0 0 1-2.415.647M14.07 7.577a1.25 1.25 0 1 1 2.415-.647a1.25 1.25 0 0 1-2.415.647m-.028 8.998a1.25 1.25 0 1 1 2.414-.647a1.25 1.25 0 0 1-2.414.647m-3.497-9.97a1.25 1.25 0 1 1 2.415-.646a1.25 1.25 0 0 1-2.415.646",
    }),
  });
}
function rj(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M6.252 2.002a.75.75 0 0 1 .75.75v.314A4.251 4.251 0 0 1 10.5 7.25v1.001a.75.75 0 0 1-1.5 0V7.25a2.751 2.751 0 0 0-1.998-2.646v6.926l.83.405a4.75 4.75 0 0 1 2.668 4.27v.524a4.251 4.251 0 0 1-3.498 4.183v.336a.75.75 0 0 1-1.5 0v-.335A4.251 4.251 0 0 1 2 16.729v-.981a.75.75 0 0 1 1.5 0v.98c0 1.26.847 2.322 2.002 2.648v-6.908l-.834-.407A4.75 4.75 0 0 1 2 7.791V7.25a4.251 4.251 0 0 1 3.502-4.184v-.314a.75.75 0 0 1 .75-.75zM19.5 3c.716 0 1.52.2 2.163.624a.75.75 0 0 1-.826 1.252c-.364-.24-.87-.376-1.337-.376c-1.274 0-2.506.74-3.45 2.095c-.58.83-1.032 1.871-1.295 3.047l-.073.357L16.25 10a.75.75 0 0 1 .101 1.493l-.102.007h-1.737c-.007.165-.011.332-.011.5l.003.251l.008.25h1.738a.75.75 0 0 1 .101 1.492L16.25 14h-1.567c.247 1.323.73 2.49 1.367 3.405c.945 1.355 2.177 2.095 3.451 2.095c.427 0 .859-.094 1.19-.278l.136-.084a.75.75 0 0 1 .856 1.232c-.665.462-1.487.63-2.182.63c-1.901 0-3.544-1.107-4.681-2.738c-.753-1.079-1.305-2.413-1.593-3.89L13.16 14h-1.41a.75.75 0 0 1-.102-1.493l.102-.007h1.26c-.007-.166-.01-.332-.01-.5l.002-.252l.008-.25h-1.26a.75.75 0 0 1-.101-1.494l.102-.006h1.409c.264-1.624.844-3.091 1.659-4.26C15.956 4.107 17.599 3 19.5 3zM7.002 13.199v6.176a2.752 2.752 0 0 0 1.992-2.46L9 16.73v-.525a3.25 3.25 0 0 0-1.643-2.825l-.183-.096l-.172-.084zm-1.5-8.596a2.752 2.752 0 0 0-1.996 2.46L3.5 7.25v.542a3.25 3.25 0 0 0 1.643 2.825l.183.096l.176.086V4.603z",
      "fill-rule": "nonzero",
    }),
  });
}
function nj(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M2 5.25A3.25 3.25 0 0 1 5.25 2h9.5A3.25 3.25 0 0 1 18 5.25V8h-1.5V5.25a1.75 1.75 0 0 0-1.75-1.75h-9.5A1.75 1.75 0 0 0 3.5 5.25v7.5c0 .966.784 1.75 1.75 1.75H8V16H5.25A3.25 3.25 0 0 1 2 12.75zm17 8a1.25 1.25 0 1 1-2.5 0a1.25 1.25 0 0 1 2.5 0m-10-1A3.25 3.25 0 0 1 12.25 9h6.5A3.25 3.25 0 0 1 22 12.25v6.5A3.25 3.25 0 0 1 18.75 22h-6.5A3.25 3.25 0 0 1 9 18.75zm3.25-1.75a1.75 1.75 0 0 0-1.75 1.75v6.5c0 .19.03.372.086.542l3.394-3.185a2.25 2.25 0 0 1 3.074 0l3.37 3.153c.05-.162.076-.333.076-.51v-6.5a1.75 1.75 0 0 0-1.75-1.75zm0 10h6.5c.235 0 .46-.047.665-.13l-3.386-3.168a.75.75 0 0 0-1.024 0l-3.388 3.18c.196.076.41.118.633.118M5.75 5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-1.5 0v-.5A.75.75 0 0 1 5.75 5m.75 3.75a.75.75 0 0 0-1.5 0v.5a.75.75 0 0 0 1.5 0zM14.25 5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-1.5 0v-.5a.75.75 0 0 1 .75-.75M6.5 11.75a.75.75 0 0 0-1.5 0v.5a.75.75 0 0 0 1.5 0z",
    }),
  });
}
function Dc(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M18 16.663a3.5 3.5 0 0 1-1.373-1.163a3.5 3.5 0 0 1-.627-2a3.5 3.5 0 1 1 4.5 3.355V17l1.146 1.146a.5.5 0 0 1 0 .708L20.5 20l1.161 1.161a.5.5 0 0 1 .015.692l-1.823 1.984a.5.5 0 0 1-.722.015l-.985-.984a.5.5 0 0 1-.146-.354zM20.5 13a1 1 0 1 0-2 0a1 1 0 0 0 2 0M12 22.001c1.969 0 3.64-.354 5-1.069v-1.76c-1.223.883-2.88 1.33-5 1.33c-2.738 0-4.704-.747-5.957-2.214a2.25 2.25 0 0 1-.54-1.462v-.577a.75.75 0 0 1 .75-.75h9.215a4.5 4.5 0 0 1-.44-1.5H6.252a2.25 2.25 0 0 0-2.25 2.25v.578c0 .892.32 1.756.9 2.435c1.565 1.834 3.952 2.74 7.097 2.74m0-19.996a5 5 0 1 1 0 10a5 5 0 0 1 0-10m0 1.5a3.5 3.5 0 1 0 0 7a3.5 3.5 0 0 0 0-7",
    }),
  });
}
function ij(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M10.5 18.5h5.75a.75.75 0 0 1 0 1.5H10.5a6.5 6.5 0 1 1 0-13h5.95l-2.616-2.617a.75.75 0 0 1 1.06-1.06l3.882 3.882c.1.1.166.22.198.348a.75.75 0 0 1-.205.739l-3.88 3.88a.75.75 0 1 1-1.06-1.061l2.61-2.611H10.5a5 5 0 0 0 0 10",
    }),
  });
}
function aj(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M3 5.75A2.75 2.75 0 0 1 5.75 3h9.965a3.25 3.25 0 0 1 2.298.952l2.035 2.035c.61.61.952 1.437.952 2.299v9.964A2.75 2.75 0 0 1 18.25 21H5.75A2.75 2.75 0 0 1 3 18.25zM5.75 4.5c-.69 0-1.25.56-1.25 1.25v12.5c0 .69.56 1.25 1.25 1.25H6v-5.25A2.25 2.25 0 0 1 8.25 12h7.5A2.25 2.25 0 0 1 18 14.25v5.25h.25c.69 0 1.25-.56 1.25-1.25V8.286c0-.465-.184-.91-.513-1.238l-2.035-2.035a1.75 1.75 0 0 0-.952-.49V7.25a2.25 2.25 0 0 1-2.25 2.25h-4.5A2.25 2.25 0 0 1 7 7.25V4.5zm10.75 15v-5.25a.75.75 0 0 0-.75-.75h-7.5a.75.75 0 0 0-.75.75v5.25zm-8-15v2.75c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75V4.5z",
    }),
  });
}
const sj = et(T)(({ theme: e }) => ({
    padding: e.spacing(2),
    border: `1px solid ${e.palette.divider}`,
    borderRadius: e.shape.borderRadius,
    marginTop: e.spacing(2),
    position: "fixed",
    backgroundColor: e.palette.background.paper,
    bottom: 23,
    zIndex: e.zIndex.modal,
  })),
  Xs = ({ in: e, submitting: t, revert: n, submit: i, disabled: a }) => {
    const { t: s } = F("dashboard");
    return r.jsxs(r.Fragment, {
      children: [
        r.jsx(T, { sx: { height: 70 } }),
        r.jsx(Vx, {
          in: e,
          children: r.jsxs(sj, {
            children: [
              r.jsx(Us, {
                loading: t,
                onClick: i,
                variant: "contained",
                startIcon: r.jsx(aj, {}),
                disabled: a,
                children: r.jsx("span", { children: s("settings.save") }),
              }),
              r.jsx(ke, {
                disabled: t,
                onClick: n,
                sx: { ml: 1 },
                variant: "contained",
                startIcon: r.jsx(ij, {}),
                children: s("settings.revert"),
              }),
            ],
          }),
        }),
      ],
    });
  },
  vt = f.createContext({ values: {}, setSettings: () => {} }),
  Ut = ({ settings: e, children: t }) => {
    const n = ge();
    F("dashboard");
    const [i, a] = f.useState({}),
      [s, o] = f.useState({}),
      [l, d] = f.useState(!0),
      [c, u] = f.useState(!1),
      h = (x) => {
        o((j) => ({ ...j, ...x }));
      },
      p = f.useRef(null),
      g = f.useMemo(() => JSON.stringify(s) !== JSON.stringify(i), [s, i]);
    f.useEffect(() => {
      d(!0),
        n(Fx({ keys: e }))
          .then((x) => {
            a(x), o(x);
          })
          .finally(() => {
            d(!1);
          });
    }, [e]);
    const m = () => {
        o(i);
      },
      v = () => {
        if (p.current && !p.current.checkValidity()) {
          p.current.reportValidity();
          return;
        }
        const x = {};
        Object.keys(s).forEach((j) => {
          s[j] !== i[j] && (x[j] = s[j]);
        }),
          u(!0),
          n(Cp({ settings: x }))
            .then((j) => {
              a((b) => ({ ...b, ...j })), o((b) => ({ ...b, ...j }));
            })
            .finally(() => {
              u(!1);
            });
      };
    return r.jsx(vt.Provider, {
      value: { values: s, setSettings: h, formRef: p },
      children: r.jsx(Kt, {
        children: r.jsx(
          Ht,
          {
            addEndListener: (x, j) => x.addEventListener("transitionend", j, !1),
            classNames: "fade",
            children: r.jsxs(T, {
              sx: { mt: 3 },
              children: [
                l &&
                  r.jsx(T, {
                    sx: { pt: 20, height: "100%", display: "flex", justifyContent: "center", alignItems: "center" },
                    children: r.jsx(St, {}),
                  }),
                !l && r.jsxs(T, { children: [t, r.jsx(Xs, { in: g, submitting: c, revert: m, submit: v })] }),
              ],
            }),
          },
          `${l}`,
        ),
      }),
    });
  },
  Cd = ({ footer: e, bottom: t }) => {
    const { t: n } = F("application");
    return r.jsx(T, {
      sx: {
        borderRadius: 1,
        backgroundColor: (i) => (i.palette.mode === "light" ? i.palette.grey[100] : i.palette.grey[900]),
      },
      children: r.jsx(Lt, {
        maxWidth: "xs",
        children: r.jsxs(Dt, {
          container: !0,
          spacing: 0,
          direction: "column",
          alignItems: "center",
          justifyContent: "center",
          sx: { minHeight: "100px" },
          children: [
            r.jsx(T, {
              sx: { width: "100%", py: 2 },
              children: r.jsxs(Vi, {
                sx: { padding: (i) => `${i.spacing(2)} ${i.spacing(3)} ${i.spacing(3)}` },
                children: [
                  r.jsx(qx, { sx: { maxWidth: "40%", maxHeight: "40px", mb: 2 } }),
                  r.jsx("div", {
                    children: r.jsxs(T, {
                      sx: { display: "block" },
                      children: [
                        r.jsx(L, { variant: "h6", children: n("login.siginToYourAccount") }),
                        r.jsx($, {
                          variant: "standard",
                          margin: "normal",
                          fullWidth: !0,
                          children: r.jsx(Ux, { label: n("login.email"), variant: "outlined", icon: r.jsx(Sc, {}) }),
                        }),
                        r.jsx(Us, {
                          sx: { mt: 2 },
                          fullWidth: !0,
                          variant: "contained",
                          color: "primary",
                          children: r.jsx("span", { children: n("login.continue") }),
                        }),
                        t &&
                          r.jsx(T, {
                            sx: { width: "100%" },
                            children: r.jsx("div", { dangerouslySetInnerHTML: { __html: t } }),
                          }),
                      ],
                    }),
                  }),
                ],
              }),
            }),
            r.jsx(Kx, {}),
            e &&
              r.jsx(T, {
                sx: { mb: 2, width: "100%" },
                children: r.jsx("div", { dangerouslySetInnerHTML: { __html: e } }),
              }),
          ],
        }),
      }),
    });
  },
  oj = ({ bottom: e }) =>
    r.jsxs(T, {
      sx: {
        maxWidth: "300px",
        borderRadius: 1,
        backgroundColor: (t) => (t.palette.mode === "light" ? t.palette.grey[100] : t.palette.grey[900]),
      },
      children: [
        r.jsx(hv, { disabled: !0 }),
        r.jsxs(le, {
          direction: "column",
          spacing: 2,
          sx: { px: 1, pb: 1, flexGrow: 1, mx: 1, overflow: "auto" },
          children: [
            r.jsxs(T, {
              sx: { width: "100%" },
              children: [
                r.jsx(ko, { item: { label: "navbar.remoteDownload", icon: [pv, Hx], path: "#1" } }),
                r.jsx(ko, { item: { label: "navbar.connect", icon: [fv, gv], path: "#1" } }),
                r.jsx(ko, { item: { label: "navbar.taskQueue", icon: [xv, rf], path: "#1" } }),
              ],
            }),
            r.jsx(mv, {}),
            e &&
              r.jsx(T, {
                sx: { width: "100%" },
                children: r.jsx("div", { dangerouslySetInnerHTML: { __html: e ?? "" } }),
              }),
          ],
        }),
      ],
    }),
  lj = ({}) => {
    const { t: e } = F("dashboard"),
      { formRef: t, setSettings: n, values: i } = f.useContext(vt),
      a = Ge();
    return r.jsxs(T, {
      children: [
        r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("settings.customHTML") }),
        r.jsx(L, { variant: "body2", color: "text.secondary", paragraph: !0, children: e("settings.customHTMLDes") }),
        r.jsxs(le, {
          spacing: 3,
          children: [
            r.jsx(P, {
              title: e("settings.headlessFooter"),
              lgWidth: 5,
              spacing: 3,
              secondary: r.jsx(_t, {
                size: { md: 7, xs: 12 },
                children: r.jsx(Cd, { footer: i.headless_footer_html ?? "" }),
              }),
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(f.Suspense, {
                    fallback: r.jsx(vn, {}),
                    children: r.jsx(Ao, {
                      theme: a.palette.mode === "dark" ? "vs-dark" : "vs",
                      value: i.headless_footer_html,
                      height: "300px",
                      minHeight: "300px",
                      language: "html",
                      onChange: (s) => n({ headless_footer_html: s }),
                    }),
                  }),
                  r.jsx(A, { children: e("settings.headlessFooterDes") }),
                ],
              }),
            }),
            r.jsx(P, {
              title: e("settings.headlessBottom"),
              lgWidth: 5,
              spacing: 3,
              secondary: r.jsx(_t, {
                size: { md: 7, xs: 12 },
                children: r.jsx(Cd, { bottom: i.headless_bottom_html ?? "" }),
              }),
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(f.Suspense, {
                    fallback: r.jsx(vn, {}),
                    children: r.jsx(Ao, {
                      theme: a.palette.mode === "dark" ? "vs-dark" : "vs",
                      value: i.headless_bottom_html,
                      height: "300px",
                      minHeight: "300px",
                      language: "html",
                      onChange: (s) => n({ headless_bottom_html: s }),
                    }),
                  }),
                  r.jsx(A, { children: e("settings.headlessBottomDes") }),
                ],
              }),
            }),
            r.jsx(P, {
              title: e("settings.sidebarBottom"),
              lgWidth: 5,
              spacing: 3,
              secondary: r.jsx(_t, {
                size: { md: 7, xs: 12 },
                children: r.jsx(oj, { bottom: i.sidebar_bottom_html ?? "" }),
              }),
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(f.Suspense, {
                    fallback: r.jsx(vn, {}),
                    children: r.jsx(Ao, {
                      theme: a.palette.mode === "dark" ? "vs-dark" : "vs",
                      value: i.sidebar_bottom_html,
                      height: "300px",
                      minHeight: "300px",
                      language: "html",
                      onChange: (s) => n({ sidebar_bottom_html: s }),
                    }),
                  }),
                  r.jsx(A, { children: e("settings.sidebarBottomDes") }),
                ],
              }),
            }),
          ],
        }),
      ],
    });
  },
  Pd = "custom-nav-item-row",
  cj = N.memo(
    N.forwardRef(
      (
        {
          item: e,
          index: t,
          moveRow: n,
          onDelete: i,
          onMoveUp: a,
          onMoveDown: s,
          isFirst: o,
          isLast: l,
          inputCache: d,
          onInputChange: c,
          onInputBlur: u,
          IconPreview: h,
          t: p,
          style: g,
        },
        m,
      ) => {
        var _, S, y;
        const [, v] = ya({
            accept: Pd,
            hover(w, C) {
              if (!(m && typeof m != "function" && m.current)) return;
              const O = w.index,
                k = t;
              if (O === k) return;
              const D = m.current.getBoundingClientRect(),
                E = (D.bottom - D.top) / 2,
                I = C.getClientOffset();
              if (!I) return;
              const z = I.y - D.top;
              (O < k && z < E) || (O > k && z > E) || (n(O, k), (w.index = k));
            },
          }),
          [{ isDragging: x }, j] = ja({
            type: Pd,
            item: { index: t },
            collect: (w) => ({ isDragging: w.isDragging() }),
          }),
          b = (w) => {
            typeof m == "function" ? m(w) : m && (m.current = w), j(v(w));
          };
        return r.jsxs(je, {
          ref: b,
          hover: !0,
          style: { opacity: x ? 0.5 : 1, cursor: "move", ...g },
          children: [
            r.jsx(pe, { children: r.jsx(h, { iconName: e.icon }) }),
            r.jsx(pe, {
              children: r.jsx(W, {
                fullWidth: !0,
                required: !0,
                value: ((_ = d[t]) == null ? void 0 : _.icon) ?? e.icon,
                onChange: (w) => c(t, "icon", w.target.value),
                onBlur: () => u(t, "icon"),
                placeholder: p("settings.iconifyNamePlaceholder"),
              }),
            }),
            r.jsx(pe, {
              children: r.jsx(W, {
                fullWidth: !0,
                required: !0,
                value: ((S = d[t]) == null ? void 0 : S.name) ?? e.name,
                onChange: (w) => c(t, "name", w.target.value),
                onBlur: () => u(t, "name"),
                placeholder: p("settings.displayNameDes"),
              }),
            }),
            r.jsx(pe, {
              children: r.jsx(W, {
                fullWidth: !0,
                required: !0,
                value: ((y = d[t]) == null ? void 0 : y.url) ?? e.url,
                onChange: (w) => c(t, "url", w.target.value),
                onBlur: () => u(t, "url"),
                placeholder: "https://example.com",
              }),
            }),
            r.jsx(pe, {
              align: "right",
              children: r.jsx($e, { size: "small", onClick: () => i(t), children: r.jsx(ur, { fontSize: "small" }) }),
            }),
            r.jsxs(pe, {
              children: [
                r.jsx($e, {
                  size: "small",
                  onClick: a,
                  disabled: o,
                  children: r.jsx(kr, { sx: { width: "18px", height: "18px", transform: "rotate(180deg)" } }),
                }),
                r.jsx($e, {
                  size: "small",
                  onClick: s,
                  disabled: l,
                  children: r.jsx(kr, { sx: { width: "18px", height: "18px" } }),
                }),
              ],
            }),
          ],
        });
      },
    ),
  ),
  dj = ({ value: e, onChange: t }) => {
    const { t: n } = F("dashboard"),
      i = Ge(),
      [a, s] = f.useState([]),
      [o, l] = f.useState({});
    f.useEffect(() => {
      try {
        const b = JSON.parse(e);
        s(Array.isArray(b) ? b : []);
      } catch {
        s([]);
      }
    }, [e]);
    const d = f.useCallback(
        (b) => {
          t(JSON.stringify(b));
        },
        [t],
      ),
      c = f.useCallback(
        (b) => {
          const _ = a.filter((S, y) => y !== b);
          d(_);
        },
        [a, d],
      ),
      u = f.useCallback(() => {
        const b = [...a, { name: "", url: "", icon: "fluent:home-24-regular" }];
        d(b);
      }, [a, d]),
      h = f.useCallback(
        (b, _, S) => {
          const y = [...a];
          (y[b] = { ...y[b], [_]: S }), d(y);
        },
        [a, d],
      ),
      p = f.useCallback((b, _, S) => {
        l((y) => ({ ...y, [b]: { ...y[b], [_]: S } }));
      }, []),
      g = f.useCallback(
        (b, _) => {
          var y;
          const S = (y = o[b]) == null ? void 0 : y[_];
          S !== void 0 && (h(b, _, S), l((w) => ({ ...w, [b]: { ...w[b], [_]: void 0 } })));
        },
        [o, h],
      ),
      m = f.useCallback(
        (b, _) => {
          if (b === _) return;
          const S = [...a],
            [y] = S.splice(b, 1);
          S.splice(_, 0, y), s(S), d(S);
        },
        [a, d],
      ),
      v = (b) => {
        b <= 0 || m(b, b - 1);
      },
      x = (b) => {
        b >= a.length - 1 || m(b, b + 1);
      },
      j = f.useMemo(
        () =>
          ({ iconName: b }) =>
            b
              ? r.jsx(Cc, { icon: b, width: 24, height: 24, style: { color: i.palette.action.active } })
              : r.jsx(T, { sx: { width: 24, height: 24, bgcolor: "grey.300", borderRadius: "4px" } }),
        [],
      );
    return r.jsxs(T, {
      children: [
        r.jsx(L, { variant: "h6", gutterBottom: !0, children: n("settings.customNavItems") }),
        r.jsx(L, {
          variant: "body2",
          color: "text.secondary",
          paragraph: !0,
          children: n("settings.customNavItemsDes"),
        }),
        r.jsx(ot, {
          component: xt,
          sx: { mt: 2 },
          children: r.jsx(ba, {
            backend: _a,
            children: r.jsxs(lt, {
              size: "small",
              stickyHeader: !0,
              sx: { width: "100%", tableLayout: "fixed" },
              children: [
                r.jsx(ct, {
                  children: r.jsxs(je, {
                    children: [
                      r.jsx(M, { width: 60, children: n("settings.icon") }),
                      r.jsx(M, { width: 200, children: n("settings.iconifyName") }),
                      r.jsx(M, { width: 200, children: n("settings.displayName") }),
                      r.jsx(M, { width: 250, children: n("settings.navItemUrl") }),
                      r.jsx(M, { width: 80, align: "right" }),
                      r.jsx(M, { width: 80 }),
                    ],
                  }),
                }),
                r.jsxs(dt, {
                  children: [
                    a.map((b, _) => {
                      const S = N.createRef();
                      return r.jsx(
                        cj,
                        {
                          ref: S,
                          item: b,
                          index: _,
                          moveRow: m,
                          onDelete: c,
                          onMoveUp: () => v(_),
                          onMoveDown: () => x(_),
                          isFirst: _ === 0,
                          isLast: _ === a.length - 1,
                          inputCache: o,
                          onInputChange: p,
                          onInputBlur: g,
                          IconPreview: j,
                          t: n,
                        },
                        _,
                      );
                    }),
                    a.length === 0 &&
                      r.jsx(je, {
                        children: r.jsx(we, {
                          colSpan: 6,
                          align: "center",
                          children: r.jsx(L, {
                            variant: "caption",
                            color: "text.secondary",
                            children: n("application:setting.listEmpty"),
                          }),
                        }),
                      }),
                  ],
                }),
              ],
            }),
          }),
        }),
        r.jsx(ke, {
          variant: "contained",
          startIcon: r.jsx(Rt, {}),
          onClick: u,
          sx: { mt: 2 },
          children: n("settings.addNavItem"),
        }),
      ],
    });
  },
  Vn = ({ currentColor: e, onColorChange: t, ...n }) =>
    r.jsx(W, {
      value: e,
      onChange: (i) => {
        t(i.target.value);
      },
      type: "text",
      InputProps: {
        endAdornment: r.jsx(Lr, {
          position: "end",
          children: r.jsx(Gx, {
            showColorValueInCustomization: !0,
            colors: [Xx],
            selectedColor: e,
            onChange: (i) => t(i),
          }),
        }),
      },
      ...n,
    }),
  uj = f.lazy(() => rn(() => import("./MonacoEditor-BnsLKTuc.js"), __vite__mapDeps([0, 1, 2, 3, 4, 5, 6, 7]))),
  hj = ({ open: e, onClose: t, id: n, config: i, onSave: a }) => {
    const { t: s } = F("dashboard"),
      o = Ge(),
      { enqueueSnackbar: l } = ut(),
      [d, c] = f.useState(i),
      [u, h] = f.useState(null);
    f.useEffect(() => {
      try {
        h(JSON.parse(i));
      } catch {
        h(null);
      }
    }, [i]),
      f.useEffect(() => {
        try {
          h(JSON.parse(d));
        } catch {}
      }, [d]);
    const p = f.useCallback(() => {
        var v, x, j;
        try {
          const b = JSON.parse(d);
          if (!((j = (x = (v = b.light) == null ? void 0 : v.palette) == null ? void 0 : x.primary) != null && j.main))
            throw new Error("Invalid theme config");
          const _ = b.light.palette.primary.main;
          a(n, _, d);
        } catch {
          l({ message: s("settings.invalidThemeConfig"), variant: "warning", action: nt });
        }
      }, [d, n, a, l, s]),
      g = f.useMemo(() => {
        if (!u) return null;
        try {
          return pd({ palette: { mode: "light", ...u.light.palette } });
        } catch {
          return null;
        }
      }, [u]),
      m = f.useMemo(() => {
        if (!u) return null;
        try {
          return pd({ palette: { mode: "dark", ...u.dark.palette } });
        } catch {
          return null;
        }
      }, [u]);
    return r.jsx(st, {
      title: s("settings.editThemeOption"),
      showActions: !0,
      showCancel: !0,
      onAccept: p,
      dialogProps: { fullWidth: !0, maxWidth: "lg", open: e, onClose: t },
      children: r.jsx(gt, {
        children: r.jsxs(Dt, {
          container: !0,
          spacing: 2,
          children: [
            r.jsxs(Dt, {
              item: !0,
              xs: 12,
              md: 6,
              children: [
                r.jsx(L, { variant: "subtitle1", gutterBottom: !0, children: s("settings.themeConfiguration") }),
                r.jsx(f.Suspense, {
                  fallback: r.jsx(St, {}),
                  children: r.jsx(uj, {
                    theme: o.palette.mode === "dark" ? "vs-dark" : "vs",
                    value: d,
                    height: "500px",
                    minHeight: "500px",
                    language: "json",
                    onChange: (v) => c(v),
                  }),
                }),
                r.jsx(L, {
                  sx: { mt: 1 },
                  variant: "caption",
                  color: "text.secondary",
                  gutterBottom: !0,
                  children: r.jsx(X, {
                    i18nKey: "settings.themeDes",
                    ns: "dashboard",
                    components: [
                      r.jsx(Z, { href: "https://mui.com/material-ui/customization/default-theme/", target: "_blank" }),
                    ],
                  }),
                }),
              ],
            }),
            r.jsxs(Dt, {
              item: !0,
              xs: 12,
              md: 6,
              children: [
                r.jsx(L, { variant: "subtitle1", gutterBottom: !0, children: s("settings.themePreview") }),
                r.jsxs(T, {
                  sx: { mb: 2 },
                  children: [
                    r.jsx(L, { variant: "subtitle2", gutterBottom: !0, children: s("settings.lightTheme") }),
                    g
                      ? r.jsx(fd, {
                          theme: gd(g),
                          children: r.jsx(Vi, {
                            elevation: 2,
                            sx: { p: 2, mb: 2 },
                            children: r.jsxs(le, {
                              spacing: 2,
                              children: [
                                r.jsx(L, { variant: "h6", children: s("settings.previewTitle") }),
                                r.jsx(xd, {
                                  active: !0,
                                  label: s("settings.previewTitle"),
                                  icon: r.jsx(ll, { fontSize: "small", color: "action" }),
                                }),
                                r.jsx(md, {
                                  label: s("settings.previewTextField"),
                                  variant: "outlined",
                                  size: "small",
                                }),
                                r.jsx(T, {
                                  children: r.jsx(An, {
                                    badgeContent: 10,
                                    color: "secondary",
                                    children: r.jsx(Pe, {
                                      variant: "contained",
                                      color: "primary",
                                      children: s("settings.previewPrimary"),
                                    }),
                                  }),
                                }),
                              ],
                            }),
                          }),
                        })
                      : r.jsx(L, { color: "error", children: s("settings.invalidThemePreview") }),
                  ],
                }),
                r.jsx(bt, { sx: { my: 2 } }),
                r.jsxs(T, {
                  children: [
                    r.jsx(L, { variant: "subtitle2", gutterBottom: !0, children: s("settings.darkTheme") }),
                    m
                      ? r.jsx(fd, {
                          theme: gd(m),
                          children: r.jsx(Vi, {
                            elevation: 2,
                            sx: { p: 2, mb: 2 },
                            children: r.jsxs(le, {
                              spacing: 2,
                              children: [
                                r.jsx(L, { variant: "h6", children: s("settings.previewTitle") }),
                                r.jsx(xd, {
                                  active: !0,
                                  label: s("settings.previewTitle"),
                                  icon: r.jsx(ll, { fontSize: "small", color: "action" }),
                                }),
                                r.jsx(md, {
                                  label: s("settings.previewTextField"),
                                  variant: "outlined",
                                  size: "small",
                                }),
                                r.jsx(T, {
                                  children: r.jsx(An, {
                                    badgeContent: 10,
                                    color: "secondary",
                                    children: r.jsx(Pe, {
                                      variant: "contained",
                                      color: "primary",
                                      children: s("settings.previewPrimary"),
                                    }),
                                  }),
                                }),
                              ],
                            }),
                          }),
                        })
                      : r.jsx(L, { color: "error", children: s("settings.invalidThemePreview") }),
                  ],
                }),
              ],
            }),
          ],
        }),
      }),
    });
  },
  pj = ({ value: e, onChange: t, defaultTheme: n, onDefaultThemeChange: i }) => {
    const { t: a } = F("dashboard");
    Ge();
    const { enqueueSnackbar: s } = ut(),
      [o, l] = f.useState({}),
      [d, c] = f.useState(null),
      [u, h] = f.useState(!1);
    f.useEffect(() => {
      try {
        const y = JSON.parse(e);
        l(y);
      } catch {
        l({});
      }
    }, [e]);
    const p = f.useCallback(
        (y) => {
          t(JSON.stringify(y));
        },
        [t],
      ),
      g = f.useCallback(
        (y) => {
          if (y === n) {
            s({ message: a("settings.cannotDeleteDefaultTheme"), variant: "warning", action: nt });
            return;
          }
          const w = { ...o };
          delete w[y], p(w);
        },
        [o, p, n, s, a],
      ),
      m = f.useCallback(
        (y) => {
          c({ id: y, config: o[y] }), h(!0);
        },
        [o],
      ),
      v = f.useCallback(() => {
        const y = `#${Math.floor(Math.random() * 16777215).toString(16)}`;
        c({
          id: y,
          config: {
            light: { palette: { primary: { main: y }, secondary: { main: "#f50057" } } },
            dark: { palette: { primary: { main: y }, secondary: { main: "#f50057" } } },
          },
        }),
          h(!0);
      }, []),
      x = f.useCallback(() => {
        h(!1), c(null);
      }, []),
      j = f.useCallback(
        (y, w, C) => {
          try {
            const O = JSON.parse(C),
              k = { ...o };
            if (y !== w) {
              if (k[w]) {
                s({ message: a("settings.duplicateThemeColor"), variant: "warning", action: nt });
                return;
              }
              y === n && i(w), delete k[y];
            }
            (k[w] = O), p(k), h(!1), c(null);
          } catch {
            s({ message: a("settings.invalidThemeConfig"), variant: "warning", action: nt });
          }
        },
        [o, p, s, n, i, a],
      ),
      b = f.useCallback(
        (y, w, C, O) => {
          const k = { ...o };
          if (w === "primary" && C === "light") {
            const D = O;
            if (k[D] && D !== y) {
              s({ message: a("settings.duplicateThemeColor"), variant: "warning", action: nt });
              return;
            }
            const E = { ...k[y] };
            (E[C].palette[w].main = O), delete k[y], (k[D] = E), y === n && i(D);
          } else k[y][C].palette[w].main = O;
          p(k);
        },
        [o, p, s, a, n, i],
      ),
      _ = f.useCallback(
        (y) => {
          i(y);
        },
        [i],
      ),
      S = f.useMemo(() => Object.entries(o).map(([y, w]) => ({ id: y, config: w })), [o]);
    return r.jsxs(T, {
      children: [
        r.jsx(L, { variant: "h6", gutterBottom: !0, children: a("settings.themeOptions") }),
        r.jsx(L, { variant: "body2", color: "text.secondary", paragraph: !0, children: a("settings.themeOptionsDes") }),
        S.length > 0 &&
          r.jsx(ot, {
            component: xt,
            sx: { mt: 2 },
            children: r.jsxs(lt, {
              size: "small",
              stickyHeader: !0,
              sx: { width: "100%", tableLayout: "fixed" },
              children: [
                r.jsx(ct, {
                  children: r.jsxs(je, {
                    children: [
                      r.jsx(M, { width: 50, children: a("settings.defaultTheme") }),
                      r.jsx(M, { width: 150, children: a("settings.primaryColor") }),
                      r.jsx(M, { width: 150, children: a("settings.secondaryColor") }),
                      r.jsx(M, { width: 150, children: a("settings.primaryColorDark") }),
                      r.jsx(M, { width: 150, children: a("settings.secondaryColorDark") }),
                      r.jsx(M, { width: 100, align: "right" }),
                    ],
                  }),
                }),
                r.jsx(dt, {
                  children: S.map((y) =>
                    r.jsxs(
                      je,
                      {
                        hover: !0,
                        children: [
                          r.jsx(pe, {
                            children: r.jsx(yn, { size: "small", checked: y.id === n, onChange: () => _(y.id) }),
                          }),
                          r.jsx(pe, {
                            children: r.jsx(Vn, {
                              required: !0,
                              currentColor: y.config.light.palette.primary.main,
                              onColorChange: (w) => b(y.id, "primary", "light", w),
                            }),
                          }),
                          r.jsx(pe, {
                            children: r.jsx(Vn, {
                              currentColor: y.config.light.palette.secondary.main,
                              onColorChange: (w) => b(y.id, "secondary", "light", w),
                            }),
                          }),
                          r.jsx(pe, {
                            children: r.jsx(Vn, {
                              currentColor: y.config.dark.palette.primary.main,
                              onColorChange: (w) => b(y.id, "primary", "dark", w),
                            }),
                          }),
                          r.jsx(pe, {
                            children: r.jsx(Vn, {
                              currentColor: y.config.dark.palette.secondary.main,
                              onColorChange: (w) => b(y.id, "secondary", "dark", w),
                            }),
                          }),
                          r.jsxs(pe, {
                            align: "right",
                            children: [
                              r.jsx($e, {
                                size: "small",
                                onClick: () => m(y.id),
                                children: r.jsx(Pc, { fontSize: "small" }),
                              }),
                              r.jsx($e, {
                                size: "small",
                                onClick: () => g(y.id),
                                disabled: S.length === 1 || y.id === n,
                                children: r.jsx(ur, { fontSize: "small" }),
                              }),
                            ],
                          }),
                        ],
                      },
                      y.id,
                    ),
                  ),
                }),
              ],
            }),
          }),
        r.jsx(ke, {
          variant: "contained",
          startIcon: r.jsx(Rt, {}),
          onClick: v,
          sx: { mt: 2 },
          children: a("settings.addThemeOption"),
        }),
        d && r.jsx(hj, { open: u, onClose: x, id: d.id, config: JSON.stringify(d.config, null, 2), onSave: j }),
      ],
    });
  },
  fj = () => {
    F("dashboard");
    const { formRef: e, setSettings: t, values: n } = f.useContext(vt);
    return r.jsx(T, {
      component: "form",
      ref: e,
      onSubmit: (i) => i.preventDefault(),
      children: r.jsxs(le, {
        spacing: 5,
        children: [
          r.jsx(Ee, {
            children: r.jsx(pj, {
              value: n.theme_options || "{}",
              onChange: (i) => t({ theme_options: i }),
              defaultTheme: n.defaultTheme || "",
              onDefaultThemeChange: (i) => t({ defaultTheme: i }),
            }),
          }),
          r.jsx(Ee, {
            children: r.jsx(dj, { value: n.custom_nav_items || "[]", onChange: (i) => t({ custom_nav_items: i }) }),
          }),
          r.jsx(Ee, { children: r.jsx(lj, {}) }),
        ],
      }),
    });
  },
  gj = ({ values: e, setSettings: t }) => {
    const { t: n } = F("dashboard");
    return r.jsxs(le, {
      spacing: 3,
      children: [
        r.jsx(P, {
          title: n("settings.capInstanceURL"),
          lgWidth: 5,
          children: r.jsxs($, {
            fullWidth: !0,
            children: [
              r.jsx(W, {
                value: e.captcha_cap_instance_url,
                onChange: (i) => t({ captcha_cap_instance_url: i.target.value }),
                placeholder: "https://cap.example.com",
                required: !0,
              }),
              r.jsx(A, {
                children: r.jsx(X, {
                  i18nKey: "settings.capInstanceURLDes",
                  ns: "dashboard",
                  components: [r.jsx(Z, { href: "https://capjs.js.org/guide/standalone/", target: "_blank" }, 0)],
                }),
              }),
            ],
          }),
        }),
        r.jsx(P, {
          title: n("settings.capSiteKey"),
          lgWidth: 5,
          children: r.jsxs($, {
            fullWidth: !0,
            children: [
              r.jsx(W, {
                value: e.captcha_cap_site_key,
                onChange: (i) => t({ captcha_cap_site_key: i.target.value }),
                required: !0,
              }),
              r.jsx(A, {
                children: r.jsx(X, {
                  i18nKey: "settings.capSiteKeyDes",
                  ns: "dashboard",
                  components: [r.jsx(Z, { href: "https://capjs.js.org/guide/standalone/", target: "_blank" }, 0)],
                }),
              }),
            ],
          }),
        }),
        r.jsx(P, {
          title: n("settings.capSecretKey"),
          lgWidth: 5,
          children: r.jsxs($, {
            fullWidth: !0,
            children: [
              r.jsx(W, {
                value: e.captcha_cap_secret_key,
                onChange: (i) => t({ captcha_cap_secret_key: i.target.value }),
                type: "password",
                required: !0,
              }),
              r.jsx(A, {
                children: r.jsx(X, {
                  i18nKey: "settings.capSecretKeyDes",
                  ns: "dashboard",
                  components: [r.jsx(Z, { href: "https://capjs.js.org/guide/standalone/", target: "_blank" }, 0)],
                }),
              }),
            ],
          }),
        }),
        r.jsx(P, {
          title: n("settings.capAssetServer"),
          lgWidth: 5,
          children: r.jsxs($, {
            children: [
              r.jsxs(Ue, {
                value: e.captcha_cap_asset_server || "jsdelivr",
                onChange: (i) => t({ captcha_cap_asset_server: i.target.value }),
                children: [
                  r.jsx(he, {
                    value: "jsdelivr",
                    children: r.jsx(de, {
                      slotProps: { primary: { variant: "body2" } },
                      children: n("settings.capAssetServerJsdelivr"),
                    }),
                  }),
                  r.jsx(he, {
                    value: "unpkg",
                    children: r.jsx(de, {
                      slotProps: { primary: { variant: "body2" } },
                      children: n("settings.capAssetServerUnpkg"),
                    }),
                  }),
                  r.jsx(he, {
                    value: "instance",
                    children: r.jsx(de, {
                      slotProps: { primary: { variant: "body2" } },
                      children: n("settings.capAssetServerInstance"),
                    }),
                  }),
                ],
              }),
              r.jsx(A, {
                children: r.jsx(X, {
                  i18nKey: "settings.capAssetServerDes",
                  ns: "dashboard",
                  components: [
                    r.jsx(
                      Z,
                      { href: "https://capjs.js.org/guide/standalone/options.html#asset-server", target: "_blank" },
                      0,
                    ),
                  ],
                }),
              }),
            ],
          }),
        }),
      ],
    });
  },
  xj = ({ values: e, setSettings: t }) => {
    const { t: n } = F("dashboard");
    return r.jsxs(le, {
      spacing: 3,
      children: [
        r.jsx(P, {
          title: n("settings.captchaMode"),
          lgWidth: 5,
          children: r.jsx($, {
            children: r.jsx(Ue, {
              onChange: (i) => t({ captcha_mode: i.target.value }),
              value: e.captcha_mode,
              children: ["captchaModeNumber", "captchaModeLetter", "captchaModeMath", "captchaModeNumberLetter"].map(
                (i, a) =>
                  r.jsx(
                    he,
                    {
                      value: a.toString(),
                      children: r.jsx(de, {
                        slotProps: { primary: { variant: "body2" } },
                        children: n(`settings.${i}`),
                      }),
                    },
                    i,
                  ),
              ),
            }),
          }),
        }),
        r.jsx(Ve, {
          in: e.captcha_mode !== "2",
          unmountOnExit: !0,
          children: r.jsx(P, {
            title: n("settings.captchaLength"),
            lgWidth: 5,
            children: r.jsxs($, {
              children: [
                r.jsx(W, {
                  value: e.captcha_CaptchaLen,
                  slotProps: { htmlInput: { type: "number", min: 1, max: 10 } },
                  onChange: (i) => t({ captcha_CaptchaLen: i.target.value }),
                }),
                r.jsx(A, { children: n("settings.captchaLengthDes") }),
              ],
            }),
          }),
        }),
        [
          { name: "complexOfNoiseText", field: "captcha_ComplexOfNoiseText" },
          { name: "complexOfNoiseDot", field: "captcha_ComplexOfNoiseDot" },
          { name: "showHollowLine", field: "captcha_IsShowHollowLine" },
          { name: "showNoiseDot", field: "captcha_IsShowNoiseDot" },
          { name: "showNoiseText", field: "captcha_IsShowNoiseText" },
          { name: "showSlimeLine", field: "captcha_IsShowSlimeLine" },
          { name: "showSineLine", field: "captcha_IsShowSineLine" },
        ].map((i) =>
          r.jsx(P, {
            lgWidth: 5,
            children: r.jsx($, {
              fullWidth: !0,
              children: r.jsx(xe, {
                control: r.jsx(Oe, {
                  checked: Ot(e[i.field]),
                  onChange: (a) => t({ [i.field]: a.target.checked ? "1" : "0" }),
                }),
                label: n(`settings.${i.name}`),
              }),
            }),
          }),
        ),
      ],
    });
  },
  mj = ({ values: e, setSettings: t }) => {
    const { t: n } = F("dashboard");
    return r.jsxs(le, {
      spacing: 3,
      children: [
        r.jsx(P, {
          title: n("settings.siteKey"),
          lgWidth: 5,
          children: r.jsxs($, {
            fullWidth: !0,
            children: [
              r.jsx(W, {
                value: e.captcha_ReCaptchaKey,
                onChange: (i) => t({ captcha_ReCaptchaKey: i.target.value }),
                required: !0,
              }),
              r.jsx(A, {
                children: r.jsx(X, {
                  i18nKey: "settings.siteKeyDes",
                  ns: "dashboard",
                  components: [
                    r.jsx(Z, { href: "https://www.google.com/recaptcha/admin/create", target: "_blank" }, 0),
                  ],
                }),
              }),
            ],
          }),
        }),
        r.jsx(P, {
          title: n("settings.siteSecret"),
          lgWidth: 5,
          children: r.jsxs($, {
            fullWidth: !0,
            children: [
              r.jsx(W, {
                value: e.captcha_ReCaptchaSecret,
                onChange: (i) => t({ captcha_ReCaptchaSecret: i.target.value }),
                required: !0,
              }),
              r.jsx(A, {
                children: r.jsx(X, {
                  i18nKey: "settings.siteSecretDes",
                  ns: "dashboard",
                  components: [
                    r.jsx(Z, { href: "https://www.google.com/recaptcha/admin/create", target: "_blank" }, 0),
                  ],
                }),
              }),
            ],
          }),
        }),
      ],
    });
  },
  vj = ({ values: e, setSettings: t }) => {
    const { t: n } = F("dashboard");
    return r.jsxs(le, {
      spacing: 3,
      children: [
        r.jsx(P, {
          title: n("settings.turnstileSiteKey"),
          lgWidth: 5,
          children: r.jsxs($, {
            fullWidth: !0,
            children: [
              r.jsx(W, {
                value: e.captcha_turnstile_site_key,
                onChange: (i) => t({ captcha_turnstile_site_key: i.target.value }),
                required: !0,
              }),
              r.jsx(A, {
                children: r.jsx(X, {
                  i18nKey: "settings.siteKeyDes",
                  ns: "dashboard",
                  components: [r.jsx(Z, { href: "https://dash.cloudflare.com/", target: "_blank" }, 0)],
                }),
              }),
            ],
          }),
        }),
        r.jsx(P, {
          title: n("settings.turnstileSiteKSecret"),
          lgWidth: 5,
          children: r.jsxs($, {
            fullWidth: !0,
            children: [
              r.jsx(W, {
                value: e.captcha_turnstile_site_secret,
                onChange: (i) => t({ captcha_turnstile_site_secret: i.target.value }),
                required: !0,
              }),
              r.jsx(A, {
                children: r.jsx(X, {
                  i18nKey: "settings.siteSecretDes",
                  ns: "dashboard",
                  components: [r.jsx(Z, { href: "https://dash.cloudflare.com/", target: "_blank" }, 0)],
                }),
              }),
            ],
          }),
        }),
      ],
    });
  },
  yj = () => {
    const { t: e } = F("dashboard"),
      { formRef: t, setSettings: n, values: i } = f.useContext(vt);
    return r.jsx(T, {
      component: "form",
      ref: t,
      onSubmit: (a) => a.preventDefault(),
      children: r.jsxs(le, {
        spacing: 5,
        children: [
          r.jsxs(Ee, {
            children: [
              r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("nav.captcha") }),
              r.jsxs(Ie, {
                children: [
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(xe, {
                          control: r.jsx(Oe, {
                            checked: Ot(i.login_captcha),
                            onChange: (a) => n({ login_captcha: a.target.checked ? "1" : "0" }),
                          }),
                          label: e("settings.captchaForLogin"),
                        }),
                        r.jsx(A, { children: e("settings.captchaForLoginDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(xe, {
                          control: r.jsx(Oe, {
                            checked: Ot(i.reg_captcha),
                            onChange: (a) => n({ reg_captcha: a.target.checked ? "1" : "0" }),
                          }),
                          label: e("settings.captchaForSignup"),
                        }),
                        r.jsx(A, { children: e("settings.captchaForSignupDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(xe, {
                          control: r.jsx(Oe, {
                            checked: Ot(i.forget_captcha),
                            onChange: (a) => n({ forget_captcha: a.target.checked ? "1" : "0" }),
                          }),
                          label: e("settings.captchaForReset"),
                        }),
                        r.jsx(A, { children: e("settings.captchaForResetDes") }),
                      ],
                    }),
                  }),
                ],
              }),
            ],
          }),
          r.jsxs(Ee, {
            children: [
              r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("settings.captchaType") }),
              r.jsxs(Ie, {
                children: [
                  r.jsx(P, {
                    title: e("settings.captchaType"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      children: [
                        r.jsxs(Ue, {
                          onChange: (a) => n({ captcha_type: a.target.value }),
                          value: i.captcha_type,
                          children: [
                            r.jsx(he, {
                              value: Vr.NORMAL,
                              children: r.jsx(de, {
                                slotProps: { primary: { variant: "body2" } },
                                children: e("settings.plainCaptcha"),
                              }),
                            }),
                            r.jsx(he, {
                              value: Vr.RECAPTCHA,
                              children: r.jsx(de, {
                                slotProps: { primary: { variant: "body2" } },
                                children: e("settings.reCaptchaV2"),
                              }),
                            }),
                            r.jsx(he, {
                              value: Vr.TURNSTILE,
                              children: r.jsx(de, {
                                slotProps: { primary: { variant: "body2" } },
                                children: e("settings.turnstile"),
                              }),
                            }),
                            r.jsx(he, {
                              value: Vr.CAP,
                              children: r.jsx(de, {
                                slotProps: { primary: { variant: "body2" } },
                                children: e("settings.cap"),
                              }),
                            }),
                          ],
                        }),
                        r.jsx(A, { children: e("settings.captchaTypeDes") }),
                      ],
                    }),
                  }),
                  r.jsx(Ve, {
                    in: i.captcha_type === Vr.NORMAL,
                    unmountOnExit: !0,
                    children: r.jsx(xj, { setSettings: n, values: i }),
                  }),
                  r.jsx(Ve, {
                    in: i.captcha_type === Vr.RECAPTCHA,
                    unmountOnExit: !0,
                    children: r.jsx(mj, { setSettings: n, values: i }),
                  }),
                  r.jsx(Ve, {
                    in: i.captcha_type === Vr.TURNSTILE,
                    unmountOnExit: !0,
                    children: r.jsx(vj, { setSettings: n, values: i }),
                  }),
                  r.jsx(Ve, {
                    in: i.captcha_type === Vr.CAP,
                    unmountOnExit: !0,
                    children: r.jsx(gj, { setSettings: n, values: i }),
                  }),
                ],
              }),
            ],
          }),
        ],
      }),
    });
  },
  Sn = et((e) => r.jsx(Yx, { ...e }))(({ theme: e }) => ({
    fontSize: e.typography.body2.fontSize,
    paddingLeft: e.spacing(4),
    "& .MuiFormControlLabel-label": { fontSize: e.typography.body2.fontSize },
    "& .MuiCheckbox-root": { marginRight: e.spacing(2) },
  })),
  Cn = et(Jx)(({ theme: e }) => ({
    boxShadow: "none",
    border: `1px solid ${e.palette.divider}`,
    "&::before": { display: "none" },
  })),
  jj = () => {
    const [e, t] = f.useState(!1),
      { t: n } = F("dashboard"),
      i = f.useCallback((a) => {
        a.stopPropagation(), t(!0);
      }, []);
    return r.jsxs(r.Fragment, {
      children: [
        r.jsx(Er, { open: e, onClose: () => t(!1) }),
        r.jsxs("div", {
          onClick: i,
          children: [
            r.jsxs(Cn, {
              expanded: !1,
              disableGutters: !0,
              children: [
                r.jsx(Sn, {
                  expandIcon: r.jsx(bn, {}),
                  children: r.jsx(xe, {
                    control: r.jsx(yn, { size: "small", checked: !1 }),
                    label: n("vas.qqConnect"),
                  }),
                }),
                r.jsx(jn, { sx: { display: "block" } }),
              ],
            }),
            r.jsxs(Cn, {
              expanded: !1,
              disableGutters: !0,
              children: [
                r.jsx(Sn, {
                  expandIcon: r.jsx(bn, {}),
                  children: r.jsx(xe, {
                    control: r.jsx(yn, { size: "small", checked: !1 }),
                    label: n("settings.logto"),
                  }),
                }),
                r.jsx(jn, { sx: { display: "block" } }),
              ],
            }),
            r.jsxs(Cn, {
              expanded: !1,
              disableGutters: !0,
              children: [
                r.jsx(Sn, {
                  expandIcon: r.jsx(bn, {}),
                  children: r.jsx(xe, {
                    control: r.jsx(yn, { size: "small", checked: !1 }),
                    label: n("settings.oidc"),
                  }),
                }),
                r.jsx(jn, { sx: { display: "block" } }),
              ],
            }),
          ],
        }),
      ],
    });
  },
  Ys = ({ open: e, onClose: t, vars: n }) => {
    const { t: i } = F("dashboard");
    return r.jsx(st, {
      title: i("policy.magicVar.variable"),
      onAccept: t,
      dialogProps: { fullWidth: !0, maxWidth: "md", open: e, onClose: t },
      children: r.jsx(gt, {
        children: r.jsx(ot, {
          sx: { mt: 1, maxHeight: 440 },
          children: r.jsxs(lt, {
            stickyHeader: !0,
            sx: { width: "100%", tableLayout: "fixed" },
            size: "small",
            children: [
              r.jsx(ct, {
                children: r.jsxs(je, {
                  children: [
                    r.jsx(M, { width: 350, children: i("policy.magicVar.variable") }),
                    r.jsx(M, { width: 200, children: i("policy.magicVar.description") }),
                    r.jsx(M, { width: 250, children: i("policy.magicVar.example") }),
                  ],
                }),
              }),
              r.jsx(dt, {
                children: n.map((a, s) =>
                  r.jsxs(
                    je,
                    {
                      sx: { "&:last-child td, &:last-child th": { border: 0 } },
                      hover: !0,
                      children: [
                        r.jsx(pe, { children: r.jsx("code", { children: a.name }) }),
                        r.jsx(pe, { children: i(a.value) }),
                        r.jsx(pe, { sx: { wordBreak: "break-all" }, children: a.example }),
                      ],
                    },
                    s,
                  ),
                ),
              }),
            ],
          }),
        }),
      }),
    });
  },
  bj = f.lazy(() => rn(() => import("./MonacoEditor-BnsLKTuc.js"), __vite__mapDeps([0, 1, 2, 3, 4, 5, 6, 7]))),
  _j = ({ value: e, onChange: t, templateType: n, magicVars: i }) => {
    const a = Ge(),
      { t: s } = F("dashboard"),
      [o, l] = f.useState([]),
      [d, c] = f.useState(0),
      [u, h] = f.useState(!1),
      [p, g] = f.useState(""),
      m = f.useRef(!1),
      [v, x] = f.useState(!1);
    f.useEffect(() => {
      try {
        m.current = !0;
        const C = e ? JSON.parse(e) : [];
        l(C), C.length === 0 && l([{ language: "en-US", title: "", body: "" }]), d > C.length && c(0);
      } catch (C) {
        console.error("Failed to parse email template:", C), l([{ language: "en-US", title: "", body: "" }]);
      } finally {
        setTimeout(() => {
          m.current = !0;
        }, 0);
      }
    }, [e]),
      f.useEffect(() => {
        o.length > 0 && !m.current && t(JSON.stringify(o));
      }, [o, t]);
    const j = (C, O) => {
        c(O);
      },
      b = (C, O, k) => {
        m.current = !1;
        const D = [...o];
        (D[C] = { ...D[C], [O]: k }), l(D);
      },
      _ = () => {
        if (!p.trim()) return;
        const C = o.findIndex((O) => O.language === p);
        if (C !== -1) {
          g(""), h(!1), c(C);
          return;
        }
        (m.current = !1), l([...o, { language: p, title: "", body: "" }]), g(""), h(!1), c(o.length);
      },
      S = (C) => {
        m.current = !1;
        const O = o.filter((k, D) => D !== C);
        l(O), d >= O.length && c(O.length - 1);
      },
      y = (C) => {
        (m.current = !1), l([o[C], ...o.filter((O, k) => k !== C)]), c(0);
      },
      w = f.useCallback((C) => {
        x(!0), C.stopPropagation(), C.preventDefault();
      }, []);
    return r.jsxs(T, {
      sx: { width: "100%" },
      children: [
        r.jsxs(T, {
          sx: { borderBottom: 1, borderColor: "divider", display: "flex" },
          children: [
            r.jsx(Qx, {
              value: d,
              onChange: j,
              variant: "scrollable",
              scrollButtons: "auto",
              sx: { flexGrow: 1 },
              children: o.map((C, O) => {
                const k = vd.find((D) => D.code === C.language);
                return r.jsx(Zx, { label: k ? k.displayName : C.language }, O);
              }),
            }),
            r.jsx(Pe, {
              startIcon: r.jsx(Rt, {}),
              onClick: () => h(!0),
              sx: { minWidth: "auto", mt: 0.5, mb: 0.5 },
              children: s("settings.addLanguage"),
            }),
          ],
        }),
        o.map((C, O) =>
          r.jsx(
            T,
            {
              role: "tabpanel",
              hidden: d !== O,
              id: `template-tabpanel-${O}`,
              "aria-labelledby": `template-tab-${O}`,
              sx: { mt: 2 },
              children:
                d === O &&
                r.jsxs(T, {
                  children: [
                    r.jsxs($, {
                      fullWidth: !0,
                      sx: { mb: 2 },
                      children: [
                        r.jsx(L, {
                          variant: "subtitle2",
                          sx: { mb: O === 0 ? 0 : 1 },
                          children: s("settings.preferredLanguage"),
                        }),
                        O != 0 &&
                          r.jsx(T, {
                            children: r.jsx(ke, {
                              variant: "contained",
                              onClick: () => y(O),
                              children: s("settings.setAsPreferredLanguage"),
                            }),
                          }),
                        r.jsx(A, {
                          children: s(
                            O === 0 ? "settings.alreadyAsPreferredLanguageDes" : "settings.setAsPreferredLanguageDes",
                          ),
                        }),
                      ],
                    }),
                    r.jsxs($, {
                      fullWidth: !0,
                      sx: { mb: 2 },
                      children: [
                        r.jsx(L, { variant: "subtitle2", sx: { mb: 1 }, children: s("settings.emailSubject") }),
                        r.jsx(W, {
                          fullWidth: !0,
                          value: C.title,
                          onChange: (k) => b(O, "title", k.target.value || ""),
                        }),
                        r.jsx(A, {
                          children: r.jsx(X, {
                            i18nKey: "settings.emailSubjectDes",
                            ns: "dashboard",
                            components: [r.jsx(Z, { onClick: w, href: "#" })],
                          }),
                        }),
                      ],
                    }),
                    r.jsx(L, { variant: "subtitle2", sx: { mb: 1 }, children: s("settings.emailBody") }),
                    r.jsx(T, {
                      sx: { height: 400 },
                      children: r.jsx(f.Suspense, {
                        fallback: r.jsx(St, {}),
                        children: r.jsx(bj, {
                          theme: a.palette.mode === "dark" ? "vs-dark" : "vs",
                          language: "html",
                          value: C.body,
                          onChange: (k) => b(O, "body", k || ""),
                          height: "400px",
                          minHeight: "400px",
                          options: { wordWrap: "on", minimap: { enabled: !1 }, scrollBeyondLastLine: !1 },
                        }),
                      }),
                    }),
                    r.jsx(A, {
                      sx: { mb: 2 },
                      children: r.jsx(X, {
                        i18nKey: "settings.emailBodyDes",
                        ns: "dashboard",
                        components: [r.jsx(Z, { onClick: w, href: "#" })],
                      }),
                    }),
                    r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(L, {
                          variant: "subtitle2",
                          sx: { mb: O === 0 ? 0 : 1 },
                          children: s("settings.removeLanguage"),
                        }),
                        O != 0 &&
                          r.jsx(T, {
                            children: r.jsx(Pe, {
                              startIcon: r.jsx(or, {}),
                              variant: "contained",
                              color: "error",
                              onClick: () => S(O),
                              children: s("settings.removeLanguageBtn"),
                            }),
                          }),
                        O === 0 && r.jsx(A, { children: s("settings.cannotRemovePreferredLanguageDes") }),
                      ],
                    }),
                  ],
                }),
            },
            O,
          ),
        ),
        r.jsx(st, {
          title: s("settings.addLanguage"),
          showActions: !0,
          showCancel: !0,
          onAccept: _,
          dialogProps: { maxWidth: "xs", fullWidth: !0, open: u, onClose: () => h(!1) },
          children: r.jsx(gt, {
            children: r.jsx(P, {
              title: s("application:setting.language"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(Ue, {
                    value: p,
                    onChange: (C) => g(C.target.value),
                    children: vd.map((C) =>
                      r.jsx(he, {
                        value: C.code,
                        children: r.jsx(de, { slotProps: { primary: { variant: "body2" } }, children: C.displayName }),
                      }),
                    ),
                  }),
                  r.jsx(A, { children: s("settings.languageCodeDes") }),
                ],
              }),
            }),
          }),
        }),
        r.jsx(Ys, { open: v, vars: i, onClose: () => x(!1) }),
      ],
    });
  },
  Od = [
    { value: "settings.mainTitle", name: "{{ .CommonContext.SiteBasic.Name }}", example: "Cloudreve" },
    {
      value: "settings.siteDescription",
      name: "{{ .CommonContext.SiteBasic.Description }}",
      example: "Another Cloudreve instance",
    },
    {
      value: "settings.siteID",
      name: "{{ .CommonContext.SiteBasic.ID }}",
      example: "123e4567-e89b-12d3-a456-426614174000",
    },
    { value: "settings.logo", name: "{{ .CommonContext.Logo.Normal }}", example: "https://cloudreve.org/logo.svg" },
    {
      value: "settings.logo",
      name: "{{ .CommonContext.Logo.Light }}",
      example: "https://cloudreve.org/logo_light.svg",
    },
    { value: "settings.siteURL", name: "{{ .CommonContext.SiteUrl }}", example: "https://cloudreve.org" },
  ],
  kd = [
    { value: "policy.magicVar.uid", name: "{{ .User.ID }}", example: "2534" },
    { value: "application:login.email", name: "{{ .User.Email }}", example: "example@cloudreve.org" },
    { value: "application:setting.nickname", name: "{{ .User.Nick }}", example: "Aaron Liu" },
    { value: "user.usedStorage", name: "{{ .User.Storage }}", example: "123221000" },
  ],
  wj = () => {
    const { t: e } = F("dashboard"),
      { setSettings: t, values: n } = f.useContext(vt),
      [i, a] = f.useState(!1),
      s = [
        {
          key: "mail_receipt_template",
          title: "receiptEmailTemplate",
          description: "receiptEmailTemplateDes",
          pro: !0,
        },
        {
          key: "mail_activation_template",
          title: "activationEmailTemplate",
          description: "activationEmailTemplateDes",
          magicVars: [
            ...Od,
            ...kd,
            { value: "settings.activateUrl", name: "{{ .Url }}", example: "https://cloudreve.org/activate" },
          ],
        },
        {
          key: "mail_exceed_quota_template",
          title: "quotaExceededEmailTemplate",
          description: "quotaExceededEmailTemplateDes",
          pro: !0,
        },
        {
          key: "mail_reset_template",
          title: "resetPasswordEmailTemplate",
          description: "resetPasswordEmailTemplateDes",
          magicVars: [
            ...Od,
            ...kd,
            { value: "settings.resetUrl", name: "{{ .Url }}", example: "https://cloudreve.org/reset" },
          ],
        },
      ],
      o = (l) => {
        l.preventDefault(), a(!0);
      };
    return r.jsxs(Ee, {
      children: [
        r.jsx(Er, { open: i, onClose: () => a(!1) }),
        r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("settings.emailTemplates") }),
        r.jsx(Ie, {
          children: r.jsx(T, {
            children: s.map((l) =>
              r.jsxs(
                Cn,
                {
                  disableGutters: !0,
                  onClick: l.pro ? o : void 0,
                  expanded: l.pro ? !1 : void 0,
                  TransitionProps: { unmountOnExit: !0 },
                  children: [
                    r.jsx(Sn, {
                      expandIcon: r.jsx(bn, {}),
                      children: r.jsxs(L, {
                        children: [
                          e("settings." + l.title),
                          l.pro && r.jsx(It, { label: "Pro", color: "primary", size: "small" }),
                        ],
                      }),
                    }),
                    r.jsxs(jn, {
                      sx: { display: "block" },
                      children: [
                        r.jsxs(L, {
                          variant: "body2",
                          color: "textSecondary",
                          sx: { mb: 2 },
                          children: [e("settings." + l.description), " "],
                        }),
                        r.jsx(P, {
                          noContainer: !0,
                          lgWidth: 12,
                          children: r.jsx(T, {
                            sx: { width: "100%" },
                            children: r.jsx(_j, {
                              magicVars: l.magicVars || [],
                              value: n[l.key] || "[]",
                              onChange: (d) => t({ [l.key]: d }),
                              templateType: l.key,
                            }),
                          }),
                        }),
                      ],
                    }),
                  ],
                },
                l.key,
              ),
            ),
          }),
        }),
      ],
    });
  },
  Sj = () => {
    const { t: e } = F("dashboard"),
      t = ge(),
      { enqueueSnackbar: n } = ut(),
      { formRef: i, setSettings: a, values: s } = f.useContext(vt),
      [o, l] = f.useState(!1),
      [d, c] = f.useState(""),
      [u, h] = f.useState(!1),
      p = async () => {
        h(!0);
        try {
          await t(em({ to: d, settings: s })),
            n({ message: e("settings.testMailSent"), variant: "success", action: nt }),
            l(!1);
        } catch {
        } finally {
          h(!1);
        }
      };
    return r.jsx(T, {
      component: "form",
      ref: i,
      onSubmit: (g) => g.preventDefault(),
      children: r.jsxs(le, {
        spacing: 5,
        children: [
          r.jsx(st, {
            dialogProps: { open: o, onClose: () => l(!1) },
            loading: u,
            showActions: !0,
            showCancel: !0,
            onAccept: p,
            title: e("settings.testSMTPSettings"),
            children: r.jsxs(gt, {
              children: [
                r.jsx(Pp, { sx: { mb: 2 }, children: e("settings.testSMTPTooltip") }),
                r.jsx(P, {
                  title: e("settings.recipient"),
                  lgWidth: 12,
                  children: r.jsx(W, {
                    required: !0,
                    autoFocus: !0,
                    value: d,
                    onChange: (g) => c(g.target.value),
                    type: "email",
                    fullWidth: !0,
                  }),
                }),
              ],
            }),
          }),
          r.jsxs(Ee, {
            children: [
              r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("settings.smtp") }),
              r.jsxs(Ie, {
                children: [
                  r.jsx(P, {
                    title: e("settings.senderName"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          required: !0,
                          value: s.fromName ?? "",
                          onChange: (g) => a({ fromName: g.target.value }),
                        }),
                        r.jsx(A, { children: e("settings.senderNameDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.senderAddress"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          type: "email",
                          required: !0,
                          value: s.fromAdress ?? "",
                          onChange: (g) => a({ fromAdress: g.target.value }),
                        }),
                        r.jsx(A, { children: e("settings.senderAddressDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.smtpServer"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          required: !0,
                          value: s.smtpHost ?? "",
                          onChange: (g) => a({ smtpHost: g.target.value }),
                        }),
                        r.jsx(A, { children: e("settings.smtpServerDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.smtpPort"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          type: "number",
                          required: !0,
                          inputProps: { min: 1, step: 1 },
                          value: s.smtpPort ?? "",
                          onChange: (g) => a({ smtpPort: g.target.value }),
                        }),
                        r.jsx(A, { children: e("settings.smtpPortDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.smtpUsername"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          required: !0,
                          value: s.smtpUser ?? "",
                          onChange: (g) => a({ smtpUser: g.target.value }),
                        }),
                        r.jsx(A, { children: e("settings.smtpUsernameDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.smtpPassword"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          type: "password",
                          required: !0,
                          value: s.smtpPass ?? "",
                          onChange: (g) => a({ smtpPass: g.target.value }),
                        }),
                        r.jsx(A, { children: e("settings.smtpPasswordDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.replyToAddress"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          required: !0,
                          value: s.replyTo ?? "",
                          onChange: (g) => a({ replyTo: g.target.value }),
                        }),
                        r.jsx(A, { children: e("settings.replyToAddressDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(xe, {
                          control: r.jsx(Oe, {
                            checked: Ot(s.smtpEncryption),
                            onChange: (g) => a({ smtpEncryption: g.target.checked ? "1" : "0" }),
                          }),
                          label: e("settings.enforceSSL"),
                        }),
                        r.jsx(A, { children: e("settings.enforceSSLDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.smtpTTL"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          type: "number",
                          required: !0,
                          inputProps: { min: 1, step: 1 },
                          value: s.mail_keepalive ?? "30",
                          onChange: (g) => a({ mail_keepalive: g.target.value }),
                        }),
                        r.jsx(A, { children: e("settings.smtpTTLDes") }),
                      ],
                    }),
                  }),
                  r.jsx(T, {
                    display: "flex",
                    gap: 2,
                    mt: 2,
                    children: r.jsx(ke, {
                      variant: "contained",
                      startIcon: r.jsx(Sc, {}),
                      onClick: () => l(!0),
                      children: e("settings.sendTestEmail"),
                    }),
                  }),
                ],
              }),
            ],
          }),
          r.jsx(wj, {}),
        ],
      }),
    });
  },
  Cj = {
    system: { title: "settings.systemEvents", description: "settings.systemEventsDes", events: [ye.server_start] },
    user: {
      title: "settings.userEvents",
      description: "settings.userEventsDes",
      events: [
        ye.user_signup,
        ye.user_activated,
        ye.user_login,
        ye.user_login_failed,
        ye.user_token_refresh,
        ye.user_changed,
        ye.user_exceed_quota_notified,
        ye.change_nick,
        ye.change_avatar,
        ye.change_password,
        ye.enable_2fa,
        ye.disable_2fa,
        ye.add_passkey,
        ye.remove_passkey,
        ye.link_account,
        ye.unlink_account,
        ye.report_abuse,
      ],
    },
    file: {
      title: "settings.fileEvents",
      description: "settings.fileEventsDes",
      events: [
        ye.file_create,
        ye.file_imported,
        ye.file_rename,
        ye.set_file_permission,
        ye.entity_uploaded,
        ye.entity_downloaded,
        ye.copy_from,
        ye.copy_to,
        ye.move_to,
        ye.delete_file,
        ye.move_to_trash,
        ye.update_metadata,
        ye.get_direct_link,
        ye.delete_direct_link,
        ye.update_view,
      ],
    },
    share: {
      title: "settings.shareEvents",
      description: "settings.shareEventsDes",
      events: [ye.share, ye.share_link_viewed, ye.edit_share, ye.delete_share],
    },
    version: {
      title: "settings.versionEvents",
      description: "settings.versionEventsDes",
      events: [ye.set_current_version, ye.delete_version],
    },
    media: {
      title: "settings.mediaEvents",
      description: "settings.mediaEventsDes",
      events: [ye.thumb_generated, ye.live_photo_uploaded],
    },
    filesystem: {
      title: "settings.filesystemEvents",
      description: "settings.filesystemEventsDes",
      events: [ye.mount, ye.relocate, ye.create_archive, ye.extract_archive],
    },
    webdav: {
      title: "settings.webdavEvents",
      description: "settings.webdavEventsDes",
      events: [ye.webdav_login_failed, ye.webdav_account_create, ye.webdav_account_update, ye.webdav_account_delete],
    },
    payment: {
      title: "settings.paymentEvents",
      description: "settings.paymentEventsDes",
      events: [
        ye.payment_created,
        ye.points_change,
        ye.payment_paid,
        ye.payment_fulfilled,
        ye.payment_fulfill_failed,
        ye.storage_added,
        ye.group_changed,
        ye.membership_unsubscribe,
        ye.redeem_gift_code,
      ],
    },
    email: { title: "settings.emailEvents", description: "settings.emailEventsDes", events: [ye.email_sent] },
  },
  Ad = (e) => {
    var t;
    return ((t = Object.entries(ye).find(([n, i]) => i === e)) == null ? void 0 : t[0]) || `event_${e}`;
  },
  Pj = () => {
    const { t: e } = F("dashboard"),
      { formRef: t, setSettings: n, values: i } = f.useContext(vt),
      [a, s] = f.useState(!1),
      o = (l) => {
        l.preventDefault(), s(!0);
      };
    return r.jsxs(T, {
      component: "form",
      ref: t,
      onSubmit: (l) => l.preventDefault(),
      children: [
        r.jsx(Er, { open: a, onClose: () => s(!1) }),
        r.jsx(le, {
          spacing: 5,
          children: r.jsxs(Ee, {
            children: [
              r.jsxs(L, {
                variant: "h6",
                sx: { display: "flex", alignItems: "center" },
                children: [e("settings.auditLog"), " ", r.jsx(It, { label: "Pro", color: "primary", size: "small" })],
              }),
              r.jsx(L, {
                variant: "body2",
                color: "text.secondary",
                sx: { mb: 2 },
                children: e("settings.auditLogDes"),
              }),
              Object.entries(Cj).map(([l, d]) =>
                r.jsxs(
                  Ee,
                  {
                    onClick: o,
                    children: [
                      r.jsxs(T, {
                        children: [
                          r.jsx(L, { variant: "subtitle1", children: e(d.title) }),
                          r.jsx(L, { variant: "body2", color: "text.secondary", children: e(d.description) }),
                        ],
                      }),
                      r.jsxs(Ie, {
                        children: [
                          r.jsx($, {
                            component: "fieldset",
                            children: r.jsxs(tf, {
                              children: [
                                r.jsx(xe, {
                                  slotProps: { typography: { variant: "body2" } },
                                  control: r.jsx(it, { size: "small", checked: !1 }),
                                  label: e("settings.toggleAll"),
                                }),
                                r.jsx(A, { children: e("settings.toggleAllDes") }),
                              ],
                            }),
                          }),
                          r.jsx(Dt, {
                            container: !0,
                            spacing: 1,
                            children: d.events.map((c) =>
                              r.jsx(
                                Dt,
                                {
                                  item: !0,
                                  xs: 12,
                                  sm: 6,
                                  md: 4,
                                  lg: 3,
                                  children: r.jsx(xe, {
                                    slotProps: { typography: { variant: "body2" } },
                                    control: r.jsx(it, { size: "small", checked: !1 }),
                                    label: e(`settings.event.${Ad(c)}`, Ad(c)),
                                  }),
                                },
                                c,
                              ),
                            ),
                          }),
                        ],
                      }),
                      r.jsx(bt, { sx: { mt: 1 } }),
                    ],
                  },
                  l,
                ),
              ),
            ],
          }),
        }),
      ],
    });
  },
  Oj = [
    {
      name: "exif",
      des: "exifDes",
      enableFlag: "media_meta_exif",
      maxSizeLocalSetting: "media_meta_exif_size_local",
      maxSizeRemoteSetting: "media_meta_exif_size_remote",
      additionalSettings: [
        { name: "media_meta_exif_brute_force", label: "exifBruteForce", des: "exifBruteForceDes", type: "switch" },
      ],
    },
    {
      name: "music",
      des: "musicDes",
      enableFlag: "media_meta_music",
      maxSizeLocalSetting: "media_meta_music_size_local",
      maxSizeRemoteSetting: "media_exif_music_size_remote",
    },
    {
      name: "ffprobe",
      des: "ffprobeDes",
      enableFlag: "media_meta_ffprobe",
      executableSetting: "media_meta_ffprobe_path",
      maxSizeLocalSetting: "media_meta_ffprobe_size_local",
      maxSizeRemoteSetting: "media_meta_ffprobe_size_remote",
    },
    {
      name: "geocoding",
      des: "geocodingDes",
      enableFlag: "media_meta_geocoding",
      additionalSettings: [{ name: "media_meta_geocoding_mapbox_ak", label: "mapboxAK", des: "mapboxAKDes" }],
    },
  ],
  kj = ({ values: e, setSetting: t }) => {
    const { t: n } = F("dashboard"),
      i = ge(),
      [a, s] = f.useState(!1),
      { enqueueSnackbar: o } = ut(),
      l = (c) => (u) => {
        t({ [c]: u.target.checked ? "1" : "0" });
        const h = { ...e, [c]: u.target.checked ? "1" : "0" };
        Ot(h.media_meta_geocoding) &&
          !Ot(h.media_meta_exif) &&
          o({ message: n("settings.geocodingDependencyWarning"), variant: "warning", action: nt });
      },
      d = (c, u) => {
        s(!0),
          i(Op({ name: c, executable: u }))
            .then((h) => {
              o({ message: n("settings.executableTestSuccess", { version: h }), variant: "success", action: nt });
            })
            .finally(() => {
              s(!1);
            });
      };
    return r.jsx(T, {
      children: Oj.map((c) => {
        var u;
        return r.jsxs(
          Cn,
          {
            disableGutters: !0,
            children: [
              r.jsx(Sn, {
                expandIcon: r.jsx(bn, {}),
                children: r.jsx(xe, {
                  onClick: (h) => h.stopPropagation(),
                  onFocus: (h) => h.stopPropagation(),
                  control: r.jsx(yn, {
                    size: "small",
                    checked: Ot(e[c.enableFlag ?? ""]),
                    onChange: l(c.enableFlag ?? ""),
                  }),
                  label: n(`settings.${c.name}`),
                }),
              }),
              r.jsxs(jn, {
                sx: { display: "block" },
                children: [
                  r.jsx(L, { color: "textSecondary", variant: "body2", children: n(`settings.${c.des}`) }),
                  r.jsxs(Ie, {
                    sx: { mt: 2 },
                    children: [
                      c.executableSetting &&
                        r.jsx(P, {
                          lgWidth: 12,
                          title: n("settings.executable"),
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(W, {
                                required: !0,
                                value: e[c.executableSetting],
                                InputProps: {
                                  endAdornment: r.jsx(Lr, {
                                    position: "end",
                                    children: r.jsx(Us, {
                                      onClick: () => d(c.name, e[c.executableSetting ?? ""]),
                                      loading: a,
                                      color: "primary",
                                      children: r.jsx("span", { children: n("settings.executableTest") }),
                                    }),
                                  }),
                                },
                                onChange: (h) => t({ [c.executableSetting ?? ""]: h.target.value }),
                              }),
                              r.jsx(A, { children: n("settings.executableDes") }),
                            ],
                          }),
                        }),
                      c.maxSizeLocalSetting &&
                        r.jsx(P, {
                          lgWidth: 12,
                          title: n("settings.maxSizeLocal"),
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(tr, {
                                variant: "outlined",
                                required: !0,
                                value: parseInt(e[c.maxSizeLocalSetting ?? ""]) ?? 0,
                                onChange: (h) => t({ [c.maxSizeLocalSetting ?? ""]: h.toString() }),
                              }),
                              r.jsx(A, { children: n("settings.maxSizeLocalDes") }),
                            ],
                          }),
                        }),
                      c.maxSizeRemoteSetting &&
                        r.jsx(P, {
                          lgWidth: 12,
                          title: n("settings.maxSizeRemote"),
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(tr, {
                                variant: "outlined",
                                required: !0,
                                value: parseInt(e[c.maxSizeRemoteSetting ?? ""]) ?? 0,
                                onChange: (h) => t({ [c.maxSizeRemoteSetting ?? ""]: h.toString() }),
                              }),
                              r.jsx(A, { children: n("settings.maxSizeRemoteDes") }),
                            ],
                          }),
                        }),
                      (u = c.additionalSettings) == null
                        ? void 0
                        : u.map((h) =>
                            r.jsx(
                              P,
                              {
                                lgWidth: 12,
                                children: r.jsxs($, {
                                  fullWidth: !0,
                                  children: [
                                    h.type === "switch"
                                      ? r.jsx(xe, {
                                          control: r.jsx(Oe, {
                                            checked: Ot(e[h.name]),
                                            onChange: (p) => t({ [h.name]: p.target.checked ? "1" : "0" }),
                                          }),
                                          label: n(`settings.${h.label}`),
                                        })
                                      : r.jsx(W, {
                                          label: n(`settings.${h.label}`),
                                          required: Ot(e[c.enableFlag ?? ""]),
                                          value: e[h.name],
                                          onChange: (p) => t({ [h.name]: p.target.value }),
                                        }),
                                    r.jsx(A, { children: n(`settings.${h.des}`) }),
                                  ],
                                }),
                              },
                              h.name,
                            ),
                          ),
                    ],
                  }),
                ],
              }),
            ],
          },
          c.name,
        );
      }),
    });
  },
  Aj = [
    { name: "policyBuiltin", des: "policyBuiltinDes", readOnly: !0 },
    {
      name: "musicCover",
      des: "musicCoverDes",
      enableFlag: "thumb_music_cover_enabled",
      maxSizeSetting: "thumb_music_cover_max_size",
      inputs: [{ name: "thumb_music_cover_exts", label: "generatorExts", des: "generatorExtsDes" }],
    },
    {
      name: "libreOffice",
      des: "libreOfficeDes",
      enableFlag: "thumb_libreoffice_enabled",
      maxSizeSetting: "thumb_libreoffice_max_size",
      executableSetting: "thumb_libreoffice_path",
      inputs: [{ name: "thumb_libreoffice_exts", label: "generatorExts", des: "generatorExtsDes" }],
    },
    {
      name: "libraw",
      des: "librawDes",
      enableFlag: "thumb_libraw_enabled",
      maxSizeSetting: "thumb_libraw_max_size",
      executableSetting: "thumb_libraw_path",
      inputs: [{ name: "thumb_libraw_exts", label: "generatorExts", des: "generatorExtsDes" }],
    },
    {
      name: "vips",
      des: "vipsDes",
      enableFlag: "thumb_vips_enabled",
      maxSizeSetting: "thumb_vips_max_size",
      executableSetting: "thumb_vips_path",
      inputs: [{ name: "thumb_vips_exts", label: "generatorExts", des: "generatorExtsDes" }],
    },
    {
      name: "ffmpeg",
      des: "ffmpegDes",
      enableFlag: "thumb_ffmpeg_enabled",
      maxSizeSetting: "thumb_ffmpeg_max_size",
      executableSetting: "thumb_ffmpeg_path",
      inputs: [
        { name: "thumb_ffmpeg_exts", label: "generatorExts", des: "generatorExtsDes" },
        { name: "thumb_ffmpeg_seek", label: "ffmpegSeek", des: "ffmpegSeekDes", required: !0 },
        { name: "thumb_ffmpeg_extra_args", label: "ffmpegExtraArgs", des: "ffmpegExtraArgsDes" },
      ],
    },
    {
      name: "cloudreveBuiltin",
      maxSizeSetting: "thumb_builtin_max_size",
      des: "cloudreveBuiltinDes",
      enableFlag: "thumb_builtin_enabled",
    },
  ],
  Dj = ({ values: e, setSetting: t }) => {
    const { t: n } = F("dashboard"),
      i = ge(),
      [a, s] = f.useState(!1),
      { enqueueSnackbar: o } = ut(),
      l = (c) => (u) => {
        t({ [c]: u.target.checked ? "1" : "0" });
        const h = { ...e, [c]: u.target.checked ? "1" : "0" };
        (h.thumb_libreoffice_enabled === "1" || h.thumb_music_cover_enabled === "1") &&
          h.thumb_builtin_enabled === "0" &&
          h.thumb_vips_enabled === "0" &&
          o({ message: n("settings.thumbDependencyWarning"), variant: "warning", action: nt });
      },
      d = (c, u) => {
        s(!0),
          i(Op({ name: c, executable: u }))
            .then((h) => {
              o({ message: n("settings.executableTestSuccess", { version: h }), variant: "success", action: nt });
            })
            .finally(() => {
              s(!1);
            });
      };
    return r.jsx(T, {
      children: Aj.map((c) => {
        var u;
        return r.jsxs(
          Cn,
          {
            disableGutters: !0,
            children: [
              r.jsx(Sn, {
                expandIcon: r.jsx(bn, {}),
                children: r.jsx(xe, {
                  onClick: (h) => h.stopPropagation(),
                  onFocus: (h) => h.stopPropagation(),
                  control: r.jsx(yn, {
                    size: "small",
                    checked: c.readOnly || Ot(e[c.enableFlag ?? ""]),
                    onChange: l(c.enableFlag ?? ""),
                  }),
                  label: n(`settings.${c.name}`),
                  disabled: c.readOnly,
                }),
              }),
              r.jsxs(jn, {
                sx: { display: "block" },
                children: [
                  r.jsx(L, { color: "textSecondary", variant: "body2", children: n(`settings.${c.des}`) }),
                  r.jsxs(Ie, {
                    sx: { mt: 2 },
                    children: [
                      c.executableSetting &&
                        r.jsx(P, {
                          lgWidth: 12,
                          title: n("settings.executable"),
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(W, {
                                required: !0,
                                value: e[c.executableSetting],
                                InputProps: {
                                  endAdornment: r.jsx(Lr, {
                                    position: "end",
                                    children: r.jsx(Us, {
                                      onClick: () => d(c.name, e[c.executableSetting ?? ""]),
                                      loading: a,
                                      color: "primary",
                                      children: r.jsx("span", { children: n("settings.executableTest") }),
                                    }),
                                  }),
                                },
                                onChange: (h) => t({ [c.executableSetting ?? ""]: h.target.value }),
                              }),
                              r.jsx(A, { children: n("settings.executableDes") }),
                            ],
                          }),
                        }),
                      c.maxSizeSetting &&
                        r.jsx(P, {
                          lgWidth: 12,
                          title: n("settings.thumbMaxSize"),
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(tr, {
                                variant: "outlined",
                                required: !0,
                                allowZero: !1,
                                value: parseInt(e[c.maxSizeSetting ?? ""]) ?? 0,
                                onChange: (h) => t({ [c.maxSizeSetting ?? ""]: h.toString() }),
                              }),
                              r.jsx(A, { children: n("settings.thumbMaxSizeDes") }),
                            ],
                          }),
                        }),
                      (u = c.inputs) == null
                        ? void 0
                        : u.map((h) =>
                            r.jsx(
                              P,
                              {
                                lgWidth: 12,
                                title: n(`settings.${h.label}`),
                                children: r.jsxs($, {
                                  fullWidth: !0,
                                  children: [
                                    r.jsx(W, {
                                      value: e[h.name],
                                      onChange: (p) => t({ [h.name]: p.target.value }),
                                      required: !!h.required,
                                    }),
                                    r.jsx(A, { children: n(`settings.${h.des}`) }),
                                  ],
                                }),
                              },
                              h.name,
                            ),
                          ),
                    ],
                  }),
                ],
              }),
            ],
          },
          c.name,
        );
      }),
    });
  },
  of = [
    { name: "{randomkey16}", value: "policy.magicVar.16digitsRandomString", example: "a1b2c3d4e5f6g7h8" },
    { name: "{randomkey8}", value: "policy.magicVar.8digitsRandomString", example: "a1b2c3d4" },
    { name: "{timestamp}", value: "policy.magicVar.secondTimestamp", example: "1609459200" },
    { name: "{timestamp_nano}", value: "policy.magicVar.nanoTimestamp", example: "1609459200000000000" },
    { name: "{randomnum2}", value: "policy.magicVar.randomNumber", example: "0-1" },
    { name: "{randomnum3}", value: "policy.magicVar.randomNumber", example: "0-2" },
    { name: "{randomnum4}", value: "policy.magicVar.randomNumber", example: "0-3" },
    { name: "{randomnum8}", value: "policy.magicVar.randomNumber", example: "0-7" },
    { name: "{uid}", value: "policy.magicVar.uid", example: "1" },
    { name: "{datetime}", value: "policy.magicVar.dateAndTime", example: "20220101120000" },
    { name: "{date}", value: "policy.magicVar.date", example: "20220101" },
    { name: "{year}", value: "policy.magicVar.year", example: "2022" },
    { name: "{month}", value: "policy.magicVar.month", example: "01" },
    { name: "{day}", value: "policy.magicVar.day", example: "01" },
    { name: "{hour}", value: "policy.magicVar.hour", example: "12" },
    { name: "{minute}", value: "policy.magicVar.minute", example: "00" },
    { name: "{second}", value: "policy.magicVar.second", example: "00" },
    { name: "{uuid}", value: "policy.magicVar.uuidV4", example: "550e8400-e29b-41d4-a716-446655440000" },
    { name: "{ext}", value: "policy.magicVar.extension", example: ".jpg" },
    { name: "{originname}", value: "policy.magicVar.originalFileName", example: "example.jpg" },
    { name: "{originname_without_ext}", value: "policy.magicVar.originFileNameNoext", example: "example" },
  ],
  lf = [...of, { name: "{path}", value: "policy.magicVar.path", example: "/path/to/" }],
  Ej = [...of],
  Ij = [
    ...lf,
    { name: "{blob_name}", value: "policy.magicVar.blobName", example: "a1b2c3d4_example.mp4" },
    { name: "{blob_name_without_ext}", value: "policy.magicVar.blobNameNoext", example: "abcd1234_example" },
    { name: "{blob_path}", value: "policy.magicVar.blobPath", example: "/data/i-m-physical-path/" },
  ],
  Tj = () => {
    const { t: e } = F("dashboard"),
      { formRef: t, setSettings: n, values: i } = f.useContext(vt),
      [a, s] = f.useState(!1),
      o = f.useCallback((l) => {
        l.preventDefault(), s(!0);
      }, []);
    return r.jsx(T, {
      component: "form",
      ref: t,
      onSubmit: (l) => l.preventDefault(),
      children: r.jsxs(le, {
        spacing: 5,
        children: [
          r.jsxs(Ee, {
            children: [
              r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("settings.thumbnails") }),
              r.jsx(L, { variant: "subtitle1", gutterBottom: !0, children: e("settings.thumbnailBasic") }),
              r.jsxs(Ie, {
                children: [
                  r.jsx(P, {
                    title: e("settings.thumbWidth"),
                    lgWidth: 5,
                    children: r.jsx($, {
                      children: r.jsx(W, {
                        type: "number",
                        required: !0,
                        inputProps: { min: 1, step: 1 },
                        value: i.thumb_width,
                        onChange: (l) => {
                          n({ thumb_width: l.target.value });
                        },
                      }),
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.thumbHeight"),
                    lgWidth: 5,
                    children: r.jsx($, {
                      children: r.jsx(W, {
                        type: "number",
                        required: !0,
                        inputProps: { min: 1, step: 1 },
                        value: i.thumb_height,
                        onChange: (l) => {
                          n({ thumb_height: l.target.value });
                        },
                      }),
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.thumbPath"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          required: !0,
                          value: i.thumb_entity_suffix,
                          onChange: (l) => {
                            n({ thumb_entity_suffix: l.target.value });
                          },
                        }),
                        r.jsx(A, {
                          children: r.jsx(X, {
                            i18nKey: "settings.notAppliedToNativeGenerator",
                            ns: "dashboard",
                            values: { prefix: e("settings.thumbPathDes") },
                            components: [r.jsx(Z, { href: "#", onClick: o })],
                          }),
                        }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.thumbFormat"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      children: [
                        r.jsx(Ue, {
                          value: i.thumb_encode_method,
                          onChange: (l) => {
                            n({ thumb_encode_method: l.target.value });
                          },
                          required: !0,
                          children: ["jpg", "png", "webp"].map((l) =>
                            r.jsx(
                              he,
                              {
                                value: l,
                                children: r.jsx(de, { slotProps: { primary: { variant: "body2" } }, children: l }),
                              },
                              l,
                            ),
                          ),
                        }),
                        r.jsx(A, {
                          children: e("settings.notAppliedToOneDriveNativeGenerator", {
                            prefix: e("settings.thumbFormatDes"),
                          }),
                        }),
                      ],
                    }),
                  }),
                  r.jsx(Ve, {
                    in: i.thumb_encode_method == "jpg" || i.thumb_encode_method == "webp",
                    unmountOnExit: !0,
                    children: r.jsx(P, {
                      title: e("settings.thumbQuality"),
                      lgWidth: 5,
                      children: r.jsxs($, {
                        children: [
                          r.jsx(W, {
                            type: "number",
                            required: !0,
                            inputProps: { min: 50, max: 100, step: 1 },
                            value: i.thumb_encode_quality,
                            onChange: (l) => {
                              n({ thumb_encode_quality: l.target.value });
                            },
                          }),
                          r.jsx(A, {
                            children: e("settings.notAppliedToOneDriveNativeGenerator", {
                              prefix: e("settings.thumbQualityDes"),
                            }),
                          }),
                        ],
                      }),
                    }),
                  }),
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(xe, {
                          control: r.jsx(Oe, {
                            checked: Ot(i.thumb_gc_after_gen),
                            onChange: (l) => n({ thumb_gc_after_gen: l.target.checked ? "1" : "0" }),
                          }),
                          label: e("settings.thumbGC"),
                        }),
                        r.jsx(A, { children: e("settings.notAppliedToNativeGenerator", { prefix: "" }) }),
                      ],
                    }),
                  }),
                ],
              }),
              r.jsx(Ys, { open: a, onClose: () => s(!1), vars: Ij }),
              r.jsx(L, { variant: "subtitle1", gutterBottom: !0, sx: { mt: 1 }, children: e("settings.generators") }),
              r.jsx(Ie, {
                children: r.jsxs(P, {
                  lgWidth: 6,
                  children: [
                    r.jsx(Br, {
                      severity: "info",
                      sx: { mb: 1 },
                      children: r.jsx(X, {
                        ns: "dashboard",
                        i18nKey: "settings.generatorProxyWarning",
                        components: [
                          r.jsx(Z, { href: "https://docs.cloudreve.org/usage/thumbnails", target: "_blank" }),
                        ],
                      }),
                    }),
                    r.jsx(Dj, { values: i, setSetting: n }),
                  ],
                }),
              }),
            ],
          }),
          r.jsxs(Ee, {
            children: [
              r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("settings.extractMediaMeta") }),
              r.jsx(Ie, {
                children: r.jsxs(P, {
                  lgWidth: 6,
                  children: [
                    r.jsx(Br, {
                      severity: "info",
                      sx: { mb: 1 },
                      children: r.jsx(X, {
                        ns: "dashboard",
                        i18nKey: "settings.extractMediaMetaDes",
                        components: [
                          r.jsx(Z, { href: "https://docs.cloudreve.org/usage/media-meta", target: "_blank" }),
                        ],
                      }),
                    }),
                    r.jsx(kj, { values: i, setSetting: n }),
                  ],
                }),
              }),
            ],
          }),
        ],
      }),
    });
  },
  cf = et(T)(({ theme: e }) => ({
    height: "10px",
    borderRadius: `${e.shape.borderRadius}px`,
    width: "100%",
    backgroundColor: e.palette.grey[e.palette.mode === "light" ? 200 : 800],
    overflow: "hidden",
  })),
  zi = et(T)(() => ({
    transition: "width .6s ease",
    height: "100%",
    fontSize: "12px",
    lineHeight: "20px",
    float: "left",
  })),
  fn = et(T)(() => ({
    display: "inline-block",
    width: "10px",
    height: "10px",
    borderRadius: "50%",
    marginRight: "5px",
  })),
  $j = ({ capacity: e, forceRow: t }) => {
    const n = Ge(),
      i = $t(n.breakpoints.down("md")) || t,
      { t: a } = F(),
      [s, o] = f.useState({ used: 0, base: 0 });
    return (
      f.useEffect(() => {
        let l = { used: 0, base: 0 };
        e && ((l.used = e.used / e.total), (l.base = 1), o(l));
      }, [e]),
      r.jsxs(r.Fragment, {
        children: [
          r.jsx(cf, {
            children: r.jsx(zi, { sx: { backgroundColor: (l) => l.palette.warning.light, width: `${s.used * 100}%` } }),
          }),
          r.jsxs(le, {
            spacing: i ? 1 : 2,
            direction: i ? "column" : "row",
            sx: { mt: 1 },
            children: [
              r.jsxs(L, {
                variant: "caption",
                children: [
                  r.jsx(fn, { sx: { backgroundColor: (l) => l.palette.warning.light } }),
                  a("vas.used", { size: Gt((e == null ? void 0 : e.used) ?? 0) }),
                ],
              }),
              r.jsxs(L, {
                variant: "caption",
                children: [
                  r.jsx(fn, { sx: { backgroundColor: (l) => l.palette.grey[l.palette.mode === "light" ? 200 : 800] } }),
                  a("vas.total", { size: Gt((e == null ? void 0 : e.total) ?? 0) }),
                ],
              }),
            ],
          }),
        ],
      })
    );
  },
  Wn = (e) => r.jsx(Ks, { ...e, sx: { marginLeft: 0, marginRight: 0, marginTop: 0.5 } }),
  Wj = ({ open: e, onClose: t, queue: n, settings: i, setSettings: a }) => {
    const { t: s } = F("dashboard"),
      o = f.useRef(null),
      [l, d] = f.useState({});
    f.useEffect(() => {
      if (e) {
        const h = {};
        ["worker_num", "max_execution", "backoff_factor", "backoff_max_duration", "max_retry", "retry_delay"].forEach(
          (g) => {
            const m = `queue_${n}_${g}`;
            h[g] = i[m] || "";
          },
        ),
          d(h);
      }
    }, [e, n, i]);
    const c = () => {
        var h;
        if ((h = o.current) != null && h.reportValidity()) {
          const p = {};
          Object.entries(l).forEach(([g, m]) => {
            p[`queue_${n}_${g}`] = m;
          }),
            a(p),
            t();
        }
      },
      u = (h, p) => {
        d((g) => ({ ...g, [h]: p }));
      };
    return r.jsx(st, {
      title: s("queue.editQueueSettings", { name: s(`queue.queueName_${n}`) }),
      showActions: !0,
      showCancel: !0,
      onAccept: c,
      dialogProps: { open: e, onClose: t, fullWidth: !0, maxWidth: "sm" },
      children: r.jsxs(T, {
        component: "form",
        ref: o,
        sx: { display: "flex", flexDirection: "column", gap: 2, mt: 1, px: 3, pb: 2 },
        children: [
          r.jsx(P, {
            title: s("queue.workerNum"),
            lgWidth: 12,
            children: r.jsxs($, {
              fullWidth: !0,
              children: [
                r.jsx(W, {
                  value: l.worker_num || "",
                  onChange: (h) => u("worker_num", h.target.value),
                  type: "number",
                  slotProps: { htmlInput: { min: 1 } },
                  required: !0,
                }),
                r.jsx(Wn, { children: s("queue.workerNumDes") }),
              ],
            }),
          }),
          r.jsx(P, {
            title: s("queue.maxExecution"),
            lgWidth: 12,
            children: r.jsxs($, {
              fullWidth: !0,
              children: [
                r.jsx(W, {
                  value: l.max_execution || "",
                  onChange: (h) => u("max_execution", h.target.value),
                  type: "number",
                  inputProps: { min: 1 },
                  required: !0,
                }),
                r.jsx(Wn, { children: s("queue.maxExecutionDes") }),
              ],
            }),
          }),
          r.jsx(P, {
            title: s("queue.backoffFactor"),
            lgWidth: 12,
            children: r.jsxs($, {
              fullWidth: !0,
              children: [
                r.jsx(W, {
                  value: l.backoff_factor || "",
                  onChange: (h) => u("backoff_factor", h.target.value),
                  type: "number",
                  slotProps: { htmlInput: { min: 1, step: 0.1 } },
                  required: !0,
                }),
                r.jsx(Wn, { children: s("queue.backoffFactorDes") }),
              ],
            }),
          }),
          r.jsx(P, {
            title: s("queue.backoffMaxDuration"),
            lgWidth: 12,
            children: r.jsxs($, {
              fullWidth: !0,
              children: [
                r.jsx(W, {
                  value: l.backoff_max_duration || "",
                  onChange: (h) => u("backoff_max_duration", h.target.value),
                  type: "number",
                  slotProps: { htmlInput: { min: 1 } },
                  required: !0,
                }),
                r.jsx(Wn, { children: s("queue.backoffMaxDurationDes") }),
              ],
            }),
          }),
          r.jsx(P, {
            title: s("queue.maxRetry"),
            lgWidth: 12,
            children: r.jsxs($, {
              fullWidth: !0,
              children: [
                r.jsx(W, {
                  value: l.max_retry || "",
                  onChange: (h) => u("max_retry", h.target.value),
                  type: "number",
                  slotProps: { htmlInput: { min: 0 } },
                  required: !0,
                }),
                r.jsx(Wn, { children: s("queue.maxRetryDes") }),
              ],
            }),
          }),
          r.jsx(P, {
            title: s("queue.retryDelay"),
            lgWidth: 12,
            children: r.jsxs($, {
              fullWidth: !0,
              children: [
                r.jsx(W, {
                  value: l.retry_delay || "",
                  onChange: (h) => u("retry_delay", h.target.value),
                  type: "number",
                  slotProps: { htmlInput: { min: 0 } },
                  required: !0,
                }),
                r.jsx(Wn, { children: s("queue.retryDelayDes") }),
              ],
            }),
          }),
        ],
      }),
    });
  },
  Dd = ({ queue: e, settings: t, metrics: n, setSettings: i, loading: a }) => {
    const { t: s } = F("dashboard"),
      o = Ge(),
      l = $t(o.breakpoints.down("sm")),
      [d, c] = f.useState(!1);
    return a
      ? r.jsx(Dt, {
          item: !0,
          xs: 12,
          md: 6,
          lg: 4,
          children: r.jsxs(ns, {
            children: [
              r.jsxs(T, {
                sx: { display: "flex", justifyContent: "space-between", alignItems: "center" },
                children: [
                  r.jsx(ce, { variant: "text", width: 150, height: 28 }),
                  r.jsx(ce, { variant: "circular", width: 24, height: 24 }),
                ],
              }),
              r.jsx(ce, { variant: "text", width: "80%", height: 20, sx: { mt: 1 } }),
              r.jsx(bt, { sx: { my: 2 } }),
              r.jsx(ce, { variant: "rectangular", height: 8, width: "100%", sx: { borderRadius: 1 } }),
              r.jsx(le, {
                spacing: l ? 1 : 2,
                direction: l ? "column" : "row",
                sx: { mt: 1 },
                children: Array.from(Array(5)).map((u, h) =>
                  r.jsx(ce, { variant: "text", width: l ? "100%" : 80, height: 20 }, h),
                ),
              }),
            ],
          }),
        })
      : r.jsx(Dt, {
          item: !0,
          xs: 12,
          md: 6,
          lg: 4,
          children: r.jsxs(ns, {
            children: [
              r.jsxs(T, {
                sx: { display: "flex", justifyContent: "space-between", alignItems: "center" },
                children: [
                  r.jsx(L, { variant: "subtitle1", fontWeight: 600, children: s(`queue.queueName_${e}`) }),
                  r.jsx($e, { size: "small", onClick: () => c(!0), children: r.jsx(ll, { fontSize: "small" }) }),
                ],
              }),
              r.jsx(L, { variant: "body2", color: "text.secondary", children: s(`queue.queueName_${e}Des`) }),
              r.jsx(bt, { sx: { my: 2 } }),
              n &&
                r.jsxs(r.Fragment, {
                  children: [
                    r.jsxs(cf, {
                      children: [
                        r.jsx(zi, {
                          sx: {
                            backgroundColor: (u) => u.palette.success.light,
                            width: `${(n.success_tasks / n.submitted_tasks) * 100}%`,
                          },
                        }),
                        r.jsx(zi, {
                          sx: {
                            backgroundColor: (u) => u.palette.error.light,
                            width: `${(n.failure_tasks / n.submitted_tasks) * 100}%`,
                          },
                        }),
                        r.jsx(zi, {
                          sx: {
                            backgroundColor: (u) => u.palette.action.active,
                            width: `${(n.suspending_tasks / n.submitted_tasks) * 100}%`,
                          },
                        }),
                        r.jsx(zi, {
                          sx: {
                            backgroundColor: (u) => u.palette.info.light,
                            width: `${(n.busy_workers / n.submitted_tasks) * 100}%`,
                          },
                        }),
                      ],
                    }),
                    r.jsxs(le, {
                      spacing: l ? 1 : 2,
                      direction: l ? "column" : "row",
                      sx: { mt: 1 },
                      children: [
                        r.jsxs(L, {
                          variant: "caption",
                          children: [
                            r.jsx(fn, { sx: { backgroundColor: (u) => u.palette.success.light } }),
                            s("queue.success", { count: n.success_tasks }),
                          ],
                        }),
                        r.jsxs(L, {
                          variant: "caption",
                          children: [
                            r.jsx(fn, { sx: { backgroundColor: (u) => u.palette.error.light } }),
                            s("queue.failed", { count: n.failure_tasks }),
                          ],
                        }),
                        r.jsxs(L, {
                          variant: "caption",
                          children: [
                            r.jsx(fn, { sx: { backgroundColor: (u) => u.palette.info.light } }),
                            s("queue.busyWorker", { count: n.busy_workers }),
                          ],
                        }),
                        r.jsxs(L, {
                          variant: "caption",
                          children: [
                            r.jsx(fn, { sx: { backgroundColor: (u) => u.palette.action.active } }),
                            s("queue.suspending", { count: n.suspending_tasks }),
                          ],
                        }),
                        r.jsxs(L, {
                          variant: "caption",
                          children: [
                            r.jsx(fn, {
                              sx: { backgroundColor: (u) => u.palette.grey[u.palette.mode === "light" ? 200 : 800] },
                            }),
                            s("queue.submited", { count: n.submitted_tasks }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
              e && r.jsx(Wj, { open: d, onClose: () => c(!1), queue: e, settings: t, setSettings: i }),
            ],
          }),
        });
  },
  Mj = () => {
    const { t: e } = F("dashboard"),
      t = ge(),
      { formRef: n, setSettings: i, values: a } = f.useContext(vt),
      [s, o] = f.useState([]),
      [l, d] = f.useState(!0),
      c = () => {
        d(!0),
          t(tm())
            .then((u) => {
              o(u);
            })
            .finally(() => {
              d(!1);
            });
      };
    return (
      f.useEffect(() => {
        c();
      }, []),
      r.jsxs(T, {
        component: "form",
        ref: n,
        sx: { p: 2, pt: 0 },
        children: [
          r.jsx(le, {
            direction: "row",
            spacing: 2,
            sx: { mb: 2 },
            children: r.jsx(ke, {
              onClick: c,
              disabled: l,
              variant: "contained",
              startIcon: r.jsx(Dr, {}),
              children: e("node.refresh"),
            }),
          }),
          r.jsxs(Dt, {
            container: !0,
            spacing: 2,
            children: [
              !l &&
                s.map((u) => r.jsx(Dd, { metrics: u, queue: u.name, settings: a, setSettings: i, loading: l }, u.name)),
              l &&
                Array.from(Array(5)).map((u, h) =>
                  r.jsx(Dd, { settings: a, setSettings: i, loading: !0 }, `loading-${h}`),
                ),
            ],
          }),
        ],
      })
    );
  },
  Nj = () => {
    const { t: e } = F("dashboard"),
      { formRef: t, setSettings: n, values: i } = f.useContext(vt),
      a = () => {
        n({ secret_key: "[Placeholder]" });
      };
    return r.jsx(T, {
      component: "form",
      ref: t,
      onSubmit: (s) => s.preventDefault(),
      children: r.jsx(le, {
        spacing: 5,
        children: r.jsxs(Ee, {
          children: [
            r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("settings.server") }),
            r.jsxs(Ie, {
              children: [
                r.jsx(P, {
                  title: e("settings.tempPath"),
                  lgWidth: 5,
                  children: r.jsxs($, {
                    fullWidth: !0,
                    children: [
                      r.jsx(W, {
                        required: !0,
                        value: i.temp_path ?? "",
                        onChange: (s) => n({ temp_path: s.target.value }),
                      }),
                      r.jsx(A, { children: e("settings.tempPathDes") }),
                    ],
                  }),
                }),
                r.jsx(P, {
                  title: e("settings.siteID"),
                  lgWidth: 5,
                  children: r.jsxs($, {
                    fullWidth: !0,
                    children: [
                      r.jsx(W, { required: !0, value: i.siteID ?? "", onChange: (s) => n({ siteID: s.target.value }) }),
                      r.jsx(A, { children: e("settings.siteIDDes") }),
                    ],
                  }),
                }),
                r.jsxs(P, {
                  title: e("settings.siteSecretKey"),
                  lgWidth: 5,
                  children: [
                    r.jsx(ke, {
                      onClick: a,
                      startIcon: r.jsx(Dr, {}),
                      variant: "contained",
                      children: e("settings.rotateSecretKey"),
                    }),
                    r.jsx(A, { children: e("settings.siteSecretKeyDes") }),
                  ],
                }),
                r.jsx(P, {
                  title: e("settings.hashidSalt"),
                  lgWidth: 5,
                  children: r.jsxs($, {
                    fullWidth: !0,
                    children: [
                      r.jsx(W, {
                        required: !0,
                        value: i.hash_id_salt ?? "",
                        onChange: (s) => n({ hash_id_salt: s.target.value }),
                      }),
                      r.jsx(A, { children: e("settings.hashidSaltDes") }),
                    ],
                  }),
                }),
                r.jsx(P, {
                  title: e("settings.accessTokenTTL"),
                  lgWidth: 5,
                  children: r.jsxs($, {
                    fullWidth: !0,
                    children: [
                      r.jsx(W, {
                        required: !0,
                        slotProps: { input: { type: "number", inputProps: { min: 100 } } },
                        value: i.access_token_ttl ?? "",
                        onChange: (s) => n({ access_token_ttl: s.target.value }),
                      }),
                      r.jsx(A, { children: e("settings.accessTokenTTLDes") }),
                    ],
                  }),
                }),
                r.jsx(P, {
                  title: e("settings.refreshTokenTTL"),
                  lgWidth: 5,
                  children: r.jsxs($, {
                    fullWidth: !0,
                    children: [
                      r.jsx(W, {
                        required: !0,
                        slotProps: {
                          input: { type: "number", inputProps: { min: parseInt(i.access_token_ttl ?? "1000") + 100 } },
                        },
                        value: i.refresh_token_ttl ?? "",
                        onChange: (s) => n({ refresh_token_ttl: s.target.value }),
                      }),
                      r.jsx(A, { children: e("settings.refreshTokenTTLDes") }),
                    ],
                  }),
                }),
                r.jsx(P, {
                  title: e("settings.cronGarbageCollect"),
                  lgWidth: 5,
                  children: r.jsxs($, {
                    fullWidth: !0,
                    children: [
                      r.jsx(W, {
                        required: !0,
                        value: i.cron_garbage_collect ?? "",
                        onChange: (s) => n({ cron_garbage_collect: s.target.value }),
                      }),
                      r.jsx(A, {
                        children: r.jsx(X, {
                          i18nKey: "settings.cronDes",
                          values: { des: e("settings.cronGarbageCollectDes") },
                          ns: "dashboard",
                          components: [
                            r.jsx(Z, { href: "https://crontab.guru/", target: "_blank", rel: "noopener noreferrer" }),
                          ],
                        }),
                      }),
                    ],
                  }),
                }),
              ],
            }),
          ],
        }),
      }),
    });
  },
  $o = ({ src: e, debounce: t = 0 }) => {
    F("dashboard");
    const n = Ge(),
      i = $t(n.breakpoints.down("sm")),
      [a, s] = f.useState(e);
    return (
      f.useEffect(() => {
        const o = setTimeout(() => {
          s(e);
        }, t);
        return () => clearTimeout(o);
      }, [e, t]),
      r.jsx(T, {
        sx: { mt: i ? 0 : 3 },
        children: r.jsx(T, {
          sx: {
            border: (o) => `1px solid ${o.palette.divider}`,
            p: 1,
            display: "inline-block",
            borderRadius: (o) => `${o.shape.borderRadius}px`,
          },
          children: r.jsx(T, { component: "img", src: a, sx: { display: "block", maxWidth: "100%" } }),
        }),
      })
    );
  },
  zj = ({ logoLight: e, logoDark: t }) => {
    F("dashboard");
    const n = Ge(),
      i = $t(n.breakpoints.down("sm"));
    return r.jsxs(le, {
      spacing: 1,
      direction: "row",
      sx: { mt: i ? 0 : 3 },
      children: [
        r.jsx(T, {
          sx: { backgroundColor: (a) => a.palette.grey[100], p: 1, borderRadius: (a) => `${a.shape.borderRadius}px` },
          children: r.jsx(T, {
            component: "img",
            src: t,
            sx: {
              display: "block",
              height: "auto",
              maxWidth: 160,
              maxHeight: 35,
              width: "100%",
              objectPosition: "left",
              objectFit: "contain",
            },
          }),
        }),
        r.jsx(T, {
          sx: { backgroundColor: (a) => a.palette.grey[900], p: 1, borderRadius: (a) => `${a.shape.borderRadius}px` },
          children: r.jsx(T, {
            component: "img",
            src: e,
            sx: {
              display: "block",
              height: "auto",
              maxWidth: 160,
              maxHeight: 35,
              width: "100%",
              objectPosition: "left",
              objectFit: "contain",
            },
          }),
        }),
      ],
    });
  },
  Lj = ({ urls: e, onChange: t }) => {
    const { t: n } = F("dashboard"),
      i = f.useMemo(() => e.split(",").map((o) => o), [e]),
      a = (o) => (l) => {
        const d = [...i];
        (d[o] = l.target.value), t(d.join(","));
      },
      s = (o) => () => {
        const l = [...i];
        l.splice(o, 1), t(l.join(","));
      };
    return r.jsxs(le, {
      spacing: 1,
      children: [
        r.jsxs($, {
          fullWidth: !0,
          children: [
            r.jsx(W, {
              fullWidth: !0,
              onChange: a(0),
              value: i[0],
              InputProps: {
                startAdornment: r.jsx(is, {
                  disableTypography: !0,
                  position: "start",
                  children: n("settings.primarySiteURL"),
                }),
              },
              required: !0,
            }),
            r.jsx(A, { children: n("settings.primarySiteURLDes") }),
          ],
        }),
        r.jsx(bt, {}),
        r.jsx(A, { children: n("settings.secondaryDes") }),
        r.jsx(Wx, {
          children: i
            .slice(1)
            .map((o, l) =>
              r.jsx(
                Ve,
                {
                  children: r.jsx($, {
                    fullWidth: !0,
                    sx: { mb: 1 },
                    children: r.jsx(W, {
                      fullWidth: !0,
                      onChange: a(l + 1),
                      value: o,
                      InputProps: {
                        startAdornment: r.jsx(is, {
                          disableTypography: !0,
                          position: "start",
                          children: n("settings.secondarySiteURL"),
                        }),
                        endAdornment: r.jsx(Lr, {
                          position: "end",
                          children: r.jsx($e, {
                            size: "small",
                            onClick: s(l + 1),
                            children: r.jsx(ji, { fontSize: "small" }),
                          }),
                        }),
                      },
                      required: !0,
                    }),
                  }),
                },
                l,
              ),
            ),
        }),
        r.jsx(T, {
          sx: { mt: "0!important" },
          children: r.jsx(ke, {
            variant: "contained",
            startIcon: r.jsx(Rt, {}),
            onClick: () => t(`${e},`),
            children: n("settings.addSecondary"),
          }),
        }),
      ],
    });
  },
  Bj = () => {
    const { t: e } = F("dashboard"),
      { formRef: t, setSettings: n, values: i } = f.useContext(vt);
    return r.jsx(T, {
      component: "form",
      ref: t,
      onSubmit: (a) => a.preventDefault(),
      children: r.jsxs(le, {
        spacing: 5,
        children: [
          r.jsxs(Ee, {
            children: [
              r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("settings.basicInformation") }),
              r.jsxs(Ie, {
                children: [
                  r.jsx(P, {
                    title: e("settings.mainTitle"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          fullWidth: !0,
                          onChange: (a) => n({ siteName: a.target.value }),
                          value: i.siteName,
                          required: !0,
                          inputProps: { maxLength: 255 },
                        }),
                        r.jsx(A, { children: e("settings.mainTitleDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.siteDescription"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          fullWidth: !0,
                          onChange: (a) => n({ siteDes: a.target.value }),
                          value: i.siteDes,
                          multiline: !0,
                          rows: 4,
                        }),
                        r.jsx(A, { children: e("settings.siteDescriptionDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.siteURL"),
                    lgWidth: 5,
                    children: r.jsx($, {
                      fullWidth: !0,
                      children: r.jsx(Lj, { urls: i.siteURL, onChange: (a) => n({ siteURL: a }) }),
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.customFooterHTML"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          fullWidth: !0,
                          onChange: (a) => n({ siteScript: a.target.value }),
                          value: i.siteScript,
                          multiline: !0,
                          rows: 4,
                        }),
                        r.jsx(A, { children: e("settings.customFooterHTMLDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.announcement"),
                    lgWidth: 5,
                    pro: !0,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, { inputProps: { readOnly: !0 }, fullWidth: !0, multiline: !0, rows: 4 }),
                        r.jsx(A, { children: e("settings.announcementDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.tosUrl"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, { fullWidth: !0, onChange: (a) => n({ tos_url: a.target.value }), value: i.tos_url }),
                        r.jsx(A, { children: e("settings.tosUrlDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.privacyUrl"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          fullWidth: !0,
                          onChange: (a) => n({ privacy_policy_url: a.target.value }),
                          value: i.privacy_policy_url,
                        }),
                        r.jsx(A, { children: e("settings.privacyUrlDes") }),
                      ],
                    }),
                  }),
                ],
              }),
            ],
          }),
          r.jsxs(Ee, {
            children: [
              r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("settings.branding") }),
              r.jsxs(Ie, {
                children: [
                  r.jsx(P, {
                    title: e("settings.logo"),
                    lgWidth: 5,
                    spacing: 3,
                    secondary: r.jsx(Dt, {
                      item: !0,
                      md: 7,
                      xs: 12,
                      children: r.jsx(zj, { logoDark: i.site_logo, logoLight: i.site_logo_light }),
                    }),
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          fullWidth: !0,
                          onChange: (a) => n({ site_logo: a.target.value }),
                          value: i.site_logo,
                          required: !0,
                          InputProps: {
                            startAdornment: r.jsx(is, {
                              disableTypography: !0,
                              position: "start",
                              children: e("settings.light"),
                            }),
                          },
                        }),
                        r.jsx(W, {
                          sx: { mt: 1 },
                          fullWidth: !0,
                          onChange: (a) => n({ site_logo_light: a.target.value }),
                          value: i.site_logo_light,
                          required: !0,
                          InputProps: {
                            startAdornment: r.jsx(is, {
                              disableTypography: !0,
                              position: "start",
                              children: e("settings.dark"),
                            }),
                          },
                        }),
                        r.jsx(A, { children: e("settings.logoDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.smallIcon"),
                    lgWidth: 5,
                    spacing: 3,
                    secondary: r.jsx(Dt, {
                      item: !0,
                      md: 7,
                      xs: 12,
                      children: r.jsx(T, {
                        sx: { maxWidth: 160 },
                        children: r.jsx($o, { src: i.pwa_small_icon, debounce: 250 }),
                      }),
                    }),
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          fullWidth: !0,
                          onChange: (a) => n({ pwa_small_icon: a.target.value }),
                          value: i.pwa_small_icon,
                          required: !0,
                        }),
                        r.jsx(A, { children: e("settings.smallIconDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.mediumIcon"),
                    lgWidth: 5,
                    spacing: 3,
                    secondary: r.jsx(Dt, {
                      item: !0,
                      md: 7,
                      xs: 12,
                      children: r.jsx(T, {
                        sx: { maxWidth: 160 },
                        children: r.jsx($o, { src: i.pwa_medium_icon, debounce: 250 }),
                      }),
                    }),
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          fullWidth: !0,
                          onChange: (a) => n({ pwa_medium_icon: a.target.value }),
                          value: i.pwa_medium_icon,
                          required: !0,
                        }),
                        r.jsx(A, { children: e("settings.mediumIconDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("settings.largeIcon"),
                    lgWidth: 5,
                    spacing: 3,
                    secondary: r.jsx(Dt, {
                      item: !0,
                      md: 7,
                      xs: 12,
                      children: r.jsx(T, {
                        sx: { maxWidth: 160 },
                        children: r.jsx($o, { src: i.pwa_large_icon, debounce: 250 }),
                      }),
                    }),
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          fullWidth: !0,
                          onChange: (a) => n({ pwa_large_icon: a.target.value }),
                          value: i.pwa_large_icon,
                          required: !0,
                        }),
                        r.jsx(A, { children: e("settings.largeIconDes") }),
                      ],
                    }),
                  }),
                ],
              }),
            ],
          }),
          r.jsxs(Ee, {
            children: [
              r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("vas.mobileApp") }),
              r.jsxs(Ie, {
                children: [
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(xe, {
                          control: r.jsx(Oe, {
                            checked: Ot(i.show_app_promotion),
                            onChange: (a) => n({ show_app_promotion: a.target.checked ? "1" : "0" }),
                          }),
                          label: e("vas.showAppPromotion"),
                        }),
                        r.jsx(A, { children: e("vas.showAppPromotionDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("vas.appFeedback"),
                    lgWidth: 5,
                    pro: !0,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, { fullWidth: !0, slotProps: { input: { readOnly: !0 } } }),
                        r.jsx(A, { children: e("vas.appLinkDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("vas.appForum"),
                    lgWidth: 5,
                    pro: !0,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, { fullWidth: !0, slotProps: { input: { readOnly: !0 } } }),
                        r.jsx(A, { children: e("vas.appLinkDes") }),
                      ],
                    }),
                  }),
                ],
              }),
            ],
          }),
        ],
      }),
    });
  },
  Rj = 3,
  Zn = ({ value: e, onChange: t, onChangeGroup: n, emptyValue: i, emptyText: a, fullWidth: s, required: o }) => {
    const l = ge(),
      [d, c] = f.useState(!0),
      [u, h] = f.useState([]);
    f.useEffect(() => {
      c(!0),
        l(kp({ page_size: 1e3, page: 1, order_by: "id", order_direction: "asc" }))
          .then((g) => {
            h(g.groups);
          })
          .finally(() => {
            c(!1);
          });
    }, []);
    const p = (g) => {
      t(g), n == null || n(u.find((m) => m.id === parseInt(g)));
    };
    return r.jsx($, {
      fullWidth: s,
      children: r.jsxs(Ue, {
        disabled: d,
        value: e,
        onChange: (g) => p(g.target.value),
        required: o,
        children: [
          u
            .filter((g) => g.id != Rj)
            .map((g) =>
              r.jsx(he, {
                value: g.id.toString(),
                children: r.jsx(de, { slotProps: { primary: { variant: "body2" } }, children: g.name }),
              }),
            ),
          i !== void 0 &&
            a &&
            r.jsx(he, {
              value: i,
              children: r.jsx(de, {
                primary: r.jsx("em", { children: a }),
                slotProps: { primary: { variant: "body2" } },
              }),
            }),
        ],
      }),
    });
  },
  Fj = (e) => {
    const t = Ge(),
      { t: n } = F(),
      [i, a] = f.useState([]);
    return r.jsx(Ap, {
      multiple: !0,
      options: i,
      blurOnSelect: !0,
      renderInput: (s) =>
        r.jsx(W, {
          ...s,
          sx: {
            "& .MuiInputBase-root": {},
            "& .MuiInputBase-root.MuiOutlinedInput-root": { paddingTop: t.spacing(0.6), paddingBottom: t.spacing(0.6) },
            mt: 0,
          },
          variant: "outlined",
          margin: "dense",
          placeholder: n("dashboard:settings.searchShare"),
          type: "text",
          fullWidth: !0,
        }),
    });
  },
  Vj = () => {
    const { t: e } = F("dashboard"),
      { formRef: t, setSettings: n, values: i } = f.useContext(vt);
    return (
      f.useMemo(() => {
        let a = [];
        try {
          a = JSON.parse((i == null ? void 0 : i.default_symbolics) ?? "[]");
        } catch (s) {
          console.error(s);
        }
        return a;
      }, [i == null ? void 0 : i.default_symbolics]),
      r.jsx(T, {
        component: "form",
        ref: t,
        onSubmit: (a) => a.preventDefault(),
        children: r.jsxs(le, {
          spacing: 5,
          children: [
            r.jsxs(Ee, {
              children: [
                r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("settings.accountManagement") }),
                r.jsxs(Ie, {
                  children: [
                    r.jsx(P, {
                      lgWidth: 5,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(xe, {
                            control: r.jsx(Oe, {
                              checked: Ot(i.register_enabled),
                              onChange: (a) => n({ register_enabled: a.target.checked ? "1" : "0" }),
                            }),
                            label: e("settings.allowNewRegistrations"),
                          }),
                          r.jsx(A, { children: e("settings.allowNewRegistrationsDes") }),
                        ],
                      }),
                    }),
                    r.jsx(P, {
                      lgWidth: 5,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(xe, {
                            control: r.jsx(Oe, {
                              checked: Ot(i.email_active),
                              onChange: (a) => n({ email_active: a.target.checked ? "1" : "0" }),
                            }),
                            label: e("settings.emailActivation"),
                          }),
                          r.jsx(A, {
                            children: r.jsx(X, {
                              i18nKey: "settings.emailActivationDes",
                              ns: "dashboard",
                              components: [r.jsx(Z, { href: "/admin/settings?tab=email" })],
                            }),
                          }),
                        ],
                      }),
                    }),
                    r.jsx(P, {
                      lgWidth: 5,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(xe, {
                            control: r.jsx(Oe, {
                              checked: Ot(i.authn_enabled),
                              onChange: (a) => n({ authn_enabled: a.target.checked ? "1" : "0" }),
                            }),
                            label: e("settings.webauthn"),
                          }),
                          r.jsx(A, { children: e("settings.webauthnDes") }),
                        ],
                      }),
                    }),
                    r.jsx(P, {
                      title: e("settings.defaultGroup"),
                      lgWidth: 5,
                      children: r.jsxs($, {
                        children: [
                          r.jsx(Zn, { value: i.default_group, onChange: (a) => n({ default_group: a }) }),
                          r.jsx(A, { children: e("settings.defaultGroupDes") }),
                        ],
                      }),
                    }),
                    r.jsx(P, {
                      title: e("settings.defaultSymbolics"),
                      lgWidth: 5,
                      pro: !0,
                      children: r.jsxs($, {
                        children: [
                          r.jsx(Fj, {}),
                          r.jsx(A, {
                            children: r.jsx(X, {
                              i18nKey: "settings.defaultSymbolicsDes",
                              ns: "dashboard",
                              components: [r.jsx(Z, { component: zt, to: "/admin/share" })],
                            }),
                          }),
                        ],
                      }),
                    }),
                    r.jsx(P, {
                      title: e("vas.filterEmailProvider"),
                      lgWidth: 5,
                      pro: !0,
                      children: r.jsxs($, {
                        children: [
                          r.jsx(Ue, {
                            value: 0,
                            children: [
                              "filterEmailProviderDisabled",
                              "filterEmailProviderWhitelist",
                              "filterEmailProviderBlacklist",
                            ].map((a, s) =>
                              r.jsx(he, {
                                value: s.toString(),
                                children: r.jsx(de, {
                                  slotProps: { primary: { variant: "body2" } },
                                  children: e(`vas.${a}`),
                                }),
                              }),
                            ),
                          }),
                          r.jsx(A, { children: e("vas.filterEmailProviderDes") }),
                        ],
                      }),
                    }),
                    r.jsx(P, {
                      lgWidth: 5,
                      pro: !0,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(xe, {
                            control: r.jsx(Oe, { checked: !1 }),
                            label: r.jsxs(r.Fragment, {
                              children: [
                                e("vas.disableSubAddressEmail"),
                                r.jsx(It, { label: "Pro", color: "primary", size: "small" }),
                              ],
                            }),
                          }),
                          r.jsx(A, {
                            children: r.jsx(X, {
                              i18nKey: "vas.disableSubAddressEmailDes",
                              ns: "dashboard",
                              components: [r.jsx(oe, {})],
                            }),
                          }),
                        ],
                      }),
                    }),
                  ],
                }),
              ],
            }),
            r.jsxs(Ee, {
              children: [
                r.jsxs(L, {
                  variant: "h6",
                  gutterBottom: !0,
                  sx: { display: "flex", alignItems: "center" },
                  children: [
                    e("settings.thirdPartySignIn"),
                    " ",
                    r.jsx(It, { label: "Pro", color: "primary", size: "small" }),
                  ],
                }),
                r.jsx(Ie, { children: r.jsx(P, { lgWidth: 5, children: r.jsx(jj, {}) }) }),
              ],
            }),
            r.jsxs(Ee, {
              children: [
                r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("settings.avatar") }),
                r.jsxs(Ie, {
                  children: [
                    r.jsx(P, {
                      title: e("settings.avatarFilePath"),
                      lgWidth: 5,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(W, {
                            value: i.avatar_path,
                            onChange: (a) => n({ avatar_path: a.target.value }),
                            required: !0,
                          }),
                          r.jsx(A, { children: e("settings.avatarFilePathDes") }),
                        ],
                      }),
                    }),
                    r.jsx(P, {
                      title: e("settings.avatarSize"),
                      lgWidth: 5,
                      children: r.jsxs($, {
                        children: [
                          r.jsx(tr, {
                            variant: "outlined",
                            required: !0,
                            label: e("application:navbar.minimum"),
                            value: parseInt(i.avatar_size) ?? 0,
                            onChange: (a) => n({ avatar_size: a.toString() }),
                          }),
                          r.jsx(A, { children: e("settings.avatarSizeDes") }),
                        ],
                      }),
                    }),
                    r.jsx(P, {
                      title: e("settings.avatarImageSize"),
                      lgWidth: 5,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(W, {
                            value: i.avatar_size_l,
                            onChange: (a) => n({ avatar_size_l: a.target.value }),
                            type: "number",
                            inputProps: { step: 1, min: 1 },
                            required: !0,
                          }),
                          r.jsx(A, { children: e("settings.avatarImageSizeDes") }),
                        ],
                      }),
                    }),
                    r.jsx(P, {
                      title: e("settings.gravatarServer"),
                      lgWidth: 5,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(W, {
                            value: i.gravatar_server,
                            onChange: (a) => n({ gravatar_server: a.target.value }),
                            required: !0,
                          }),
                          r.jsx(A, { children: e("settings.gravatarServerDes") }),
                        ],
                      }),
                    }),
                  ],
                }),
              ],
            }),
          ],
        }),
      })
    );
  },
  qj = ({ storageProductsConfig: e, groupProductsConfig: t }) => {
    const { t: n } = F("dashboard");
    Mx(), ut();
    const [i, a] = f.useState(!1),
      [s, o] = f.useState([]),
      [l, d] = f.useState(!1),
      [c, u] = f.useState({ page: 1, perPage: 10, total: 0 }),
      h = (p) => {
        u({ page: 1, perPage: p, total: c.total });
      };
    return r.jsxs(le, {
      spacing: 2,
      children: [
        r.jsx(T, {
          children: r.jsx(ke, {
            variant: "contained",
            startIcon: r.jsx(Rt, {}),
            onClick: () => a(!0),
            children: n("giftCodes.generateGiftCodes"),
          }),
        }),
        r.jsxs(xt, {
          children: [
            r.jsx(ot, {
              children: r.jsxs(lt, {
                size: "small",
                children: [
                  r.jsx(ct, {
                    children: r.jsxs(je, {
                      children: [
                        r.jsx(we, { children: "#" }),
                        r.jsx(we, { children: n("giftCodes.giftCodeProduct") }),
                        r.jsx(we, { children: n("giftCodes.giftCodeAmount") }),
                        r.jsx(we, { children: n("giftCodes.giftCode") }),
                        r.jsx(we, { children: n("giftCodes.giftCodeStatus") }),
                        r.jsx(we, { children: n("giftCodes.giftCodeUsedBy") }),
                        r.jsx(we, { align: "right" }),
                      ],
                    }),
                  }),
                  r.jsx(dt, {
                    children:
                      s.length === 0 &&
                      !l &&
                      r.jsx(je, {
                        children: r.jsx(we, { colSpan: 6, align: "center", children: n("giftCodes.noGiftCodes") }),
                      }),
                  }),
                ],
              }),
            }),
            (c == null ? void 0 : c.total) > 0 &&
              r.jsx(T, {
                sx: { px: 1 },
                children: r.jsx(Rr, {
                  totalItems: c.total,
                  page: c.page,
                  rowsPerPage: c.perPage,
                  rowsPerPageOptions: [10, 25, 50, 100],
                  onRowsPerPageChange: h,
                  onChange: (p, g) => u({ ...c, page: g }),
                }),
              }),
          ],
        }),
      ],
    });
  },
  Uj = () => {
    const { t: e } = F("dashboard");
    return r.jsxs(T, {
      children: [
        r.jsx(T, {
          sx: { display: "flex", justifyContent: "space-between", alignItems: "center", mb: 1 },
          children: r.jsx(ke, {
            variant: "contained",
            startIcon: r.jsx(Rt, {}),
            children: e("settings.addGroupProduct"),
          }),
        }),
        r.jsx(ot, {
          component: xt,
          children: r.jsxs(lt, {
            sx: { width: "100%" },
            size: "small",
            children: [
              r.jsx(ct, {
                children: r.jsxs(je, {
                  children: [
                    r.jsx(we, { children: e("settings.displayName") }),
                    r.jsx(we, { children: e("settings.price") }),
                    r.jsx(we, { children: e("settings.duration") }),
                    r.jsx(we, { children: e("settings.description") }),
                    r.jsx(we, { children: e("settings.actions") }),
                  ],
                }),
              }),
              r.jsx(dt, {
                children: r.jsx(je, {
                  children: r.jsx(we, {
                    colSpan: 5,
                    align: "center",
                    children: r.jsx(L, {
                      variant: "caption",
                      color: "text.secondary",
                      children: e("application:setting.listEmpty"),
                    }),
                  }),
                }),
              }),
            ],
          }),
        }),
      ],
    });
  },
  Kj = ({}) => {
    const { t: e } = F("dashboard");
    return r.jsx(le, {
      spacing: 2,
      children: r.jsx(T, {
        children: r.jsx(ke, {
          variant: "contained",
          startIcon: r.jsx(Dp, {}),
          children: e("settings.addPaymentProvider"),
        }),
      }),
    });
  },
  Hj = () => {
    const { t: e } = F("dashboard");
    return r.jsxs(T, {
      children: [
        r.jsx(T, {
          sx: { display: "flex", justifyContent: "space-between", alignItems: "center", mb: 1 },
          children: r.jsx(ke, {
            variant: "contained",
            startIcon: r.jsx(Rt, {}),
            children: e("settings.addStorageProduct"),
          }),
        }),
        r.jsx(ot, {
          component: xt,
          children: r.jsxs(lt, {
            sx: { width: "100%" },
            size: "small",
            children: [
              r.jsx(ct, {
                children: r.jsxs(je, {
                  children: [
                    r.jsx(we, { children: e("settings.displayName") }),
                    r.jsx(we, { children: e("settings.price") }),
                    r.jsx(we, { children: e("settings.duration") }),
                    r.jsx(we, { children: e("settings.storageSize") }),
                    r.jsx(we, { children: e("settings.actions") }),
                  ],
                }),
              }),
              r.jsx(dt, {
                children: r.jsx(je, {
                  children: r.jsx(we, {
                    colSpan: 5,
                    align: "center",
                    children: r.jsx(L, {
                      variant: "caption",
                      color: "text.secondary",
                      children: e("application:setting.listEmpty"),
                    }),
                  }),
                }),
              }),
            ],
          }),
        }),
      ],
    });
  },
  Gj = () => {
    const { t: e } = F("dashboard"),
      [t, n] = f.useState(!1),
      { formRef: i, setSettings: a, values: s } = f.useContext(vt),
      o = en({ variant: "popover", popupId: "currencySelector" });
    f.useMemo(() => JSON.parse(s.payment || "{}"), [s.payment]);
    const l = f.useMemo(() => s.storage_products || "[]", [s.storage_products]),
      d = f.useMemo(() => s.group_sell_data || "[]", [s.group_sell_data]),
      c = (u) => {
        u.preventDefault(), n(!0);
      };
    return r.jsxs(T, {
      component: "form",
      ref: i,
      children: [
        r.jsx(Er, { open: t, onClose: () => n(!1) }),
        r.jsxs(le, {
          spacing: 5,
          children: [
            r.jsxs(Ee, {
              children: [
                r.jsxs(L, {
                  variant: "h6",
                  gutterBottom: !0,
                  sx: { display: "flex", alignItems: "center" },
                  children: [
                    e("settings.creditAndVAS"),
                    " ",
                    r.jsx(It, { label: "Pro", color: "primary", size: "small" }),
                  ],
                }),
                r.jsxs(Ie, {
                  onClick: c,
                  children: [
                    r.jsx(P, {
                      lgWidth: 5,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(xe, { control: r.jsx(Oe, { checked: !1 }), label: e("settings.enableCredit") }),
                          r.jsx(A, { children: e("settings.enableCreditDes") }),
                        ],
                      }),
                    }),
                    r.jsxs(le, {
                      spacing: 2,
                      children: [
                        r.jsx(P, {
                          title: e("settings.creditPrice"),
                          lgWidth: 5,
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(W, { type: "number", slotProps: { input: { readOnly: !0 } }, value: 1 }),
                              r.jsx(A, { children: e("settings.creditPriceDes") }),
                            ],
                          }),
                        }),
                        r.jsx(P, {
                          title: e("settings.shareScoreRate"),
                          lgWidth: 5,
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(W, { type: "number", value: 80, slotProps: { input: { readOnly: !0 } } }),
                              r.jsx(A, { children: e("settings.shareScoreRateDes") }),
                            ],
                          }),
                        }),
                      ],
                    }),
                    r.jsx(P, {
                      title: e("vas.banBufferPeriod"),
                      lgWidth: 5,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(W, { type: "number", slotProps: { input: { readOnly: !0 } }, value: 864e3 }),
                          r.jsx(A, { children: e("vas.banBufferPeriodDes") }),
                        ],
                      }),
                    }),
                    r.jsx(P, {
                      title: e("settings.cronNotifyUser"),
                      lgWidth: 5,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(W, { value: "@every 1h", slotProps: { input: { readOnly: !0 } } }),
                          r.jsx(A, {
                            children: r.jsx(X, {
                              i18nKey: "settings.cronDes",
                              values: { des: e("settings.cronNotifyUserDes") },
                              ns: "dashboard",
                              components: [
                                r.jsx(Z, {
                                  href: "https://crontab.guru/",
                                  target: "_blank",
                                  rel: "noopener noreferrer",
                                }),
                              ],
                            }),
                          }),
                        ],
                      }),
                    }),
                    r.jsx(P, {
                      title: e("settings.cronBanUser"),
                      lgWidth: 5,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(W, { value: "@every 1h", slotProps: { input: { readOnly: !0 } } }),
                          r.jsx(A, {
                            children: r.jsx(X, {
                              i18nKey: "settings.cronDes",
                              values: { des: e("settings.cronBanUserDes") },
                              ns: "dashboard",
                              components: [
                                r.jsx(Z, {
                                  href: "https://crontab.guru/",
                                  target: "_blank",
                                  rel: "noopener noreferrer",
                                }),
                              ],
                            }),
                          }),
                        ],
                      }),
                    }),
                    r.jsx(P, {
                      lgWidth: 5,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(xe, { control: r.jsx(Oe, { checked: !1 }), label: e("settings.anonymousPurchase") }),
                          r.jsx(A, { children: e("settings.anonymousPurchaseDes") }),
                        ],
                      }),
                    }),
                    r.jsx(P, {
                      lgWidth: 5,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(xe, { control: r.jsx(Oe, { checked: !1 }), label: e("settings.shopNavEnabled") }),
                          r.jsx(A, { children: e("settings.shopNavEnabledDes") }),
                        ],
                      }),
                    }),
                  ],
                }),
              ],
            }),
            r.jsxs(Ee, {
              children: [
                r.jsxs(L, {
                  variant: "h6",
                  gutterBottom: !0,
                  sx: { display: "flex", alignItems: "center" },
                  children: [
                    e("settings.paymentSettings"),
                    " ",
                    r.jsx(It, { label: "Pro", color: "primary", size: "small" }),
                  ],
                }),
                r.jsxs(Ie, {
                  onClick: c,
                  children: [
                    r.jsx(P, {
                      title: e("settings.currencyCode"),
                      lgWidth: 5,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(W, {
                            value: "USD",
                            slotProps: {
                              input: {
                                readOnly: !0,
                                endAdornment: r.jsx(Lr, {
                                  position: "end",
                                  children: r.jsx(Pe, { ...tn(o), children: e("settings.selectCurrency") }),
                                }),
                              },
                            },
                          }),
                          r.jsx(A, { children: e("settings.currencyCodeDes") }),
                        ],
                      }),
                    }),
                    r.jsx(P, {
                      title: e("settings.currencySymbol"),
                      lgWidth: 5,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(W, { value: "$", slotProps: { input: { readOnly: !0 } } }),
                          r.jsx(A, { children: e("settings.currencySymbolDes") }),
                        ],
                      }),
                    }),
                    r.jsx(P, {
                      title: e("settings.currencyUnit"),
                      lgWidth: 5,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(W, { type: "number", value: 100, slotProps: { input: { readOnly: !0 } } }),
                          r.jsx(A, { children: e("settings.currencyUnitDes") }),
                        ],
                      }),
                    }),
                    r.jsxs(T, {
                      sx: { mt: 2 },
                      children: [
                        r.jsx(L, { variant: "subtitle1", gutterBottom: !0, children: e("settings.paymentProviders") }),
                        r.jsx(P, { lgWidth: 6, children: r.jsx(Kj, {}) }),
                      ],
                    }),
                  ],
                }),
              ],
            }),
            r.jsxs(Ee, {
              children: [
                r.jsxs(L, {
                  variant: "h6",
                  gutterBottom: !0,
                  sx: { display: "flex", alignItems: "center" },
                  children: [
                    e("settings.storageProductSettings"),
                    " ",
                    r.jsx(It, { label: "Pro", color: "primary", size: "small" }),
                  ],
                }),
                r.jsx(Ie, {
                  onClick: c,
                  children: r.jsx(P, {
                    lgWidth: 12,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [r.jsx(Hj, {}), r.jsx(A, { children: e("settings.storageProductsDes") })],
                    }),
                  }),
                }),
              ],
            }),
            r.jsxs(Ee, {
              children: [
                r.jsxs(L, {
                  variant: "h6",
                  gutterBottom: !0,
                  sx: { display: "flex", alignItems: "center" },
                  children: [
                    e("settings.groupProductSettings"),
                    " ",
                    r.jsx(It, { label: "Pro", color: "primary", size: "small" }),
                  ],
                }),
                r.jsx(Ie, {
                  onClick: c,
                  children: r.jsx(P, {
                    lgWidth: 12,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [r.jsx(Uj, {}), r.jsx(A, { children: e("settings.groupProductsDes") })],
                    }),
                  }),
                }),
              ],
            }),
            r.jsxs(Ee, {
              children: [
                r.jsxs(L, {
                  variant: "h6",
                  gutterBottom: !0,
                  sx: { display: "flex", alignItems: "center" },
                  children: [
                    e("giftCodes.giftCodesSettings"),
                    " ",
                    r.jsx(It, { label: "Pro", color: "primary", size: "small" }),
                  ],
                }),
                r.jsx(Ie, { onClick: c, children: r.jsx(qj, { storageProductsConfig: l, groupProductsConfig: d }) }),
              ],
            }),
          ],
        }),
      ],
    });
  },
  is = et(Lr)(({ theme: e }) => ({ fontSize: e.typography.body2.fontSize })),
  Ee = et(T)(({ theme: e }) => ({
    display: "flex",
    flexDirection: "column",
    gap: e.spacing(1),
    [e.breakpoints.up("md")]: { padding: e.spacing(0, 4) },
  })),
  Ie = et(T)(({ theme: e }) => ({
    [e.breakpoints.up("md")]: { padding: e.spacing(0, 4) },
    display: "flex",
    flexDirection: "column",
    gap: e.spacing(3),
  })),
  A = et(Ks)(() => ({ marginLeft: 0, marginRight: 0 })),
  Xj = Object.values(sf)
    .map((e) => [
      `queue_${e}_worker_num`,
      `queue_${e}_max_execution`,
      `queue_${e}_backoff_factor`,
      `queue_${e}_backoff_max_duration`,
      `queue_${e}_max_retry`,
      `queue_${e}_retry_delay`,
    ])
    .flat(),
  AN = () => {
    const { t: e } = F("dashboard"),
      [t, n] = _e(Zp),
      i = f.useMemo(() => {
        const a = [];
        return (
          a.push(
            { label: e("nav.basicSetting"), value: "siteInformation", icon: r.jsx(sv, {}) },
            { label: e("nav.userSession"), value: "userSession", icon: r.jsx(Dc, {}) },
            { label: e("nav.captcha"), value: "captcha", icon: r.jsx(ej, {}) },
            { label: e("nav.mediaProcessing"), value: "mediaProcessing", icon: r.jsx(nj, {}) },
            { label: e("vas.vas"), value: "vas", icon: r.jsx(rj, {}) },
            { label: e("nav.email"), value: "email", icon: r.jsx(Sc, {}) },
            { label: e("nav.queue"), value: "queue", icon: r.jsx(rf, {}) },
            { label: e("nav.appearance"), value: "appearance", icon: r.jsx(tj, {}) },
            { label: e("nav.events"), value: "events", icon: r.jsx(vv, {}) },
            { label: e("nav.server"), value: "server", icon: r.jsx(yv, {}) },
          ),
          a
        );
      }, [e]);
    return r.jsx(Ft, {
      children: r.jsxs(Lt, {
        maxWidth: "xl",
        children: [
          r.jsx(Vt, { title: e("dashboard:nav.settings") }),
          r.jsx(Qp, { value: t ?? "siteInformation", onChange: (a, s) => n(s), tabs: i }),
          r.jsx(Kt, {
            children: r.jsx(
              Ht,
              {
                addEndListener: (a, s) => a.addEventListener("transitionend", s, !1),
                classNames: "fade",
                children: r.jsxs(T, {
                  children: [
                    (!t || t === "siteInformation") &&
                      r.jsx(Ut, {
                        settings: [
                          "siteName",
                          "siteDes",
                          "siteURL",
                          "siteScript",
                          "pwa_small_icon",
                          "pwa_medium_icon",
                          "pwa_large_icon",
                          "site_logo",
                          "site_logo_light",
                          "tos_url",
                          "privacy_policy_url",
                          "show_app_promotion",
                        ],
                        children: r.jsx(Bj, {}),
                      }),
                    t === "userSession" &&
                      r.jsx(Ut, {
                        settings: [
                          "register_enabled",
                          "email_active",
                          "default_group",
                          "authn_enabled",
                          "avatar_path",
                          "avatar_size",
                          "avatar_size_l",
                          "gravatar_server",
                        ],
                        children: r.jsx(Vj, {}),
                      }),
                    t === "captcha" &&
                      r.jsx(Ut, {
                        settings: [
                          "login_captcha",
                          "reg_captcha",
                          "forget_captcha",
                          "captcha_type",
                          "captcha_mode",
                          "captcha_ComplexOfNoiseText",
                          "captcha_ComplexOfNoiseDot",
                          "captcha_IsShowHollowLine",
                          "captcha_IsShowNoiseDot",
                          "captcha_IsShowNoiseText",
                          "captcha_IsShowSlimeLine",
                          "captcha_IsShowSineLine",
                          "captcha_CaptchaLen",
                          "captcha_ReCaptchaKey",
                          "captcha_ReCaptchaSecret",
                          "captcha_turnstile_site_key",
                          "captcha_turnstile_site_secret",
                          "captcha_cap_instance_url",
                          "captcha_cap_site_key",
                          "captcha_cap_secret_key",
                          "captcha_cap_asset_server",
                        ],
                        children: r.jsx(yj, {}),
                      }),
                    t === "mediaProcessing" &&
                      r.jsx(Ut, {
                        settings: [
                          "thumb_width",
                          "thumb_height",
                          "thumb_entity_suffix",
                          "thumb_encode_method",
                          "thumb_gc_after_gen",
                          "thumb_encode_quality",
                          "thumb_builtin_enabled",
                          "thumb_builtin_max_size",
                          "thumb_vips_max_size",
                          "thumb_vips_enabled",
                          "thumb_vips_exts",
                          "thumb_ffmpeg_enabled",
                          "thumb_vips_path",
                          "thumb_ffmpeg_path",
                          "thumb_ffmpeg_max_size",
                          "thumb_ffmpeg_exts",
                          "thumb_ffmpeg_seek",
                          "thumb_ffmpeg_extra_args",
                          "thumb_libreoffice_path",
                          "thumb_libreoffice_max_size",
                          "thumb_libreoffice_enabled",
                          "thumb_libreoffice_exts",
                          "thumb_music_cover_enabled",
                          "thumb_music_cover_exts",
                          "thumb_music_cover_max_size",
                          "thumb_libraw_path",
                          "thumb_libraw_max_size",
                          "thumb_libraw_enabled",
                          "thumb_libraw_exts",
                          "media_meta_exif",
                          "media_meta_exif_size_local",
                          "media_meta_exif_size_remote",
                          "media_meta_exif_brute_force",
                          "media_meta_music",
                          "media_meta_music_size_local",
                          "media_exif_music_size_remote",
                          "media_meta_ffprobe",
                          "media_meta_ffprobe_path",
                          "media_meta_ffprobe_size_local",
                          "media_meta_ffprobe_size_remote",
                          "media_meta_geocoding",
                          "media_meta_geocoding_mapbox_ak",
                        ],
                        children: r.jsx(Tj, {}),
                      }),
                    t === "vas" && r.jsx(Ut, { settings: [], children: r.jsx(Gj, {}) }),
                    t === "email" &&
                      r.jsx(Ut, {
                        settings: [
                          "mail_keepalive",
                          "fromAdress",
                          "smtpHost",
                          "smtpPort",
                          "replyTo",
                          "smtpUser",
                          "smtpPass",
                          "smtpEncryption",
                          "fromName",
                          "mail_activation_template",
                          "mail_reset_template",
                        ],
                        children: r.jsx(Sj, {}),
                      }),
                    t === "queue" && r.jsx(Ut, { settings: Xj, children: r.jsx(Mj, {}) }),
                    t === "appearance" &&
                      r.jsx(Ut, {
                        settings: [
                          "theme_options",
                          "defaultTheme",
                          "custom_nav_items",
                          "headless_footer_html",
                          "headless_bottom_html",
                          "sidebar_bottom_html",
                        ],
                        children: r.jsx(fj, {}),
                      }),
                    t === "events" && r.jsx(Ut, { settings: [], children: r.jsx(Pj, {}) }),
                    t === "server" &&
                      r.jsx(Ut, {
                        settings: [
                          "temp_path",
                          "siteID",
                          "cron_garbage_collect",
                          "hash_id_salt",
                          "access_token_ttl",
                          "refresh_token_ttl",
                        ],
                        children: r.jsx(Nj, {}),
                      }),
                  ],
                }),
              },
              `${t}`,
            ),
          }),
        ],
      }),
    });
  },
  nn = ({ value: e, phraseVariant: t = te.oss, onChange: n, ...i }) => {
    const { t: a } = F("dashboard"),
      { privateLocale: s, publicLocale: o } = f.useMemo(() => {
        switch (t) {
          case te.oss:
          case te.obs:
            return { privateLocale: "policy.privateBucket", publicLocale: "policy.publicBucket" };
          case te.cos:
            return { privateLocale: "policy.accessTypePrivate", publicLocale: "policy.accessTypePulic" };
          case te.upyun:
            return { privateLocale: "policy.tokenEnabled", publicLocale: "policy.tokenDisabled" };
          default:
            return { privateLocale: "policy.privateBucket", publicLocale: "policy.publicBucket" };
        }
      }, [t]);
    return r.jsxs(Ue, {
      value: e ? "1" : "0",
      renderValue: (l) => r.jsx(de, { slotProps: { primary: { variant: "body2" } }, children: a(l === "1" ? s : o) }),
      onChange: (l) => n(l.target.value === "1"),
      ...i,
      MenuProps: {
        PaperProps: { sx: { maxWidth: 230 } },
        MenuListProps: { sx: { "& .MuiMenuItem-root": { whiteSpace: "normal" } } },
      },
      children: [
        r.jsx(he, {
          value: "1",
          children: r.jsxs(T, {
            sx: { display: "flex", flexDirection: "column" },
            children: [
              r.jsx(L, { variant: "body2", fontWeight: 600, children: a(s) }),
              r.jsx(L, { variant: "caption", color: "textSecondary", children: a("policy.privateDes") }),
            ],
          }),
        }),
        r.jsx(he, {
          value: "0",
          children: r.jsxs(T, {
            sx: { display: "flex", flexDirection: "column" },
            children: [
              r.jsx(L, { variant: "body2", fontWeight: 600, children: a(o) }),
              r.jsx(L, { variant: "caption", color: "textSecondary", children: a("policy.publicDes") }),
            ],
          }),
        }),
      ],
    });
  },
  _i = ({ exposedHeaders: e }) => {
    const { t } = F("dashboard");
    return r.jsx(ot, {
      sx: { mt: 1, maxHeight: 440 },
      component: xt,
      children: r.jsxs(lt, {
        stickyHeader: !0,
        sx: { width: "100%", tableLayout: "fixed" },
        size: "small",
        children: [
          r.jsx(ct, {
            children: r.jsxs(je, {
              children: [
                r.jsx(M, { width: 64, children: t("policy.origin") }),
                r.jsx(M, { width: 200, children: t("policy.allowMethods") }),
                r.jsx(M, { width: 150, children: t("policy.allowHeaders") }),
                r.jsx(M, { width: 150, children: t("policy.exposeHeaders") }),
                r.jsx(M, { width: 250, children: t("policy.maxAge") }),
              ],
            }),
          }),
          r.jsx(dt, {
            children: r.jsxs(je, {
              children: [
                r.jsx(pe, { children: "*" }),
                r.jsx(pe, {
                  children: ["GET", "POST", "PUT", "DELETE", "HEAD"].map((n) => r.jsx("div", { children: n })),
                }),
                r.jsx(pe, { children: "*" }),
                r.jsx(pe, { children: e == null ? void 0 : e.map((n) => r.jsx("div", { children: n })) }),
                r.jsx(pe, { children: "3600" }),
              ],
            }),
          }),
        ],
      }),
    });
  },
  Yj = ({ onSubmit: e }) => {
    const { t } = F("dashboard"),
      n = ge(),
      [i, a] = f.useState(!1),
      { enqueueSnackbar: s } = ut(),
      [o, l] = f.useState(!1),
      d = f.useRef(null),
      [c, u] = f.useState({
        id: 0,
        node_id: 0,
        name: "",
        type: te.cos,
        is_private: !0,
        dir_name_rule: "uploads/{uid}/{path}",
        settings: {
          chunk_size: 25 << 20,
          thumb_exts: ["png", "jpg", "jpeg", "gif", "bmp", "webp"],
          media_meta_exts: ["jpg", "jpeg", "png", "bmp", "webp", "tiff", "avif", "heif"],
          media_meta_generator_proxy: !0,
          thumb_generator_proxy: !0,
          chunk_concurrency: 3,
        },
        file_name_rule: "{uuid}_{originname}",
        edges: {},
      }),
      h = () => {
        var g, m;
        if (!((g = d.current) != null && g.checkValidity())) {
          (m = d.current) == null || m.reportValidity();
          return;
        }
        a(!0),
          n(bi({ policy: c }))
            .then(() => {
              s(t("policy.corsPolicyAdded"), { variant: "success", action: nt }), l(!0);
            })
            .finally(() => {
              a(!1);
            });
      },
      p = () => {
        var g, m;
        if (!((g = d.current) != null && g.checkValidity())) {
          (m = d.current) == null || m.reportValidity();
          return;
        }
        e(c);
      };
    return r.jsxs("form", {
      ref: d,
      onSubmit: p,
      children: [
        r.jsxs(le, {
          spacing: 2,
          children: [
            r.jsxs(P, {
              title: t("policy.name"),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: c.name,
                  onChange: (g) => u({ ...c, name: g.target.value }),
                }),
                r.jsx(A, { children: t("policy.policyName") }),
              ],
            }),
            r.jsxs(P, {
              title: t("policy.bucketName"),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: c.bucket_name,
                  onChange: (g) => u({ ...c, bucket_name: g.target.value }),
                }),
                r.jsx(A, {
                  children: r.jsx(X, {
                    i18nKey: "policy.createCOSBucketDes",
                    ns: "dashboard",
                    components: [
                      r.jsx(Z, { href: "https://console.cloud.tencent.com/cos/bucket", target: "_blank" }),
                      r.jsx(oe, {}),
                    ],
                  }),
                }),
              ],
            }),
            r.jsx(P, {
              title: t("policy.accessType"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(nn, {
                    phraseVariant: c.type,
                    value: c.is_private ?? !1,
                    onChange: (g) => u({ ...c, is_private: g }),
                  }),
                  r.jsx(A, { children: t("policy.bucketTypeDes") }),
                ],
              }),
            }),
            r.jsxs(P, {
              title: t("policy.accessDomain"),
              lgWidth: 12,
              children: [
                r.jsx(lr, {
                  fullWidth: !0,
                  required: !0,
                  value: c.server,
                  enforceProtocol: !0,
                  onChange: (g) => u({ ...c, server: g.target.value }),
                  variant: "outlined",
                }),
                r.jsx(A, {
                  children: r.jsx(X, {
                    i18nKey: "policy.cosAccessDomainDes",
                    ns: "dashboard",
                    components: [r.jsx(oe, {}), r.jsx(oe, {})],
                  }),
                }),
              ],
            }),
            r.jsx(P, {
              title: t("policy.accessCredential"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, {
                    placeholder: "SecretId",
                    fullWidth: !0,
                    required: !0,
                    value: c.access_key,
                    onChange: (g) => u({ ...c, access_key: g.target.value }),
                  }),
                  r.jsx(W, {
                    placeholder: "SecretKey",
                    sx: { mt: 1 },
                    fullWidth: !0,
                    required: !0,
                    value: c.secret_key,
                    onChange: (g) => u({ ...c, secret_key: g.target.value }),
                  }),
                  r.jsx(A, {
                    children: r.jsx(X, {
                      i18nKey: "policy.cosCredentialDes",
                      ns: "dashboard",
                      components: [
                        r.jsx(Z, { href: "https://console.cloud.tencent.com/cam/capi", target: "_blank" }),
                        r.jsx(oe, {}),
                        r.jsx(Z, { href: "https://console.cloud.tencent.com/cam", target: "_blank" }),
                      ],
                    }),
                  }),
                ],
              }),
            }),
            r.jsxs(P, {
              title: t("policy.corsSettingStep"),
              lgWidth: 12,
              children: [
                r.jsxs($, {
                  fullWidth: !0,
                  children: [r.jsx(_i, { exposedHeaders: ["ETag"] }), r.jsx(A, { children: t("policy.ossCORSDes") })],
                }),
                r.jsxs(Ve, {
                  in: !o,
                  sx: { mt: 1 },
                  children: [
                    r.jsx(Pe, {
                      loading: i,
                      variant: "contained",
                      color: "primary",
                      sx: { mr: 1 },
                      onClick: h,
                      children: t("policy.letCloudreveHelpMe"),
                    }),
                    r.jsx(ke, { variant: "contained", onClick: () => l(!0), children: t("policy.addedManually") }),
                  ],
                }),
              ],
            }),
          ],
        }),
        r.jsx(Ve, {
          in: o,
          children: r.jsx(Pe, {
            variant: "contained",
            color: "primary",
            sx: { mt: 2 },
            onClick: p,
            children: t("policy.create"),
          }),
        }),
      ],
    });
  },
  Jj = ({ onSubmit: e }) => {
    const { t } = F("dashboard"),
      n = f.useRef(null),
      [i, a] = f.useState({
        id: 0,
        name: "",
        type: te.local,
        file_name_rule: "{uuid}_{originname}",
        settings: { chunk_size: 25 << 20, pre_allocate: !0 },
        edges: {},
      }),
      s = () => {
        var o, l;
        if (!((o = n.current) != null && o.checkValidity())) {
          (l = n.current) == null || l.reportValidity();
          return;
        }
        e(i);
      };
    return r.jsxs("form", {
      ref: n,
      onSubmit: s,
      children: [
        r.jsxs(P, {
          title: t("policy.name"),
          lgWidth: 12,
          children: [
            r.jsx(W, {
              fullWidth: !0,
              required: !0,
              value: i.name,
              onChange: (o) => a({ ...i, name: o.target.value }),
            }),
            r.jsx(A, { children: t("policy.policyName") }),
          ],
        }),
        r.jsx(Pe, { variant: "contained", color: "primary", sx: { mt: 2 }, onClick: s, children: t("policy.create") }),
      ],
    });
  },
  Qj = ({ onSubmit: e }) => {
    const { t } = F("dashboard"),
      n = ge(),
      [i, a] = f.useState(!1),
      { enqueueSnackbar: s } = ut(),
      [o, l] = f.useState(!1),
      d = f.useRef(null),
      [c, u] = f.useState({
        id: 0,
        node_id: 0,
        name: "",
        type: te.obs,
        is_private: !0,
        dir_name_rule: "uploads/{uid}/{path}",
        settings: {
          chunk_size: 25 << 20,
          thumb_exts: ["png", "jpg", "jpeg", "gif", "bmp", "webp", "tiff"],
          media_meta_exts: ["png", "jpg", "jpeg", "gif", "bmp", "webp", "tiff"],
          media_meta_generator_proxy: !0,
          thumb_generator_proxy: !0,
          chunk_concurrency: 3,
        },
        file_name_rule: "{uuid}_{originname}",
        edges: {},
      }),
      h = () => {
        var g, m;
        if (!((g = d.current) != null && g.checkValidity())) {
          (m = d.current) == null || m.reportValidity();
          return;
        }
        a(!0),
          n(bi({ policy: c }))
            .then(() => {
              s(t("policy.corsPolicyAdded"), { variant: "success", action: nt }), l(!0);
            })
            .finally(() => {
              a(!1);
            });
      },
      p = () => {
        var g, m;
        if (!((g = d.current) != null && g.checkValidity())) {
          (m = d.current) == null || m.reportValidity();
          return;
        }
        e(c);
      };
    return r.jsxs("form", {
      ref: d,
      onSubmit: p,
      children: [
        r.jsxs(le, {
          spacing: 2,
          children: [
            r.jsxs(P, {
              title: t("policy.name"),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: c.name,
                  onChange: (g) => u({ ...c, name: g.target.value }),
                }),
                r.jsx(A, { children: t("policy.policyName") }),
              ],
            }),
            r.jsxs(P, {
              title: t("policy.cosObsBucketName"),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: c.bucket_name,
                  onChange: (g) => u({ ...c, bucket_name: g.target.value }),
                }),
                r.jsx(A, {
                  children: r.jsx(X, {
                    i18nKey: "policy.obsBucketDes",
                    ns: "dashboard",
                    components: [
                      r.jsx(Z, { href: "https://console.huaweicloud.com/console/#/obs/create", target: "_blank" }),
                      r.jsx(oe, {}),
                      r.jsx(oe, {}),
                      r.jsx(oe, {}),
                    ],
                  }),
                }),
              ],
            }),
            r.jsx(P, {
              title: t("policy.bucketPolicy"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(nn, {
                    phraseVariant: c.type,
                    value: c.is_private ?? !1,
                    onChange: (g) => u({ ...c, is_private: g }),
                  }),
                  r.jsx(A, { children: t("policy.bucketTypeDes") }),
                ],
              }),
            }),
            r.jsxs(P, {
              title: t("policy.policyEndpoint"),
              lgWidth: 12,
              children: [
                r.jsx(lr, {
                  fullWidth: !0,
                  required: !0,
                  value: c.server,
                  enforceProtocol: !0,
                  enforcePrefix: !1,
                  onChange: (g) => u({ ...c, server: g.target.value }),
                  variant: "outlined",
                }),
                r.jsxs(A, {
                  children: [
                    r.jsx(X, {
                      i18nKey: "policy.obsEndpointDes",
                      ns: "dashboard",
                      components: [r.jsx(oe, {}), r.jsx(oe, {})],
                    }),
                    t("policy.obsEndpointCnameHint"),
                  ],
                }),
              ],
            }),
            r.jsx(P, {
              title: t("policy.accessCredential"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, {
                    placeholder: "Access Key Id",
                    fullWidth: !0,
                    required: !0,
                    value: c.access_key,
                    onChange: (g) => u({ ...c, access_key: g.target.value }),
                  }),
                  r.jsx(W, {
                    placeholder: "Secret Access Key",
                    sx: { mt: 1 },
                    fullWidth: !0,
                    required: !0,
                    value: c.secret_key,
                    onChange: (g) => u({ ...c, secret_key: g.target.value }),
                  }),
                  r.jsx(A, {
                    children: r.jsx(X, {
                      i18nKey: "policy.obsCredentialDes",
                      ns: "dashboard",
                      components: [
                        r.jsx(Z, { href: "https://console.huaweicloud.com/iam/#/mine/accessKey", target: "_blank" }),
                        r.jsx(oe, {}),
                        r.jsx(oe, {}),
                      ],
                    }),
                  }),
                ],
              }),
            }),
            r.jsxs(P, {
              title: t("policy.corsSettingStep"),
              lgWidth: 12,
              children: [
                r.jsxs($, {
                  fullWidth: !0,
                  children: [r.jsx(_i, { exposedHeaders: ["ETag"] }), r.jsx(A, { children: t("policy.ossCORSDes") })],
                }),
                r.jsxs(Ve, {
                  in: !o,
                  sx: { mt: 1 },
                  children: [
                    r.jsx(Pe, {
                      loading: i,
                      variant: "contained",
                      color: "primary",
                      sx: { mr: 1 },
                      onClick: h,
                      children: t("policy.letCloudreveHelpMe"),
                    }),
                    r.jsx(ke, { variant: "contained", onClick: () => l(!0), children: t("policy.addedManually") }),
                  ],
                }),
              ],
            }),
          ],
        }),
        r.jsx(Ve, {
          in: o,
          children: r.jsx(Pe, {
            variant: "contained",
            color: "primary",
            sx: { mt: 2 },
            onClick: p,
            children: t("policy.create"),
          }),
        }),
      ],
    });
  },
  Zj = [
    { name: "policy.multiTenant", endpoint: "https://graph.microsoft.com/v1.0" },
    { name: "policy.gallatin", endpoint: "https://microsoftgraph.chinacloudapi.cn/v1.0" },
  ],
  df = ({ value: e, onChange: t, ...n }) => {
    const { t: i } = F("dashboard");
    return r.jsx(Ue, {
      value: e,
      onChange: (a) => t(a.target.value),
      MenuProps: {
        PaperProps: { sx: { maxWidth: 230 } },
        MenuListProps: { sx: { "& .MuiMenuItem-root": { whiteSpace: "normal" } } },
      },
      ...n,
      children: Zj.map((a) =>
        r.jsx(he, {
          value: a.endpoint,
          children: r.jsxs(T, {
            sx: { display: "flex", flexDirection: "column" },
            children: [
              r.jsx(L, { variant: "body2", fontWeight: 600, children: i(a.name) }),
              r.jsx(L, { variant: "caption", color: "textSecondary", children: a.endpoint }),
            ],
          }),
        }),
      ),
    });
  },
  Ed = "https://graph.microsoft.com/v1.0",
  eb = ({ onSubmit: e }) => {
    const { t } = F("dashboard"),
      n = ge(),
      [i, a] = f.useState("Loading..."),
      s = f.useRef(null),
      [o, l] = f.useState({
        id: 0,
        node_id: 0,
        name: "",
        type: te.onedrive,
        server: Ed,
        is_private: !0,
        dir_name_rule: "uploads/{uid}/{path}",
        settings: { chunk_size: 50 << 20, thumb_support_all_exts: !0, media_meta_generator_proxy: !0 },
        file_name_rule: "{uuid}_{originname}",
        edges: {},
      }),
      d = () => {
        var c, u;
        if (!((c = s.current) != null && c.checkValidity())) {
          (u = s.current) == null || u.reportValidity();
          return;
        }
        e(o);
      };
    return (
      f.useEffect(() => {
        n(Ep()).then((c) => {
          a(c);
        });
      }, []),
      r.jsx("form", {
        ref: s,
        onSubmit: d,
        children: r.jsxs(le, {
          spacing: 2,
          children: [
            r.jsxs(P, {
              title: t("policy.name"),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: o.name,
                  onChange: (c) => l({ ...o, name: c.target.value }),
                }),
                r.jsx(A, { children: t("policy.policyName") }),
              ],
            }),
            r.jsxs(P, {
              title: t("policy.aadAccountCloud"),
              lgWidth: 12,
              children: [
                r.jsx(df, {
                  fullWidth: !0,
                  value: o.server ?? "",
                  required: !0,
                  onChange: (c) => l({ ...o, server: c }),
                }),
                r.jsx(A, { children: t("policy.aadAccountCloudDes") }),
              ],
            }),
            r.jsxs(P, {
              title: t("policy.entraIdApp"),
              lgWidth: 12,
              children: [
                r.jsx(L, {
                  component: "div",
                  variant: "caption",
                  color: "textSecondary",
                  children: r.jsx(X, {
                    i18nKey: "policy.creatAadAppDes",
                    ns: "dashboard",
                    components: [
                      r.jsx(Z, {
                        href:
                          Ed === o.server
                            ? "https://portal.azure.com/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/Overview"
                            : "https://portal.azure.cn/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/Overview",
                        target: "_blank",
                      }),
                      r.jsx(oe, {}),
                    ],
                  }),
                }),
                r.jsx(L, {
                  sx: { mt: 1 },
                  component: "div",
                  variant: "caption",
                  color: "textSecondary",
                  children: r.jsx(X, {
                    i18nKey: "policy.createAadAppDes2",
                    ns: "dashboard",
                    values: { url: i },
                    components: [
                      r.jsx(oe, {}),
                      r.jsx(oe, {}),
                      r.jsx(oe, {}),
                      r.jsx(oe, {}),
                      r.jsx(oe, {}),
                      r.jsx(oe, {}),
                      r.jsx(oe, {}),
                    ],
                  }),
                }),
                r.jsx(W, {
                  sx: { mt: 2 },
                  fullWidth: !0,
                  required: !0,
                  placeholder: t("policy.aadAppID"),
                  value: o.bucket_name,
                  onChange: (c) => l({ ...o, bucket_name: c.target.value }),
                }),
                r.jsx(A, {
                  children: r.jsx(X, {
                    i18nKey: "policy.aadAppIDDes",
                    ns: "dashboard",
                    components: [r.jsx(oe, {}), r.jsx(oe, {})],
                  }),
                }),
                r.jsx(W, {
                  sx: { mt: 2 },
                  fullWidth: !0,
                  required: !0,
                  placeholder: t("policy.aadAppSecret"),
                  value: o.secret_key,
                  onChange: (c) => l({ ...o, secret_key: c.target.value }),
                }),
                r.jsx(A, {
                  children: r.jsx(X, {
                    i18nKey: "policy.addAppSecretDes",
                    ns: "dashboard",
                    components: [r.jsx(oe, {}), r.jsx(oe, {}), r.jsx(oe, {})],
                  }),
                }),
              ],
            }),
            r.jsx(P, {
              title: t("policy.grantAccess"),
              lgWidth: 12,
              children: r.jsx(L, {
                component: "div",
                variant: "caption",
                color: "textSecondary",
                children: t("policy.grantAccessLater"),
              }),
            }),
            r.jsx(T, {
              children: r.jsx(Pe, {
                variant: "contained",
                color: "primary",
                sx: { mt: 2 },
                onClick: d,
                children: t("policy.create"),
              }),
            }),
          ],
        }),
      })
    );
  },
  tb = ({ onSubmit: e }) => {
    var m;
    const { t } = F("dashboard"),
      n = ge(),
      [i, a] = f.useState(!1),
      { enqueueSnackbar: s } = ut(),
      [o, l] = f.useState(!1),
      d = f.useRef(null),
      [c, u] = f.useState({
        id: 0,
        node_id: 0,
        name: "",
        type: te.oss,
        is_private: !0,
        dir_name_rule: "uploads/{uid}/{path}",
        settings: {
          chunk_size: 25 << 20,
          thumb_exts: ["png", "jpg", "jpeg", "gif", "bmp", "webp", "heic", "tiff", "avif"],
          media_meta_exts: ["jpg", "jpeg", "png", "gif", "bmp", "webp", "tiff", "heic", "heif"],
          media_meta_generator_proxy: !0,
          thumb_generator_proxy: !0,
          chunk_concurrency: 3,
        },
        file_name_rule: "{uuid}_{originname}",
        edges: {},
      }),
      h = f.useMemo(() => Et[te.oss], []),
      p = () => {
        var v, x;
        if (!((v = d.current) != null && v.checkValidity())) {
          (x = d.current) == null || x.reportValidity();
          return;
        }
        a(!0),
          n(bi({ policy: c }))
            .then(() => {
              s(t("policy.corsPolicyAdded"), { variant: "success", action: nt }), l(!0);
            })
            .finally(() => {
              a(!1);
            });
      },
      g = () => {
        var v, x;
        if (!((v = d.current) != null && v.checkValidity())) {
          (x = d.current) == null || x.reportValidity();
          return;
        }
        e(c);
      };
    return r.jsxs("form", {
      ref: d,
      onSubmit: g,
      children: [
        r.jsxs(le, {
          spacing: 2,
          children: [
            r.jsxs(P, {
              title: t("policy.name"),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: c.name,
                  onChange: (v) => u({ ...c, name: v.target.value }),
                }),
                r.jsx(A, { children: t("policy.policyName") }),
              ],
            }),
            r.jsxs(P, {
              title: t("policy.bucketName"),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: c.bucket_name,
                  onChange: (v) => u({ ...c, bucket_name: v.target.value }),
                }),
                r.jsx(A, {
                  children: r.jsx(X, {
                    i18nKey: "policy.createOSSBucketDes",
                    ns: "dashboard",
                    components: [
                      r.jsx(Z, { href: "https://oss.console.aliyun.com/bucket", target: "_blank" }),
                      r.jsx(oe, {}),
                      r.jsx(oe, {}),
                    ],
                  }),
                }),
              ],
            }),
            r.jsx(P, {
              title: t("policy.bucketType"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(nn, { value: c.is_private ?? !1, onChange: (v) => u({ ...c, is_private: v }) }),
                  r.jsx(A, { children: t("policy.bucketTypeDes") }),
                ],
              }),
            }),
            r.jsxs(P, {
              title: t("policy.endpoint"),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: c.server,
                  onChange: (v) => u({ ...c, server: v.target.value }),
                }),
                r.jsxs(A, {
                  children: [
                    r.jsx(X, {
                      i18nKey: "policy.ossEndpointDes",
                      ns: "dashboard",
                      components: [r.jsx(oe, {}), r.jsx(oe, {}), r.jsx(oe, {})],
                    }),
                    t("policy.ossEndpointDesInternalHint"),
                  ],
                }),
              ],
            }),
            r.jsxs(P, {
              title: t(h.regionCode ?? ""),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: (m = c.settings) == null ? void 0 : m.region,
                  onChange: (v) => u({ ...c, settings: { ...c.settings, region: v.target.value } }),
                }),
                r.jsx(A, { children: h.regionCodeDes }),
              ],
            }),
            r.jsx(P, {
              title: t("policy.accessCredential"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, {
                    placeholder: "AccessKey ID",
                    fullWidth: !0,
                    required: !0,
                    value: c.access_key,
                    onChange: (v) => u({ ...c, access_key: v.target.value }),
                  }),
                  r.jsx(W, {
                    placeholder: "AccessKey Secret",
                    sx: { mt: 1 },
                    fullWidth: !0,
                    required: !0,
                    value: c.secret_key,
                    onChange: (v) => u({ ...c, secret_key: v.target.value }),
                  }),
                  r.jsx(A, {
                    children: r.jsx(X, {
                      i18nKey: "policy.ossAKDes",
                      ns: "dashboard",
                      components: [
                        r.jsx(Z, { href: "https://ram.console.aliyun.com/profile/access-keys", target: "_blank" }),
                        r.jsx(Z, { href: "https://ram.console.aliyun.com/ram/overview", target: "_blank" }),
                        r.jsx(oe, {}),
                      ],
                    }),
                  }),
                ],
              }),
            }),
            r.jsxs(P, {
              title: t("policy.corsSettingStep"),
              lgWidth: 12,
              children: [
                r.jsxs($, { fullWidth: !0, children: [r.jsx(_i, {}), r.jsx(A, { children: t("policy.ossCORSDes") })] }),
                r.jsxs(Ve, {
                  in: !o,
                  sx: { mt: 1 },
                  children: [
                    r.jsx(Pe, {
                      loading: i,
                      variant: "contained",
                      color: "primary",
                      sx: { mr: 1 },
                      onClick: p,
                      children: t("policy.letCloudreveHelpMe"),
                    }),
                    r.jsx(ke, { variant: "contained", onClick: () => l(!0), children: t("policy.addedManually") }),
                  ],
                }),
              ],
            }),
          ],
        }),
        r.jsx(Ve, {
          in: o,
          children: r.jsx(Pe, {
            variant: "contained",
            color: "primary",
            sx: { mt: 2 },
            onClick: g,
            children: t("policy.create"),
          }),
        }),
      ],
    });
  },
  rb = ({ onSubmit: e }) => {
    var o;
    const { t } = F("dashboard");
    ge();
    const n = f.useRef(null),
      [i, a] = f.useState({
        id: 0,
        node_id: 0,
        name: "",
        type: te.qiniu,
        is_private: !0,
        dir_name_rule: "uploads/{uid}/{path}",
        settings: {
          chunk_size: 25 << 20,
          thumb_exts: ["psd", "jpeg", "png", "gif", "webp", "tiff", "bmp", "avif", "heic"],
          thumb_max_size: 20 << 20,
          media_meta_exts: [
            "avi",
            "mp4",
            "mkv",
            "mov",
            "webm",
            "opus",
            "flv",
            "hls",
            "ts",
            "dash",
            "mp3",
            "aac",
            "flac",
            "wav",
            "amr",
            "jpg",
            "jpeg",
            "png",
            "gif",
            "bmp",
            "webp",
            "tiff",
            "heic",
            "heif",
          ],
          media_meta_generator_proxy: !0,
          thumb_generator_proxy: !0,
          custom_proxy: !0,
          chunk_concurrency: 3,
        },
        file_name_rule: "{uuid}_{originname}",
        edges: {},
      }),
      s = () => {
        var l, d;
        if (!((l = n.current) != null && l.checkValidity())) {
          (d = n.current) == null || d.reportValidity();
          return;
        }
        e(i);
      };
    return r.jsxs("form", {
      ref: n,
      onSubmit: s,
      children: [
        r.jsxs(le, {
          spacing: 2,
          children: [
            r.jsxs(P, {
              title: t("policy.name"),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: i.name,
                  onChange: (l) => a({ ...i, name: l.target.value }),
                }),
                r.jsx(A, { children: t("policy.policyName") }),
              ],
            }),
            r.jsxs(P, {
              title: t("policy.qiniuBucketName"),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: i.bucket_name,
                  onChange: (l) => a({ ...i, bucket_name: l.target.value }),
                }),
                r.jsx(A, {
                  children: r.jsx(X, {
                    i18nKey: "policy.enterQiniuBucket",
                    ns: "dashboard",
                    components: [r.jsx(Z, { href: "https://portal.qiniu.com/kodo/bucket", target: "_blank" })],
                  }),
                }),
              ],
            }),
            r.jsx(P, {
              title: t("policy.aclType"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(nn, {
                    phraseVariant: te.qiniu,
                    value: i.is_private ?? !1,
                    onChange: (l) => a({ ...i, is_private: l }),
                  }),
                  r.jsx(A, { children: t("policy.bucketTypeDes") }),
                ],
              }),
            }),
            r.jsxs(P, {
              title: t("policy.bucketDomain"),
              lgWidth: 12,
              children: [
                r.jsx(lr, {
                  fullWidth: !0,
                  enforceProtocol: !0,
                  required: !0,
                  value: ((o = i.settings) == null ? void 0 : o.proxy_server) ?? "",
                  onChange: (l) => a({ ...i, settings: { ...i.settings, proxy_server: l.target.value } }),
                  variant: "outlined",
                }),
                r.jsx(A, { children: t("policy.bucketDomainDes") }),
              ],
            }),
            r.jsx(P, {
              title: t("policy.accessCredential"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, {
                    placeholder: "AK",
                    fullWidth: !0,
                    required: !0,
                    value: i.access_key,
                    onChange: (l) => a({ ...i, access_key: l.target.value }),
                  }),
                  r.jsx(W, {
                    placeholder: "SK",
                    sx: { mt: 1 },
                    fullWidth: !0,
                    required: !0,
                    value: i.secret_key,
                    onChange: (l) => a({ ...i, secret_key: l.target.value }),
                  }),
                  r.jsx(A, { children: t("policy.qiniuCredentialDes") }),
                ],
              }),
            }),
          ],
        }),
        r.jsx(Pe, { variant: "contained", color: "primary", sx: { mt: 2 }, onClick: s, children: t("policy.create") }),
      ],
    });
  },
  nb = "node_status",
  uf = ({ value: e, onChange: t, ...n }) => {
    const { t: i } = F("dashboard"),
      a = ge(),
      [s, o] = f.useState(!0),
      [l, d] = f.useState([]);
    return (
      f.useEffect(() => {
        o(!0),
          a(Ip({ page_size: 1e3, page: 1, order_by: "id", order_direction: "desc", conditions: { [nb]: _n.active } }))
            .then((c) => {
              const u = c.nodes.filter((h) => h.type != yr.master);
              d(u), !e && u.length > 0 && t(u[0].id);
            })
            .finally(() => {
              o(!1);
            });
      }, []),
      !s && l.length == 0
        ? r.jsx(Br, { severity: "warning", children: i("settings.noNodes") })
        : r.jsx(Ue, {
            disabled: s,
            value: e,
            onChange: (c) => t(c.target.value),
            MenuProps: {
              PaperProps: { sx: { maxWidth: 230 } },
              MenuListProps: { sx: { "& .MuiMenuItem-root": { whiteSpace: "normal" } } },
            },
            ...n,
            children: l.map((c) =>
              r.jsx(he, {
                value: c.id,
                children: r.jsxs(T, {
                  sx: { display: "flex", flexDirection: "column" },
                  children: [
                    r.jsx(L, { variant: "body2", fontWeight: 600, children: c.name }),
                    r.jsx(L, { variant: "caption", color: "textSecondary", children: c.server }),
                  ],
                }),
              }),
            ),
          })
    );
  },
  ib = ({ onSubmit: e }) => {
    const { t } = F("dashboard"),
      n = f.useRef(null),
      [i, a] = f.useState({
        id: 0,
        node_id: 0,
        name: "",
        type: te.remote,
        dir_name_rule: "data/uploads/{uid}/{path}",
        settings: {
          chunk_size: 25 << 20,
          pre_allocate: !0,
          thumb_exts: ["jpg", "png", "gif", "jpeg", "mp3", "m4a", "ogg", "flag"],
          thumb_generator_proxy: !0,
          media_meta_exts: [
            "mp3",
            "m4a",
            "ogg",
            "flac",
            "jpg",
            "jpeg",
            "png",
            "heic",
            "heif",
            "tiff",
            "avif",
            "3fr",
            "ari",
            "arw",
            "bay",
            "braw",
            "crw",
            "cr2",
            "cr3",
            "cap",
            "data",
            "dcs",
            "dcr",
            "dng",
            "drf",
            "eip",
            "erf",
            "fff",
            "gpr",
            "iiq",
            "k25",
            "kdc",
            "mdc",
            "mef",
            "mos",
            "mrw",
            "nef",
            "nrw",
            "obm",
            "orf",
            "pef",
            "ptx",
            "pxn",
            "r3d",
            "raf",
            "raw",
            "rwl",
            "rw2",
            "rwz",
            "sr2",
            "srf",
            "srw",
            "tif",
            "x3f",
          ],
        },
        file_name_rule: "{uuid}_{originname}",
        edges: {},
      }),
      s = () => {
        var o, l;
        if (!((o = n.current) != null && o.checkValidity())) {
          (l = n.current) == null || l.reportValidity();
          return;
        }
        e(i);
      };
    return r.jsxs("form", {
      ref: n,
      onSubmit: s,
      children: [
        r.jsxs(le, {
          spacing: 2,
          children: [
            r.jsxs(P, {
              title: t("policy.name"),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: i.name,
                  onChange: (o) => a({ ...i, name: o.target.value }),
                }),
                r.jsx(A, { children: t("policy.policyName") }),
              ],
            }),
            r.jsxs(P, {
              title: t("policy.node"),
              lgWidth: 12,
              children: [
                r.jsx(uf, {
                  fullWidth: !0,
                  required: !0,
                  value: i.node_id ?? 0,
                  onChange: (o) => a({ ...i, node_id: o }),
                }),
                r.jsx(A, {
                  children: r.jsx(X, {
                    i18nKey: "policy.nodeDes",
                    ns: "dashboard",
                    components: [r.jsx(Z, { component: zt, to: "/admin/node" })],
                  }),
                }),
              ],
            }),
          ],
        }),
        r.jsx(Pe, {
          disabled: !i.node_id,
          variant: "contained",
          color: "primary",
          sx: { mt: 2 },
          onClick: s,
          children: t("policy.create"),
        }),
      ],
    });
  },
  ab = ({ onSubmit: e }) => {
    var m, v;
    const { t } = F("dashboard"),
      n = ge(),
      [i, a] = f.useState(!1),
      { enqueueSnackbar: s } = ut(),
      [o, l] = f.useState(!1),
      d = f.useRef(null),
      [c, u] = f.useState({
        id: 0,
        node_id: 0,
        name: "",
        type: te.s3,
        is_private: !0,
        dir_name_rule: "uploads/{uid}/{path}",
        settings: { chunk_size: 25 << 20, media_meta_generator_proxy: !0, thumb_generator_proxy: !0 },
        file_name_rule: "{uuid}_{originname}",
        edges: {},
      }),
      h = f.useMemo(() => Et[te.s3], []),
      p = () => {
        var x, j;
        if (!((x = d.current) != null && x.checkValidity())) {
          (j = d.current) == null || j.reportValidity();
          return;
        }
        a(!0),
          n(bi({ policy: c }))
            .then(() => {
              s(t("policy.corsPolicyAdded"), { variant: "success", action: nt }), l(!0);
            })
            .finally(() => {
              a(!1);
            });
      },
      g = () => {
        var x, j;
        if (!((x = d.current) != null && x.checkValidity())) {
          (j = d.current) == null || j.reportValidity();
          return;
        }
        e(c);
      };
    return r.jsxs("form", {
      ref: d,
      onSubmit: g,
      children: [
        r.jsxs(le, {
          spacing: 2,
          children: [
            r.jsxs(P, {
              title: t("policy.name"),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: c.name,
                  onChange: (x) => u({ ...c, name: x.target.value }),
                }),
                r.jsx(A, { children: t("policy.policyName") }),
              ],
            }),
            r.jsx(P, {
              title: t("policy.bucketName"),
              lgWidth: 12,
              children: r.jsx(W, {
                fullWidth: !0,
                required: !0,
                value: c.bucket_name,
                onChange: (x) => u({ ...c, bucket_name: x.target.value }),
              }),
            }),
            r.jsx(P, {
              title: t("policy.bucketType"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(nn, {
                    phraseVariant: c.type,
                    value: c.is_private ?? !1,
                    onChange: (x) => u({ ...c, is_private: x }),
                  }),
                  r.jsx(A, { children: t("policy.bucketTypeDes") }),
                ],
              }),
            }),
            r.jsxs(P, {
              title: t("policy.policyEndpoint"),
              lgWidth: 12,
              children: [
                r.jsx(lr, {
                  fullWidth: !0,
                  required: !0,
                  value: c.server,
                  enforceProtocol: !0,
                  onChange: (x) => u({ ...c, server: x.target.value }),
                  variant: "outlined",
                }),
                r.jsx(A, {
                  children: r.jsx(X, { i18nKey: "policy.s3EndpointDes", ns: "dashboard", components: [r.jsx(oe, {})] }),
                }),
                r.jsx(xe, {
                  sx: { mt: 1, mb: -1 },
                  slotProps: { typography: { variant: "body2" } },
                  control: r.jsx(it, {
                    size: "small",
                    checked: ((m = c.settings) == null ? void 0 : m.s3_path_style) ?? !1,
                    onChange: (x) =>
                      u({ ...c, settings: { ...c.settings, s3_path_style: x.target.checked ? !0 : void 0 } }),
                  }),
                  label: t("policy.usePathEndpoint"),
                }),
                r.jsx(A, {
                  children: r.jsx(X, {
                    i18nKey: "policy.s3EndpointPathStyle",
                    ns: "dashboard",
                    components: [r.jsx(oe, {})],
                  }),
                }),
              ],
            }),
            r.jsxs(P, {
              title: t(h.regionCode ?? ""),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: (v = c.settings) == null ? void 0 : v.region,
                  onChange: (x) => u({ ...c, settings: { ...c.settings, region: x.target.value } }),
                }),
                r.jsx(A, { children: h.regionCodeDes }),
              ],
            }),
            r.jsx(P, {
              title: t("policy.accessCredential"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, {
                    placeholder: "Access Key",
                    fullWidth: !0,
                    required: !0,
                    value: c.access_key,
                    onChange: (x) => u({ ...c, access_key: x.target.value }),
                  }),
                  r.jsx(W, {
                    placeholder: "Secret Key",
                    sx: { mt: 1 },
                    fullWidth: !0,
                    required: !0,
                    value: c.secret_key,
                    onChange: (x) => u({ ...c, secret_key: x.target.value }),
                  }),
                ],
              }),
            }),
            r.jsxs(P, {
              title: t("policy.corsSettingStep"),
              lgWidth: 12,
              children: [
                r.jsxs($, {
                  fullWidth: !0,
                  children: [r.jsx(_i, { exposedHeaders: ["ETag"] }), r.jsx(A, { children: t("policy.ossCORSDes") })],
                }),
                r.jsxs(Ve, {
                  in: !o,
                  sx: { mt: 1 },
                  children: [
                    r.jsx(Pe, {
                      loading: i,
                      variant: "contained",
                      color: "primary",
                      sx: { mr: 1 },
                      onClick: p,
                      children: t("policy.letCloudreveHelpMe"),
                    }),
                    r.jsx(ke, { variant: "contained", onClick: () => l(!0), children: t("policy.addedManually") }),
                  ],
                }),
              ],
            }),
          ],
        }),
        r.jsx(Ve, {
          in: o,
          children: r.jsx(Pe, {
            variant: "contained",
            color: "primary",
            sx: { mt: 2 },
            onClick: g,
            children: t("policy.create"),
          }),
        }),
      ],
    });
  },
  sb = ({ onSubmit: e }) => {
    var m, v;
    const { t } = F("dashboard"),
      n = ge(),
      [i, a] = f.useState(!1),
      { enqueueSnackbar: s } = ut(),
      [o, l] = f.useState(!1),
      d = f.useRef(null),
      [c, u] = f.useState({
        id: 0,
        node_id: 0,
        name: "",
        type: te.ks3,
        is_private: !0,
        dir_name_rule: "uploads/{uid}/{path}",
        settings: {
          chunk_size: 25 << 20,
          media_meta_generator_proxy: !0,
          thumb_generator_proxy: !0,
          chunk_concurrency: 3,
        },
        file_name_rule: "{uuid}_{originname}",
        edges: {},
      }),
      h = f.useMemo(() => Et[te.ks3], []),
      p = () => {
        var x, j;
        if (!((x = d.current) != null && x.checkValidity())) {
          (j = d.current) == null || j.reportValidity();
          return;
        }
        a(!0),
          n(bi({ policy: c }))
            .then(() => {
              s(t("policy.corsPolicyAdded"), { variant: "success", action: nt }), l(!0);
            })
            .finally(() => {
              a(!1);
            });
      },
      g = () => {
        var x, j;
        if (!((x = d.current) != null && x.checkValidity())) {
          (j = d.current) == null || j.reportValidity();
          return;
        }
        e(c);
      };
    return r.jsxs("form", {
      ref: d,
      onSubmit: g,
      children: [
        r.jsxs(le, {
          spacing: 2,
          children: [
            r.jsxs(P, {
              title: t("policy.name"),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: c.name,
                  onChange: (x) => u({ ...c, name: x.target.value }),
                }),
                r.jsx(A, { children: t("policy.policyName") }),
              ],
            }),
            r.jsx(P, {
              title: t("policy.bucketName"),
              lgWidth: 12,
              children: r.jsx(W, {
                fullWidth: !0,
                required: !0,
                value: c.bucket_name,
                onChange: (x) => u({ ...c, bucket_name: x.target.value }),
              }),
            }),
            r.jsx(P, {
              title: t("policy.bucketType"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(nn, {
                    phraseVariant: c.type,
                    value: c.is_private ?? !1,
                    onChange: (x) => u({ ...c, is_private: x }),
                  }),
                  r.jsx(A, { children: t("policy.bucketTypeDes") }),
                ],
              }),
            }),
            r.jsxs(P, {
              title: t("policy.policyEndpoint"),
              lgWidth: 12,
              children: [
                r.jsx(lr, {
                  fullWidth: !0,
                  required: !0,
                  value: c.server,
                  enforceProtocol: !0,
                  onChange: (x) => u({ ...c, server: x.target.value }),
                  variant: "outlined",
                }),
                r.jsx(A, {
                  children: r.jsx(X, { i18nKey: "policy.s3EndpointDes", ns: "dashboard", components: [r.jsx(oe, {})] }),
                }),
                r.jsx(xe, {
                  sx: { mt: 1, mb: -1 },
                  slotProps: { typography: { variant: "body2" } },
                  control: r.jsx(it, {
                    size: "small",
                    checked: ((m = c.settings) == null ? void 0 : m.s3_path_style) ?? !1,
                    onChange: (x) =>
                      u({ ...c, settings: { ...c.settings, s3_path_style: x.target.checked ? !0 : void 0 } }),
                  }),
                  label: t("policy.usePathEndpoint"),
                }),
                r.jsx(A, {
                  children: r.jsx(X, {
                    i18nKey: "policy.ks3EndpointPathStyle",
                    ns: "dashboard",
                    components: [r.jsx(oe, {})],
                  }),
                }),
              ],
            }),
            r.jsxs(P, {
              title: t(h.regionCode ?? ""),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: (v = c.settings) == null ? void 0 : v.region,
                  onChange: (x) => u({ ...c, settings: { ...c.settings, region: x.target.value } }),
                }),
                r.jsx(A, { children: h.regionCodeDes }),
              ],
            }),
            r.jsx(P, {
              title: t("policy.accessCredential"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, {
                    placeholder: "Access Key",
                    fullWidth: !0,
                    required: !0,
                    value: c.access_key,
                    onChange: (x) => u({ ...c, access_key: x.target.value }),
                  }),
                  r.jsx(W, {
                    placeholder: "Secret Key",
                    sx: { mt: 1 },
                    fullWidth: !0,
                    required: !0,
                    value: c.secret_key,
                    onChange: (x) => u({ ...c, secret_key: x.target.value }),
                  }),
                ],
              }),
            }),
            r.jsxs(P, {
              title: t("policy.corsSettingStep"),
              lgWidth: 12,
              children: [
                r.jsxs($, {
                  fullWidth: !0,
                  children: [r.jsx(_i, { exposedHeaders: ["ETag"] }), r.jsx(A, { children: t("policy.ossCORSDes") })],
                }),
                r.jsxs(Ve, {
                  in: !o,
                  sx: { mt: 1 },
                  children: [
                    r.jsx(Pe, {
                      loading: i,
                      variant: "contained",
                      color: "primary",
                      sx: { mr: 1 },
                      onClick: p,
                      children: t("policy.letCloudreveHelpMe"),
                    }),
                    r.jsx(ke, { variant: "contained", onClick: () => l(!0), children: t("policy.addedManually") }),
                  ],
                }),
              ],
            }),
          ],
        }),
        r.jsx(Ve, {
          in: o,
          children: r.jsx(Pe, {
            variant: "contained",
            color: "primary",
            sx: { mt: 2 },
            onClick: g,
            children: t("policy.create"),
          }),
        }),
      ],
    });
  },
  ob = ({ onSubmit: e }) => {
    var o, l;
    const { t } = F("dashboard");
    ge(), f.useState(!1), ut(), f.useState(!1);
    const n = f.useRef(null),
      [i, a] = f.useState({
        id: 0,
        node_id: 0,
        name: "",
        type: te.upyun,
        is_private: !0,
        dir_name_rule: "uploads/{uid}/{path}",
        settings: {
          thumb_exts: ["png", "jpg", "jpeg", "gif", "bmp", "webp", "svg"],
          media_meta_exts: ["png", "jpg", "jpeg", "gif", "bmp", "webp", "svg"],
          media_meta_generator_proxy: !0,
          thumb_generator_proxy: !0,
          custom_proxy: !0,
        },
        file_name_rule: "{uuid}_{originname}",
        edges: {},
      }),
      s = () => {
        var d, c;
        if (!((d = n.current) != null && d.checkValidity())) {
          (c = n.current) == null || c.reportValidity();
          return;
        }
        e(i);
      };
    return r.jsxs("form", {
      ref: n,
      onSubmit: s,
      children: [
        r.jsxs(le, {
          spacing: 2,
          children: [
            r.jsxs(P, {
              title: t("policy.name"),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: i.name,
                  onChange: (d) => a({ ...i, name: d.target.value }),
                }),
                r.jsx(A, { children: t("policy.policyName") }),
              ],
            }),
            r.jsxs(P, {
              title: t("policy.storageServiceName"),
              lgWidth: 12,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: i.bucket_name,
                  onChange: (d) => a({ ...i, bucket_name: d.target.value }),
                }),
                r.jsx(A, {
                  children: r.jsx(X, {
                    i18nKey: "policy.createUpyunBucketDes",
                    ns: "dashboard",
                    components: [r.jsx(Z, { href: "https://console.upyun.com/console/service", target: "_blank" })],
                  }),
                }),
              ],
            }),
            r.jsx(P, {
              title: t("policy.tokenStatus"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(nn, {
                    phraseVariant: i.type,
                    value: i.is_private ?? !1,
                    onChange: (d) => a({ ...i, is_private: d }),
                  }),
                  r.jsx(A, {
                    children: r.jsx(X, {
                      i18nKey: "policy.upyunTokenDes",
                      ns: "dashboard",
                      components: [r.jsx(oe, {}), r.jsx(oe, {})],
                    }),
                  }),
                ],
              }),
            }),
            r.jsx(Ve, {
              in: i.is_private,
              children: r.jsxs(P, {
                title: t("policy.upyunTokenSecret"),
                lgWidth: 12,
                children: [
                  r.jsx(W, {
                    fullWidth: !0,
                    required: !0,
                    value: (o = i.settings) == null ? void 0 : o.token,
                    onChange: (d) => a({ ...i, settings: { ...i.settings, token: d.target.value } }),
                  }),
                  r.jsx(A, { children: t("policy.upyunTokenSecretDes") }),
                ],
              }),
            }),
            r.jsxs(P, {
              title: t("policy.bucketCDNDomain"),
              lgWidth: 12,
              children: [
                r.jsx(lr, {
                  fullWidth: !0,
                  enforceProtocol: !0,
                  required: !0,
                  value: (l = i.settings) == null ? void 0 : l.proxy_server,
                  onChange: (d) => a({ ...i, settings: { ...i.settings, proxy_server: d.target.value } }),
                  variant: "outlined",
                }),
                r.jsx(A, { children: t("policy.bucketCDNDes") }),
              ],
            }),
            r.jsx(P, {
              title: t("policy.accessCredential"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, {
                    placeholder: t("policy.operatorName"),
                    fullWidth: !0,
                    required: !0,
                    value: i.access_key,
                    onChange: (d) => a({ ...i, access_key: d.target.value }),
                  }),
                  r.jsx(W, {
                    placeholder: t("policy.operatorPassword"),
                    sx: { mt: 1 },
                    fullWidth: !0,
                    required: !0,
                    value: i.secret_key,
                    onChange: (d) => a({ ...i, secret_key: d.target.value }),
                  }),
                ],
              }),
            }),
          ],
        }),
        r.jsx(Pe, { variant: "contained", color: "primary", sx: { mt: 2 }, onClick: s, children: t("policy.create") }),
      ],
    });
  },
  an = "page",
  sn = "page_size",
  on = "order_by",
  ln = "order_direction",
  lb = "policy_type",
  Et = {
    [te.local]: {
      name: "policy.local",
      img: "/static/img/local.png",
      wizardSize: "sm",
      wizard: Jj,
      chunkSizeDes: "policy.chunkSizeDes",
    },
    [te.load_balance]: { name: "policy.load_balance", img: "/static/img/lb.svg", wizardSize: "sm", pro: !0 },
    [te.remote]: {
      name: "policy.remote",
      img: "/static/img/remote.png",
      wizardSize: "sm",
      wizard: ib,
      nativeThumbDes: "policy.nativeThumbNailsGeneralRemote",
      nativeExtractorName: "policy.mediaExtractorNative",
      nativeExtractorDes: "policy.nativeMediaMetaExtsRemote",
      chunkSizeDes: "policy.chunkSizeDes",
    },
    [te.s3]: {
      name: "policy.s3",
      img: "/static/img/s3.png",
      wizardSize: "sm",
      wizard: ab,
      bucketName: "policy.bucketName",
      bucketType: "policy.bucketType",
      endpointName: "policy.policyEndpoint",
      endpointDes: r.jsx(X, { i18nKey: "policy.s3EndpointDes", ns: "dashboard", components: [r.jsx(oe, {})] }),
      akName: "Access Key",
      skName: "Secret Key",
      chunkSizeMin: 5 * 1024 * 1024,
      chunkSizeMax: 5 * 1024 * 1024 * 1024,
      chunkSizeDes: "policy.chunkSizeDesS3",
      regionCode: "policy.s3Region",
      regionCodeDes: r.jsx(X, { i18nKey: "policy.selectRegionDes", ns: "dashboard", components: [r.jsx(oe, {})] }),
    },
    [te.ks3]: {
      name: "policy.ks3",
      img: "/static/img/ks3.png",
      wizardSize: "sm",
      wizard: sb,
      bucketName: "policy.bucketName",
      bucketType: "policy.bucketType",
      endpointName: "policy.policyEndpoint",
      endpointDes: r.jsx(X, { i18nKey: "policy.ks3selectRegionDes", ns: "dashboard", components: [r.jsx(oe, {})] }),
      akName: "Access Key",
      skName: "Secret Key",
      corsExposedHeaders: ["ETag"],
      chunkSizeMin: 5 * 1024 * 1024,
      chunkSizeMax: 5 * 1024 * 1024 * 1024,
      chunkSizeDes: "policy.chunkSizeDesS3",
      regionCode: "policy.s3Region",
      regionCodeDes: r.jsx(X, { i18nKey: "policy.ks3selectRegionDes", ns: "dashboard", components: [r.jsx(oe, {})] }),
    },
    [te.cos]: {
      name: "policy.cos",
      img: "/static/img/cos.png",
      wizardSize: "sm",
      wizard: Yj,
      bucketName: "policy.cosObsBucketName",
      bucketNameDes: r.jsx(X, {
        i18nKey: "policy.createCOSBucketDes",
        ns: "dashboard",
        components: [
          r.jsx(Z, { href: "https://console.cloud.tencent.com/cos/bucket", target: "_blank" }),
          r.jsx(oe, {}),
        ],
      }),
      bucketType: "policy.accessType",
      endpointName: "policy.accessDomain",
      endpointDes: r.jsx(X, {
        i18nKey: "policy.cosAccessDomainDes",
        ns: "dashboard",
        components: [r.jsx(oe, {}), r.jsx(oe, {})],
      }),
      chunkSizeMin: 1024 * 1024,
      chunkSizeMax: 5 * 1024 * 1024 * 1024,
      chunkSizeDes: "policy.chunkSizeDesQiniuCos",
      nativeThumbDes: "policy.nativeThumbNailsGeneralCos",
      nativeThumbDoc: "https://cloud.tencent.com/document/product/436/113312",
      nativeExtractorName: "policy.mediaExtractorCos",
      nativeExtractorDes: "policy.nativeMediaMetaExtCos",
      nativeExtractorDesDoc: "https://console.cloud.tencent.com/ci",
      nativeExtractorDoc: "https://console.cloud.tencent.com/ci",
      akName: "SecretId",
      skName: "SecretKey",
      corsExposedHeaders: ["ETag"],
      credentialDes: r.jsx(X, {
        i18nKey: "policy.cosCredentialDes",
        ns: "dashboard",
        components: [
          r.jsx(Z, { href: "https://console.cloud.tencent.com/cam/capi", target: "_blank" }),
          r.jsx(oe, {}),
          r.jsx(Z, { href: "https://console.cloud.tencent.com/cam", target: "_blank" }),
        ],
      }),
    },
    [te.oss]: {
      name: "policy.oss",
      img: "/static/img/oss.png",
      wizardSize: "sm",
      wizard: tb,
      chunkSizeMin: 100 * 1024,
      chunkSizeMax: 5 * 1024 * 1024 * 1024,
      chunkSizeDes: "policy.chunkSizeDesOssObs",
      nativeThumbDes: "policy.nativeThumbNailsGeneralOss",
      nativeThumbDoc: "https://help.aliyun.com/zh/oss/user-guide/overview-17/",
      nativeExtractorName: "policy.mediaExtractorOss",
      nativeExtractorDes: "policy.nativeMediaMetaExtOss",
      nativeExtractorDoc: "https://help.aliyun.com/zh/oss/user-guide/quick-start-2326698",
      nativeExtractorDesDoc: "https://help.aliyun.com/zh/oss/user-guide/quick-start-2326698",
      bucketName: "policy.bucketName",
      bucketNameDes: r.jsx(X, {
        i18nKey: "policy.createOSSBucketDes",
        ns: "dashboard",
        components: [
          r.jsx(Z, { href: "https://oss.console.aliyun.com/bucket", target: "_blank" }),
          r.jsx(oe, {}),
          r.jsx(oe, {}),
        ],
      }),
      bucketType: "policy.bucketType",
      akName: "AccessKey ID",
      skName: "AccessKey Secret",
      credentialDes: r.jsx(X, {
        i18nKey: "policy.ossAKDes",
        ns: "dashboard",
        components: [
          r.jsx(Z, { href: "https://ram.console.aliyun.com/profile/access-keys", target: "_blank" }),
          r.jsx(Z, { href: "https://ram.console.aliyun.com/ram/overview", target: "_blank" }),
          r.jsx(oe, {}),
        ],
      }),
      regionCode: "policy.s3Region",
      regionCodeDes: r.jsx(X, {
        i18nKey: "policy.ossRegionDes",
        ns: "dashboard",
        components: [
          r.jsx(oe, {}),
          r.jsx(Z, { href: "https://www.alibabacloud.com/help/oss/regions-and-endpoints", target: "_blank" }),
          r.jsx(oe, {}),
        ],
      }),
    },
    [te.obs]: {
      name: "policy.obs",
      img: "/static/img/obs.png",
      wizardSize: "sm",
      wizard: Qj,
      bucketName: "policy.cosObsBucketName",
      bucketNameDes: r.jsx(X, {
        i18nKey: "policy.obsBucketDes",
        ns: "dashboard",
        components: [
          r.jsx(Z, { href: "https://console.huaweicloud.com/console/#/obs/create", target: "_blank" }),
          r.jsx(oe, {}),
          r.jsx(oe, {}),
          r.jsx(oe, {}),
        ],
      }),
      bucketType: "policy.bucketPolicy",
      endpointName: "policy.policyEndpoint",
      endpointDes: r.jsx(X, {
        i18nKey: "policy.obsEndpointDes",
        ns: "dashboard",
        components: [r.jsx(oe, {}), r.jsx(oe, {})],
      }),
      endpointNotEnforcePrefix: !0,
      akName: "Access Key Id",
      skName: "Secret Access Key",
      credentialDes: r.jsx(X, {
        i18nKey: "policy.obsCredentialDes",
        ns: "dashboard",
        components: [
          r.jsx(Z, { href: "https://console.huaweicloud.com/iam/#/mine/accessKey", target: "_blank" }),
          r.jsx(oe, {}),
          r.jsx(oe, {}),
          r.jsx(oe, {}),
        ],
      }),
      corsExposedHeaders: ["ETag"],
      chunkSizeMin: 100 * 1024,
      chunkSizeMax: 5 * 1024 * 1024 * 1024,
      chunkSizeDes: "policy.chunkSizeDesOssObs",
      nativeThumbDes: "policy.nativeThumbNailsGeneralObs",
      nativeThumbDoc: "https://support.huaweicloud.com/intl/zh-cn/usermanual-obs/obs_01_0001.html",
      nativeExtractorName: "policy.mediaExtractorObs",
      nativeExtractorDes: "policy.nativeMediaMetaExtObs",
      nativeExtractorDoc: "https://support.huaweicloud.com/intl/zh-cn/usermanual-obs/obs_01_0410.html",
      nativeExtractorDesDoc: "https://support.huaweicloud.com/intl/zh-cn/usermanual-obs/obs_01_0410.html",
    },
    [te.qiniu]: {
      name: "policy.qiniu",
      img: "/static/img/qiniu.png",
      wizardSize: "sm",
      wizard: rb,
      bucketName: "policy.qiniuBucketName",
      bucketNameDes: r.jsx(X, {
        i18nKey: "policy.enterQiniuBucket",
        ns: "dashboard",
        components: [r.jsx(Z, { href: "https://portal.qiniu.com/kodo/bucket", target: "_blank" })],
      }),
      bucketType: "policy.aclType",
      akName: "AK",
      skName: "SK",
      credentialDes: r.jsx(X, { i18nKey: "policy.qiniuCredentialDes", ns: "dashboard" }),
      nativeThumbDes: "policy.nativeThumbNailsGeneralQiniu",
      nativeThumbDoc: "https://developer.qiniu.com/dora/api/basic-processing-images-imageview2",
      nativeExtractorName: "policy.mediaExtractorQiniu",
      nativeExtractorDes: "policy.nativeMediaMetaExtQiniu",
      nativeExtractorDoc: "https://www.qiniu.com/products/dora",
      chunkSizeMin: 1024 * 1024,
      chunkSizeMax: 1024 * 1024 * 1024,
      chunkSizeDes: "policy.chunkSizeDesQiniuCos",
    },
    [te.upyun]: {
      name: "policy.upyun",
      img: "/static/img/upyun.png",
      wizardSize: "sm",
      wizard: ob,
      bucketName: "policy.storageServiceName",
      bucketNameDes: r.jsx(X, {
        i18nKey: "policy.createUpyunBucketDes",
        ns: "dashboard",
        components: [r.jsx(Z, { href: "https://console.upyun.com/console/service", target: "_blank" })],
      }),
      bucketType: "policy.tokenStatus",
      akName: "policy.operatorName",
      skName: "policy.operatorPassword",
      nativeThumbDes: "policy.nativeThumbNailsGeneralUpyun",
      nativeThumbDoc: "https://help.upyun.com/knowledge-base/image/",
      nativeExtractorName: "policy.mediaExtractorUpyun",
      nativeExtractorDes: "policy.nativeMediaMetaExtUpyun",
      nativeExtractorDesDoc: "https://help.upyun.com/knowledge-base/image/#e58583e695b0e68daee88eb7e58f96",
      nativeExtractorDoc: "https://help.upyun.com/knowledge-base/image/",
    },
    [te.onedrive]: {
      name: "policy.onedrive",
      img: "/static/img/onedrive.png",
      wizardSize: "sm",
      wizard: eb,
      chunkSizeMin: 5 * 1024 * 1024,
      chunkSizeMax: 5 * 1024 * 1024 * 1024,
      chunkSizeDes: "policy.chunkSizeDesOd",
      bucketName: "policy.storageServiceName",
      bucketNameDes: r.jsx(X, {
        i18nKey: "policy.createUpyunBucketDes",
        ns: "dashboard",
        components: [r.jsx(Z, { href: "https://console.upyun.com/console/service", target: "_blank" })],
      }),
      bucketType: "policy.tokenStatus",
    },
  },
  DN = () => {
    const { t: e } = F("dashboard"),
      t = ge(),
      [n, i] = f.useState(!0),
      [a, s] = f.useState([]),
      [o, l] = _e(an, { defaultValue: "1" }),
      [d, c] = _e(sn, { defaultValue: "11" }),
      [u, h] = _e(on, { defaultValue: "" }),
      [p, g] = _e(ln, { defaultValue: "desc" }),
      [m, v] = _e(lb, { defaultValue: " " }),
      [x, j] = f.useState(0),
      [b, _] = f.useState(!1),
      [S, y] = f.useState(null),
      [w, C] = f.useState(!1);
    f.useState(!1);
    const O = parseInt(o) ?? 1,
      k = parseInt(d) ?? 11;
    f.useEffect(() => {
      D();
    }, [o, d, u, p, m]);
    const D = () => {
        i(!0),
          t(
            Oc({
              page: O,
              page_size: k,
              order_by: u ?? "",
              order_direction: p ?? "desc",
              conditions: { policy_type: m == " " ? "" : m },
            }),
          )
            .then((z) => {
              s(z.policies), c(z.pagination.page_size.toString()), j(z.pagination.total_items ?? 0), i(!1);
            })
            .finally(() => {
              i(!1);
            });
      },
      E = f.useCallback((z) => {
        y(z), _(!1), C(!0);
      }, []),
      I = f.useCallback((z) => {
        v(z.target.value), l("1");
      }, []);
    return r.jsxs(Ft, {
      children: [
        r.jsx(Zy, { open: b, onClose: () => _(!1), onSelect: E }),
        S && r.jsx(Jy, { open: w, onClose: () => C(!1), type: S }),
        r.jsxs(Lt, {
          maxWidth: "xl",
          children: [
            r.jsx(Vt, { title: e("dashboard:nav.storagePolicy") }),
            r.jsxs(le, {
              direction: "row",
              spacing: 1,
              sx: { mb: 2 },
              children: [
                r.jsx(ke, {
                  onClick: D,
                  disabled: n,
                  variant: "contained",
                  startIcon: r.jsx(Dr, {}),
                  children: e("node.refresh"),
                }),
                r.jsxs(Ue, {
                  value: m,
                  onChange: I,
                  renderValue: (z) =>
                    r.jsx(L, { variant: "body2", children: z == " " ? e("policy.all") : e(Et[z].name) }),
                  children: [
                    r.jsx(he, {
                      value: " ",
                      children: r.jsx(de, { slotProps: { primary: { variant: "body2" } }, children: e("policy.all") }),
                    }),
                    Object.values(te).map((z) =>
                      r.jsx(
                        he,
                        {
                          value: z,
                          children: r.jsx(de, {
                            slotProps: { primary: { variant: "body2" } },
                            children: e(Et[z].name),
                          }),
                        },
                        z,
                      ),
                    ),
                  ],
                }),
              ],
            }),
            r.jsxs(_t, {
              container: !0,
              spacing: 2,
              children: [
                r.jsx(_t, {
                  size: { xs: 12, md: 6, lg: 4 },
                  children: r.jsxs(qi, {
                    onClick: () => _(!0),
                    sx: {
                      height: "100%",
                      borderStyle: "dashed",
                      display: "flex",
                      alignItems: "center",
                      gap: 1,
                      justifyContent: "center",
                      color: (z) => z.palette.text.secondary,
                    },
                    children: [r.jsx(Rt, {}), r.jsx(L, { variant: "h6", children: e("policy.newStoragePolicy") })],
                  }),
                }),
                !n && a.map((z) => r.jsx(To, { policy: z, onRefresh: D }, z.id)),
                n && a.length > 0 && a.map((z) => r.jsx(To, { loading: !0 }, `loading-${z.id}`)),
                n &&
                  a.length === 0 &&
                  Array.from(Array(5)).map((z, R) => r.jsx(To, { loading: !0 }, `loading-placeholder-${R}`)),
              ],
            }),
            x > 0 &&
              r.jsx(T, {
                sx: { mt: 1 },
                children: r.jsx(Rr, {
                  page: O,
                  totalItems: x,
                  rowsPerPage: k,
                  rowsPerPageOptions: [11, 25, 50, 100, 200, 500, 1e3],
                  onRowsPerPageChange: (z) => c(z.toString()),
                  onChange: (z, R) => l(R.toString()),
                }),
              }),
          ],
        }),
      ],
    });
  },
  cb = ({ reload: e, setLoading: t }) => {
    var S;
    const n = ge(),
      { enqueueSnackbar: i } = ut(),
      a = Ge(),
      s = $t(a.breakpoints.down("md")),
      { t: o } = F("dashboard"),
      { formRef: l, values: d, setUser: c } = f.useContext(hf),
      [u, h] = f.useState(!1),
      p = f.useCallback(() => {
        c((y) => ({ ...y, avatar: void 0 }));
      }, [c]),
      g = f.useCallback(
        (y) => {
          c((w) => ({ ...w, email: y.target.value }));
        },
        [c],
      ),
      m = f.useCallback(
        (y) => {
          c((w) => ({ ...w, nick: y.target.value }));
        },
        [c],
      ),
      v = f.useCallback(
        (y) => {
          c((w) => ({ ...w, status: y.target.value }));
        },
        [c],
      ),
      x = f.useCallback(
        (y) => {
          c((w) => ({ ...w, group_users: parseInt(y) }));
        },
        [c],
      ),
      j = f.useCallback(
        (y) => {
          c((w) => ({ ...w, password: y.target.value ? y.target.value : void 0 }));
        },
        [c],
      ),
      b = f.useCallback(
        (y) => {
          y.preventDefault(), c((w) => ({ ...w, two_fa_enabled: !1 }));
        },
        [c],
      ),
      _ = f.useCallback(
        (y) => {
          y.preventDefault(),
            t(!0),
            n(rm(d.id))
              .then(() => {
                e(), i({ message: o("user.calibrateStorageSuccess"), variant: "success", action: nt });
              })
              .finally(() => {
                t(!1);
              });
        },
        [n, d.id],
      );
    return r.jsxs(T, {
      component: "form",
      ref: l,
      onSubmit: (y) => y.preventDefault(),
      children: [
        r.jsx(Er, { open: u, onClose: () => h(!1) }),
        r.jsxs(le, {
          spacing: s ? 2 : 3,
          direction: s ? "column" : "row",
          children: [
            r.jsxs(le, {
              spacing: s ? 2 : 3,
              direction: "column",
              sx: { minWidth: 200 },
              children: [
                r.jsxs(P, {
                  title: o("user.avatar"),
                  noContainer: !0,
                  lgWidth: 12,
                  children: [
                    r.jsx(hr, {
                      square: !0,
                      overwriteTextSize: !0,
                      sx: { width: 150, height: 150 },
                      user: {
                        created_at: d.created_at,
                        nickname: d.nick ?? "",
                        id: d.avatar ? d.hash_id ?? "" : "dummy",
                      },
                    }),
                    r.jsx(Ve, {
                      in: !!d.avatar,
                      unmountOnExit: !0,
                      children: r.jsx(ke, {
                        sx: { mt: 1 },
                        onClick: p,
                        variant: "contained",
                        startIcon: r.jsx(ur, {}),
                        children: o("user.removeAvatar"),
                      }),
                    }),
                  ],
                }),
                r.jsx(P, {
                  title: o("user.id"),
                  noContainer: !0,
                  lgWidth: 12,
                  children: r.jsx(L, {
                    variant: "body2",
                    color: "text.secondary",
                    children: o("user.idValue", { id: d.id, hash_id: d.hash_id }),
                  }),
                }),
                r.jsxs(P, {
                  title: o("application:vas.quota"),
                  noContainer: !0,
                  lgWidth: 12,
                  children: [
                    r.jsx(T, {
                      sx: { mt: 1, width: "100%" },
                      children: r.jsx($j, { forceRow: !0, capacity: d.capacity }),
                    }),
                    r.jsx(L, {
                      variant: "body2",
                      sx: { mt: 1 },
                      children: r.jsx(Z, {
                        href: "#/",
                        onClick: _,
                        underline: "hover",
                        children: o("user.calibrateStorage"),
                      }),
                    }),
                  ],
                }),
                r.jsx(T, {
                  children: r.jsxs(ke, {
                    sx: { mt: 1 },
                    onClick: () => h(!0),
                    variant: "contained",
                    startIcon: r.jsx(Yy, {}),
                    children: [
                      o("user.openUserFiles"),
                      " ",
                      r.jsx(It, { label: "Pro", color: "primary", size: "small" }),
                    ],
                  }),
                }),
              ],
            }),
            r.jsx(bt, { orientation: "vertical", flexItem: !0 }),
            r.jsx(T, {
              sx: { flexGrow: 1 },
              children: r.jsxs(_t, {
                container: !0,
                spacing: s ? 2 : 3,
                children: [
                  r.jsx(P, {
                    title: o("user.email"),
                    noContainer: !0,
                    lgWidth: 6,
                    children: r.jsx(W, { fullWidth: !0, type: "email", value: d.email, required: !0, onChange: g }),
                  }),
                  r.jsx(P, {
                    title: o("user.nick"),
                    noContainer: !0,
                    lgWidth: 6,
                    children: r.jsx(W, { fullWidth: !0, value: d.nick, required: !0, onChange: m }),
                  }),
                  r.jsx(P, {
                    title: o("user.userStatus"),
                    noContainer: !0,
                    lgWidth: 6,
                    children: r.jsx($, {
                      fullWidth: !0,
                      children: r.jsx(Ue, {
                        value: d.status,
                        onChange: v,
                        children: Object.values(wn).map((y) =>
                          r.jsx(
                            he,
                            {
                              value: y,
                              children: r.jsx(de, {
                                slotProps: { primary: { variant: "body2" } },
                                children: o(`user.status_${y}`),
                              }),
                            },
                            y,
                          ),
                        ),
                      }),
                    }),
                  }),
                  r.jsx(P, {
                    title: o("user.group"),
                    noContainer: !0,
                    lgWidth: 6,
                    children: r.jsx(Zn, {
                      value: ((S = d.group_users) == null ? void 0 : S.toString()) ?? "",
                      onChange: x,
                      fullWidth: !0,
                    }),
                  }),
                  r.jsx(P, {
                    title: o("application:vas.points"),
                    noContainer: !0,
                    lgWidth: 6,
                    pro: !0,
                    children: r.jsx(W, {
                      slotProps: { htmlInput: { type: "number", min: 0, readOnly: !0 } },
                      fullWidth: !0,
                      value: 0,
                    }),
                  }),
                  r.jsx(P, {
                    title: o("user.password"),
                    noContainer: !0,
                    lgWidth: 6,
                    children: r.jsx(W, {
                      placeholder: o("user.passwordDes"),
                      fullWidth: !0,
                      value: d.password ?? "",
                      slotProps: { htmlInput: { minLength: 6 } },
                      onChange: j,
                      type: "password",
                    }),
                  }),
                  r.jsxs(P, {
                    title: o("user.originUserGroup"),
                    noContainer: !0,
                    lgWidth: 6,
                    pro: !0,
                    children: [
                      r.jsx(Zn, {
                        value: " ",
                        onChange: () => {},
                        emptyText: o("user.noOriginUserGroup"),
                        emptyValue: " ",
                        fullWidth: !0,
                      }),
                      r.jsx(A, { children: o("user.originUserGroupDes") }),
                    ],
                  }),
                  r.jsxs(P, {
                    title: o("user.groupExpired"),
                    noContainer: !0,
                    lgWidth: 6,
                    pro: !0,
                    children: [
                      r.jsx(W, { fullWidth: !0, value: "" }),
                      r.jsx(A, { children: o("user.groupExpiredDes") }),
                    ],
                  }),
                  r.jsx(P, {
                    title: o("user.createdAt"),
                    noContainer: !0,
                    lgWidth: 6,
                    children: r.jsx(W, {
                      fullWidth: !0,
                      value: d.created_at ?? "",
                      slotProps: { htmlInput: { readOnly: !0 } },
                    }),
                  }),
                  r.jsx(P, {
                    title: o("user.2FA"),
                    noContainer: !0,
                    lgWidth: 6,
                    children: r.jsxs(L, {
                      variant: "body2",
                      color: "text.secondary",
                      children: [
                        d.two_fa_enabled ? o("user.2FAEnabled") : o("user.notEnabled"),
                        d.two_fa_enabled &&
                          r.jsx(Z, {
                            href: "#/",
                            onClick: b,
                            sx: { ml: 1 },
                            underline: "hover",
                            children: o("user.reset2Fa"),
                          }),
                      ],
                    }),
                  }),
                ],
              }),
            }),
          ],
        }),
      ],
    });
  },
  hl = { id: 0, nick: "", email: "", edges: {} },
  hf = f.createContext({ values: { ...hl }, setUser: () => {} }),
  Sr = ({ open: e, onClose: t, userID: n, onUpdated: i }) => {
    const a = ge(),
      { t: s } = F("dashboard"),
      [o, l] = f.useState({ ...hl }),
      [d, c] = f.useState({ ...hl }),
      [u, h] = f.useState(!0),
      [p, g] = f.useState(!1),
      m = f.useRef(null),
      v = f.useMemo(() => JSON.stringify(d) !== JSON.stringify(o), [d, o]),
      x = f.useCallback(() => {
        n &&
          (h(!0),
          a(nm(n))
            .then((_) => {
              l(_), c(_);
            })
            .catch(() => {
              t();
            })
            .finally(() => {
              h(!1);
            }));
      }, [n]);
    f.useEffect(() => {
      x();
    }, [n]);
    const j = () => {
        c(o);
      },
      b = () => {
        if (m.current && !m.current.checkValidity()) {
          m.current.reportValidity();
          return;
        }
        const _ = { user: { ...d } };
        _.user.two_fa_enabled || (_.two_fa = "clear"),
          _.user.password && (_.password = _.user.password),
          g(!0),
          a(Tp(_))
            .then((S) => {
              l(S), c(S), i == null || i(S);
            })
            .finally(() => {
              g(!1);
            });
      };
    return r.jsx(hf.Provider, {
      value: { values: d, setUser: c, formRef: m },
      children: r.jsxs(st, {
        title: s("user.userDialogTitle"),
        dialogProps: { fullWidth: !0, maxWidth: "md", open: e, onClose: t },
        children: [
          r.jsx(gt, {
            children: r.jsx(yi, {
              children: r.jsx(Kt, {
                children: r.jsx(
                  Ht,
                  {
                    addEndListener: (_, S) => _.addEventListener("transitionend", S, !1),
                    classNames: "fade",
                    children: r.jsxs(T, {
                      children: [
                        u &&
                          r.jsx(T, {
                            sx: {
                              py: 15,
                              height: "100%",
                              display: "flex",
                              justifyContent: "center",
                              alignItems: "center",
                            },
                            children: r.jsx(St, {}),
                          }),
                        !u && r.jsx(cb, { setLoading: h, reload: x }),
                      ],
                    }),
                  },
                  `${u}`,
                ),
              }),
            }),
          }),
          r.jsx(Ve, {
            in: v,
            children: r.jsxs(Vs, {
              children: [
                r.jsx(Pe, { disabled: p, onClick: j, children: s("settings.revert") }),
                r.jsx(Pe, { loading: p, variant: "contained", onClick: b, children: s("settings.save") }),
              ],
            }),
          }),
        ],
      }),
    });
  },
  db = ({ entityID: e, open: t, onDelete: n, onClose: i }) => {
    const { t: a } = F("dashboard"),
      s = ge(),
      [o, l] = f.useState(!1),
      [d, c] = f.useState(!1),
      u = f.useCallback(() => {
        e &&
          (c == null || c(!0),
          s(im({ ids: e, force: o }))
            .then(() => {
              n == null || n(), i == null || i();
            })
            .finally(() => {
              c == null || c(!1);
            }));
      }, [e, o, c]);
    return r.jsx(st, {
      title: a("common:areYouSure"),
      showActions: !0,
      loading: d,
      showCancel: !0,
      onAccept: u,
      dialogProps: { open: t ?? !1, onClose: i, fullWidth: !0, maxWidth: "xs" },
      children: r.jsx(gt, {
        children: r.jsxs(le, {
          spacing: 2,
          children: [
            r.jsx(Pp, { children: a("entity.confirmBatchDelete", { num: e == null ? void 0 : e.length }) }),
            r.jsx(am, {
              defaultExpanded: o,
              title: a("application:modals.advanceOptions"),
              children: r.jsx(tf, {
                children: r.jsx(_r, {
                  title: a("entity.forceDeleteDes"),
                  children: r.jsx(Hn, {
                    control: r.jsx(it, { size: "small", onChange: (h) => l(h.target.checked), checked: o }),
                    label: a("entity.forceDelete"),
                  }),
                }),
              }),
            }),
          ],
        }),
      }),
    });
  },
  Js = ({ value: e, onChange: t, emptyValue: n, emptyText: i, simplified: a }) => {
    const { t: s } = F("dashboard"),
      o = ge(),
      [l, d] = f.useState([]),
      [c, u] = f.useState(!1),
      [h, p] = f.useState({}),
      g = (m) => {
        const {
          target: { value: v },
        } = m;
        t(v);
      };
    return (
      f.useEffect(() => {
        u(!0),
          o(Oc({ page: 1, page_size: 1e3, order_by: "id", order_direction: "asc" }))
            .then((m) => {
              d(m.policies), p(m.policies.reduce((v, x) => ((v[x.id] = x), v), {}));
            })
            .finally(() => {
              u(!1);
            });
      }, []),
      r.jsx($, {
        fullWidth: !0,
        children: r.jsxs(Ue, {
          value: e,
          required: !0,
          onChange: g,
          sx: { minHeight: 39 },
          renderValue: a
            ? (m) => {
                var v;
                return r.jsx(de, {
                  primary: (v = h[m]) == null ? void 0 : v.name,
                  slotProps: { primary: { variant: "body2" } },
                });
              }
            : void 0,
          disabled: c,
          MenuProps: {
            PaperProps: { sx: { maxWidth: 230 } },
            MenuListProps: { sx: { "& .MuiMenuItem-root": { whiteSpace: "normal" } } },
          },
          children: [
            l.length > 0 &&
              l.map((m) =>
                r.jsx(
                  he,
                  {
                    value: m.id,
                    children: r.jsxs(T, {
                      sx: { display: "flex", flexDirection: "column" },
                      children: [
                        r.jsx(L, { variant: "body2", fontWeight: 600, children: m.name }),
                        r.jsx(L, { variant: "caption", color: "textSecondary", children: s(`policy.${m.type}`) }),
                      ],
                    }),
                  },
                  m.id,
                ),
              ),
            n !== void 0 &&
              i &&
              r.jsx(he, {
                value: n,
                children: r.jsx(de, {
                  primary: r.jsx("em", { children: s(i) }),
                  slotProps: { primary: { variant: "body2" } },
                }),
              }),
          ],
        }),
      })
    );
  },
  ub = () => {
    var o, l, d, c;
    const { t: e } = F("dashboard"),
      { setFile: t, values: n } = f.useContext(Ea),
      i = (u) => {
        t((h) => {
          var p, g;
          return {
            ...h,
            edges: {
              ...h.edges,
              direct_links:
                (g = (p = h.edges) == null ? void 0 : p.direct_links) == null ? void 0 : g.filter((m) => m.id !== u),
            },
          };
        });
      },
      a = (u) => {
        var h;
        window.open(((h = n == null ? void 0 : n.direct_link_map) == null ? void 0 : h[u]) ?? "", "_blank");
      },
      s = f.useCallback(
        (u) => {
          var p;
          return new URL(((p = n == null ? void 0 : n.direct_link_map) == null ? void 0 : p[u]) ?? "").pathname;
        },
        [n == null ? void 0 : n.direct_link_map],
      );
    return r.jsx(ot, {
      component: xt,
      sx: { maxHeight: "300px" },
      children: r.jsxs(lt, {
        size: "small",
        stickyHeader: !0,
        sx: { width: "100%", tableLayout: "fixed" },
        children: [
          r.jsx(ct, {
            children: r.jsxs(je, {
              children: [
                r.jsx(M, { width: 90, children: e("group.#") }),
                r.jsx(M, { width: 200, children: e("file.name") }),
                r.jsx(M, { width: 100, children: e("file.downloads") }),
                r.jsx(M, { width: 100, children: e("file.speed") }),
                r.jsx(M, { width: 150, children: e("file.directLinkId") }),
                r.jsx(M, { width: 200, children: e("file.createdAt") }),
                r.jsx(M, { width: 100, align: "right" }),
              ],
            }),
          }),
          r.jsxs(dt, {
            children: [
              (l = (o = n == null ? void 0 : n.edges) == null ? void 0 : o.direct_links) == null
                ? void 0
                : l.map((u, h) => {
                    const p = s(u.id);
                    return r.jsxs(
                      je,
                      {
                        hover: !0,
                        children: [
                          r.jsx(pe, { children: r.jsx(be, { variant: "inherit", children: u.id }) }),
                          r.jsx(pe, { children: r.jsx(be, { variant: "inherit", children: u.name ?? "" }) }),
                          r.jsx(pe, { children: r.jsx(be, { variant: "inherit", children: u.downloads ?? 0 }) }),
                          r.jsx(pe, {
                            children: r.jsx(be, { variant: "inherit", children: u.speed ? `${Gt(u.speed)}/s` : "-" }),
                          }),
                          r.jsx(pe, {
                            children: r.jsx(_r, { title: p, children: r.jsx(be, { variant: "inherit", children: p }) }),
                          }),
                          r.jsx(pe, {
                            children: r.jsx(be, {
                              variant: "inherit",
                              children: r.jsx(sr, {
                                datetime: u.created_at ?? "",
                                variant: "inherit",
                                timeAgoThreshold: 0,
                              }),
                            }),
                          }),
                          r.jsxs(pe, {
                            align: "right",
                            children: [
                              r.jsx($e, {
                                size: "small",
                                onClick: () => a(u.id),
                                children: r.jsx(qs, { fontSize: "small" }),
                              }),
                              r.jsx($e, {
                                size: "small",
                                onClick: () => i(u.id),
                                children: r.jsx(ur, { fontSize: "small" }),
                              }),
                            ],
                          }),
                        ],
                      },
                      u.id,
                    );
                  }),
              !((c = (d = n == null ? void 0 : n.edges) == null ? void 0 : d.direct_links) != null && c.length) &&
                r.jsx(je, { children: r.jsx(we, { colSpan: 6, align: "center", children: e("file.noRecords") }) }),
            ],
          }),
        ],
      }),
    });
  },
  hb = () => {
    var g, m, v, x;
    const { t: e } = F("dashboard"),
      { setFile: t, values: n } = f.useContext(Ea),
      [i, a] = f.useState(!1),
      [s, o] = f.useState(null),
      [l, d] = f.useState(!1),
      [c, u] = f.useState(null),
      h = (j) => (b) => {
        b.stopPropagation(), b.preventDefault(), o(j), a(!0);
      },
      p = (j) => (b) => {
        b.stopPropagation(), b.preventDefault(), u(j), d(!0);
      };
    return r.jsxs(ot, {
      component: xt,
      sx: { maxHeight: "300px" },
      children: [
        r.jsx(Sr, { open: i, onClose: () => a(!1), userID: s ?? void 0 }),
        r.jsx(Zs, { open: l, onClose: () => d(!1), entityID: c ?? void 0 }),
        r.jsxs(lt, {
          size: "small",
          stickyHeader: !0,
          sx: { width: "100%", tableLayout: "fixed" },
          children: [
            r.jsx(ct, {
              children: r.jsxs(je, {
                children: [
                  r.jsx(M, { width: 90, children: e("group.#") }),
                  r.jsx(M, { width: 100, children: e("file.blobType") }),
                  r.jsx(M, { width: 100, children: e("file.size") }),
                  r.jsx(M, { width: 100, children: e("file.storagePolicy") }),
                  r.jsx(M, { width: 200, children: e("file.source") }),
                  r.jsx(M, { width: 100, children: e("application:fileManager.encryption") }),
                  r.jsx(M, { width: 200, children: e("file.createdAt") }),
                  r.jsx(M, { width: 150, children: e("file.creator") }),
                ],
              }),
            }),
            r.jsxs(dt, {
              children: [
                (m = (g = n == null ? void 0 : n.edges) == null ? void 0 : g.entities) == null
                  ? void 0
                  : m.map((j, b) => {
                      var _, S, y, w, C, O, k, D, E, I, z, R, B, V;
                      return r.jsxs(
                        je,
                        {
                          hover: !0,
                          sx: { cursor: "pointer" },
                          onClick: p(j.id ?? 0),
                          children: [
                            r.jsx(pe, { children: r.jsx(be, { variant: "inherit", children: j.id }) }),
                            r.jsx(pe, {
                              children: r.jsx(be, { variant: "inherit", children: e(Hs[j.type ?? Gn.version]) }),
                            }),
                            r.jsx(pe, { children: r.jsx(be, { variant: "inherit", children: Gt(j.size ?? 0) }) }),
                            r.jsx(pe, {
                              children: r.jsx(be, {
                                variant: "inherit",
                                children: r.jsx(Z, {
                                  sx: { whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis" },
                                  component: zt,
                                  to: `/admin/policy/${
                                    (S = (_ = j.edges) == null ? void 0 : _.storage_policy) == null ? void 0 : S.id
                                  }`,
                                  children:
                                    ((w = (y = j.edges) == null ? void 0 : y.storage_policy) == null
                                      ? void 0
                                      : w.name) ?? "",
                                }),
                              }),
                            }),
                            r.jsx(pe, {
                              children: r.jsx(_r, {
                                title: j.source ?? "",
                                children: r.jsx(be, { variant: "inherit", children: j.source ?? "" }),
                              }),
                            }),
                            r.jsx(pe, {
                              children: r.jsx(kc, {
                                flexWrap: !1,
                                simplified: !0,
                                status: {
                                  status:
                                    (O = (C = j.props) == null ? void 0 : C.encrypt_metadata) != null && O.algorithm
                                      ? "full"
                                      : "none",
                                  cipher:
                                    (D = (k = j.props) == null ? void 0 : k.encrypt_metadata) != null && D.algorithm
                                      ? [
                                          (I = (E = j.props) == null ? void 0 : E.encrypt_metadata) == null
                                            ? void 0
                                            : I.algorithm,
                                        ]
                                      : [],
                                },
                              }),
                            }),
                            r.jsx(pe, {
                              children: r.jsx(be, {
                                variant: "inherit",
                                children: r.jsx(sr, {
                                  datetime: j.created_at ?? "",
                                  variant: "inherit",
                                  timeAgoThreshold: 0,
                                }),
                              }),
                            }),
                            r.jsx(pe, {
                              children: r.jsx(be, {
                                variant: "inherit",
                                children: r.jsx(Z, {
                                  underline: "hover",
                                  sx: { whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis" },
                                  href: "#/",
                                  onClick: h(
                                    ((R = (z = j.edges) == null ? void 0 : z.user) == null ? void 0 : R.id) ?? 0,
                                  ),
                                  children:
                                    ((V = (B = j.edges) == null ? void 0 : B.user) == null ? void 0 : V.nick) ?? "",
                                }),
                              }),
                            }),
                          ],
                        },
                        j.id,
                      );
                    }),
                !((x = (v = n == null ? void 0 : n.edges) == null ? void 0 : v.entities) != null && x.length) &&
                  r.jsx(je, { children: r.jsx(we, { colSpan: 6, align: "center", children: e("file.noEntities") }) }),
              ],
            }),
          ],
        }),
      ],
    });
  },
  pb = () => {
    var l, d, c, u;
    const { t: e } = F("dashboard"),
      { setFile: t, values: n } = f.useContext(Ea),
      i = (h, p) => {
        t((g) => {
          var m, v;
          return {
            ...g,
            edges: {
              ...g.edges,
              metadata:
                (v = (m = g.edges) == null ? void 0 : m.metadata) == null
                  ? void 0
                  : v.map((x, j) => (j === h ? { ...x, name: p } : x)),
            },
          };
        });
      },
      a = (h, p) => {
        t((g) => {
          var m, v;
          return {
            ...g,
            edges: {
              ...g.edges,
              metadata:
                (v = (m = g.edges) == null ? void 0 : m.metadata) == null
                  ? void 0
                  : v.map((x, j) => (j === h ? { ...x, value: p } : x)),
            },
          };
        });
      },
      s = (h, p) => {
        t((g) => {
          var m, v;
          return {
            ...g,
            edges: {
              ...g.edges,
              metadata:
                (v = (m = g.edges) == null ? void 0 : m.metadata) == null
                  ? void 0
                  : v.map((x, j) => (j === h ? { ...x, is_public: p ? !0 : void 0 } : x)),
            },
          };
        });
      },
      o = (h) => {
        t((p) => {
          var g, m;
          return {
            ...p,
            edges: {
              ...p.edges,
              metadata:
                (m = (g = p.edges) == null ? void 0 : g.metadata) == null ? void 0 : m.filter((v) => v.id !== h),
            },
          };
        });
      };
    return r.jsx(ot, {
      component: xt,
      sx: { maxHeight: "300px" },
      children: r.jsxs(lt, {
        size: "small",
        stickyHeader: !0,
        sx: { width: "100%", tableLayout: "fixed" },
        children: [
          r.jsx(ct, {
            children: r.jsxs(je, {
              children: [
                r.jsx(M, { width: 150, children: e("file.key") }),
                r.jsx(M, { width: 150, children: e("file.value") }),
                r.jsx(M, { width: 50, children: e("file.isPublic") }),
                r.jsx(M, { width: 90, children: e("group.#") }),
                r.jsx(M, { width: 60, align: "right" }),
              ],
            }),
          }),
          r.jsxs(dt, {
            children: [
              (d = (l = n == null ? void 0 : n.edges) == null ? void 0 : l.metadata) == null
                ? void 0
                : d.map((h, p) =>
                    r.jsxs(
                      je,
                      {
                        hover: !0,
                        children: [
                          r.jsx(pe, {
                            children: r.jsx(W, {
                              fullWidth: !0,
                              value: h.name,
                              required: !0,
                              onChange: (g) => i(p, g.target.value),
                            }),
                          }),
                          r.jsx(pe, {
                            children: r.jsx(W, {
                              fullWidth: !0,
                              value: h.value,
                              onChange: (g) => a(p, g.target.value),
                            }),
                          }),
                          r.jsx(pe, {
                            children: r.jsx(it, {
                              size: "small",
                              disableRipple: !0,
                              color: "primary",
                              checked: !!h.is_public,
                              onChange: (g) => s(p, g.target.checked),
                            }),
                          }),
                          r.jsx(pe, { children: r.jsx(be, { variant: "inherit", children: h.id }) }),
                          r.jsx(pe, {
                            align: "right",
                            children: r.jsx($e, {
                              size: "small",
                              onClick: () => o(h.id),
                              children: r.jsx(or, { fontSize: "small" }),
                            }),
                          }),
                        ],
                      },
                      h.id,
                    ),
                  ),
              !((u = (c = n == null ? void 0 : n.edges) == null ? void 0 : c.metadata) != null && u.length) &&
                r.jsx(je, { children: r.jsx(we, { colSpan: 6, align: "center", children: e("file.noMetadata") }) }),
            ],
          }),
        ],
      }),
    });
  },
  fb = et(es)(({ theme: e }) => ({
    minHeight: "40px",
    border: `1px solid ${e.palette.mode === "light" ? "rgba(0, 0, 0, 0.23)" : "rgba(255, 255, 255, 0.23)"}`,
  })),
  gb = () => {
    var b, _, S, y, w, C, O, k, D;
    const e = ge(),
      t = Ge(),
      n = $t(t.breakpoints.down("md")),
      { t: i } = F("dashboard"),
      { formRef: a, values: s, setFile: o } = f.useContext(Ea),
      [l, d] = f.useState(!1),
      [c, u] = f.useState(0),
      [h, p] = f.useState(!0),
      [g, m] = f.useState(null);
    f.useEffect(() => {
      p(!0),
        e(sm({ id: s.file_hash_id }, !0))
          .then((E) => {
            const I = new $p(E.path);
            m(I.parent().toString());
          })
          .catch(() => {
            m(null);
          })
          .finally(() => {
            p(!1);
          });
    }, [s.id]);
    const v = f.useCallback(
        (E) => {
          o((I) => ({ ...I, name: E.target.value }));
        },
        [o],
      ),
      x = (E) => {
        var I, z;
        E.preventDefault(),
          d(!0),
          u(((z = (I = s == null ? void 0 : s.edges) == null ? void 0 : I.owner) == null ? void 0 : z.id) ?? 0);
      },
      j = f.useMemo(() => {
        var E, I;
        return Gt(
          ((I = (E = s == null ? void 0 : s.edges) == null ? void 0 : E.entities) == null
            ? void 0
            : I.reduce((z, R) => z + (R.size ?? 0), 0)) ?? 0,
        );
      }, [(b = s == null ? void 0 : s.edges) == null ? void 0 : b.entities]);
    return r.jsxs(r.Fragment, {
      children: [
        r.jsx(Sr, { open: l, onClose: () => d(!1), userID: c }),
        r.jsx(T, {
          component: "form",
          ref: a,
          onSubmit: (E) => E.preventDefault(),
          children: r.jsxs(_t, {
            container: !0,
            spacing: n ? 2 : 3,
            alignItems: "stretch",
            children: [
              r.jsx(P, {
                title: i("file.id"),
                noContainer: !0,
                lgWidth: 2,
                children: r.jsx(L, { variant: "body2", color: "textSecondary", children: s.id }),
              }),
              r.jsx(P, {
                title: i("file.size"),
                noContainer: !0,
                lgWidth: 2,
                children: r.jsx(L, { variant: "body2", color: "textSecondary", children: Gt(s.size ?? 0) }),
              }),
              r.jsx(P, {
                title: i("file.sizeUsed"),
                noContainer: !0,
                lgWidth: 2,
                children: r.jsx(L, { variant: "body2", color: "textSecondary", children: j }),
              }),
              r.jsx(P, {
                title: i("file.shareLink"),
                noContainer: !0,
                lgWidth: 2,
                children: r.jsx(L, {
                  variant: "body2",
                  color: "textSecondary",
                  children: r.jsx(X, {
                    i18nKey: "file.shareLinkNum",
                    components: [
                      r.jsx(
                        Z,
                        { component: zt, to: `/admin/share?file=${s == null ? void 0 : s.id}`, underline: "hover" },
                        0,
                      ),
                    ],
                    ns: "dashboard",
                    values: { num: ((S = (_ = s.edges) == null ? void 0 : _.shares) == null ? void 0 : S.length) ?? 0 },
                  }),
                }),
              }),
              r.jsx(P, {
                title: i("file.uploader"),
                noContainer: !0,
                lgWidth: 4,
                children: r.jsx(be, {
                  variant: "body2",
                  color: "textSecondary",
                  children: r.jsxs(T, {
                    sx: { display: "flex", alignItems: "center", gap: 1 },
                    children: [
                      r.jsx(hr, {
                        sx: { width: 24, height: 24 },
                        overwriteTextSize: !0,
                        user: {
                          id: (s == null ? void 0 : s.user_hash_id) ?? "",
                          nickname:
                            ((w = (y = s == null ? void 0 : s.edges) == null ? void 0 : y.owner) == null
                              ? void 0
                              : w.nick) ?? "",
                          created_at:
                            ((O = (C = s == null ? void 0 : s.edges) == null ? void 0 : C.owner) == null
                              ? void 0
                              : O.created_at) ?? "",
                        },
                      }),
                      r.jsx(be, {
                        variant: "inherit",
                        children: r.jsx(Z, {
                          sx: { whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis" },
                          onClick: x,
                          underline: "hover",
                          href: "#/",
                          children:
                            (D = (k = s == null ? void 0 : s.edges) == null ? void 0 : k.owner) == null
                              ? void 0
                              : D.nick,
                        }),
                      }),
                    ],
                  }),
                }),
              }),
              r.jsx(P, {
                title: i("file.name"),
                noContainer: !0,
                lgWidth: 6,
                children: r.jsx(W, { fullWidth: !0, value: s.name, required: !0, onChange: v }),
              }),
              r.jsxs(P, {
                title: i("application:fileManager.parentFolder"),
                noContainer: !0,
                lgWidth: 3,
                children: [
                  !h &&
                    r.jsxs(r.Fragment, {
                      children: [
                        g && r.jsx(fb, { variant: "outlined", simplifiedFile: { path: g, type: gn.folder } }),
                        !g && "-",
                      ],
                    }),
                  h && r.jsx(ce, { variant: "text", width: 100, height: 40 }),
                ],
              }),
              r.jsx(P, {
                title: i("file.primaryStoragePolicy"),
                noContainer: !0,
                lgWidth: 3,
                pro: !0,
                children: r.jsx(Js, { simplified: !0, value: s.storage_policy_files ?? 0, onChange: () => {} }),
              }),
              r.jsx(P, { title: i("file.metadata"), noContainer: !0, lgWidth: 6, children: r.jsx(pb, {}) }),
              r.jsx(P, { title: i("file.blobs"), noContainer: !0, lgWidth: 6, children: r.jsx(hb, {}) }),
              r.jsx(P, { title: i("file.directLinks"), noContainer: !0, lgWidth: 12, children: r.jsx(ub, {}) }),
            ],
          }),
        }),
      ],
    });
  },
  pl = { id: 0, name: "", size: 0, edges: {} },
  Ea = f.createContext({ values: { ...pl }, setFile: () => {} }),
  Qs = ({ open: e, onClose: t, fileID: n, onUpdated: i }) => {
    const a = ge(),
      { t: s } = F("dashboard"),
      [o, l] = f.useState({ ...pl }),
      [d, c] = f.useState({ ...pl }),
      [u, h] = f.useState(!0),
      [p, g] = f.useState(!1),
      m = f.useRef(null),
      v = f.useMemo(() => JSON.stringify(d) !== JSON.stringify(o), [d, o]);
    f.useEffect(() => {
      !n ||
        !e ||
        (h(!0),
        a(om(n))
          .then((b) => {
            l(b), c(b);
          })
          .catch(() => {
            t();
          })
          .finally(() => {
            h(!1);
          }));
    }, [e]);
    const x = () => {
        c(o);
      },
      j = () => {
        if (m.current && !m.current.checkValidity()) {
          m.current.reportValidity();
          return;
        }
        const b = { file: { ...d } };
        g(!0),
          a(lm(b))
            .then((_) => {
              l(_), c(_), i == null || i(_);
            })
            .finally(() => {
              g(!1);
            });
      };
    return r.jsx(Ea.Provider, {
      value: { values: d, setFile: c, formRef: m },
      children: r.jsxs(st, {
        title: s("file.fileDialogTitle"),
        dialogProps: { fullWidth: !0, maxWidth: "md", open: e, onClose: t },
        children: [
          r.jsx(gt, {
            children: r.jsx(yi, {
              children: r.jsx(Kt, {
                children: r.jsx(
                  Ht,
                  {
                    addEndListener: (b, _) => b.addEventListener("transitionend", _, !1),
                    classNames: "fade",
                    children: r.jsxs(T, {
                      children: [
                        u &&
                          r.jsx(T, {
                            sx: {
                              py: 15,
                              height: "100%",
                              display: "flex",
                              justifyContent: "center",
                              alignItems: "center",
                            },
                            children: r.jsx(St, {}),
                          }),
                        !u && r.jsx(gb, {}),
                      ],
                    }),
                  },
                  `${u}`,
                ),
              }),
            }),
          }),
          r.jsx(Ve, {
            in: v,
            children: r.jsxs(Vs, {
              children: [
                r.jsx(Pe, { disabled: p, onClick: x, children: s("settings.revert") }),
                r.jsx(Pe, { loading: p, variant: "contained", onClick: j, children: s("settings.save") }),
              ],
            }),
          }),
        ],
      }),
    });
  },
  xb = ({ files: e, userHashIDMap: t }) => {
    const { t: n } = F("dashboard"),
      [i, a] = f.useState(!1),
      [s, o] = f.useState(0),
      [l, d] = f.useState(!1),
      [c, u] = f.useState(0),
      h = (g) => (m) => {
        m.stopPropagation(), m.preventDefault(), a(!0), o(g);
      },
      p = (g) => (m) => {
        m.stopPropagation(), m.preventDefault(), d(!0), u(g);
      };
    return r.jsxs(r.Fragment, {
      children: [
        r.jsx(Sr, { open: i, onClose: () => a(!1), userID: s }),
        r.jsx(Qs, { open: l, onClose: () => d(!1), fileID: c }),
        r.jsx(ot, {
          component: xt,
          sx: { maxHeight: "300px" },
          children: r.jsxs(lt, {
            size: "small",
            stickyHeader: !0,
            sx: { width: "100%", tableLayout: "fixed" },
            children: [
              r.jsx(ct, {
                children: r.jsxs(je, {
                  children: [
                    r.jsx(M, { width: 90, children: n("group.#") }),
                    r.jsx(M, { width: 200, children: n("file.name") }),
                    r.jsx(M, { width: 100, children: n("file.size") }),
                    r.jsx(M, { width: 100, children: n("file.uploader") }),
                    r.jsx(M, { width: 200, children: n("file.createdAt") }),
                  ],
                }),
              }),
              r.jsxs(dt, {
                children: [
                  e == null
                    ? void 0
                    : e.map((g, m) => {
                        var v, x, j, b, _, S;
                        return r.jsxs(
                          je,
                          {
                            hover: !0,
                            sx: { cursor: "pointer" },
                            onClick: p(g.id ?? 0),
                            children: [
                              r.jsx(pe, { children: r.jsx(be, { variant: "inherit", children: g.id }) }),
                              r.jsx(M, {
                                children: r.jsxs(T, {
                                  sx: { display: "flex", alignItems: "center", gap: 1 },
                                  children: [
                                    r.jsx(Gs, { name: g.name ?? "", fileType: gn.file }),
                                    r.jsx(be, { variant: "inherit", children: g.name }),
                                  ],
                                }),
                              }),
                              r.jsx(pe, { children: r.jsx(be, { variant: "inherit", children: Gt(g.size ?? 0) }) }),
                              r.jsx(M, {
                                children: r.jsxs(T, {
                                  sx: { display: "flex", alignItems: "center", gap: 1 },
                                  children: [
                                    r.jsx(hr, {
                                      sx: { width: 24, height: 24 },
                                      overwriteTextSize: !0,
                                      user: {
                                        id: t[g.owner_id ?? 0] ?? "",
                                        nickname:
                                          ((x = (v = g.edges) == null ? void 0 : v.owner) == null ? void 0 : x.nick) ??
                                          "",
                                        created_at:
                                          ((b = (j = g.edges) == null ? void 0 : j.owner) == null
                                            ? void 0
                                            : b.created_at) ?? "",
                                      },
                                    }),
                                    r.jsx(be, {
                                      variant: "inherit",
                                      children: r.jsx(Z, {
                                        sx: { whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis" },
                                        onClick: h(g.owner_id ?? 0),
                                        underline: "hover",
                                        href: "#/",
                                        children:
                                          (S = (_ = g.edges) == null ? void 0 : _.owner) == null ? void 0 : S.nick,
                                      }),
                                    }),
                                  ],
                                }),
                              }),
                              r.jsx(pe, {
                                children: r.jsx(be, {
                                  variant: "inherit",
                                  children: r.jsx(sr, {
                                    datetime: g.created_at ?? "",
                                    variant: "inherit",
                                    timeAgoThreshold: 0,
                                  }),
                                }),
                              }),
                            ],
                          },
                          g.id,
                        );
                      }),
                  !(e != null && e.length) &&
                    r.jsx(je, { children: r.jsx(we, { colSpan: 5, align: "center", children: n("file.noRecords") }) }),
                ],
              }),
            ],
          }),
        }),
      ],
    });
  },
  mb = ({ values: e }) => {
    var c, u, h, p, g, m, v, x, j, b, _, S, y, w, C, O, k;
    ge();
    const t = Ge(),
      n = $t(t.breakpoints.down("md")),
      { t: i } = F("dashboard"),
      [a, s] = f.useState(!1),
      [o, l] = f.useState(0),
      d = (D) => {
        var E, I;
        D.preventDefault(),
          s(!0),
          l(((I = (E = e == null ? void 0 : e.edges) == null ? void 0 : E.user) == null ? void 0 : I.id) ?? 0);
      };
    return r.jsxs(r.Fragment, {
      children: [
        r.jsx(Sr, { open: a, onClose: () => s(!1), userID: o }),
        r.jsx(T, {
          children: r.jsxs(_t, {
            container: !0,
            spacing: n ? 2 : 3,
            alignItems: "stretch",
            children: [
              r.jsx(P, {
                title: i("file.id"),
                noContainer: !0,
                lgWidth: 2,
                children: r.jsx(L, { variant: "body2", color: "textSecondary", children: e.id }),
              }),
              r.jsx(P, {
                title: i("file.size"),
                noContainer: !0,
                lgWidth: 2,
                children: r.jsx(L, { variant: "body2", color: "textSecondary", children: Gt(e.size ?? 0) }),
              }),
              r.jsx(P, {
                title: i("file.blobType"),
                noContainer: !0,
                lgWidth: 2,
                children: r.jsx(L, { variant: "body2", color: "textSecondary", children: i(Hs[e.type ?? Gn.version]) }),
              }),
              r.jsx(P, {
                title: i("entity.refenenceCount"),
                noContainer: !0,
                lgWidth: 2,
                children: r.jsx(L, { variant: "body2", color: "textSecondary", children: e.reference_count ?? 0 }),
              }),
              r.jsx(P, {
                title: i("file.creator"),
                noContainer: !0,
                lgWidth: 4,
                children: r.jsx(be, {
                  variant: "body2",
                  color: "textSecondary",
                  children: r.jsxs(T, {
                    sx: { display: "flex", alignItems: "center", gap: 1 },
                    children: [
                      r.jsx(hr, {
                        sx: { width: 24, height: 24 },
                        overwriteTextSize: !0,
                        user: {
                          id: (e == null ? void 0 : e.user_hash_id) ?? "",
                          nickname:
                            ((u = (c = e == null ? void 0 : e.edges) == null ? void 0 : c.user) == null
                              ? void 0
                              : u.nick) ?? "",
                          created_at:
                            ((p = (h = e == null ? void 0 : e.edges) == null ? void 0 : h.user) == null
                              ? void 0
                              : p.created_at) ?? "",
                        },
                      }),
                      r.jsx(be, {
                        variant: "inherit",
                        children: r.jsx(Z, {
                          sx: { whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis" },
                          onClick: d,
                          underline: "hover",
                          href: "#/",
                          children:
                            (m = (g = e == null ? void 0 : e.edges) == null ? void 0 : g.user) == null
                              ? void 0
                              : m.nick,
                        }),
                      }),
                    ],
                  }),
                }),
              }),
              r.jsx(P, {
                title: i("entity.uploadSessionID"),
                noContainer: !0,
                lgWidth: 4,
                children: r.jsx(L, {
                  variant: "body2",
                  color: "textSecondary",
                  sx: { wordBreak: "break-all" },
                  children: e.upload_session_id ?? "-",
                }),
              }),
              r.jsx(P, {
                title: i("file.source"),
                noContainer: !0,
                lgWidth: 4,
                children: r.jsx(L, {
                  variant: "body2",
                  color: "textSecondary",
                  sx: { wordBreak: "break-all" },
                  children: e.source ?? "-",
                }),
              }),
              r.jsx(P, {
                title: i("file.storagePolicy"),
                noContainer: !0,
                lgWidth: 4,
                children: r.jsx(L, {
                  variant: "body2",
                  color: "textSecondary",
                  children: r.jsx(Z, {
                    component: zt,
                    underline: "hover",
                    to: `/admin/policy/${
                      (x = (v = e.edges) == null ? void 0 : v.storage_policy) == null ? void 0 : x.id
                    }`,
                    target: "_blank",
                    children: (b = (j = e.edges) == null ? void 0 : j.storage_policy) == null ? void 0 : b.name,
                  }),
                }),
              }),
              r.jsx(P, {
                title: i("application:fileManager.encryption"),
                noContainer: !0,
                lgWidth: 4,
                children: r.jsx(kc, {
                  status: {
                    status:
                      (S = (_ = e.props) == null ? void 0 : _.encrypt_metadata) != null && S.algorithm
                        ? "full"
                        : "none",
                    cipher:
                      (w = (y = e.props) == null ? void 0 : y.encrypt_metadata) != null && w.algorithm
                        ? [(O = (C = e.props) == null ? void 0 : C.encrypt_metadata) == null ? void 0 : O.algorithm]
                        : [],
                  },
                }),
              }),
              r.jsx(P, {
                title: i("entity.referredFiles"),
                noContainer: !0,
                lgWidth: 12,
                children: r.jsx(xb, {
                  files: ((k = e.edges) == null ? void 0 : k.file) ?? [],
                  userHashIDMap: e.user_hash_id_map ?? {},
                }),
              }),
            ],
          }),
        }),
      ],
    });
  },
  Zs = ({ open: e, onClose: t, entityID: n }) => {
    const i = ge(),
      { t: a } = F("dashboard"),
      [s, o] = f.useState({ edges: {}, id: 0 }),
      [l, d] = f.useState(!0);
    return (
      f.useEffect(() => {
        !n ||
          !e ||
          (d(!0),
          i(cm(n))
            .then((c) => {
              o(c);
            })
            .catch(() => {
              t();
            })
            .finally(() => {
              d(!1);
            }));
      }, [e]),
      r.jsx(st, {
        title: a("entity.entityDialogTitle"),
        dialogProps: { fullWidth: !0, maxWidth: "md", open: e, onClose: t },
        children: r.jsx(gt, {
          children: r.jsx(yi, {
            children: r.jsx(Kt, {
              children: r.jsx(
                Ht,
                {
                  addEndListener: (c, u) => c.addEventListener("transitionend", u, !1),
                  classNames: "fade",
                  children: r.jsxs(T, {
                    children: [
                      l &&
                        r.jsx(T, {
                          sx: {
                            py: 15,
                            height: "100%",
                            display: "flex",
                            justifyContent: "center",
                            alignItems: "center",
                          },
                          children: r.jsx(St, {}),
                        }),
                      !l && r.jsx(mb, { values: s }),
                    ],
                  }),
                },
                `${l}`,
              ),
            }),
          }),
        }),
      })
    );
  },
  vb = ({
    storagePolicy: e,
    setStoragePolicy: t,
    owner: n,
    setOwner: i,
    type: a,
    setType: s,
    clearFilters: o,
    onClose: l,
    open: d,
    ...c
  }) => {
    const { t: u } = F("dashboard"),
      [h, p] = f.useState(e),
      [g, m] = f.useState(n),
      [v, x] = f.useState(a);
    f.useEffect(() => {
      d && (p(e), m(n), x(a));
    }, [d]);
    const j = () => {
        t(h), i(g), s(v), l == null || l({}, "backdropClick");
      },
      b = () => {
        p(""), m(""), x(void 0), o(), l == null || l({}, "backdropClick");
      };
    return r.jsx(ka, {
      anchorOrigin: { vertical: "bottom", horizontal: "left" },
      transformOrigin: { vertical: "top", horizontal: "left" },
      slotProps: { paper: { sx: { p: 2, width: 300, maxWidth: "100%" } } },
      onClose: l,
      open: d,
      ...c,
      children: r.jsxs(le, {
        spacing: 2,
        children: [
          r.jsx(P, {
            title: u("file.uploaderID"),
            noContainer: !0,
            lgWidth: 12,
            children: r.jsx(W, {
              fullWidth: !0,
              value: g,
              onChange: (_) => m(_.target.value),
              placeholder: u("user.emptyNoFilter"),
              size: "small",
            }),
          }),
          r.jsx(P, {
            title: u("file.blobType"),
            noContainer: !0,
            lgWidth: 12,
            children: r.jsxs(Ue, {
              fullWidth: !0,
              displayEmpty: !0,
              value: v ?? -1,
              onChange: (_) => x(_.target.value === -1 ? void 0 : _.target.value),
              children: [
                [Gn.version, Gn.thumbnail, Gn.live_photo].map((_) =>
                  r.jsx(
                    he,
                    {
                      value: _,
                      children: r.jsx(de, { primary: u(Hs[_]), slotProps: { primary: { variant: "body2" } } }),
                    },
                    _,
                  ),
                ),
                r.jsx(he, {
                  value: -1,
                  children: r.jsx(de, {
                    primary: r.jsx("em", { children: u("user.all") }),
                    slotProps: { primary: { variant: "body2" } },
                  }),
                }),
              ],
            }),
          }),
          r.jsx(P, {
            title: u("file.storagePolicy"),
            noContainer: !0,
            lgWidth: 12,
            children: r.jsx(Js, {
              value: h == "" ? -1 : parseInt(h),
              onChange: (_) => p(_.toString()),
              emptyValue: -1,
              emptyText: u("user.all"),
            }),
          }),
          r.jsxs(T, {
            display: "flex",
            justifyContent: "space-between",
            children: [
              r.jsx(Pe, { variant: "outlined", size: "small", onClick: b, children: u("user.reset") }),
              r.jsx(Pe, { variant: "contained", size: "small", onClick: j, children: u("user.apply") }),
            ],
          }),
        ],
      }),
    });
  };
function yb(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M3 5.75A.75.75 0 0 1 3.75 5c2.663 0 5.258-.943 7.8-2.85a.75.75 0 0 1 .9 0C14.992 4.057 17.587 5 20.25 5a.75.75 0 0 1 .75.75V11c0 .181-.004.36-.012.539a3.499 3.499 0 0 0-1.488-.894V6.478c-2.577-.152-5.08-1.09-7.5-2.8c-2.42 1.71-4.923 2.648-7.5 2.8V11c0 4.256 2.453 7.379 7.5 9.442a21.01 21.01 0 0 0 1-.439V21.5c0 .05.001.098.004.146c-.238.104-.48.204-.73.302a.75.75 0 0 1-.549 0C5.958 19.676 3 16 3 11zM16 15v-1a2.5 2.5 0 0 1 5 0v1h.5a1.5 1.5 0 0 1 1.5 1.5v5a1.5 1.5 0 0 1-1.5 1.5h-6a1.5 1.5 0 0 1-1.5-1.5v-5a1.5 1.5 0 0 1 1.5-1.5zm1.5-1v1h2v-1a1 1 0 1 0-2 0m2 5a1 1 0 1 0-2 0a1 1 0 0 0 2 0",
    }),
  });
}
const Wo = ({
    entity: e,
    loading: t,
    selected: n,
    onDelete: i,
    onSelect: a,
    openUserDialog: s,
    openEntityDialog: o,
  }) => {
    var j, b, _, S, y, w, C, O, k, D, E, I, z, R;
    const { t: l } = F("dashboard"),
      d = ge(),
      [c, u] = f.useState(!1),
      [h, p] = f.useState(!1),
      g = (B) => {
        B.stopPropagation(), B.preventDefault(), a == null || a((e == null ? void 0 : e.id) ?? 0);
      },
      m = (B) => {
        B.stopPropagation(),
          p(!0),
          d(hm((e == null ? void 0 : e.id) ?? 0))
            .then((V) => {
              const q = document.createElement("a");
              (q.href = V),
                (q.download = `entity-${e == null ? void 0 : e.id}`),
                (q.style.display = "none"),
                document.body.appendChild(q),
                q.click(),
                document.body.removeChild(q);
            })
            .finally(() => {
              p(!1);
            })
            .catch((V) => {
              console.error("Failed to get entity URL:", V);
            });
      },
      v = (B) => {
        var V, q;
        B.stopPropagation(),
          B.preventDefault(),
          s == null ||
            s(((q = (V = e == null ? void 0 : e.edges) == null ? void 0 : V.user) == null ? void 0 : q.id) ?? 0);
      },
      x = (B) => {
        B.stopPropagation(), B.preventDefault(), i == null || i((e == null ? void 0 : e.id) ?? 0);
      };
    return t
      ? r.jsxs(je, {
          sx: { height: "43px" },
          children: [
            r.jsx(M, { children: r.jsx(ce, { variant: "circular", width: 24, height: 24 }) }),
            r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 30 }) }),
            r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 80 }) }),
            r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 200 }) }),
            r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 50 }) }),
            r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 100 }) }),
            r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 30 }) }),
            r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 100 }) }),
            r.jsx(M, {
              children: r.jsxs(T, {
                sx: { display: "flex", alignItems: "center", gap: 1 },
                children: [
                  r.jsx(ce, { variant: "circular", width: 24, height: 24 }),
                  r.jsx(ce, { variant: "text", width: 100 }),
                ],
              }),
            }),
            r.jsx(M, { children: r.jsx(ce, { variant: "circular", width: 24, height: 24 }) }),
          ],
        })
      : r.jsxs(
          je,
          {
            hover: !0,
            sx: { cursor: "pointer" },
            onClick: () => (o == null ? void 0 : o((e == null ? void 0 : e.id) ?? 0)),
            selected: n,
            children: [
              r.jsx(pe, {
                padding: "checkbox",
                children: r.jsx(it, { size: "small", disableRipple: !0, color: "primary", onClick: g, checked: n }),
              }),
              r.jsx(M, { children: r.jsx(be, { variant: "inherit", children: e == null ? void 0 : e.id }) }),
              r.jsx(M, {
                children: r.jsx(be, {
                  variant: "inherit",
                  children: l(Hs[(e == null ? void 0 : e.type) ?? Gn.version]),
                }),
              }),
              r.jsx(M, {
                children: r.jsxs(T, {
                  sx: { display: "flex", alignItems: "center", gap: 1 },
                  children: [
                    r.jsx(_r, {
                      title: (e == null ? void 0 : e.source) || "",
                      children: r.jsx(be, { variant: "inherit", children: (e == null ? void 0 : e.source) || "-" }),
                    }),
                    r.jsxs(T, {
                      sx: { display: "flex", alignItems: "center", gap: 0.5 },
                      children: [
                        !(e != null && e.reference_count) &&
                          r.jsx(br, { size: "small", label: l("entity.waitForRecycle") }),
                        ((b = (j = e == null ? void 0 : e.props) == null ? void 0 : j.encrypt_metadata) == null
                          ? void 0
                          : b.algorithm) &&
                          r.jsx(_r, {
                            title: l("application:fileManager.fullEncryption", {
                              cipher: dm(
                                (S = (_ = e == null ? void 0 : e.props) == null ? void 0 : _.encrypt_metadata) == null
                                  ? void 0
                                  : S.algorithm,
                              ),
                            }),
                            children: r.jsx(yb, {
                              sx: { width: "20px", height: "20px", color: (B) => B.palette.success.main },
                            }),
                          }),
                      ],
                    }),
                  ],
                }),
              }),
              r.jsx(M, {
                children: r.jsx(be, { variant: "inherit", children: Gt((e == null ? void 0 : e.size) ?? 0) }),
              }),
              r.jsx(M, {
                children: r.jsx(be, {
                  variant: "inherit",
                  children: r.jsx(Z, {
                    sx: { whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis" },
                    component: zt,
                    underline: "hover",
                    to: `/admin/policy/${
                      (w = (y = e == null ? void 0 : e.edges) == null ? void 0 : y.storage_policy) == null
                        ? void 0
                        : w.id
                    }`,
                    children:
                      ((O = (C = e == null ? void 0 : e.edges) == null ? void 0 : C.storage_policy) == null
                        ? void 0
                        : O.name) || "-",
                  }),
                }),
              }),
              r.jsx(M, {
                children: r.jsx(be, { variant: "inherit", children: (e == null ? void 0 : e.reference_count) ?? 0 }),
              }),
              r.jsx(M, {
                children: r.jsx(be, {
                  variant: "inherit",
                  children: r.jsx(sr, {
                    datetime: (e == null ? void 0 : e.created_at) ?? "",
                    variant: "inherit",
                    timeAgoThreshold: 0,
                  }),
                }),
              }),
              r.jsx(M, {
                children: r.jsxs(T, {
                  sx: { display: "flex", alignItems: "center", gap: 1 },
                  children: [
                    r.jsx(hr, {
                      sx: { width: 24, height: 24 },
                      overwriteTextSize: !0,
                      user: {
                        id: (e == null ? void 0 : e.user_hash_id) ?? "",
                        nickname:
                          ((D = (k = e == null ? void 0 : e.edges) == null ? void 0 : k.user) == null
                            ? void 0
                            : D.nick) ?? "",
                        created_at:
                          ((I = (E = e == null ? void 0 : e.edges) == null ? void 0 : E.user) == null
                            ? void 0
                            : I.created_at) ?? "",
                      },
                    }),
                    r.jsx(be, {
                      variant: "inherit",
                      children: r.jsx(Z, {
                        sx: { whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis" },
                        onClick: v,
                        underline: "hover",
                        href: "#/",
                        children:
                          ((R = (z = e == null ? void 0 : e.edges) == null ? void 0 : z.user) == null
                            ? void 0
                            : R.nick) || "-",
                      }),
                    }),
                  ],
                }),
              }),
              r.jsx(M, {
                children: r.jsxs(T, {
                  sx: { display: "flex", alignItems: "center", gap: 1 },
                  children: [
                    r.jsx($e, { size: "small", onClick: m, disabled: h, children: r.jsx(um, { fontSize: "small" }) }),
                    r.jsx($e, { size: "small", onClick: x, disabled: c, children: r.jsx(ur, { fontSize: "small" }) }),
                  ],
                }),
              }),
            ],
          },
          e == null ? void 0 : e.id,
        );
  },
  jb = "storage_policy",
  bb = "user",
  _b = "type",
  EN = () => {
    const { t: e } = F("dashboard"),
      t = Ge(),
      n = $t(t.breakpoints.down("sm")),
      i = ge(),
      [a, s] = f.useState(!0),
      [o, l] = f.useState([]),
      [d, c] = _e(an, { defaultValue: "1" }),
      [u, h] = _e(sn, { defaultValue: "10" }),
      [p, g] = _e(on, { defaultValue: "" }),
      [m, v] = _e(ln, { defaultValue: "desc" }),
      [x, j] = _e(jb, { defaultValue: "" }),
      [b, _] = _e(bb, { defaultValue: "" }),
      [S, y] = _e(_b, { defaultValue: "" }),
      [w, C] = f.useState(0),
      [O, k] = f.useState([]),
      D = en({ variant: "popover", popupId: "entityFilterPopover" }),
      [E, I] = f.useState(!1),
      [z, R] = f.useState(void 0),
      [B, V] = f.useState(!1),
      [q, G] = f.useState(void 0),
      [H, Q] = f.useState(!1),
      [ne, Y] = f.useState(void 0),
      ie = parseInt(d) ?? 1,
      J = parseInt(u) ?? 10,
      ae = f.useCallback(() => {
        j(""), _(""), y("");
      }, [j, _, y]);
    f.useEffect(() => {
      Ae();
    }, [d, u, p, m, x, b, S]);
    const Ae = () => {
        s(!0), k([]);
        const K = { page: ie, page_size: J, order_by: p ?? "", order_direction: m ?? "desc", conditions: {} };
        x && (K.conditions.entity_policy = x),
          b && (K.conditions.entity_user = b),
          S && (K.conditions.entity_type = S),
          i(pm(K))
            .then((ve) => {
              l(ve.entities), h(ve.pagination.page_size.toString()), C(ve.pagination.total_items ?? 0), s(!1);
            })
            .finally(() => {
              s(!1);
            });
      },
      Xe = () => {
        Q(!0), Y(Array.from(O));
      },
      We = (K) => {
        if (K.target.checked) {
          const ve = o.map((Ne) => Ne.id);
          k(ve);
          return;
        }
        k([]);
      },
      qe = f.useCallback(
        (K) => {
          const ve = O.indexOf(K);
          let Ne = [];
          ve === -1
            ? (Ne = Ne.concat(O, K))
            : ve === 0
              ? (Ne = Ne.concat(O.slice(1)))
              : ve === O.length - 1
                ? (Ne = Ne.concat(O.slice(0, -1)))
                : ve > 0 && (Ne = Ne.concat(O.slice(0, ve), O.slice(ve + 1))),
            k(Ne);
        },
        [O],
      ),
      Ke = p === "id" || p === "",
      Fe = m,
      Le = (K) => () => {
        const ve = p === K || (K === "id" && Ke);
        g(K), v(ve && Fe === "asc" ? "desc" : "asc");
      },
      Se = f.useMemo(() => !!(x || b || S), [x, b, S]),
      Be = (K) => {
        R(K), I(!0);
      },
      He = (K) => {
        G(K), V(!0);
      },
      ue = (K) => {
        Q(!0), Y([K]);
      };
    return r.jsxs(Ft, {
      children: [
        r.jsx(Zs, { open: B, onClose: () => V(!1), entityID: q }),
        r.jsx(Sr, { open: E, onClose: () => I(!1), userID: z }),
        r.jsx(db, { open: H, onClose: () => Q(!1), entityID: ne, onDelete: Ae }),
        r.jsxs(Lt, {
          maxWidth: "xl",
          children: [
            r.jsx(Vt, { title: e("dashboard:nav.entities") }),
            r.jsxs(le, {
              direction: "row",
              spacing: 1,
              sx: { mb: 2 },
              children: [
                r.jsx(vb, {
                  ...Aa(D),
                  storagePolicy: x,
                  setStoragePolicy: j,
                  owner: b,
                  setOwner: _,
                  type: S !== "" ? parseInt(S) : void 0,
                  setType: (K) => y(K !== void 0 ? K.toString() : ""),
                  clearFilters: ae,
                }),
                r.jsx(ke, {
                  onClick: Ae,
                  disabled: a,
                  variant: "contained",
                  startIcon: r.jsx(Dr, {}),
                  children: e("node.refresh"),
                }),
                r.jsx(An, {
                  color: "primary",
                  variant: "dot",
                  invisible: !Se,
                  children: r.jsx(ke, {
                    startIcon: r.jsx(Da, {}),
                    variant: "contained",
                    ...tn(D),
                    children: e("user.filter"),
                  }),
                }),
                O.length > 0 &&
                  !n &&
                  r.jsxs(r.Fragment, {
                    children: [
                      r.jsx(bt, { orientation: "vertical", flexItem: !0 }),
                      r.jsx(Pe, {
                        startIcon: r.jsx(or, {}),
                        variant: "contained",
                        color: "error",
                        onClick: Xe,
                        children: e("entity.deleteXEntities", { num: O.length }),
                      }),
                    ],
                  }),
              ],
            }),
            n &&
              O.length > 0 &&
              r.jsx(le, {
                direction: "row",
                spacing: 1,
                sx: { mb: 2 },
                children: r.jsx(Pe, {
                  startIcon: r.jsx(or, {}),
                  variant: "contained",
                  color: "error",
                  onClick: Xe,
                  children: e("entity.deleteXEntities", { num: O.length }),
                }),
              }),
            r.jsx(ot, {
              component: xt,
              sx: { mt: 2 },
              children: r.jsxs(lt, {
                size: "small",
                stickyHeader: !0,
                sx: { width: "100%", tableLayout: "fixed" },
                children: [
                  r.jsx(ct, {
                    children: r.jsxs(je, {
                      children: [
                        r.jsx(pe, {
                          padding: "checkbox",
                          sx: { width: "36px!important" },
                          width: 50,
                          children: r.jsx(it, {
                            size: "small",
                            indeterminate: O.length > 0 && O.length < o.length,
                            checked: o.length > 0 && O.length === o.length,
                            onChange: We,
                          }),
                        }),
                        r.jsx(M, {
                          width: 80,
                          children: r.jsx(ft, {
                            active: Ke,
                            direction: Ke ? Fe : "asc",
                            onClick: Le("id"),
                            children: e("group.#"),
                          }),
                        }),
                        r.jsx(M, { width: 100, children: e("file.blobType") }),
                        r.jsx(M, { width: 250, children: e("file.source") }),
                        r.jsx(M, {
                          width: 100,
                          children: r.jsx(ft, {
                            active: p === "size",
                            direction: p === "size" ? Fe : "asc",
                            onClick: Le("size"),
                            children: e("file.size"),
                          }),
                        }),
                        r.jsx(M, { width: 150, children: e("file.storagePolicy") }),
                        r.jsx(M, {
                          width: 100,
                          children: r.jsx(ft, {
                            active: p === "reference_count",
                            direction: p === "reference_count" ? Fe : "asc",
                            onClick: Le("reference_count"),
                            children: e("entity.refenenceCount"),
                          }),
                        }),
                        r.jsx(M, {
                          width: 180,
                          children: r.jsx(ft, {
                            active: p === "created_at",
                            direction: p === "created_at" ? Fe : "asc",
                            onClick: Le("created_at"),
                            children: e("file.createdAt"),
                          }),
                        }),
                        r.jsx(M, { width: 180, children: e("file.creator") }),
                        r.jsx(M, { width: 100 }),
                      ],
                    }),
                  }),
                  r.jsxs(dt, {
                    children: [
                      !a &&
                        o.map((K) =>
                          r.jsx(
                            Wo,
                            {
                              entity: K,
                              onDelete: ue,
                              selected: O.indexOf(K.id) !== -1,
                              onSelect: qe,
                              openUserDialog: Be,
                              openEntityDialog: He,
                            },
                            K.id,
                          ),
                        ),
                      a && o.length > 0 && o.slice(0, 10).map((K) => r.jsx(Wo, { loading: !0 }, `loading-${K.id}`)),
                      a &&
                        o.length === 0 &&
                        Array.from(Array(10)).map((K, ve) => r.jsx(Wo, { loading: !0 }, `loading-${ve}`)),
                    ],
                  }),
                ],
              }),
            }),
            w > 0 &&
              r.jsx(T, {
                sx: { mt: 1 },
                children: r.jsx(Rr, {
                  page: ie,
                  totalItems: w,
                  rowsPerPage: J,
                  rowsPerPageOptions: [10, 25, 50, 100, 200, 500],
                  onRowsPerPageChange: (K) => h(K.toString()),
                  onChange: (K, ve) => c(ve.toString()),
                }),
              }),
          ],
        }),
      ],
    });
  },
  Mo = et(it)(({ theme: e }) => ({ paddingTop: 0, paddingBottom: 0, paddingLeft: 0 })),
  wb = ({
    storagePolicy: e,
    setStoragePolicy: t,
    owner: n,
    setOwner: i,
    name: a,
    setName: s,
    hasShareLink: o,
    setHasShareLink: l,
    hasDirectLink: d,
    setHasDirectLink: c,
    isUploading: u,
    setIsUploading: h,
    clearFilters: p,
    onClose: g,
    open: m,
    ...v
  }) => {
    const { t: x } = F("dashboard"),
      [j, b] = f.useState(e),
      [_, S] = f.useState(n),
      [y, w] = f.useState(a),
      [C, O] = f.useState(o),
      [k, D] = f.useState(d),
      [E, I] = f.useState(u);
    f.useEffect(() => {
      m && (b(e), S(n), w(a), O(o), D(d), I(u));
    }, [m]);
    const z = () => {
        t(j), i(_), s(y), l(C), c(k), h(E), g == null || g({}, "backdropClick");
      },
      R = () => {
        b(""), S(""), w(""), O(!1), D(!1), I(!1), p(), g == null || g({}, "backdropClick");
      };
    return r.jsx(ka, {
      anchorOrigin: { vertical: "bottom", horizontal: "left" },
      transformOrigin: { vertical: "top", horizontal: "left" },
      slotProps: { paper: { sx: { p: 2, width: 300, maxWidth: "100%" } } },
      onClose: g,
      open: m,
      ...v,
      children: r.jsxs(le, {
        spacing: 2,
        children: [
          r.jsx(P, {
            title: x("file.uploaderID"),
            noContainer: !0,
            lgWidth: 12,
            children: r.jsx(W, {
              fullWidth: !0,
              value: _,
              onChange: (B) => S(B.target.value),
              placeholder: x("user.emptyNoFilter"),
              size: "small",
            }),
          }),
          r.jsx(P, {
            title: x("file.searchFileName"),
            noContainer: !0,
            lgWidth: 12,
            children: r.jsx(W, {
              fullWidth: !0,
              value: y,
              onChange: (B) => w(B.target.value),
              placeholder: x("user.emptyNoFilter"),
              size: "small",
            }),
          }),
          r.jsx(P, {
            title: x("file.storagePolicy"),
            noContainer: !0,
            lgWidth: 12,
            children: r.jsx(Js, {
              value: j == "" ? -1 : parseInt(j),
              onChange: (B) => b(B.toString()),
              emptyValue: -1,
              emptyText: x("user.all"),
            }),
          }),
          r.jsx(P, {
            title: x("file.otherConditions"),
            noContainer: !0,
            lgWidth: 12,
            children: r.jsxs(le, {
              spacing: 0.5,
              children: [
                r.jsx(Hn, {
                  control: r.jsx(Mo, {
                    disableRipple: !0,
                    size: "small",
                    checked: C,
                    onChange: (B) => O(B.target.checked),
                  }),
                  label: x("file.shareLinkExisted"),
                }),
                r.jsx(Hn, {
                  control: r.jsx(Mo, {
                    disableRipple: !0,
                    size: "small",
                    checked: k,
                    onChange: (B) => D(B.target.checked),
                  }),
                  label: x("file.directLinkExisted"),
                }),
                r.jsx(Hn, {
                  control: r.jsx(Mo, {
                    disableRipple: !0,
                    size: "small",
                    checked: E,
                    onChange: (B) => I(B.target.checked),
                  }),
                  label: x("file.isUploading"),
                }),
              ],
            }),
          }),
          r.jsxs(T, {
            display: "flex",
            justifyContent: "space-between",
            children: [
              r.jsx(Pe, { variant: "outlined", size: "small", onClick: R, children: x("user.reset") }),
              r.jsx(Pe, { variant: "contained", size: "small", onClick: z, children: x("user.apply") }),
            ],
          }),
        ],
      }),
    });
  },
  No = ({
    file: e,
    loading: t,
    deleting: n,
    selected: i,
    onDelete: a,
    onDetails: s,
    onSelect: o,
    openUserDialog: l,
  }) => {
    var w, C, O, k, D, E, I, z, R, B, V, q, G;
    dr();
    const { t: d } = F("dashboard"),
      c = ge(),
      [u, h] = f.useState(!1),
      [p, g] = f.useState(!1),
      m = () => {
        s == null || s((e == null ? void 0 : e.id) ?? 0);
      },
      v = (H) => {
        H.stopPropagation(),
          H.preventDefault(),
          c(wr(d("file.confirmDelete", { file: e == null ? void 0 : e.name }))).then(() => {
            e != null &&
              e.id &&
              (h(!0),
              c(Np({ ids: [e.id] }))
                .then(() => {
                  a == null || a();
                })
                .finally(() => {
                  h(!1);
                }));
          });
      },
      x = (H) => {
        H.stopPropagation(),
          g(!0),
          c(gm((e == null ? void 0 : e.id) ?? 0))
            .then((Q) => {
              const ne = xm((e == null ? void 0 : e.name) ?? "");
              let Y = !1;
              try {
                ne && Ti && typeof Ti == "object" && Ti[ne] && (Y = Array.isArray(Ti[ne]) && Ti[ne].length > 0);
              } catch (ie) {
                console.warn("Failed to check viewer availability:", ie), (Y = !1);
              }
              if (Y) window.open(Q, "_blank");
              else {
                const ie = document.createElement("a");
                (ie.href = Q),
                  (ie.download = (e == null ? void 0 : e.name) || `file-${e == null ? void 0 : e.id}`),
                  (ie.style.display = "none"),
                  document.body.appendChild(ie),
                  ie.click(),
                  document.body.removeChild(ie);
              }
            })
            .finally(() => {
              g(!1);
            })
            .catch((Q) => {
              console.error("Failed to get file URL:", Q);
            });
      },
      j = (H) => {
        H.stopPropagation(), H.preventDefault(), o == null || o((e == null ? void 0 : e.id) ?? 0);
      },
      b = f.useMemo(() => {
        var H, Q;
        return (
          ((H = e == null ? void 0 : e.edges) == null ? void 0 : H.metadata) &&
          ((Q = e == null ? void 0 : e.edges) == null
            ? void 0
            : Q.metadata.some((ne) => ne.name === Wp.upload_session_id))
        );
      }, [(w = e == null ? void 0 : e.edges) == null ? void 0 : w.metadata]);
    if (t)
      return r.jsxs(je, {
        sx: { height: "43px" },
        children: [
          r.jsx(M, { children: r.jsx(ce, { variant: "circular", width: 24, height: 24 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 30 }) }),
          r.jsx(M, {
            children: r.jsxs(T, {
              sx: { display: "flex", alignItems: "center", gap: 1 },
              children: [
                r.jsx(ce, { variant: "circular", width: 24, height: 24 }),
                r.jsx(ce, { variant: "text", width: 200 }),
              ],
            }),
          }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 50 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 50 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 100 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 100 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "circular", width: 24, height: 24 }) }),
        ],
      });
    const _ = (H) => {
        H.stopPropagation(), H.preventDefault(), l == null || l((e == null ? void 0 : e.owner_id) ?? 0);
      },
      S = f.useMemo(() => {
        var H, Q;
        return Gt(
          ((Q = (H = e == null ? void 0 : e.edges) == null ? void 0 : H.entities) == null
            ? void 0
            : Q.reduce((ne, Y) => ne + (Y.size ?? 0), 0)) ?? 0,
        );
      }, [(C = e == null ? void 0 : e.edges) == null ? void 0 : C.entities]),
      y = f.useMemo(() => {
        var ne, Y, ie, J;
        const H = { status: "none", cipher: [] };
        let Q = 0;
        return (
          (Y = (ne = e == null ? void 0 : e.edges) == null ? void 0 : ne.entities) == null ||
            Y.forEach((ae) => {
              var Ae, Xe, We, qe, Ke, Fe;
              (Xe = (Ae = ae.props) == null ? void 0 : Ae.encrypt_metadata) != null &&
                Xe.algorithm &&
                (Q++,
                H.cipher.includes(
                  (qe = (We = ae.props) == null ? void 0 : We.encrypt_metadata) == null ? void 0 : qe.algorithm,
                ) ||
                  H.cipher.push(
                    (Fe = (Ke = ae.props) == null ? void 0 : Ke.encrypt_metadata) == null ? void 0 : Fe.algorithm,
                  ));
            }),
          Q > 0 &&
            (H.status =
              Q ===
              ((J = (ie = e == null ? void 0 : e.edges) == null ? void 0 : ie.entities) == null ? void 0 : J.length)
                ? "full"
                : "partial"),
          H
        );
      }, [(O = e == null ? void 0 : e.edges) == null ? void 0 : O.entities]);
    return r.jsxs(
      je,
      {
        hover: !0,
        sx: { cursor: "pointer" },
        onClick: m,
        selected: i,
        children: [
          r.jsx(pe, {
            padding: "checkbox",
            children: r.jsx(it, {
              disabled: n,
              size: "small",
              disableRipple: !0,
              color: "primary",
              onClick: j,
              checked: i,
            }),
          }),
          r.jsx(M, { children: r.jsx(be, { variant: "inherit", children: e == null ? void 0 : e.id }) }),
          r.jsx(M, {
            children: r.jsxs(T, {
              sx: { display: "flex", alignItems: "center", gap: 1 },
              children: [
                r.jsx(Gs, { name: (e == null ? void 0 : e.name) ?? "", fileType: gn.file }),
                r.jsx(be, { variant: "inherit", children: e == null ? void 0 : e.name }),
                r.jsxs(T, {
                  sx: { display: "flex", alignItems: "center", gap: 0.5 },
                  children: [
                    b && r.jsx(fm, { disabled: !0 }),
                    ((D = (k = e == null ? void 0 : e.edges) == null ? void 0 : k.direct_links) == null
                      ? void 0
                      : D.length) &&
                      r.jsx(_r, {
                        title: d("file.haveDirectLinks"),
                        children: r.jsx(T, {
                          sx: { display: "flex", alignItems: "center" },
                          children: r.jsx(Mp, { fontSize: "small", sx: { color: "text.secondary" } }),
                        }),
                      }),
                    ((I = (E = e == null ? void 0 : e.edges) == null ? void 0 : E.shares) == null
                      ? void 0
                      : I.length) &&
                      r.jsx(_r, {
                        title: d("file.haveShares"),
                        children: r.jsx(T, {
                          sx: { display: "flex", alignItems: "center" },
                          children: r.jsx(jv, { fontSize: "small", sx: { color: "text.secondary" } }),
                        }),
                      }),
                    y && y.status !== "none" && r.jsx(kc, { simplified: !0, flexWrap: !1, status: y }),
                  ],
                }),
              ],
            }),
          }),
          r.jsx(M, { children: r.jsx(be, { variant: "inherit", children: Gt((e == null ? void 0 : e.size) ?? 0) }) }),
          r.jsx(M, { children: r.jsx(be, { variant: "inherit", children: S }) }),
          r.jsx(M, {
            children: r.jsxs(T, {
              sx: { display: "flex", alignItems: "center", gap: 1 },
              children: [
                r.jsx(hr, {
                  sx: { width: 24, height: 24 },
                  overwriteTextSize: !0,
                  user: {
                    id: (e == null ? void 0 : e.user_hash_id) ?? "",
                    nickname:
                      ((R = (z = e == null ? void 0 : e.edges) == null ? void 0 : z.owner) == null ? void 0 : R.nick) ??
                      "",
                    created_at:
                      ((V = (B = e == null ? void 0 : e.edges) == null ? void 0 : B.owner) == null
                        ? void 0
                        : V.created_at) ?? "",
                  },
                }),
                r.jsx(be, {
                  variant: "inherit",
                  children: r.jsx(Z, {
                    sx: { whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis" },
                    onClick: _,
                    underline: "hover",
                    href: "#/",
                    children:
                      (G = (q = e == null ? void 0 : e.edges) == null ? void 0 : q.owner) == null ? void 0 : G.nick,
                  }),
                }),
              ],
            }),
          }),
          r.jsx(M, {
            children: r.jsx(be, {
              variant: "inherit",
              children: r.jsx(sr, {
                datetime: (e == null ? void 0 : e.created_at) ?? "",
                variant: "inherit",
                timeAgoThreshold: 0,
              }),
            }),
          }),
          r.jsx(M, {
            children: r.jsxs(T, {
              sx: { display: "flex", alignItems: "center", gap: 1 },
              children: [
                r.jsx($e, { size: "small", onClick: x, disabled: p || n, children: r.jsx(qs, { fontSize: "small" }) }),
                r.jsx($e, { size: "small", onClick: v, disabled: u || n, children: r.jsx(ur, { fontSize: "small" }) }),
              ],
            }),
          }),
        ],
      },
      e == null ? void 0 : e.id,
    );
  },
  Sb = (e) => {
    const t = Ge(),
      { t: n } = F(["dashboard", "application"]),
      [i, a] = f.useState(null),
      [s, o] = f.useState(""),
      [l, d] = f.useState([]),
      [c, u] = f.useState(!1),
      h = ge(),
      p = f.useMemo(
        () =>
          mm((m, v) => {
            u(!0),
              h(vm(m.input))
                .then((x) => {
                  v(x);
                })
                .finally(() => {
                  u(!1);
                });
          }, 400),
        [h],
      );
    f.useEffect(() => {
      let m = !0;
      if (s === "" || s.length < 2) {
        d([]);
        return;
      }
      return (
        p({ input: s }, (v) => {
          m && d(v ?? []);
        }),
        () => {
          m = !1;
        }
      );
    }, [i, s, p]);
    const g = f.useMemo(() => ym({ stringify: (m) => m.nickname + " " + m.email }), []);
    return r.jsx(Ap, {
      value: i,
      filterOptions: g,
      options: l,
      loading: c,
      blurOnSelect: !0,
      onChange: (m, v) => {
        a(v), v && e.onUserSelected(v);
      },
      onInputChange: (m, v) => {
        o(v);
      },
      getOptionLabel: (m) => (typeof m == "string" ? m : `${m.nickname} <${m.email}>`),
      noOptionsText: n("application:modals.noResults"),
      renderOption: (m, v) =>
        r.jsx("li", {
          ...m,
          children: r.jsxs(T, {
            sx: { display: "flex", width: "100%", alignItems: "center" },
            children: [
              r.jsx(T, { children: r.jsx(hr, { user: v }) }),
              r.jsxs(Qn, {
                sx: { width: "100%", ml: 2 },
                children: [
                  v.nickname,
                  v.email &&
                    r.jsx(be, { sx: { width: "100%" }, variant: "body2", color: "text.secondary", children: v.email }),
                ],
              }),
            ],
          }),
        }),
      renderInput: (m) =>
        r.jsx(W, {
          ...m,
          sx: {
            "& .MuiInputBase-root": {},
            "& .MuiInputBase-root.MuiOutlinedInput-root": { paddingTop: t.spacing(0.6), paddingBottom: t.spacing(0.6) },
            mt: 0,
          },
          required: e.required,
          variant: "outlined",
          margin: "dense",
          placeholder: e.label || n("dashboard:file.selectUser"),
          type: "text",
          fullWidth: !0,
        }),
    });
  },
  Id = {
    storagePolicyId: void 0,
    externalPath: "",
    recursive: !0,
    targetUser: null,
    targetPath: "/",
    extractMediaMeta: !1,
  },
  Cb = ({ open: e, onClose: t }) => {
    const { t: n } = F("dashboard"),
      i = ge(),
      { enqueueSnackbar: a } = ut(),
      [s, o] = f.useState(!1),
      [l, d] = f.useState({ ...Id }),
      c = f.useRef(null);
    f.useEffect(() => {
      e && d({ ...Id });
    }, [e]);
    const u = () => {
        var g, m;
        if (!((g = c.current) != null && g.checkValidity())) {
          (m = c.current) == null || m.reportValidity();
          return;
        }
        if (!l.targetUser) {
          a(n("file.pleaseSelectUser"), { variant: "error", action: nt });
          return;
        }
        o(!0),
          i(
            bm({
              src: l.externalPath,
              dst: l.targetPath,
              extract_media_meta: !1,
              user_id: l.targetUser.id,
              recursive: l.recursive,
              policy_id: l.storagePolicyId ?? 0,
            }),
          )
            .then(() => {
              a(n("file.importTaskCreated"), { variant: "success", action: nt }), t();
            })
            .finally(() => {
              o(!1);
            });
      },
      h = (g) => {
        d({ ...l, storagePolicyId: g });
      },
      p = (g) => {
        d({ ...l, targetUser: g });
      };
    return r.jsx(st, {
      onAccept: u,
      loading: s,
      title: n("file.importExternalFolder"),
      showActions: !0,
      showCancel: !0,
      dialogProps: { open: e, onClose: t, fullWidth: !0, maxWidth: "sm" },
      children: r.jsx(gt, {
        children: r.jsx("form", {
          ref: c,
          onSubmit: (g) => {
            g.preventDefault(), u();
          },
          children: r.jsxs(le, {
            spacing: 2,
            children: [
              r.jsx(Br, {
                severity: "info",
                sx: { fontSize: (g) => g.typography.body2.fontSize },
                children: n("file.importExternalFolderDes"),
              }),
              r.jsxs(Br, {
                severity: "warning",
                sx: { fontSize: (g) => g.typography.body2.fontSize },
                children: [
                  r.jsx(jm, { children: n("file.importWarning") }),
                  r.jsx("ul", {
                    style: { paddingInlineStart: "20px" },
                    children: n("file.importWarnings", { returnObjects: !0 }).map((g, m) =>
                      r.jsx("li", { children: g.toString() }, m),
                    ),
                  }),
                ],
              }),
              r.jsxs(P, {
                lgWidth: 12,
                title: n("file.storagePolicy"),
                children: [
                  r.jsx(Js, { value: l.storagePolicyId, onChange: h }),
                  r.jsx(A, { children: n("file.storagePolicyDes") }),
                ],
              }),
              r.jsxs(P, {
                lgWidth: 12,
                title: n("file.srcFolderPath"),
                children: [
                  r.jsx(W, {
                    fullWidth: !0,
                    required: !0,
                    placeholder: "/path/to/folder",
                    value: l.externalPath,
                    onChange: (g) => d({ ...l, externalPath: g.target.value }),
                  }),
                  r.jsx(A, { children: n("file.selectSrcDes") }),
                ],
              }),
              r.jsxs(P, {
                lgWidth: 12,
                title: n("file.targetUser"),
                children: [
                  r.jsx(Sb, { onUserSelected: p, label: n("file.searchUser"), required: !0 }),
                  r.jsx(A, { children: n("file.targetUserDes") }),
                ],
              }),
              r.jsxs(P, {
                lgWidth: 12,
                title: n("file.dstFolderPath"),
                children: [
                  r.jsx(W, {
                    fullWidth: !0,
                    required: !0,
                    value: l.targetPath,
                    onChange: (g) => d({ ...l, targetPath: g.target.value }),
                    placeholder: "/",
                  }),
                  r.jsx(A, { children: n("file.dstFolderPathDes") }),
                ],
              }),
              r.jsxs(P, {
                lgWidth: 12,
                children: [
                  r.jsx(Hn, {
                    control: r.jsx(it, {
                      size: "small",
                      checked: l.recursive,
                      onChange: (g) => d({ ...l, recursive: g.target.checked }),
                    }),
                    labelPlacement: "end",
                    label: r.jsx(L, { variant: "body2", children: n("file.recursivelyImport") }),
                  }),
                  r.jsx(A, { children: n("file.recursivelyImportDes") }),
                ],
              }),
              r.jsxs(P, {
                lgWidth: 12,
                children: [
                  r.jsx(Hn, {
                    control: r.jsx(it, {
                      size: "small",
                      checked: l.extractMediaMeta,
                      onChange: (g) => d({ ...l, extractMediaMeta: g.target.checked }),
                    }),
                    labelPlacement: "end",
                    label: r.jsx(L, { variant: "body2", children: n("file.extractMediaMeta") }),
                  }),
                  r.jsx(A, { children: n("file.extractMediaMetaDes") }),
                ],
              }),
            ],
          }),
        }),
      }),
    });
  },
  Pb = "storage_policy",
  Ob = "owner",
  kb = "name",
  Ab = "has_direct_link",
  Db = "shared",
  Eb = "uploading",
  IN = () => {
    const { t: e } = F("dashboard"),
      t = Ge(),
      n = $t(t.breakpoints.down("sm")),
      i = ge(),
      [a, s] = f.useState(!0),
      [o, l] = f.useState([]),
      [d, c] = _e(an, { defaultValue: "1" }),
      [u, h] = _e(sn, { defaultValue: "10" }),
      [p, g] = _e(on, { defaultValue: "" }),
      [m, v] = _e(ln, { defaultValue: "desc" }),
      [x, j] = _e(Pb, { defaultValue: "" }),
      [b, _] = _e(Ob, { defaultValue: "" }),
      [S, y] = _e(kb, { defaultValue: "" }),
      [w, C] = _e(Ab, { defaultValue: "" }),
      [O, k] = _e(Db, { defaultValue: "" }),
      [D, E] = _e(Eb, { defaultValue: "" }),
      [I, z] = f.useState(0),
      [R, B] = f.useState([]);
    f.useState(!1);
    const [V, q] = f.useState(!1),
      G = en({ variant: "popover", popupId: "userFilterPopover" }),
      [H, Q] = f.useState(!1),
      [ne, Y] = f.useState(void 0),
      [ie, J] = f.useState(!1),
      [ae, Ae] = f.useState(void 0),
      [Xe, We] = f.useState(!1),
      qe = parseInt(d) ?? 1,
      Ke = parseInt(u) ?? 11,
      Fe = f.useCallback(() => {
        j(""), _(""), y(""), C(""), k(""), E("");
      }, [j, _, y, C, k, E]);
    f.useEffect(() => {
      Le();
    }, [d, u, p, m, x, b, S, w, O, D]);
    const Le = () => {
        s(!0),
          B([]),
          i(
            _m({
              page: qe,
              page_size: Ke,
              order_by: p ?? "",
              order_direction: m ?? "desc",
              conditions: {
                file_policy: x,
                file_user: b,
                file_name: S,
                file_direct_link: w === "true" ? "true" : "",
                file_shared: O === "true" ? "true" : "",
                file_metadata: D === "true" ? Wp.upload_session_id : "",
              },
            }),
          )
            .then((De) => {
              l(De.files), h(De.pagination.page_size.toString()), z(De.pagination.total_items ?? 0), s(!1);
            })
            .finally(() => {
              s(!1);
            });
      },
      Se = () => {
        We(!0),
          i(wr(e("file.confirmBatchDelete", { num: R.length })))
            .then(() => {
              i(Np({ ids: Array.from(R) }))
                .then(() => {
                  Le();
                })
                .finally(() => {
                  We(!1);
                });
            })
            .finally(() => {
              We(!1);
            });
      },
      Be = (De) => {
        if (De.target.checked) {
          const ee = o.map((re) => re.id);
          B(ee);
          return;
        }
        B([]);
      },
      He = f.useCallback(
        (De) => {
          const ee = R.indexOf(De);
          let re = [];
          ee === -1
            ? (re = re.concat(R, De))
            : ee === 0
              ? (re = re.concat(R.slice(1)))
              : ee === R.length - 1
                ? (re = re.concat(R.slice(0, -1)))
                : ee > 0 && (re = re.concat(R.slice(0, ee), R.slice(ee + 1))),
            B(re);
        },
        [R],
      ),
      ue = p === "id" || p === "",
      K = m,
      ve = (De) => () => {
        const ee = p === De || (De === "id" && ue);
        g(De), v(ee && K === "asc" ? "desc" : "asc");
      },
      Ne = f.useMemo(() => !!(x || b || S || w || O || D), [x, b, S, w, O, D]),
      pr = (De) => {
        Ae(De), J(!0);
      },
      qt = (De) => {
        Y(De), Q(!0);
      };
    return r.jsxs(Ft, {
      children: [
        r.jsx(Qs, {
          open: ie,
          onClose: () => J(!1),
          fileID: ae,
          onUpdated: (De) => {
            Ae(De.id), J(!0);
          },
        }),
        r.jsx(Sr, { open: H, onClose: () => Q(!1), userID: ne }),
        r.jsx(Cb, { open: V, onClose: () => q(!1) }),
        r.jsxs(Lt, {
          maxWidth: "xl",
          children: [
            r.jsx(Vt, { title: e("dashboard:nav.files") }),
            r.jsxs(le, {
              direction: "row",
              spacing: 1,
              sx: { mb: 2 },
              children: [
                r.jsx(Pe, {
                  onClick: () => q(!0),
                  variant: "contained",
                  startIcon: r.jsx(ov, {}),
                  children: e("file.import"),
                }),
                r.jsx(wb, {
                  ...Aa(G),
                  storagePolicy: x,
                  setStoragePolicy: j,
                  owner: b,
                  setOwner: _,
                  name: S,
                  setName: y,
                  clearFilters: Fe,
                  hasDirectLink: w === "true",
                  setHasDirectLink: (De) => C(De ? "true" : ""),
                  hasShareLink: O === "true",
                  setHasShareLink: (De) => k(De ? "true" : ""),
                  isUploading: D === "true",
                  setIsUploading: (De) => E(De ? "true" : ""),
                }),
                r.jsx(ke, {
                  onClick: Le,
                  disabled: a,
                  variant: "contained",
                  startIcon: r.jsx(Dr, {}),
                  children: e("node.refresh"),
                }),
                r.jsx(An, {
                  color: "primary",
                  variant: "dot",
                  invisible: !Ne,
                  children: r.jsx(ke, {
                    startIcon: r.jsx(Da, {}),
                    variant: "contained",
                    ...tn(G),
                    children: e("user.filter"),
                  }),
                }),
                R.length > 0 &&
                  !n &&
                  r.jsxs(r.Fragment, {
                    children: [
                      r.jsx(bt, { orientation: "vertical", flexItem: !0 }),
                      r.jsx(Pe, {
                        startIcon: r.jsx(or, {}),
                        variant: "contained",
                        color: "error",
                        onClick: Se,
                        children: e("file.deleteXFiles", { num: R.length }),
                      }),
                    ],
                  }),
              ],
            }),
            n &&
              R.length > 0 &&
              r.jsx(le, {
                direction: "row",
                spacing: 1,
                sx: { mb: 2 },
                children: r.jsx(Pe, {
                  startIcon: r.jsx(or, {}),
                  variant: "contained",
                  color: "error",
                  onClick: Se,
                  children: e("file.deleteXFiles", { num: R.length }),
                }),
              }),
            r.jsx(ot, {
              component: xt,
              sx: { mt: 2 },
              children: r.jsxs(lt, {
                size: "small",
                stickyHeader: !0,
                sx: { width: "100%", tableLayout: "fixed" },
                children: [
                  r.jsx(ct, {
                    children: r.jsxs(je, {
                      children: [
                        r.jsx(pe, {
                          padding: "checkbox",
                          sx: { width: "36px!important" },
                          width: 50,
                          children: r.jsx(it, {
                            size: "small",
                            disableRipple: !0,
                            color: "primary",
                            indeterminate: R.length > 0 && R.length < o.length,
                            checked: o.length > 0 && R.length === o.length,
                            onChange: Be,
                          }),
                        }),
                        r.jsx(M, {
                          width: 60,
                          sortDirection: ue ? K : !1,
                          children: r.jsx(ft, { active: ue, direction: K, onClick: ve("id"), children: e("group.#") }),
                        }),
                        r.jsx(M, {
                          width: 300,
                          children: r.jsx(ft, {
                            active: p === "name",
                            direction: K,
                            onClick: ve("name"),
                            children: e("file.name"),
                          }),
                        }),
                        r.jsx(M, {
                          width: 70,
                          children: r.jsx(ft, {
                            active: p === "size",
                            direction: K,
                            onClick: ve("size"),
                            children: e("file.size"),
                          }),
                        }),
                        r.jsx(M, { width: 70, children: e("file.sizeUsed") }),
                        r.jsx(M, { width: 150, children: e("file.uploader") }),
                        r.jsx(M, {
                          width: 150,
                          children: r.jsx(ft, {
                            active: p === "created_at",
                            direction: K,
                            onClick: ve("created_at"),
                            children: e("file.createdAt"),
                          }),
                        }),
                        r.jsx(M, { width: 100, align: "right" }),
                      ],
                    }),
                  }),
                  r.jsxs(dt, {
                    children: [
                      !a &&
                        o.map((De) =>
                          r.jsx(
                            No,
                            {
                              deleting: Xe,
                              file: De,
                              onDelete: Le,
                              selected: R.includes(De.id),
                              onSelect: He,
                              onDetails: pr,
                              openUserDialog: qt,
                            },
                            De.id,
                          ),
                        ),
                      a && o.length > 0 && o.slice(0, 10).map((De) => r.jsx(No, { loading: !0 }, `loading-${De.id}`)),
                      a &&
                        o.length === 0 &&
                        Array.from(Array(10)).map((De, ee) => r.jsx(No, { loading: !0 }, `loading-${ee}`)),
                    ],
                  }),
                ],
              }),
            }),
            I > 0 &&
              r.jsx(T, {
                sx: { mt: 1 },
                children: r.jsx(Rr, {
                  page: qe,
                  totalItems: I,
                  rowsPerPage: Ke,
                  rowsPerPageOptions: [10, 25, 50, 100, 200, 500],
                  onRowsPerPageChange: (De) => h(De.toString()),
                  onChange: (De, ee) => c(ee.toString()),
                }),
              }),
          ],
        }),
      ],
    });
  };
function Ib(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M3 6.25A3.25 3.25 0 0 1 6.25 3h11.5A3.25 3.25 0 0 1 21 6.25v11.5A3.25 3.25 0 0 1 17.75 21H6.25A3.25 3.25 0 0 1 3 17.75zM6.25 4.5A1.75 1.75 0 0 0 4.5 6.25v.25h15v-.25a1.75 1.75 0 0 0-1.75-1.75zM4.5 17.75c0 .966.784 1.75 1.75 1.75h11.5a1.75 1.75 0 0 0 1.75-1.75V8h-15zM6.85 9.5h3.3c.47 0 .85.38.85.85v6.8c0 .47-.38.85-.85.85h-3.3a.85.85 0 0 1-.85-.85v-6.8c0-.47.38-.85.85-.85m.65 7h2V11h-2zm4.5-6.25a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75m.75 2.25a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5z",
    }),
  });
}
function Tb(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M13 3.5a3.5 3.5 0 0 0-2.669 5.764a.75.75 0 0 1-.571 1.236H3.75a.25.25 0 0 0-.25.25v1c0 2.9 2.35 5.25 5.25 5.25h3.218c.15.11.319.196.504.255a9.129 9.129 0 0 0-.727 1.245H8.75A6.75 6.75 0 0 1 2 11.75v-1C2 9.784 2.784 9 3.75 9h4.666a5 5 0 1 1 9.168-4h1.666c.966 0 1.75.784 1.75 1.75a2.75 2.75 0 0 1-2.75 2.75h-.92c-.135.235-.29.458-.461.667c.157.137.305.284.442.44c-.176.019-.356.04-.54.065a7.01 7.01 0 0 0-1.323.306a3.047 3.047 0 0 0-.1-.058a.75.75 0 0 1-.11-1.23A3.502 3.502 0 0 0 16.355 8h1.895c.69 0 1.25-.56 1.25-1.25a.25.25 0 0 0-.25-.25h-2.785A3.5 3.5 0 0 0 13 3.5m3.901 8.163c2.801-.37 4.539-.06 5.563.227a.75.75 0 0 1 .212 1.348c-.057.038-.15.13-.26.34a4.94 4.94 0 0 0-.32.825c-.088.284-.17.59-.261.925l-.057.212c-.112.41-.234.85-.382 1.286c-.292.862-.704 1.782-1.397 2.488c-.72.733-1.695 1.19-3 1.19c-1.328 0-2.256-.539-2.85-1.159c-.403.74-.613 1.437-.645 1.951a.75.75 0 0 1-1.497-.091c.07-1.14.665-2.574 1.662-3.844c1.009-1.284 2.48-2.467 4.381-3.04a.75.75 0 0 1 .433 1.436c-1.448.437-2.61 1.312-3.452 2.308c.31.442.922.939 1.969.939c.911 0 1.498-.302 1.928-.74c.457-.466.78-1.13 1.047-1.92c.132-.389.245-.791.355-1.197l.055-.201c.09-.335.181-.674.278-.987c.09-.291.192-.583.314-.853c-.893-.13-2.15-.184-3.879.044c-1.998.265-3.124 1.723-3.375 2.635a.75.75 0 0 1-1.446-.398c.396-1.442 1.978-3.373 4.624-3.724",
    }),
  });
}
function $b(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M6.25 3A3.25 3.25 0 0 0 3 6.25v11.5A3.25 3.25 0 0 0 6.25 21h11.5A3.25 3.25 0 0 0 21 17.75V6.25A3.25 3.25 0 0 0 17.75 3zM4.5 6.25c0-.966.784-1.75 1.75-1.75h11.5c.966 0 1.75.784 1.75 1.75v11.5a1.75 1.75 0 0 1-1.75 1.75H6.25a1.75 1.75 0 0 1-1.75-1.75zm12.78 3.03a.75.75 0 1 0-1.06-1.06l-6.223 6.216L7.78 12.22a.75.75 0 0 0-1.06 1.06l2.745 2.746a.75.75 0 0 0 1.06 0z",
    }),
  });
}
function Wb(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M18.251 3a2.249 2.249 0 0 0-2.249 2.25v5.924c.48-.114.982-.174 1.498-.174h.002V5.25a.749.749 0 1 1 1.498 0v5.924c.528.125 1.03.314 1.5.558V5.25A2.25 2.25 0 0 0 18.251 3m-4.25 6.25v2.772a6.536 6.536 0 0 0-1.5 1.324V9.25a.75.75 0 0 0-1.499 0v8.09a6.62 6.62 0 0 0 0 .322v1.09c0 .224.098.425.254.562c.173.598.43 1.16.756 1.672a2.249 2.249 0 0 1-2.51-2.234V9.249a2.25 2.25 0 1 1 4.498 0m-10.999 4a2.25 2.25 0 1 1 4.498 0v5.5a2.25 2.25 0 1 1-4.498 0zm2.998 0a.75.75 0 0 0-1.498 0v5.5a.75.75 0 0 0 1.498 0zm17 4.25a5.5 5.5 0 1 1-11 0a5.5 5.5 0 0 1 11 0m-4.945-3.08a.577.577 0 0 0-1.11 0l-.557 1.788h-1.803c-.566 0-.8.754-.343 1.1l1.458 1.105l-.557 1.787c-.175.561.441 1.028.899.681l1.458-1.104l1.458 1.104c.458.347 1.074-.12.899-.68l-.557-1.788l1.458-1.104c.458-.347.223-1.101-.343-1.101h-1.803z",
    }),
  });
}
function Mb(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M6.75 8a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5zM6 11.75a.75.75 0 0 1 .75-.75h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1-.75-.75M6.75 14a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5zm-2-10A2.75 2.75 0 0 0 2 6.75v10.5A2.75 2.75 0 0 0 4.75 20h14.5A2.75 2.75 0 0 0 22 17.25V6.75A2.75 2.75 0 0 0 19.25 4zM3.5 6.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25z",
    }),
  });
}
function Nb(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M6.78 4.78a.75.75 0 0 0-1.06-1.06L3.75 5.69l-.47-.47a.75.75 0 0 0-1.06 1.06l1 1a.75.75 0 0 0 1.06 0zm14.47 13.227H9.75l-.102.007a.75.75 0 0 0 .102 1.493h11.5l.102-.007a.75.75 0 0 0-.102-1.493m0-6.507H9.75l-.102.007A.75.75 0 0 0 9.75 13h11.5l.102-.007a.75.75 0 0 0-.102-1.493m0-6.5H9.75l-.102.007A.75.75 0 0 0 9.75 6.5h11.5l.102-.007A.75.75 0 0 0 21.25 5M6.78 17.78a.75.75 0 1 0-1.06-1.06l-1.97 1.97l-.47-.47a.75.75 0 0 0-1.06 1.06l1 1a.75.75 0 0 0 1.06 0zm0-7.56a.75.75 0 0 1 0 1.06l-2.5 2.5a.75.75 0 0 1-1.06 0l-1-1a.75.75 0 1 1 1.06-1.06l.47.47l1.97-1.97a.75.75 0 0 1 1.06 0",
    }),
  });
}
function zb(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M17.75 16a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1 0-1.5zM2.72 9.22a.75.75 0 0 1 .976-.073l.084.073l2 2a.75.75 0 0 1 .073.976l-.073.084l-2 2a.75.75 0 0 1-1.133-.976l.073-.084l1.47-1.47l-1.47-1.47a.75.75 0 0 1 0-1.06M20.75 11a.75.75 0 0 1 0 1.5h-12a.75.75 0 0 1 0-1.5zm-3-5a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1 0-1.5z",
    }),
  });
}
const Td = "storage-product-row",
  as = {
    [qr.text]: {
      title: "customProps.text",
      icon: Mb,
      minTitle: "customProps.minLength",
      minDes: "customProps.emptyLimit",
      maxTitle: "customProps.maxLength",
      maxDes: "customProps.emptyLimit",
    },
    [qr.number]: {
      title: "customProps.number",
      icon: wm,
      minTitle: "customProps.minValue",
      minDes: "customProps.emptyLimit",
      maxTitle: "customProps.maxValue",
      maxDes: "customProps.emptyLimit",
    },
    [qr.boolean]: { title: "customProps.boolean", icon: $b },
    [qr.select]: { title: "customProps.select", icon: zb, showOptions: !0 },
    [qr.multi_select]: { title: "customProps.multiSelect", icon: Nb, showOptions: !0 },
    [qr.user]: { title: "customProps.user", icon: bv, pro: !0 },
    [qr.link]: {
      title: "customProps.link",
      icon: Mp,
      minTitle: "customProps.minLength",
      minDes: "customProps.emptyLimit",
      maxTitle: "customProps.maxLength",
      maxDes: "customProps.emptyLimit",
    },
    [qr.rating]: { title: "customProps.rating", icon: Wb, maxRequired: !0, maxTitle: "customProps.maxValue" },
  },
  Lb = N.memo(
    N.forwardRef(
      (
        {
          customProps: e,
          index: t,
          moveRow: n,
          onEdit: i,
          onDelete: a,
          onMoveUp: s,
          onMoveDown: o,
          isFirst: l,
          isLast: d,
          t: c,
          style: u,
        },
        h,
      ) => {
        const p = Ge(),
          [, g] = ya({
            accept: Td,
            hover(_, S) {
              if (!(h && typeof h != "function" && h.current)) return;
              const y = _.index,
                w = t;
              if (y === w) return;
              const C = h.current.getBoundingClientRect(),
                O = (C.bottom - C.top) / 2,
                k = S.getClientOffset();
              if (!k) return;
              const D = k.y - C.top;
              (y < w && D < O) || (y > w && D > O) || (n(y, w), (_.index = w));
            },
          }),
          [{ isDragging: m }, v] = ja({
            type: Td,
            item: { index: t },
            collect: (_) => ({ isDragging: _.isDragging() }),
          }),
          x = (_) => {
            typeof h == "function" ? h(_) : h && (h.current = _), v(g(_));
          },
          j = as[e.type],
          b = j.icon;
        return r.jsxs(je, {
          ref: x,
          hover: !0,
          style: { opacity: m ? 0.5 : 1, cursor: "move", ...u },
          children: [
            r.jsx(we, {
              children: r.jsxs(T, {
                sx: { display: "flex", alignItems: "center", gap: 1 },
                children: [
                  e.icon && r.jsx(Cc, { icon: e.icon, width: 20, height: 20, color: p.palette.action.active }),
                  c(e.name, { ns: "application" }),
                ],
              }),
            }),
            r.jsx(we, {
              children: r.jsxs(T, {
                sx: { display: "flex", alignItems: "center", gap: 1 },
                children: [r.jsx(b, { width: 20, height: 20, sx: { color: p.palette.action.active } }), c(j.title)],
              }),
            }),
            r.jsx(we, { children: zp({ props: e, id: e.id, value: e.default ?? "" }, () => {}, !1, !0) }),
            r.jsxs(we, {
              children: [
                r.jsx($e, { size: "small", onClick: () => i(e), children: r.jsx(Pc, { fontSize: "small" }) }),
                r.jsx($e, { size: "small", onClick: () => a(e.id), children: r.jsx(ji, { fontSize: "small" }) }),
              ],
            }),
            r.jsxs(we, {
              children: [
                r.jsx($e, {
                  size: "small",
                  onClick: s,
                  disabled: l,
                  children: r.jsx(kr, { sx: { width: "18px", height: "18px", transform: "rotate(180deg)" } }),
                }),
                r.jsx($e, {
                  size: "small",
                  onClick: o,
                  disabled: d,
                  children: r.jsx(kr, { sx: { width: "18px", height: "18px" } }),
                }),
              ],
            }),
          ],
        });
      },
    ),
  ),
  Bb = ({ open: e, onClose: t, onSave: n, isNew: i, props: a }) => {
    var h;
    const { t: s } = F("dashboard"),
      o = f.useRef(null),
      [l, d] = f.useState(a),
      c = () => {
        var p, g;
        if (!((p = o.current) != null && p.checkValidity())) {
          (g = o.current) == null || g.reportValidity();
          return;
        }
        n({ ...l }), t();
      };
    if (
      (f.useEffect(() => {
        a && d({ ...a }),
          e ||
            setTimeout(() => {
              d(void 0);
            }, 100);
      }, [e, a]),
      !l || !l.type)
    )
      return null;
    const u = as[l == null ? void 0 : l.type];
    return r.jsx(st, {
      title: s(i ? "customProps.addProp" : "customProps.editProp"),
      showActions: !0,
      showCancel: !0,
      onAccept: c,
      dialogProps: { open: e, onClose: t, fullWidth: !0, maxWidth: "sm" },
      children: r.jsx(gt, {
        children: r.jsxs(T, {
          component: "form",
          ref: o,
          sx: { display: "flex", flexDirection: "column", gap: 2, mt: 1 },
          children: [
            r.jsx(P, {
              title: s("customProps.id"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, {
                    disabled: !i,
                    slotProps: {
                      htmlInput: { max: 128, pattern: "^[a-zA-Z0-9_-]+$", title: s("customProps.idPatternDes") },
                    },
                    value: (l == null ? void 0 : l.id) || "",
                    required: !0,
                    onChange: (p) => d({ ...l, id: p.target.value }),
                  }),
                  r.jsx(A, { children: s("customProps.idDes") }),
                ],
              }),
            }),
            r.jsx(P, {
              title: s("settings.displayName"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, {
                    value: (l == null ? void 0 : l.name) || "",
                    onChange: (p) => d({ ...l, name: p.target.value }),
                    required: !0,
                  }),
                  r.jsx(A, { children: s("settings.displayNameDes") }),
                ],
              }),
            }),
            r.jsx(P, {
              title: s("customProps.icon"),
              lgWidth: 12,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, {
                    value: (l == null ? void 0 : l.icon) || "",
                    onChange: (p) => d({ ...l, icon: p.target.value }),
                  }),
                  r.jsx(A, {
                    children: r.jsx(X, {
                      i18nKey: "dashboard:customProps.iconDes",
                      components: [r.jsx(Z, { target: "_blank", href: "https://icon-sets.iconify.design/" })],
                    }),
                  }),
                ],
              }),
            }),
            (u.minTitle || u.maxTitle) &&
              r.jsxs(_t, {
                container: !0,
                spacing: 2,
                size: { xs: 12 },
                children: [
                  u.minTitle &&
                    r.jsx(P, {
                      title: s(u.minTitle),
                      lgWidth: 6,
                      noContainer: !0,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(W, {
                            type: "number",
                            value: (l == null ? void 0 : l.min) || "",
                            onChange: (p) => d({ ...l, min: parseInt(p.target.value) }),
                          }),
                          u.minDes && r.jsx(A, { children: s(u.minDes) }),
                        ],
                      }),
                    }),
                  u.maxTitle &&
                    r.jsx(P, {
                      title: s(u.maxTitle),
                      lgWidth: 6,
                      noContainer: !0,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(W, {
                            type: "number",
                            required: u.maxRequired,
                            value: (l == null ? void 0 : l.max) || "",
                            onChange: (p) => d({ ...l, max: parseInt(p.target.value) }),
                          }),
                          u.maxDes && r.jsx(A, { children: s(u.maxDes) }),
                        ],
                      }),
                    }),
                ],
              }),
            u.showOptions &&
              r.jsx(P, {
                title: s("customProps.options"),
                lgWidth: 12,
                children: r.jsxs($, {
                  fullWidth: !0,
                  children: [
                    r.jsx(W, {
                      multiline: !0,
                      rows: 4,
                      value:
                        ((h = l == null ? void 0 : l.options) == null
                          ? void 0
                          : h.join(`
`)) || "",
                      onChange: (p) =>
                        d({
                          ...l,
                          options: p.target.value.split(`
`),
                        }),
                    }),
                    r.jsx(A, { children: s("customProps.optionsDes") }),
                  ],
                }),
              }),
            r.jsx(P, {
              title: s("customProps.default"),
              lgWidth: 12,
              children: r.jsx($, {
                fullWidth: !0,
                children: zp(
                  { props: l, id: l.id, value: l.default ?? "" },
                  (p) => {
                    d({ ...l, default: p });
                  },
                  !1,
                  !1,
                  !0,
                ),
              }),
            }),
          ],
        }),
      }),
    });
  },
  Rb = () => {
    const { t: e } = F("dashboard"),
      { formRef: t, setSettings: n, values: i } = f.useContext(vt),
      [a, s] = f.useState([]),
      [o, l] = f.useState(!1),
      [d, c] = f.useState(!1),
      [u, h] = f.useState(void 0),
      [p, g] = f.useState(!1),
      m = en({ variant: "popover", popupId: "newProp" }),
      { onClose: v, ...x } = Lp(m);
    f.useEffect(() => {
      try {
        s(JSON.parse(i.custom_props || "[]"));
      } catch {
        s([]);
      }
    }, [i.custom_props]);
    const j = f.useCallback(
        (O) => {
          n({ custom_props: JSON.stringify(O) });
        },
        [n],
      ),
      b = f.useCallback(
        (O) => {
          const k = a.filter((D) => D.id !== O);
          s(k), j(k);
        },
        [a, j],
      ),
      _ = f.useCallback(
        (O) => {
          const k = a.findIndex((E) => E.id === O.id);
          let D;
          k >= 0 ? ((D = [...a]), (D[k] = O)) : (D = [...a, O]), s(D), j(D);
        },
        [a, j],
      ),
      S = f.useCallback(
        (O, k) => {
          if (O === k) return;
          const D = [...a],
            [E] = D.splice(O, 1);
          D.splice(k, 0, E), s(D), j(D);
        },
        [a, j],
      ),
      y = (O) => {
        O <= 0 || S(O, O - 1);
      },
      w = (O) => {
        O >= a.length - 1 || S(O, O + 1);
      },
      C = (O) => {
        h({ type: O, id: "", name: "", default: "" }), c(!0), l(!0), v();
      };
    return r.jsxs(T, {
      component: "form",
      ref: t,
      onSubmit: (O) => O.preventDefault(),
      children: [
        r.jsxs(le, {
          spacing: 1,
          children: [
            r.jsx(Er, { open: p, onClose: () => g(!1) }),
            r.jsxs(T, {
              sx: { display: "flex", justifyContent: "space-between", alignItems: "center", mb: 1 },
              children: [
                r.jsx(ke, { variant: "contained", startIcon: r.jsx(Rt, {}), ...tn(m), children: e("customProps.add") }),
                r.jsx(Bp, {
                  onClose: v,
                  anchorOrigin: { vertical: "bottom", horizontal: "left" },
                  transformOrigin: { vertical: "top", horizontal: "left" },
                  ...x,
                  children: Object.keys(as).map((O, k) => {
                    const D = as[O],
                      E = D.icon;
                    return r.jsxs(
                      he,
                      {
                        dense: !0,
                        onClick: () => (D.pro ? g(!0) : C(O)),
                        children: [
                          r.jsx(gr, { children: r.jsx(E, {}) }),
                          e(D.title),
                          D.pro && r.jsx(It, { label: "Pro", color: "primary", size: "small" }),
                        ],
                      },
                      k,
                    );
                  }),
                }),
              ],
            }),
            r.jsx(ot, {
              component: xt,
              children: r.jsx(ba, {
                backend: _a,
                children: r.jsxs(lt, {
                  sx: { width: "100%" },
                  size: "small",
                  children: [
                    r.jsx(ct, {
                      children: r.jsxs(je, {
                        children: [
                          r.jsx(we, { children: e("settings.displayName") }),
                          r.jsx(we, { children: e("customProps.type") }),
                          r.jsx(we, { children: e("customProps.default") }),
                          r.jsx(we, { children: e("settings.actions") }),
                          r.jsx(we, {}),
                        ],
                      }),
                    }),
                    r.jsxs(dt, {
                      children: [
                        a.map((O, k) => {
                          const D = f.createRef();
                          return r.jsx(
                            Lb,
                            {
                              ref: D,
                              customProps: O,
                              index: k,
                              moveRow: S,
                              onEdit: (E) => {
                                h(E), c(!1), l(!0);
                              },
                              onDelete: b,
                              onMoveUp: () => y(k),
                              onMoveDown: () => w(k),
                              isFirst: k === 0,
                              isLast: k === a.length - 1,
                              t: e,
                            },
                            O.id,
                          );
                        }),
                        a.length === 0 &&
                          r.jsx(je, {
                            children: r.jsx(we, {
                              colSpan: 6,
                              align: "center",
                              children: r.jsx(L, {
                                variant: "caption",
                                color: "text.secondary",
                                children: e("application:setting.listEmpty"),
                              }),
                            }),
                          }),
                      ],
                    }),
                  ],
                }),
              }),
            }),
          ],
        }),
        r.jsx(Bb, { open: o, onClose: () => l(!1), onSave: _, isNew: d, props: u }),
      ],
    });
  },
  $d = "emoji-row";
function Fb({
  r: e,
  i: t,
  moveRow: n,
  configParsed: i,
  inputCache: a,
  setInputCache: s,
  onChange: o,
  isFirst: l,
  isLast: d,
}) {
  const c = N.useRef(null),
    [, u] = ya({
      accept: $d,
      hover(g, m) {
        if (!c.current) return;
        const v = g.index,
          x = t;
        if (v === x) return;
        const j = c.current.getBoundingClientRect(),
          b = (j.bottom - j.top) / 2,
          _ = m.getClientOffset();
        if (!_) return;
        const S = _.y - j.top;
        (v < x && S < b) || (v > x && S > b) || (n(v, x), (g.index = x));
      },
    }),
    [{ isDragging: h }, p] = ja({ type: $d, item: { index: t }, collect: (g) => ({ isDragging: g.isDragging() }) });
  return (
    p(u(c)),
    r.jsxs(je, {
      ref: c,
      sx: { "&:last-child td, &:last-child th": { border: 0 }, opacity: h ? 0.5 : 1, cursor: "move" },
      hover: !0,
      children: [
        r.jsx(we, {
          children: r.jsx(W, {
            fullWidth: !0,
            required: !0,
            value: e,
            onChange: (g) => {
              const m = { ...i, [g.target.value]: i[e] };
              delete m[e], o(JSON.stringify(m));
            },
          }),
        }),
        r.jsx(we, {
          children: r.jsx(W, {
            fullWidth: !0,
            multiline: !0,
            required: !0,
            value: a[t] ?? i[e].join(),
            onBlur: () => {
              var g;
              o(JSON.stringify({ ...i, [e]: ((g = a[t]) == null ? void 0 : g.split(",")) ?? i[e] })),
                s({ ...a, [t]: void 0 });
            },
            onChange: (g) => s({ ...a, [t]: g.target.value }),
          }),
        }),
        r.jsxs(we, {
          children: [
            r.jsx($e, {
              onClick: () => {
                const g = { ...i };
                delete g[e], o(JSON.stringify(g));
              },
              size: "small",
              children: r.jsx(ji, { fontSize: "small" }),
            }),
            r.jsx($e, {
              size: "small",
              onClick: () => n(t, t - 1),
              disabled: l,
              children: r.jsx(kr, { sx: { width: "18px", height: "18px", transform: "rotate(180deg)" } }),
            }),
            r.jsx($e, {
              size: "small",
              onClick: () => n(t, t + 1),
              disabled: d,
              children: r.jsx(kr, { sx: { width: "18px", height: "18px" } }),
            }),
          ],
        }),
      ],
    })
  );
}
const Vb = f.memo(({ config: e, onChange: t }) => {
    const { t: n } = F("dashboard"),
      [i, a] = f.useState(!1),
      s = f.useMemo(() => JSON.parse(e), [e]),
      [o, l] = f.useState({});
    return r.jsxs(le, {
      spacing: 1,
      children: [
        r.jsxs(T, {
          children: [
            !i && r.jsx(ke, { variant: "contained", onClick: () => a(!i), children: n("settings.showSettings") }),
            i &&
              Object.keys(s ?? {}).length > 0 &&
              r.jsx(ba, {
                backend: _a,
                children: r.jsx(ot, {
                  sx: { mt: 1, maxHeight: 440 },
                  component: xt,
                  children: r.jsxs(lt, {
                    stickyHeader: !0,
                    sx: { width: "100%", tableLayout: "fixed" },
                    size: "small",
                    children: [
                      r.jsx(ct, {
                        children: r.jsxs(je, {
                          children: [
                            r.jsx(M, { width: 64, children: n("settings.category") }),
                            r.jsx(M, { width: 200, children: n("settings.emojiOptions") }),
                            r.jsx(M, { width: 100, children: n("settings.actions") }),
                          ],
                        }),
                      }),
                      r.jsx(dt, {
                        children: Object.keys(s ?? {}).map((d, c, u) =>
                          r.jsx(
                            Fb,
                            {
                              r: d,
                              i: c,
                              moveRow: (h, p) => {
                                if (h === p || p < 0 || p >= u.length) return;
                                const g = Object.keys(s),
                                  m = Object.values(s),
                                  [v] = g.splice(h, 1),
                                  [x] = m.splice(h, 1);
                                g.splice(p, 0, v), m.splice(p, 0, x);
                                const j = {};
                                g.forEach((b, _) => {
                                  j[b] = m[_];
                                }),
                                  t(JSON.stringify(j));
                              },
                              configParsed: s,
                              inputCache: o,
                              setInputCache: l,
                              onChange: t,
                              isFirst: c === 0,
                              isLast: c === u.length - 1,
                              t: n,
                            },
                            c,
                          ),
                        ),
                      }),
                    ],
                  }),
                }),
              }),
          ],
        }),
        i &&
          r.jsx(T, {
            children: r.jsx(ke, {
              variant: "contained",
              startIcon: r.jsx(Rt, {}),
              onClick: () => t(JSON.stringify({ ...s, "": [] })),
              children: n("settings.addCategorize"),
            }),
          }),
      ],
    });
  }),
  qb = et(Ue)(() => ({
    "& .MuiFilledInput-input": { "&:focus": { backgroundColor: "initial" } },
    backgroundColor: "initial",
  })),
  Ub = ({ icon: e }) => {
    const t = Ge(),
      n = f.useMemo(() => {
        if (e.icon) return Sm[e.icon];
      }, [e.icon]),
      i = f.useMemo(
        () =>
          t.palette.mode == "dark"
            ? e.color_dark ?? e.color ?? t.palette.action.active
            : e.color ?? t.palette.action.active,
        [e.color, e.color_dark, t],
      );
    return n
      ? r.jsx(n, { sx: { color: i, fontSize: 32 } })
      : e.iconify
        ? r.jsx(Cc, { icon: e.iconify, color: i, fontSize: 32 })
        : r.jsx(T, { component: e.img ? "img" : "div", sx: { width: "32px", height: "32px" }, src: e.img });
  },
  Kb = f.memo(({ config: e, onChange: t }) => {
    const { t: n } = F("dashboard"),
      i = f.useMemo(() => JSON.parse(e), [e]),
      [a, s] = f.useState({}),
      [o, l] = f.useState({}),
      [d, c] = f.useState({});
    return r.jsxs(T, {
      children: [
        (i == null ? void 0 : i.length) > 0 &&
          r.jsx(ot, {
            sx: { mt: 1, maxHeight: 440 },
            component: xt,
            children: r.jsxs(lt, {
              stickyHeader: !0,
              sx: { width: "100%", tableLayout: "fixed" },
              size: "small",
              children: [
                r.jsx(ct, {
                  children: r.jsxs(je, {
                    children: [
                      r.jsx(M, { width: 64, children: n("settings.icon") }),
                      r.jsx(M, { width: 250, children: n("settings.iconUrl") }),
                      r.jsx(M, { width: 150, children: n("settings.iconColor") }),
                      r.jsx(M, { width: 150, children: n("settings.iconColorDark") }),
                      r.jsx(M, { width: 200, children: n("settings.exts") }),
                      r.jsx(M, { width: 64 }),
                    ],
                  }),
                }),
                r.jsx(dt, {
                  children: i.map((u, h) => {
                    const p = d[h] ?? (u.img ? "imageUrl" : u.iconify ? "iconifyName" : "imageUrl"),
                      g = o[h] ?? (p === "imageUrl" ? u.img : u.iconify) ?? "";
                    return r.jsxs(
                      je,
                      {
                        sx: { "&:last-child td, &:last-child th": { border: 0 } },
                        hover: !0,
                        children: [
                          r.jsx(we, { children: r.jsx(Ub, { icon: u }) }),
                          r.jsx(we, {
                            children: u.icon
                              ? n("settings.builtinIcon")
                              : r.jsx(W, {
                                  fullWidth: !0,
                                  required: !0,
                                  sx: { "& .MuiInputBase-root.MuiOutlinedInput-root": { paddingLeft: "0" } },
                                  value: g,
                                  onBlur: () => {
                                    const m = [...i],
                                      v = { ...u };
                                    p === "imageUrl"
                                      ? ((v.img = g), (v.iconify = void 0))
                                      : ((v.iconify = g), (v.img = void 0)),
                                      (m[h] = v),
                                      t(JSON.stringify(m)),
                                      l({ ...o, [h]: void 0 });
                                  },
                                  onChange: (m) => l({ ...o, [h]: m.target.value }),
                                  slotProps: {
                                    input: {
                                      startAdornment: r.jsx(Lr, {
                                        position: "start",
                                        children: r.jsxs(qb, {
                                          value: p,
                                          onChange: (m) => {
                                            const v = m.target.value;
                                            c({ ...d, [h]: v }), l({ ...o, [h]: "" });
                                            const x = [...i],
                                              j = { ...u };
                                            v === "imageUrl"
                                              ? ((j.img = ""), (j.iconify = void 0))
                                              : ((j.iconify = ""), (j.img = void 0)),
                                              (x[h] = j),
                                              t(JSON.stringify(x));
                                          },
                                          renderValue: (m) =>
                                            r.jsx(L, { variant: "body2", children: n(`settings.${m}`) }),
                                          size: "small",
                                          variant: "filled",
                                          children: [
                                            r.jsx(he, {
                                              value: "imageUrl",
                                              children: r.jsx(de, {
                                                slotProps: { primary: { variant: "body2" } },
                                                children: n("settings.imageUrl"),
                                              }),
                                            }),
                                            r.jsx(he, {
                                              value: "iconifyName",
                                              children: r.jsx(de, {
                                                slotProps: { primary: { variant: "body2" } },
                                                children: n("settings.iconifyName"),
                                              }),
                                            }),
                                          ],
                                        }),
                                      }),
                                    },
                                  },
                                }),
                          }),
                          r.jsx(we, {
                            children:
                              !u.icon && !u.iconify
                                ? "-"
                                : r.jsx(Vn, {
                                    currentColor: u.color ?? "",
                                    onColorChange: (m) =>
                                      t(JSON.stringify([...i.slice(0, h), { ...u, color: m }, ...i.slice(h + 1)])),
                                  }),
                          }),
                          r.jsx(we, {
                            children:
                              !u.icon && !u.iconify
                                ? "-"
                                : r.jsx(Vn, {
                                    currentColor: u.color_dark ?? "",
                                    onColorChange: (m) =>
                                      t(JSON.stringify([...i.slice(0, h), { ...u, color_dark: m }, ...i.slice(h + 1)])),
                                  }),
                          }),
                          r.jsx(we, {
                            children: r.jsx(W, {
                              fullWidth: !0,
                              multiline: !0,
                              required: !0,
                              value: a[h] ?? u.exts.join(),
                              onBlur: () => {
                                var m;
                                t(
                                  JSON.stringify([
                                    ...i.slice(0, h),
                                    { ...u, exts: ((m = a[h]) == null ? void 0 : m.split(",")) ?? u.exts },
                                    ...i.slice(h + 1),
                                  ]),
                                ),
                                  s({ ...a, [h]: void 0 });
                              },
                              onChange: (m) => s({ ...a, [h]: m.target.value }),
                            }),
                          }),
                          r.jsx(we, {
                            children:
                              !u.icon &&
                              r.jsx($e, {
                                onClick: () => t(JSON.stringify(i.filter((m, v) => v !== h))),
                                size: "small",
                                children: r.jsx(ji, { fontSize: "small" }),
                              }),
                          }),
                        ],
                      },
                      h,
                    );
                  }),
                }),
              ],
            }),
          }),
        r.jsx(ke, {
          variant: "contained",
          startIcon: r.jsx(Rt, {}),
          sx: { mt: 1 },
          onClick: () => t(JSON.stringify([...i, { img: "", exts: [] }])),
          children: n("settings.addIcon"),
        }),
      ],
    });
  }),
  Hb = () => {
    const { t: e } = F("dashboard"),
      { formRef: t, setSettings: n, values: i } = f.useContext(vt);
    f.useState(!1), ge(), ut();
    const a = f.useCallback((o) => n({ explorer_icons: o }), []),
      s = f.useCallback((o) => n({ emojis: o }), []);
    return r.jsx(T, {
      component: "form",
      ref: t,
      onSubmit: (o) => o.preventDefault(),
      children: r.jsxs(le, {
        spacing: 5,
        children: [
          r.jsxs(Ee, {
            children: [
              r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("settings.fileIcons") }),
              r.jsx(Ie, { children: r.jsx(Kb, { config: i.explorer_icons, onChange: a }) }),
            ],
          }),
          r.jsxs(Ee, {
            children: [
              r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("settings.emojiOptions") }),
              r.jsx(Ie, { children: r.jsx(Vb, { config: i.emojis, onChange: s }) }),
            ],
          }),
        ],
      }),
    });
  },
  Gb = () => {
    const { t: e } = F("dashboard"),
      { setSettings: t, values: n } = f.useContext(vt),
      [i, a] = f.useState(!1),
      s = ge(),
      { enqueueSnackbar: o } = ut(),
      l = () => {
        a(!0),
          s(Cm())
            .then(() => {
              a(!1), o(e("settings.cacheCleared"), { variant: "success", action: nt });
            })
            .catch(() => {
              a(!1);
            });
      };
    return r.jsxs(Ee, {
      children: [
        r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("settings.advanceOptions") }),
        r.jsxs(Ie, {
          children: [
            r.jsx(P, {
              title: e("settings.archiveTimeout"),
              lgWidth: 5,
              children: r.jsx(W, {
                type: "number",
                inputProps: { min: 1, setp: 1 },
                value: n.archive_timeout,
                onChange: (d) => t({ archive_timeout: d.target.value }),
                required: !0,
              }),
            }),
            r.jsxs(P, {
              title: e("settings.uploadSessionTimeout"),
              lgWidth: 5,
              children: [
                r.jsx(W, {
                  type: "number",
                  inputProps: { min: 1, setp: 1 },
                  value: n.upload_session_timeout,
                  onChange: (d) => t({ upload_session_timeout: d.target.value }),
                  required: !0,
                }),
                r.jsx(A, { children: e("settings.uploadSessionDes") }),
              ],
            }),
            r.jsxs(P, {
              title: e("settings.slaveAPIExpiration"),
              lgWidth: 5,
              children: [
                r.jsx(W, {
                  type: "number",
                  inputProps: { min: 1, setp: 1 },
                  value: n.slave_api_timeout,
                  onChange: (d) => t({ slave_api_timeout: d.target.value }),
                  required: !0,
                }),
                r.jsx(A, { children: e("settings.slaveAPIExpirationDes") }),
              ],
            }),
            r.jsxs(P, {
              title: e("settings.folderPropsTimeout"),
              lgWidth: 5,
              children: [
                r.jsx(W, {
                  type: "number",
                  inputProps: { min: 1, setp: 1 },
                  value: n.folder_props_timeout,
                  onChange: (d) => t({ folder_props_timeout: d.target.value }),
                  required: !0,
                }),
                r.jsx(A, { children: e("settings.folderPropsTimeoutDes") }),
              ],
            }),
            r.jsxs(P, {
              title: e("settings.failedChunkRetry"),
              lgWidth: 5,
              children: [
                r.jsx(W, {
                  type: "number",
                  inputProps: { min: 0, setp: 1 },
                  value: n.chunk_retries,
                  onChange: (d) => t({ chunk_retries: d.target.value }),
                  required: !0,
                }),
                r.jsx(A, { children: e("settings.failedChunkRetryDes") }),
              ],
            }),
            r.jsx(P, {
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(xe, {
                    control: r.jsx(Oe, {
                      checked: Ot(n.use_temp_chunk_buffer),
                      onChange: (d) => t({ use_temp_chunk_buffer: d.target.checked ? "1" : "0" }),
                    }),
                    label: e("settings.cacheChunks"),
                  }),
                  r.jsx(A, { children: e("settings.cacheChunksDes") }),
                ],
              }),
            }),
            r.jsxs(P, {
              title: e("settings.transitParallelNum"),
              lgWidth: 5,
              children: [
                r.jsx(W, {
                  type: "number",
                  inputProps: { min: 1, setp: 1 },
                  value: n.max_parallel_transfer,
                  onChange: (d) => t({ max_parallel_transfer: d.target.value }),
                  required: !0,
                }),
                r.jsx(A, { children: e("settings.transitParallelNumDes") }),
              ],
            }),
            r.jsxs(P, {
              title: e("settings.oauthRefresh"),
              lgWidth: 5,
              children: [
                r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  value: n.cron_oauth_cred_refresh,
                  onChange: (d) => t({ cron_oauth_cred_refresh: d.target.value }),
                }),
                r.jsx(A, {
                  children: r.jsx(X, {
                    i18nKey: "settings.cronDes",
                    values: { des: e("settings.oauthRefreshDes") },
                    ns: "dashboard",
                    components: [
                      r.jsx(Z, { href: "https://crontab.guru/", target: "_blank", rel: "noopener noreferrer" }),
                    ],
                  }),
                }),
              ],
            }),
            r.jsxs(P, {
              title: e("settings.wopiSessionTimeout"),
              lgWidth: 5,
              children: [
                r.jsx(W, {
                  type: "number",
                  inputProps: { min: 1, setp: 1 },
                  value: n.viewer_session_timeout,
                  onChange: (d) => t({ viewer_session_timeout: d.target.value }),
                  required: !0,
                }),
                r.jsx(A, { children: e("settings.wopiSessionTimeoutDes") }),
              ],
            }),
            r.jsxs(P, {
              title: e("settings.fileBlobTimeout"),
              lgWidth: 5,
              children: [
                r.jsx(W, {
                  type: "number",
                  inputProps: { min: 1, setp: 1 },
                  value: n.entity_url_default_ttl,
                  onChange: (d) => t({ entity_url_default_ttl: d.target.value }),
                  required: !0,
                }),
                r.jsx(A, { children: e("settings.fileBlobTimeoutDes") }),
              ],
            }),
            r.jsxs(P, {
              title: e("settings.fileBlobMargin"),
              lgWidth: 5,
              children: [
                r.jsx(W, {
                  type: "number",
                  inputProps: { min: 1, setp: 1 },
                  value: n.entity_url_cache_margin,
                  onChange: (d) => t({ entity_url_cache_margin: d.target.value }),
                  required: !0,
                }),
                r.jsx(A, { children: e("settings.fileBlobMarginDes") }),
              ],
            }),
            r.jsx(P, {
              title: e("settings.blobUrlCache"),
              lgWidth: 5,
              anchorId: "clearBlobUrlCache",
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(T, {
                    children: r.jsx(ke, {
                      startIcon: r.jsx(Gy, {}),
                      variant: "contained",
                      loading: i,
                      color: "primary",
                      onClick: l,
                      children: e("settings.clearBlobUrlCache"),
                    }),
                  }),
                  r.jsx(A, { children: e("settings.clearBlobUrlCacheDes") }),
                ],
              }),
            }),
          ],
        }),
      ],
    });
  },
  Xb = () => {
    const { t: e } = F("dashboard"),
      { setSettings: t, values: n } = f.useContext(vt);
    return r.jsxs(Ee, {
      children: [
        r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("policy.fileEncryption") }),
        r.jsxs(Ie, {
          children: [
            r.jsx(P, {
              title: e("settings.masterEncryptionKeyVault"),
              lgWidth: 5,
              children: r.jsxs($, {
                children: [
                  r.jsxs(Ue, {
                    onChange: (i) => t({ encrypt_master_key_vault: i.target.value }),
                    value: n.encrypt_master_key_vault,
                    children: [
                      r.jsx(he, {
                        value: "setting",
                        children: r.jsx(de, {
                          slotProps: { primary: { variant: "body2" } },
                          children: e("settings.masterEncryptionKeyVaultSetting"),
                        }),
                      }),
                      r.jsx(he, {
                        value: "file",
                        children: r.jsx(de, {
                          slotProps: { primary: { variant: "body2" } },
                          children: e("settings.masterEncryptionKeyVaultFile"),
                        }),
                      }),
                      r.jsx(he, {
                        value: "env",
                        children: r.jsx(de, {
                          slotProps: { primary: { variant: "body2" } },
                          children: r.jsx(X, {
                            i18nKey: "settings.masterEncryptionKeyVaultEnv",
                            ns: "dashboard",
                            components: [r.jsx(oe, {})],
                          }),
                        }),
                      }),
                    ],
                  }),
                  r.jsx(A, {
                    children: r.jsx(X, {
                      i18nKey: "settings.masterEncryptionKeyVaultDes",
                      ns: "dashboard",
                      components: [
                        r.jsx(Z, {
                          href: "https://docs.cloudreve.org/usage/file-encryption#rotate-master-encryption-key",
                          target: "_blank",
                        }),
                      ],
                    }),
                  }),
                ],
              }),
            }),
            r.jsx(Ve, {
              in: n.encrypt_master_key_vault === "file",
              unmountOnExit: !0,
              children: r.jsx(P, {
                title: e("settings.masterEncryptionKeyVaultFilePath"),
                lgWidth: 5,
                children: r.jsx($, {
                  fullWidth: !0,
                  children: r.jsx(W, {
                    required: !0,
                    value: n.encrypt_master_key_file,
                    onChange: (i) => t({ encrypt_master_key_file: i.target.value }),
                  }),
                }),
              }),
            }),
            r.jsx(P, {
              lgWidth: 5,
              children: r.jsxs($, {
                children: [
                  r.jsx(xe, {
                    control: r.jsx(Oe, {
                      checked: Ot(n.show_encryption_status),
                      onChange: (i) => t({ show_encryption_status: i.target.checked ? "1" : "0" }),
                    }),
                    label: e("settings.showEncryptionStatus"),
                  }),
                  r.jsx(A, { children: r.jsx(X, { i18nKey: "settings.showEncryptionStatusDes", ns: "dashboard" }) }),
                ],
              }),
            }),
          ],
        }),
      ],
    });
  },
  Yb = () => {
    const { t: e } = F("dashboard"),
      { setSettings: t, values: n } = f.useContext(vt),
      i = f.useCallback((a) => {
        t({ mime_mapping: a.target.value });
      }, []);
    return r.jsxs(Ee, {
      children: [
        r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("nav.fileSystem") }),
        r.jsxs(Ie, {
          children: [
            r.jsx(P, {
              title: e("settings.textEditMaxSize"),
              lgWidth: 5,
              children: r.jsxs($, {
                children: [
                  r.jsx(tr, {
                    variant: "outlined",
                    required: !0,
                    allowZero: !1,
                    value: parseInt(n.maxEditSize) ?? 0,
                    onChange: (a) => t({ maxEditSize: a.toString() }),
                  }),
                  r.jsx(A, { children: e("settings.textEditMaxSizeDes") }),
                ],
              }),
            }),
            r.jsx(P, {
              title: e("settings.trashBinInterval"),
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, {
                    value: n.cron_trash_bin_collect,
                    onChange: (a) => t({ cron_trash_bin_collect: a.target.value }),
                    required: !0,
                  }),
                  r.jsx(A, {
                    children: r.jsx(X, {
                      i18nKey: "settings.cronDes",
                      values: { des: e("settings.trashBinIntervalDes") },
                      ns: "dashboard",
                      components: [
                        r.jsx(Z, { href: "https://crontab.guru/", target: "_blank", rel: "noopener noreferrer" }),
                      ],
                    }),
                  }),
                ],
              }),
            }),
            r.jsx(P, {
              title: e("settings.entityCollectInterval"),
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, {
                    value: n.cron_entity_collect,
                    onChange: (a) => t({ cron_entity_collect: a.target.value }),
                    required: !0,
                  }),
                  r.jsx(A, {
                    children: r.jsx(X, {
                      i18nKey: "settings.cronDes",
                      ns: "dashboard",
                      values: { des: e("settings.entityCollectIntervalDes") },
                      components: [
                        r.jsx(Z, { href: "https://crontab.guru/", target: "_blank", rel: "noopener noreferrer" }),
                      ],
                    }),
                  }),
                ],
              }),
            }),
            r.jsx(P, {
              title: e("settings.publicResourceMaxAge"),
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, {
                    type: "number",
                    inputProps: { min: 0, setp: 1 },
                    value: n.public_resource_maxage,
                    onChange: (a) => t({ public_resource_maxage: a.target.value }),
                    required: !0,
                  }),
                  r.jsx(A, { children: e("settings.publicResourceMaxAgeDes") }),
                ],
              }),
            }),
            r.jsx(P, {
              title: e("settings.defaultPagination"),
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsxs(Ue, {
                    renderValue: (a) =>
                      r.jsx(de, {
                        slotProps: { primary: { variant: "body2" } },
                        children: a == "0" ? e("settings.offsetPagination") : e("settings.cursorPagination"),
                      }),
                    onChange: (a) => t({ use_cursor_pagination: a.target.value }),
                    MenuProps: {
                      PaperProps: { sx: { maxWidth: 230 } },
                      MenuListProps: { sx: { "& .MuiMenuItem-root": { whiteSpace: "normal" } } },
                    },
                    value: n.use_cursor_pagination,
                    children: [
                      r.jsx(he, {
                        value: "0",
                        children: r.jsxs(T, {
                          sx: { display: "flex", flexDirection: "column" },
                          children: [
                            r.jsx(L, { variant: "body2", fontWeight: 600, children: e("settings.offsetPagination") }),
                            r.jsx(L, {
                              variant: "body2",
                              color: "textSecondary",
                              children: e("settings.offsetPaginationDes"),
                            }),
                          ],
                        }),
                      }),
                      r.jsx(he, {
                        value: "1",
                        children: r.jsxs(T, {
                          sx: { display: "flex", flexDirection: "column" },
                          children: [
                            r.jsx(L, { variant: "body2", fontWeight: 600, children: e("settings.cursorPagination") }),
                            r.jsx(L, {
                              variant: "body2",
                              color: "textSecondary",
                              children: e("settings.cursorPaginationDes"),
                            }),
                          ],
                        }),
                      }),
                    ],
                  }),
                  r.jsx(A, { children: e("settings.defaultPaginationDes") }),
                ],
              }),
            }),
            r.jsx(P, {
              title: e("settings.maxPageSize"),
              lgWidth: 5,
              children: r.jsxs($, {
                children: [
                  r.jsx(W, {
                    type: "number",
                    inputProps: { min: 0, setp: 1 },
                    value: n.max_page_size,
                    onChange: (a) => t({ max_page_size: a.target.value }),
                    required: !0,
                  }),
                  r.jsx(A, { children: e("settings.maxPageSizeDes") }),
                ],
              }),
            }),
            r.jsx(P, {
              title: e("settings.maxBatchSize"),
              lgWidth: 5,
              children: r.jsxs($, {
                children: [
                  r.jsx(W, {
                    type: "number",
                    inputProps: { min: 0, setp: 1 },
                    value: n.max_batched_file,
                    onChange: (a) => t({ max_batched_file: a.target.value }),
                    required: !0,
                  }),
                  r.jsx(A, { children: e("settings.maxBatchSizeDes") }),
                ],
              }),
            }),
            r.jsx(P, {
              title: e("settings.maxRecursiveSearch"),
              lgWidth: 5,
              children: r.jsxs($, {
                children: [
                  r.jsx(W, {
                    type: "number",
                    inputProps: { min: 0, setp: 1 },
                    value: n.max_recursive_searched_folder,
                    onChange: (a) => t({ max_recursive_searched_folder: a.target.value }),
                    required: !0,
                  }),
                  r.jsx(A, { children: e("settings.maxRecursiveSearchDes") }),
                ],
              }),
            }),
            r.jsx(P, {
              title: e("settings.mapProvider"),
              lgWidth: 5,
              children: r.jsxs($, {
                children: [
                  r.jsxs(Ue, {
                    onChange: (a) => t({ map_provider: a.target.value }),
                    value: n.map_provider,
                    children: [
                      r.jsx(he, {
                        value: "google",
                        children: r.jsx(de, {
                          slotProps: { primary: { variant: "body2" } },
                          children: e("settings.mapGoogle"),
                        }),
                      }),
                      r.jsx(he, {
                        value: "openstreetmap",
                        children: r.jsx(de, {
                          slotProps: { primary: { variant: "body2" } },
                          children: e("settings.mapOpenStreetMap"),
                        }),
                      }),
                      r.jsx(he, {
                        value: "mapbox",
                        children: r.jsx(de, {
                          slotProps: { primary: { variant: "body2" } },
                          children: e("settings.mapboxMap"),
                        }),
                      }),
                    ],
                  }),
                  r.jsx(A, { children: e("settings.mapProviderDes") }),
                ],
              }),
            }),
            r.jsx(Ve, {
              in: n.map_provider === "mapbox",
              unmountOnExit: !0,
              children: r.jsx(P, {
                title: e("settings.mapboxAccessToken"),
                lgWidth: 5,
                children: r.jsxs($, {
                  fullWidth: !0,
                  children: [
                    r.jsx(W, {
                      fullWidth: !0,
                      required: !0,
                      value: n.map_mapbox_ak ?? "",
                      onChange: (a) => t({ map_mapbox_ak: a.target.value }),
                    }),
                    r.jsx(A, {
                      children: r.jsx(X, {
                        i18nKey: "settings.mapboxAccessTokenDes",
                        ns: "dashboard",
                        components: [r.jsx(Z, { href: "https://account.mapbox.com/access-tokens", target: "_blank" })],
                      }),
                    }),
                  ],
                }),
              }),
            }),
            r.jsx(Ve, {
              in: n.map_provider === "google",
              unmountOnExit: !0,
              children: r.jsx(P, {
                title: e("settings.tileType"),
                lgWidth: 5,
                children: r.jsxs($, {
                  children: [
                    r.jsxs(Ue, {
                      onChange: (a) => t({ map_google_tile_type: a.target.value }),
                      value: n.map_google_tile_type,
                      children: [
                        r.jsx(he, {
                          value: "terrain",
                          children: r.jsx(de, {
                            slotProps: { primary: { variant: "body2" } },
                            children: e("settings.tileTypeTerrain"),
                          }),
                        }),
                        r.jsx(he, {
                          value: "satellite",
                          children: r.jsx(de, {
                            slotProps: { primary: { variant: "body2" } },
                            children: e("settings.tileTypeSatellite"),
                          }),
                        }),
                        r.jsx(he, {
                          value: "regular",
                          children: r.jsx(de, {
                            slotProps: { primary: { variant: "body2" } },
                            children: e("settings.tileTypeGeneral"),
                          }),
                        }),
                      ],
                    }),
                    r.jsx(A, { children: e("settings.tileTypeDes") }),
                  ],
                }),
              }),
            }),
            r.jsx(P, {
              title: e("settings.mimeMapping"),
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, { multiline: !0, rows: 6, value: n.mime_mapping, onChange: i, required: !0 }),
                  r.jsx(A, { children: e("settings.mimeMappingDes") }),
                ],
              }),
            }),
          ],
        }),
      ],
    });
  },
  Jb = () => {
    const { t: e } = F("dashboard"),
      { setSettings: t, values: n } = f.useContext(vt);
    return r.jsxs(Ee, {
      children: [
        r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("settings.searchQuery") }),
        r.jsxs(Ie, {
          children: [
            r.jsx(P, {
              title: e("application:navbar.photos"),
              children: r.jsx(W, {
                fullWidth: !0,
                value: n.explorer_category_image_query,
                onChange: (i) => t({ explorer_category_image_query: i.target.value }),
                required: !0,
              }),
            }),
            r.jsx(P, {
              title: e("application:navbar.videos"),
              children: r.jsx(W, {
                fullWidth: !0,
                value: n.explorer_category_video_query,
                onChange: (i) => t({ explorer_category_video_query: i.target.value }),
                required: !0,
              }),
            }),
            r.jsx(P, {
              title: e("application:navbar.music"),
              children: r.jsx(W, {
                fullWidth: !0,
                value: n.explorer_category_audio_query,
                onChange: (i) => t({ explorer_category_audio_query: i.target.value }),
                required: !0,
              }),
            }),
            r.jsx(P, {
              title: e("application:navbar.documents"),
              children: r.jsx(W, {
                fullWidth: !0,
                value: n.explorer_category_document_query,
                onChange: (i) => t({ explorer_category_document_query: i.target.value }),
                required: !0,
              }),
            }),
          ],
        }),
      ],
    });
  },
  Qb = () => {
    const { formRef: e } = f.useContext(vt);
    return r.jsx(T, {
      component: "form",
      ref: e,
      onSubmit: (t) => t.preventDefault(),
      children: r.jsxs(le, { spacing: 5, children: [r.jsx(Yb, {}), r.jsx(Jb, {}), r.jsx(Xb, {}), r.jsx(Gb, {})] }),
    });
  };
function Zb(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M16.668 3H4.25l-.154.005A2.25 2.25 0 0 0 2 5.25v10.502l.005.154a2.25 2.25 0 0 0 2.245 2.096h4.249V20.5H6.75l-.102.007A.75.75 0 0 0 6.75 22h10.5l.102-.006a.75.75 0 0 0-.102-1.494h-1.751v-2.498h4.25l.154-.005a2.25 2.25 0 0 0 2.096-2.245V9.5h-1.5v6.252l-.007.102a.75.75 0 0 1-.743.648H4.25l-.102-.007a.75.75 0 0 1-.648-.743V5.25l.007-.102A.75.75 0 0 1 4.25 4.5H16.5v-.75c0-.268.06-.523.168-.75m-6.67 15.002h4l.001 2.498h-4zM17.5 3.75a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-.75.75h-4a.75.75 0 0 1-.75-.75V7h-.323a.536.536 0 0 0-.508.366l-.914 2.742a2.036 2.036 0 0 1-1.932 1.392H13v1.75a.75.75 0 0 1-.75.75h-4a.75.75 0 0 1-.75-.75v-4a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 .75.75V10h.823c.23 0 .436-.148.508-.366l.914-2.742A2.036 2.036 0 0 1 17.177 5.5h.323zM19 6.268V7h2.5V4.5H19v1.732a1.067 1.067 0 0 1 0 .036M9 10v2.5h2.5V10z",
    }),
  });
}
function e0(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M8.75 11a.75.75 0 0 1 .75.75v2.916a4.754 4.754 0 0 0-1.25-.166H8v-2.75a.75.75 0 0 1 .75-.75M5.5 14.5V4a.5.5 0 0 1 .5-.5h6V8a2 2 0 0 0 2 2h4.5v10a.5.5 0 0 1-.5.5h-5.166a4.728 4.728 0 0 1-.71 1.5H18a2 2 0 0 0 2-2V9.828a2 2 0 0 0-.586-1.414l-1.173-1.173a.815.815 0 0 0-.02-.021l-4.854-4.854A1.25 1.25 0 0 0 12.483 2H6a2 2 0 0 0-2 2v10.559a4.78 4.78 0 0 1 .75-.059zm7.25 3.225V14.75a.75.75 0 0 0-1.5 0v.817a4.758 4.758 0 0 1 1.5 2.158M15.25 12a.75.75 0 0 1 .75.75v5.5a.75.75 0 0 1-1.5 0v-5.5a.75.75 0 0 1 .75-.75M13.5 4.621L17.378 8.5H14a.5.5 0 0 1-.5-.5zM8.25 15.5a3.75 3.75 0 0 1 .202 7.495L8.253 23v.005a.75.75 0 0 1-.108-1.493l.102-.007l.003-.005a2.25 2.25 0 0 0 .154-4.495L8.25 17a.75.75 0 0 1-.102-1.493zm-3.5 0a.75.75 0 0 1 .102 1.493L4.75 17a2.25 2.25 0 0 0-.154 4.495l.154.005a.75.75 0 0 1 .102 1.493L4.75 23a3.75 3.75 0 0 1-.2-7.495zm3.5 3a.75.75 0 0 1 .102 1.493L8.25 20h-3.5a.75.75 0 0 1-.102-1.493l.102-.007z",
    }),
  });
}
const t0 = f.lazy(() => rn(() => import("./MonacoEditor-BnsLKTuc.js"), __vite__mapDeps([0, 1, 2, 3, 4, 5, 6, 7]))),
  r0 = [
    {
      name: "{$src}",
      value: "settings.srcEncodedVar",
      example: "https%3A%2F%2Fcloudreve.org%2Fapi%2Fv4%2Ffile%2Fcontent%2FzOie%2F0%2Ftext.txt%3Fsign%3Dxxx",
    },
    {
      name: "{$src_raw}",
      value: "settings.srcVar",
      example: "https://cloudreve.org/api/v4/file/content/zOie/0/text.txt?sign=xxx",
    },
    {
      name: "{$src_raw_base64}",
      value: "settings.srcBase64Var",
      example: "aHR0cHM6Ly9jbG91ZHJldmUub3JnL2FwaS92NC9maWxlL2NvbnRlbnQvek9pZS8wL3RleHQudHh0P3NpZ249eHh4",
    },
    { name: "{$name}", value: "settings.nameEncodedVar", example: "sampleFile%5B1%5D.txt" },
    { name: "{$version}", value: "settings.versionEntityVar", example: "zOie" },
    { name: "{$id}", value: "settings.fileIdVar", example: "jm8AF8" },
    { name: "{$user_id}", value: "settings.userIdVar", example: "lpua" },
    { name: "{$user_display_name}", value: "settings.userDisplayNameVar", example: "Aaron%20Liu" },
  ],
  Wd = "template-row";
function n0({
  i: e,
  moveRow: t,
  onExtChange: n,
  onNameChange: i,
  onDelete: a,
  isFirst: s,
  isLast: o,
  extList: l,
  template: d,
}) {
  const c = N.useRef(null),
    [, u] = ya({
      accept: Wd,
      hover(g, m) {
        if (!c.current) return;
        const v = g.index,
          x = e;
        if (v === x) return;
        const j = c.current.getBoundingClientRect(),
          b = (j.bottom - j.top) / 2,
          _ = m.getClientOffset();
        if (!_) return;
        const S = _.y - j.top;
        (v < x && S < b) || (v > x && S > b) || (t(v, x), (g.index = x));
      },
    }),
    [{ isDragging: h }, p] = ja({ type: Wd, item: { index: e }, collect: (g) => ({ isDragging: g.isDragging() }) });
  return (
    p(u(c)),
    r.jsxs(je, {
      ref: c,
      sx: { "&:last-child td, &:last-child th": { border: 0 }, opacity: h ? 0.5 : 1, cursor: "move" },
      hover: !0,
      children: [
        r.jsx(M, {
          children: r.jsx(Ue, {
            value: d.ext,
            required: !0,
            onChange: n,
            children: l.map((g) =>
              r.jsx(
                he,
                { value: g, children: r.jsx(de, { slotProps: { primary: { variant: "body2" } }, children: g }) },
                g,
              ),
            ),
          }),
        }),
        r.jsx(M, { children: r.jsx(W, { fullWidth: !0, required: !0, value: d.display_name, onChange: i }) }),
        r.jsxs(M, {
          children: [
            r.jsx($e, { size: "small", onClick: a, children: r.jsx(ji, { fontSize: "small" }) }),
            r.jsx($e, {
              size: "small",
              onClick: () => t(e, e - 1),
              disabled: s,
              children: r.jsx(kr, { sx: { width: "18px", height: "18px", transform: "rotate(180deg)" } }),
            }),
            r.jsx($e, {
              size: "small",
              onClick: () => t(e, e + 1),
              disabled: o,
              children: r.jsx(kr, { sx: { width: "18px", height: "18px" } }),
            }),
          ],
        }),
      ],
    })
  );
}
const pf = ({ viewer: e, onChange: t, open: n, onClose: i }) => {
    var j, b, _;
    const { t: a } = F("dashboard"),
      s = Ge(),
      { enqueueSnackbar: o } = ut(),
      [l, d] = f.useState(void 0),
      c = N.useRef(null),
      [u, h] = f.useState(!1),
      [p, g] = f.useState(""),
      m = f.useMemo(() => Pm.includes(e.id), [e.id]);
    f.useEffect(() => {
      d({ ...e }), g("");
    }, [e, g, d]);
    const v = f.useCallback(() => {
        if (c.current && !c.current.checkValidity()) {
          c.current.reportValidity();
          return;
        }
        let S = l;
        if (!(!l || !S)) {
          if (p != "")
            try {
              const y = JSON.parse(p);
              (S = { ...l, wopi_actions: y }), d({ ...S });
            } catch {
              o({ message: a("settings.invalidWopiActionMapping"), variant: "warning", action: nt });
              return;
            }
          t(S), i();
        }
      }, [l, p, c]),
      x = f.useCallback((S) => {
        h(!0), S.stopPropagation(), S.preventDefault();
      }, []);
    return l
      ? r.jsx(st, {
          title: a("settings.editViewerTitle", { name: a(e.display_name, { ns: "application" }) }),
          showActions: !0,
          showCancel: !0,
          onAccept: v,
          dialogProps: { fullWidth: !0, maxWidth: "lg", open: n, onClose: i },
          children: r.jsxs(gt, {
            children: [
              r.jsx(Ys, { open: u, vars: r0, onClose: () => h(!1) }),
              r.jsx("form", {
                ref: c,
                children: r.jsxs(_t, {
                  spacing: 2,
                  container: !0,
                  children: [
                    r.jsxs(P, {
                      noContainer: !0,
                      lgWidth: 6,
                      title: a("settings.iconUrl"),
                      children: [
                        r.jsx(W, {
                          fullWidth: !0,
                          required: !m,
                          value: l.icon,
                          onChange: (S) => {
                            d((y) => ({ ...y, icon: S.target.value }));
                          },
                        }),
                        m && r.jsx(A, { children: a("settings.builtInIconUrlDes") }),
                      ],
                    }),
                    r.jsxs(P, {
                      noContainer: !0,
                      lgWidth: 6,
                      title: a("settings.displayName"),
                      children: [
                        r.jsx(W, {
                          fullWidth: !0,
                          required: !0,
                          value: l.display_name,
                          onChange: (S) => {
                            d((y) => ({ ...y, display_name: S.target.value }));
                          },
                        }),
                        r.jsx(A, { children: a("settings.displayNameDes") }),
                      ],
                    }),
                    r.jsx(P, {
                      noContainer: !0,
                      lgWidth: 6,
                      title: a("settings.exts"),
                      children: r.jsx(W, {
                        fullWidth: !0,
                        multiline: !0,
                        required: !0,
                        value: l.exts.join(),
                        onChange: (S) => d((y) => ({ ...y, exts: S.target.value.split(",").map((w) => w.trim()) })),
                      }),
                    }),
                    e.type == ts.custom &&
                      r.jsxs(P, {
                        noContainer: !0,
                        lgWidth: 6,
                        title: a("settings.viewerUrl"),
                        children: [
                          r.jsx(W, {
                            fullWidth: !0,
                            required: !0,
                            value: l.url,
                            onChange: (S) => d((y) => ({ ...y, url: S.target.value })),
                          }),
                          r.jsx(A, {
                            children: r.jsx(X, {
                              i18nKey: "settings.viewerUrlDes",
                              ns: "dashboard",
                              components: [r.jsx(Z, { onClick: x, href: "#" })],
                            }),
                          }),
                        ],
                      }),
                    r.jsx(P, {
                      noContainer: !0,
                      lgWidth: 6,
                      title: a("settings.maxSize"),
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(tr, {
                            variant: "outlined",
                            required: !0,
                            allowZero: !0,
                            value: l.max_size ?? 0,
                            onChange: (S) => d((y) => ({ ...y, max_size: S || void 0 })),
                          }),
                          r.jsx(A, { children: a("settings.maxSizeDes") }),
                        ],
                      }),
                    }),
                    r.jsx(P, {
                      noContainer: !0,
                      lgWidth: 6,
                      title: a("settings.viewerPlatform"),
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsxs(Ue, {
                            value: l.platform || Rp.all,
                            onChange: (S) => d((y) => ({ ...y, platform: S.target.value })),
                            children: [
                              r.jsx(he, {
                                value: "pc",
                                children: r.jsx(de, {
                                  slotProps: { primary: { variant: "body2" } },
                                  children: a("settings.viewerPlatformPC"),
                                }),
                              }),
                              r.jsx(he, {
                                value: "mobile",
                                children: r.jsx(de, {
                                  slotProps: { primary: { variant: "body2" } },
                                  children: a("settings.viewerPlatformMobile"),
                                }),
                              }),
                              r.jsx(he, {
                                value: "all",
                                children: r.jsx(de, {
                                  slotProps: { primary: { variant: "body2" } },
                                  children: a("settings.viewerPlatformAll"),
                                }),
                              }),
                            ],
                          }),
                          r.jsx(A, { children: a("settings.viewerPlatformDes") }),
                        ],
                      }),
                    }),
                    r.jsxs(P, {
                      noContainer: !0,
                      lgWidth: 6,
                      children: [
                        r.jsx(xe, {
                          control: r.jsx(Oe, {
                            checked: Ot(((j = l.props) == null ? void 0 : j.openInNew) ?? ""),
                            onChange: (S) =>
                              d((y) => ({
                                ...y,
                                props: {
                                  ...((y == null ? void 0 : y.props) ?? {}),
                                  openInNew: S.target.checked.toString(),
                                },
                              })),
                          }),
                          label: a("settings.openInNew"),
                        }),
                        r.jsx(A, { children: a("settings.openInNewDes") }),
                      ],
                    }),
                    e.id == Om.drawio &&
                      r.jsxs(P, {
                        noContainer: !0,
                        title: a("settings.drawioHost"),
                        lgWidth: 6,
                        children: [
                          r.jsx(W, {
                            fullWidth: !0,
                            required: !0,
                            value: ((b = l.props) == null ? void 0 : b.host) ?? "",
                            onChange: (S) =>
                              d((y) => ({
                                ...y,
                                props: { ...((y == null ? void 0 : y.props) ?? {}), host: S.target.value },
                              })),
                          }),
                          r.jsx(A, { children: a("settings.drawioHostDes") }),
                        ],
                      }),
                    e.type == ts.wopi &&
                      r.jsx(P, {
                        noContainer: !0,
                        title: a("settings.woapiActionMapping"),
                        lgWidth: 12,
                        children: r.jsx(f.Suspense, {
                          fallback: r.jsx(St, {}),
                          children: r.jsx(t0, {
                            theme: s.palette.mode === "dark" ? "vs-dark" : "vs",
                            value: p == "" ? JSON.stringify(l.wopi_actions, null, 4) : p,
                            height: "300px",
                            minHeight: "300px",
                            language: "json",
                            onChange: (S) => g(S),
                          }),
                        }),
                      }),
                    r.jsxs(P, {
                      noContainer: !0,
                      title: a("settings.newFileAction"),
                      lgWidth: 12,
                      children: [
                        (l == null ? void 0 : l.templates) &&
                          l.templates.length > 0 &&
                          r.jsx(ba, {
                            backend: _a,
                            children: r.jsx(ot, {
                              sx: { mt: 1, maxHeight: 440 },
                              component: xt,
                              children: r.jsxs(lt, {
                                stickyHeader: !0,
                                sx: { width: "100%", maxHeight: 300, tableLayout: "fixed" },
                                size: "small",
                                children: [
                                  r.jsx(ct, {
                                    children: r.jsxs(je, {
                                      children: [
                                        r.jsx(M, { width: 100, children: a("settings.ext") }),
                                        r.jsx(M, { width: 200, children: a("settings.displayName") }),
                                        r.jsx(M, { width: 100, children: a("settings.actions") }),
                                      ],
                                    }),
                                  }),
                                  r.jsx(dt, {
                                    children:
                                      (_ = l.templates) == null
                                        ? void 0
                                        : _.map((S, y) => {
                                            var w;
                                            return r.jsx(
                                              n0,
                                              {
                                                t: S,
                                                i: y,
                                                moveRow: (C, O) => {
                                                  var k;
                                                  C === O ||
                                                    O < 0 ||
                                                    O >= (((k = l.templates) == null ? void 0 : k.length) ?? 0) ||
                                                    d((D) => {
                                                      const E = [...((D == null ? void 0 : D.templates) ?? [])],
                                                        [I] = E.splice(C, 1);
                                                      return E.splice(O, 0, I), { ...D, templates: E };
                                                    });
                                                },
                                                onExtChange: (C) => {
                                                  const O = C.target.value;
                                                  d((k) => ({
                                                    ...k,
                                                    templates: ((k == null ? void 0 : k.templates) ?? []).map((D, E) =>
                                                      E == y ? { ...D, ext: O } : D,
                                                    ),
                                                  }));
                                                },
                                                onNameChange: (C) => {
                                                  d((O) => ({
                                                    ...O,
                                                    templates: ((O == null ? void 0 : O.templates) ?? []).map((k, D) =>
                                                      D == y ? { ...k, display_name: C.target.value } : k,
                                                    ),
                                                  }));
                                                },
                                                onDelete: () => {
                                                  d((C) => ({
                                                    ...C,
                                                    templates: ((C == null ? void 0 : C.templates) ?? []).filter(
                                                      (O, k) => k != y,
                                                    ),
                                                  }));
                                                },
                                                isFirst: y === 0,
                                                isLast:
                                                  y === (((w = l.templates) == null ? void 0 : w.length) ?? 0) - 1,
                                                extList: l.exts,
                                                template: S,
                                              },
                                              y,
                                            );
                                          }),
                                  }),
                                ],
                              }),
                            }),
                          }),
                        r.jsx(ke, {
                          sx: { mt: 1 },
                          variant: "contained",
                          startIcon: r.jsx(Rt, {}),
                          onClick: () =>
                            d((S) => {
                              var y;
                              return {
                                ...S,
                                templates: [
                                  ...((S == null ? void 0 : S.templates) ?? []),
                                  { ext: ((y = l.exts) == null ? void 0 : y[0]) ?? "", display_name: "" },
                                ],
                              };
                            }),
                          children: a("settings.addNewFileAction"),
                        }),
                        r.jsx(A, { children: a("settings.newFileActionDes") }),
                      ],
                    }),
                  ],
                }),
              }),
            ],
          }),
        })
      : null;
  },
  i0 = f.memo(
    f.forwardRef(
      ({ viewer: e, onChange: t, onDelete: n, onMoveUp: i, onMoveDown: a, isFirst: s, isLast: o, style: l }, d) => {
        var v, x;
        const { t: c } = F("dashboard"),
          [u, h] = f.useState(""),
          [p, g] = f.useState(!1),
          m = f.useCallback(() => {
            g(!1);
          }, [g]);
        return r.jsxs(je, {
          sx: { "&:last-child td, &:last-child th": { border: 0 } },
          hover: !0,
          ref: d,
          style: l,
          children: [
            r.jsx(pf, { viewer: e, onChange: t, open: p, onClose: m }),
            r.jsx(we, { children: r.jsx(km, { viewer: e }) }),
            r.jsx(we, { children: c(`settings.${e.type}ViewerType`) }),
            r.jsx(we, { children: c(e.display_name, { ns: "application" }) }),
            r.jsx(we, {
              children: r.jsx(W, {
                fullWidth: !0,
                multiline: !0,
                required: !0,
                value: u == "" ? e.exts.join() : u,
                onBlur: () => {
                  var j;
                  t({
                    ...e,
                    exts:
                      u == ""
                        ? e.exts
                        : (j = u == null ? void 0 : u.split(",")) == null
                          ? void 0
                          : j.map((b) => b.trim()),
                  }),
                    h("");
                },
                onChange: (j) => h(j.target.value),
              }),
            }),
            r.jsx(we, {
              children: r.jsxs(Ue, {
                value: e.platform || Rp.all,
                onChange: (j) => t({ ...e, platform: j.target.value }),
                children: [
                  r.jsx(he, {
                    value: "pc",
                    children: r.jsx(de, {
                      slotProps: { primary: { variant: "body2" } },
                      children: c("settings.viewerPlatformPC"),
                    }),
                  }),
                  r.jsx(he, {
                    value: "mobile",
                    children: r.jsx(de, {
                      slotProps: { primary: { variant: "body2" } },
                      children: c("settings.viewerPlatformMobile"),
                    }),
                  }),
                  r.jsx(he, {
                    value: "all",
                    children: r.jsx(de, {
                      slotProps: { primary: { variant: "body2" } },
                      children: c("settings.viewerPlatformAll"),
                    }),
                  }),
                ],
              }),
            }),
            r.jsx(we, {
              children:
                (v = e.templates) != null && v.length
                  ? c("settings.nMapping", { num: (x = e.templates) == null ? void 0 : x.length })
                  : c("share.none"),
            }),
            r.jsx(we, {
              children: r.jsx(yn, {
                size: "small",
                checked: !e.disabled,
                onChange: (j) => t({ ...e, disabled: !j.target.checked }),
              }),
            }),
            r.jsxs(we, {
              children: [
                r.jsx($e, { size: "small", onClick: () => g(!0), children: r.jsx(Pc, { fontSize: "small" }) }),
                e.type != ts.builtin &&
                  r.jsx($e, { size: "small", onClick: n, children: r.jsx(ji, { fontSize: "small" }) }),
              ],
            }),
            r.jsxs(we, {
              children: [
                r.jsx($e, {
                  size: "small",
                  onClick: i,
                  disabled: s,
                  children: r.jsx(kr, { sx: { width: "18px", height: "18px", transform: "rotate(180deg)" } }),
                }),
                r.jsx($e, {
                  size: "small",
                  onClick: a,
                  disabled: o,
                  children: r.jsx(kr, { sx: { width: "18px", height: "18px" } }),
                }),
              ],
            }),
          ],
        });
      },
    ),
  ),
  a0 = ({ open: e, onClose: t, onImported: n }) => {
    const { t: i } = F("dashboard"),
      a = ge(),
      [s, o] = f.useState(""),
      [l, d] = f.useState(!1),
      c = f.useCallback(() => {
        d(!0),
          a(Am({ endpoint: s }))
            .then((u) => {
              n(u), t();
            })
            .finally(() => {
              d(!1);
            });
      }, [s, t, n]);
    return r.jsx(st, {
      title: i("settings.importWopi"),
      showActions: !0,
      showCancel: !0,
      onAccept: c,
      disabled: s == "",
      loading: l,
      dialogProps: { fullWidth: !0, maxWidth: "md", open: e, onClose: t },
      children: r.jsx(gt, {
        children: r.jsxs(P, {
          lgWidth: 12,
          title: i("settings.wopiEndpoint"),
          children: [
            r.jsx(W, { value: s, fullWidth: !0, onChange: (u) => o(u.target.value) }),
            r.jsx(A, {
              children: r.jsx(X, {
                ns: "dashboard",
                i18nKey: "settings.wopiDes",
                components: [
                  r.jsx(oe, {}),
                  r.jsx(Z, { href: "https://docs.cloudreve.org/usage/wopi", target: "_blank" }),
                ],
              }),
            }),
          ],
        }),
      }),
    });
  },
  s0 = f.memo(function ({
    viewer: t,
    index: n,
    moveRow: i,
    onChange: a,
    onDelete: s,
    onMoveUp: o,
    onMoveDown: l,
    isLast: d,
    isFirst: c,
    dndType: u,
  }) {
    const h = f.useRef(null),
      [, p] = ya({
        accept: u,
        hover(v, x) {
          if (!h.current) return;
          const j = v.index,
            b = n;
          if (j === b) return;
          const _ = h.current.getBoundingClientRect(),
            S = (_.bottom - _.top) / 2,
            y = x.getClientOffset();
          if (!y) return;
          const w = y.y - _.top;
          (j < b && w < S) || (j > b && w > S) || (i(j, b), (v.index = b));
        },
      }),
      [{ isDragging: g }, m] = ja({ type: u, item: { index: n }, collect: (v) => ({ isDragging: v.isDragging() }) });
    return (
      m(p(h)),
      r.jsx(i0, {
        ref: h,
        viewer: t,
        onChange: a,
        onDelete: s,
        onMoveUp: o,
        onMoveDown: l,
        isLast: d,
        isFirst: c,
        style: { opacity: g ? 0.5 : 1, cursor: "move" },
      })
    );
  }),
  o0 = f.memo(({ group: e, index: t, onDelete: n, onGroupChange: i, dndType: a }) => {
    const { t: s } = F("dashboard"),
      o = f.useMemo(
        () =>
          e.viewers.map((g, m) => (v) => {
            i({ viewers: e.viewers.map((x, j) => (j == m ? v : x)) });
          }),
        [e.viewers],
      ),
      l = f.useMemo(
        () =>
          e.viewers.map((g, m) => (v) => {
            i({ viewers: e.viewers.filter((x, j) => j != m) }), v.preventDefault(), v.stopPropagation();
          }),
        [e.viewers],
      ),
      [d, c] = f.useState(e.viewers);
    f.useEffect(() => {
      c(e.viewers);
    }, [e.viewers]);
    const u = f.useCallback(
        (g, m) => {
          if (g === m) return;
          const v = [...d],
            [x] = v.splice(g, 1);
          v.splice(m, 0, x), c(v), i({ viewers: v });
        },
        [d, i],
      ),
      h = (g) => {
        g <= 0 || u(g, g - 1);
      },
      p = (g) => {
        g >= d.length - 1 || u(g, g + 1);
      };
    return r.jsxs(Cn, {
      defaultExpanded: t == 0,
      disableGutters: !0,
      slotProps: { transition: { unmountOnExit: !0 } },
      children: [
        r.jsx(Sn, {
          expandIcon: r.jsx(bn, {}),
          children: r.jsxs(T, {
            sx: { display: "flex", justifyContent: "space-between", width: "100%", alignItems: "center" },
            children: [
              r.jsx(L, { children: s("settings.viewerGroupTitle", { index: t + 1 }) }),
              t > 0 && r.jsx(Z, { href: "#", onClick: n, children: s("policy.delete") }),
            ],
          }),
        }),
        r.jsx(jn, {
          sx: { display: "block" },
          children: r.jsx(ba, {
            backend: _a,
            children: r.jsx(ot, {
              sx: { mt: 1, maxHeight: 440 },
              children: r.jsxs(lt, {
                stickyHeader: !0,
                sx: { width: "100%", tableLayout: "fixed" },
                size: "small",
                children: [
                  r.jsx(ct, {
                    children: r.jsxs(je, {
                      children: [
                        r.jsx(M, { width: 64, children: s("settings.icon") }),
                        r.jsx(M, { width: 100, children: s("settings.viewerType") }),
                        r.jsx(M, { width: 200, children: s("settings.displayName") }),
                        r.jsx(M, { width: 250, children: s("settings.exts") }),
                        r.jsx(M, { width: 150, children: s("settings.viewerPlatform") }),
                        r.jsx(M, { width: 100, children: s("settings.newFileAction") }),
                        r.jsx(M, { width: 64, children: s("settings.viewerEnabled") }),
                        r.jsx(M, { width: 100, children: s("settings.actions") }),
                        r.jsx(M, { width: 100 }),
                      ],
                    }),
                  }),
                  r.jsx(dt, {
                    children: d.map((g, m) =>
                      r.jsx(
                        s0,
                        {
                          viewer: g,
                          index: m,
                          moveRow: u,
                          onChange: o[m],
                          onDelete: l[m],
                          onMoveUp: () => h(m),
                          onMoveDown: () => p(m),
                          isFirst: m === 0,
                          isLast: m === d.length - 1,
                          dndType: a,
                        },
                        g.id,
                      ),
                    ),
                  }),
                ],
              }),
            }),
          }),
        }),
      ],
    });
  }),
  l0 = f.memo(({ config: e, onChange: t }) => {
    const { t: n } = F("dashboard"),
      i = en({ variant: "popover", popupId: "addNewViewer" }),
      [a, s] = f.useState(!1),
      [o, l] = f.useState(void 0),
      [d, c] = f.useState(!1),
      u = f.useMemo(() => JSON.parse(e), [e]),
      h = f.useCallback(
        (S) => {
          l(S);
          const y = [...u];
          y[0].viewers.push(S), t(JSON.stringify(y));
        },
        [u],
      ),
      p = f.useMemo(
        () =>
          u.map((S, y) => (w) => {
            t(JSON.stringify([...u].filter((C, O) => O != y))), w.preventDefault(), w.stopPropagation();
          }),
        [u],
      ),
      g = f.useMemo(
        () =>
          u.map((S, y) => (w) => {
            t(JSON.stringify([...u].map((C, O) => (O == y ? w : C))));
          }),
        [u],
      ),
      { onClose: m, ...v } = Lp(i),
      x = f.useCallback(() => {
        s(!1);
      }, []),
      j = f.useCallback(() => {
        l({ id: Dm(), icon: "", type: ts.custom, display_name: "", exts: [] }), s(!0), m();
      }, [m, l]),
      b = f.useCallback(() => {
        c(!0), m();
      }, [m, c]),
      _ = f.useCallback(
        (S) => {
          const y = [...u];
          y.push(S), t(JSON.stringify(y));
        },
        [u],
      );
    return r.jsxs(T, {
      children: [
        r.jsx(ke, {
          variant: "contained",
          ...tn(i),
          startIcon: r.jsx(Rt, {}),
          sx: { mb: 1 },
          children: n("settings.addViewer"),
        }),
        (u == null ? void 0 : u.length) > 0 &&
          u.map((S, y) =>
            r.jsx(o0, { group: S, index: y, onDelete: p[y], onGroupChange: g[y], dndType: `viewer-row-${y}` }, y),
          ),
        r.jsxs(Bp, {
          onClose: m,
          anchorOrigin: { vertical: "top", horizontal: "left" },
          transformOrigin: { vertical: "bottom", horizontal: "left" },
          ...v,
          children: [
            r.jsxs(he, {
              dense: !0,
              onClick: j,
              children: [r.jsx(gr, { children: r.jsx(e0, {}) }), n("settings.embeddedWebpageViewer")],
            }),
            r.jsxs(he, {
              dense: !0,
              onClick: b,
              children: [r.jsx(gr, { children: r.jsx(Zb, {}) }), n("settings.wopiViewer")],
            }),
          ],
        }),
        o && r.jsx(pf, { viewer: o, onChange: h, open: a, onClose: x }),
        r.jsx(a0, { onImported: _, onClose: () => c(!1), open: d }),
      ],
    });
  }),
  c0 = () => {
    F("dashboard");
    const { formRef: e, setSettings: t, values: n } = f.useContext(vt);
    f.useState(!1), ge(), ut();
    const i = f.useCallback((a) => t({ file_viewers: a }), []);
    return r.jsx(T, {
      component: "form",
      ref: e,
      onSubmit: (a) => a.preventDefault(),
      children: r.jsx(le, { spacing: 5, children: r.jsx(l0, { config: n.file_viewers, onChange: i }) }),
    });
  },
  TN = () => {
    const { t: e } = F("dashboard"),
      [t, n] = _e(Zp),
      i = f.useMemo(() => {
        const a = [];
        return (
          a.push(
            { label: e("nav.settings"), value: "parameters", icon: r.jsx(_v, {}) },
            { label: e("settings.fileIcons"), value: "icon", icon: r.jsx(Tb, {}) },
            { label: e("settings.fileViewers"), value: "fileApp", icon: r.jsx(Ib, {}) },
            { label: e("nav.customProps"), value: "customProps", icon: r.jsx(wv, {}) },
          ),
          a
        );
      }, [e]);
    return r.jsx(Ft, {
      children: r.jsxs(Lt, {
        maxWidth: "xl",
        children: [
          r.jsx(Vt, { title: e("dashboard:nav.fileSystem") }),
          r.jsx(Qp, { value: t ?? "parameters", onChange: (a, s) => n(s), tabs: i }),
          r.jsx(Kt, {
            children: r.jsx(
              Ht,
              {
                addEndListener: (a, s) => a.addEventListener("transitionend", s, !1),
                classNames: "fade",
                children: r.jsxs(T, {
                  children: [
                    (!t || t === "parameters") &&
                      r.jsx(Ut, {
                        settings: [
                          "maxEditSize",
                          "cron_trash_bin_collect",
                          "cron_entity_collect",
                          "public_resource_maxage",
                          "use_cursor_pagination",
                          "max_page_size",
                          "max_recursive_searched_folder",
                          "max_batched_file",
                          "map_provider",
                          "map_google_tile_type",
                          "map_mapbox_ak",
                          "mime_mapping",
                          "explorer_category_image_query",
                          "explorer_category_video_query",
                          "explorer_category_audio_query",
                          "explorer_category_document_query",
                          "archive_timeout",
                          "upload_session_timeout",
                          "slave_api_timeout",
                          "folder_props_timeout",
                          "chunk_retries",
                          "use_temp_chunk_buffer",
                          "max_parallel_transfer",
                          "cron_oauth_cred_refresh",
                          "viewer_session_timeout",
                          "entity_url_default_ttl",
                          "entity_url_cache_margin",
                          "encrypt_master_key_vault",
                          "encrypt_master_key_file",
                          "show_encryption_status",
                        ],
                        children: r.jsx(Qb, {}),
                      }),
                    t === "icon" && r.jsx(Ut, { settings: ["explorer_icons", "emojis"], children: r.jsx(Hb, {}) }),
                    t === "fileApp" && r.jsx(Ut, { settings: ["file_viewers"], children: r.jsx(c0, {}) }),
                    t === "customProps" && r.jsx(Ut, { settings: ["custom_props"], children: r.jsx(Rb, {}) }),
                  ],
                }),
              },
              `${t}`,
            ),
          }),
        ],
      }),
    });
  };
function d0(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M3 5.75A.75.75 0 0 1 3.75 5c2.663 0 5.258-.943 7.8-2.85a.75.75 0 0 1 .9 0C14.992 4.057 17.587 5 20.25 5a.75.75 0 0 1 .75.75V11c0 5.001-2.958 8.676-8.725 10.948a.75.75 0 0 1-.55 0C5.958 19.676 3 16 3 11zm1.5.728V11c0 4.256 2.453 7.379 7.5 9.442c5.047-2.063 7.5-5.186 7.5-9.442V6.478c-2.577-.152-5.08-1.09-7.5-2.8c-2.42 1.71-4.923 2.648-7.5 2.8",
    }),
  });
}
const Yr = 3,
  zo = ({ group: e, loading: t, onDelete: n }) => {
    const i = dr(),
      { t: a } = F("dashboard"),
      s = ge(),
      [o, l] = f.useState(void 0),
      [d, c] = f.useState(!1),
      [u, h] = f.useState(!1),
      p = (b) => (_) => {
        _.stopPropagation(), i(`/admin/policy/${b}`);
      },
      g = () => {
        i(`/admin/group/${e == null ? void 0 : e.id}`);
      },
      m = f.useMemo(() => new Pt(e == null ? void 0 : e.permissions), [e == null ? void 0 : e.permissions]),
      v = (b) => {
        b.stopPropagation(),
          b.preventDefault(),
          c(!0),
          s(Vp((e == null ? void 0 : e.id) ?? 0, !0))
            .then((_) => {
              l(_.total_users), c(!1);
            })
            .finally(() => {
              c(!1);
            });
      },
      x = (b) => {
        b.stopPropagation(),
          b.preventDefault(),
          s(wr(a("group.confirmDelete", { group: e == null ? void 0 : e.name }))).then(() => {
            e != null &&
              e.id &&
              (h(!0),
              s(Em(e.id))
                .then(() => {
                  n == null || n();
                })
                .finally(() => {
                  h(!1);
                }));
          });
      },
      j = (b) => {
        b.stopPropagation();
      };
    return t
      ? r.jsxs(je, {
          children: [
            r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 50 }) }),
            r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 150 }) }),
            r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 150 }) }),
            r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 150 }) }),
            r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 150 }) }),
            r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 100 }) }),
          ],
        })
      : r.jsxs(
          je,
          {
            hover: !0,
            sx: { cursor: "pointer" },
            onClick: g,
            children: [
              r.jsx(M, { children: e == null ? void 0 : e.id }),
              r.jsx(M, {
                children: r.jsxs(Qn, {
                  sx: { display: "flex", alignItems: "center", gap: 1 },
                  children: [
                    r.jsx(be, { variant: "inherit", children: e == null ? void 0 : e.name }),
                    r.jsxs(T, {
                      sx: { display: "flex", alignItems: "center" },
                      children: [
                        ((e == null ? void 0 : e.id) ?? 0) <= 3 &&
                          r.jsx(_r, {
                            title: a("group.sysGroup"),
                            children: r.jsx(T, {
                              sx: { display: "flex", alignItems: "center" },
                              children: r.jsx(d0, { fontSize: "small", sx: { color: "text.secondary" } }),
                            }),
                          }),
                        ((e == null ? void 0 : e.id) ?? 0) == Yr &&
                          r.jsx(_r, {
                            title: a("group.anonymous"),
                            children: r.jsx(T, {
                              sx: { display: "flex", alignItems: "center" },
                              children: r.jsx(Fp, { fontSize: "small", sx: { color: "text.secondary" } }),
                            }),
                          }),
                        m.enabled(Qe.is_admin) &&
                          r.jsx(_r, {
                            title: a("group.adminGroup"),
                            children: r.jsx(T, {
                              sx: { display: "flex", alignItems: "center" },
                              children: r.jsx(Dc, { fontSize: "small", sx: { color: "primary.main" } }),
                            }),
                          }),
                      ],
                    }),
                  ],
                }),
              }),
              r.jsx(M, {
                children: r.jsx(T, {
                  sx: { display: "flex", flexWrap: "wrap", gap: 1 },
                  children:
                    (e == null ? void 0 : e.edges.storage_policies) &&
                    r.jsx(
                      br,
                      { onClick: p(e.edges.storage_policies.id), label: e.edges.storage_policies.name, size: "small" },
                      e.edges.storage_policies.id,
                    ),
                }),
              }),
              r.jsx(M, {
                children: d
                  ? r.jsx(ce, { variant: "text", width: 50 })
                  : o != null
                    ? r.jsx(Z, {
                        component: zt,
                        to: `/admin/user?group=${e == null ? void 0 : e.id}`,
                        underline: "hover",
                        onClick: j,
                        children: o,
                      })
                    : r.jsx(Z, { href: "/#", underline: "hover", onClick: v, children: a("group.countUser") }),
              }),
              r.jsx(M, { children: Gt((e == null ? void 0 : e.max_storage) ?? 0) }),
              r.jsx(M, {
                children: r.jsx($e, {
                  size: "small",
                  onClick: x,
                  disabled: u || ((e == null ? void 0 : e.id) ?? 0) <= 3,
                  children: r.jsx(ur, { fontSize: "small" }),
                }),
              }),
            ],
          },
          e == null ? void 0 : e.id,
        );
  },
  fl = { id: 0, name: "", edges: {} },
  wi = f.createContext({ values: { ...fl }, setGroup: () => {} }),
  Mn = (e) => {
    var t;
    return { ...e, edges: { storage_policies: { id: ((t = e.edges.storage_policies) == null ? void 0 : t.id) ?? 0 } } };
  },
  u0 = ({ groupID: e, children: t, onGroupChange: n }) => {
    const i = ge();
    F("dashboard");
    const [a, s] = f.useState({ ...fl }),
      [o, l] = f.useState({ ...fl }),
      [d, c] = f.useState(!0),
      [u, h] = f.useState(!1),
      p = f.useRef(null),
      g = f.useMemo(() => JSON.stringify(o) !== JSON.stringify(a), [o, a]);
    f.useEffect(() => {
      c(!0),
        i(Vp(e))
          .then((x) => {
            s(Mn(x)), l(Mn(x)), n(Mn(x));
          })
          .finally(() => {
            c(!1);
          });
    }, [e]);
    const m = () => {
        l(a);
      },
      v = () => {
        if (p.current && !p.current.checkValidity()) {
          p.current.reportValidity();
          return;
        }
        h(!0),
          i(qp({ group: { ...o } }))
            .then((x) => {
              s(Mn(x)), l(Mn(x)), n(Mn(x));
            })
            .finally(() => {
              h(!1);
            });
      };
    return r.jsx(wi.Provider, {
      value: { values: o, setGroup: l, formRef: p },
      children: r.jsx(Kt, {
        children: r.jsx(
          Ht,
          {
            addEndListener: (x, j) => x.addEventListener("transitionend", j, !1),
            classNames: "fade",
            children: r.jsxs(T, {
              sx: { mt: 3 },
              children: [
                d &&
                  r.jsx(T, {
                    sx: { pt: 20, height: "100%", display: "flex", justifyContent: "center", alignItems: "center" },
                    children: r.jsx(St, {}),
                  }),
                !d && r.jsxs(T, { children: [t, r.jsx(Xs, { in: g, submitting: u, revert: m, submit: v })] }),
              ],
            }),
          },
          `${d}`,
        ),
      }),
    });
  },
  h0 = ({ value: e, onChange: t }) => {
    const { t: n } = F("dashboard"),
      i = ge(),
      [a, s] = f.useState([]),
      [o, l] = f.useState(!1),
      [d, c] = f.useState({}),
      u = (h) => {
        const {
          target: { value: p },
        } = h;
        t(p);
      };
    return (
      f.useEffect(() => {
        l(!0),
          i(Oc({ page: 1, page_size: 1e3, order_by: "id", order_direction: "asc" }))
            .then((h) => {
              s(h.policies), c(h.policies.reduce((p, g) => ((p[g.id] = g), p), {}));
            })
            .finally(() => {
              l(!1);
            });
      }, []),
      r.jsx($, {
        fullWidth: !0,
        children: r.jsx(Ue, {
          value: e,
          required: !0,
          onChange: u,
          sx: { minHeight: 39 },
          disabled: o,
          MenuProps: {
            PaperProps: { sx: { maxWidth: 230 } },
            MenuListProps: { sx: { "& .MuiMenuItem-root": { whiteSpace: "normal" } } },
          },
          renderValue: (h) => {
            var p;
            return r.jsx(T, {
              sx: { display: "flex", flexWrap: "wrap", gap: 0.5 },
              children: o
                ? r.jsx(St, { size: 20, sx: { mt: "1px" } })
                : r.jsx(br, { size: "small", label: (p = d[h]) == null ? void 0 : p.name }, h),
            });
          },
          children:
            a.length > 0 &&
            a.map((h) =>
              r.jsx(
                he,
                {
                  value: h.id,
                  children: r.jsxs(T, {
                    sx: { display: "flex", flexDirection: "column" },
                    children: [
                      r.jsx(L, { variant: "body2", fontWeight: 600, children: h.name }),
                      r.jsx(L, { variant: "caption", color: "textSecondary", children: n(`policy.${h.type}`) }),
                    ],
                  }),
                },
                h.id,
              ),
            ),
        }),
      })
    );
  },
  p0 = () => {
    var d;
    const { t: e } = F("dashboard"),
      { values: t, setGroup: n } = f.useContext(wi),
      i = f.useMemo(() => new Pt(t.permissions ?? ""), [t.permissions]),
      a = f.useCallback(
        (c) => {
          n((u) => ({ ...u, name: c.target.value }));
        },
        [n],
      ),
      s = f.useCallback(
        (c) => {
          n((u) => ({ ...u, edges: { ...u.edges, storage_policies: { id: c } } }));
        },
        [n],
      ),
      o = f.useCallback(
        (c) => {
          n((u) => ({ ...u, max_storage: c || void 0 }));
        },
        [n],
      ),
      l = f.useCallback(
        (c) => {
          n((u) => ({ ...u, permissions: new Pt(u.permissions).set(Qe.is_admin, c.target.checked).toString() }));
        },
        [n],
      );
    return r.jsxs(Ee, {
      children: [
        r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("policy.basicInfo") }),
        r.jsxs(Ie, {
          children: [
            (t == null ? void 0 : t.id) == Yr &&
              r.jsx(P, {
                lgWidth: 5,
                children: r.jsx(Br, {
                  icon: r.jsx(Fp, { fontSize: "inherit" }),
                  severity: "info",
                  children: e("group.anonymousHint"),
                }),
              }),
            r.jsx(P, {
              title: e("group.nameOfGroup"),
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, { required: !0, value: t.name, onChange: a }),
                  r.jsx(A, { children: e("group.nameOfGroupDes") }),
                ],
              }),
            }),
            (t == null ? void 0 : t.id) != Yr &&
              r.jsxs(r.Fragment, {
                children: [
                  r.jsxs(P, {
                    title: e("group.availablePolicies"),
                    lgWidth: 5,
                    children: [
                      r.jsx(h0, { value: ((d = t.edges.storage_policies) == null ? void 0 : d.id) ?? 0, onChange: s }),
                      r.jsx(A, { children: e("group.availablePoliciesDes") }),
                      r.jsxs(A, {
                        children: [
                          r.jsx(It, { size: "small", label: "Pro", sx: { ml: 0 } }),
                          " ",
                          e("group.availablePolicyDesPro"),
                        ],
                      }),
                    ],
                  }),
                  r.jsx(P, {
                    title: e("group.initialStorageQuota"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(tr, { variant: "outlined", required: !0, value: t.max_storage ?? 0, onChange: o }),
                        r.jsx(A, { children: e("group.initialStorageQuotaDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(xe, {
                          disabled: t.id == 1,
                          control: r.jsx(Oe, { checked: i.enabled(Qe.is_admin), onChange: l }),
                          label: e("group.isAdmin"),
                        }),
                        r.jsx(A, { children: e("group.isAdminDes") }),
                      ],
                    }),
                  }),
                ],
              }),
          ],
        }),
      ],
    });
  },
  f0 = () => {
    const { t: e } = F("dashboard");
    return (
      ge(),
      r.jsx(Ue, {
        multiple: !0,
        displayEmpty: !0,
        sx: { minHeight: 39 },
        MenuProps: {
          PaperProps: { sx: { maxWidth: 230 } },
          MenuListProps: { sx: { "& .MuiMenuItem-root": { whiteSpace: "normal" } } },
        },
        renderValue: (t) =>
          r.jsx(de, {
            primary: r.jsx("em", { children: e("group.allNodes") }),
            slotProps: { primary: { color: "textSecondary", variant: "body2" } },
          }),
      })
    );
  },
  g0 = f.lazy(() => rn(() => import("./MonacoEditor-BnsLKTuc.js"), __vite__mapDeps([0, 1, 2, 3, 4, 5, 6, 7]))),
  x0 = () => {
    var y, w, C, O, k, D;
    const { t: e } = F("dashboard"),
      { values: t, setGroup: n } = f.useContext(wi),
      [i, a] = f.useState(!1),
      s = Ge(),
      [o, l] = f.useState(""),
      d = f.useMemo(() => new Pt(t.permissions ?? ""), [t.permissions]);
    f.useEffect(() => {
      var E, I;
      l(
        (E = t.settings) != null && E.remote_download_options
          ? JSON.stringify((I = t.settings) == null ? void 0 : I.remote_download_options, null, 2)
          : "",
      );
    }, [(y = t.settings) == null ? void 0 : y.remote_download_options]);
    const c = f.useCallback(
        (E) => {
          n((I) => ({ ...I, permissions: new Pt(I.permissions).set(Qe.webdav, E.target.checked).toString() }));
        },
        [n],
      ),
      u = f.useCallback(
        (E) => {
          n((I) => ({ ...I, permissions: new Pt(I.permissions).set(Qe.webdav_proxy, E.target.checked).toString() }));
        },
        [n],
      ),
      h = f.useCallback(
        (E) => {
          n((I) => ({ ...I, permissions: new Pt(I.permissions).set(Qe.archive_task, E.target.checked).toString() }));
        },
        [n],
      ),
      p = f.useCallback(
        (E) => {
          n((I) => ({ ...I, settings: { ...I.settings, compress_size: E || void 0 } }));
        },
        [n],
      ),
      g = f.useCallback(
        (E) => {
          n((I) => ({ ...I, settings: { ...I.settings, decompress_size: E || void 0 } }));
        },
        [n],
      ),
      m = f.useCallback(
        (E) => {
          n((I) => ({ ...I, permissions: new Pt(I.permissions).set(Qe.remote_download, E.target.checked).toString() }));
        },
        [n],
      ),
      v = f.useCallback(
        (E) => {
          var I = void 0;
          if (E)
            try {
              I = JSON.parse(E);
            } catch (z) {
              console.error(z);
            }
          n((z) => ({ ...z, settings: { ...z.settings, remote_download_options: I } }));
        },
        [o, n],
      ),
      x = f.useCallback(
        (E) => {
          n((I) => ({
            ...I,
            settings: { ...I.settings, aria2_batch: parseInt(E.target.value) ? parseInt(E.target.value) : void 0 },
          }));
        },
        [n],
      ),
      j = f.useCallback(
        (E) => {
          n((I) => ({ ...I, permissions: new Pt(I.permissions).set(Qe.advance_delete, E.target.checked).toString() }));
        },
        [n],
      ),
      b = f.useCallback(
        (E) => {
          n((I) => ({
            ...I,
            settings: { ...I.settings, max_walked_files: parseInt(E.target.value) ? parseInt(E.target.value) : void 0 },
          }));
        },
        [n],
      ),
      _ = f.useCallback(
        (E) => {
          n((I) => ({
            ...I,
            settings: { ...I.settings, trash_retention: parseInt(E.target.value) ? parseInt(E.target.value) : void 0 },
          }));
        },
        [n],
      ),
      S = f.useCallback((E) => {
        E.stopPropagation(), a(!0);
      }, []);
    return r.jsxs(Ee, {
      children: [
        r.jsx(Er, { open: i, onClose: () => a(!1) }),
        r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("group.fileManagement") }),
        r.jsxs(Ie, {
          children: [
            (t == null ? void 0 : t.id) != Yr &&
              r.jsxs(r.Fragment, {
                children: [
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(xe, {
                          control: r.jsx(Oe, { checked: d.enabled(Qe.webdav), onChange: c }),
                          label: e("group.allowWabDAV"),
                        }),
                        r.jsx(A, { children: e("group.allowWabDAVDes") }),
                      ],
                    }),
                  }),
                  r.jsx(Ve, {
                    in: d.enabled(Qe.webdav),
                    unmountOnExit: !0,
                    children: r.jsx(P, {
                      lgWidth: 5,
                      children: r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsx(xe, {
                            control: r.jsx(Oe, { checked: d.enabled(Qe.webdav_proxy), onChange: u }),
                            label: e("group.allowWabDAVProxy"),
                          }),
                          r.jsx(A, { children: e("group.allowWabDAVProxyDes") }),
                        ],
                      }),
                    }),
                  }),
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      onClick: S,
                      children: [
                        r.jsx(xe, {
                          control: r.jsx(Oe, { checked: !1 }),
                          label: r.jsxs(T, {
                            sx: { display: "flex", alignItems: "center" },
                            children: [e("group.migratePolicy"), r.jsx(It, { size: "small", label: "Pro" })],
                          }),
                        }),
                        r.jsx(A, { children: e("group.migratePolicyDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(xe, {
                          control: r.jsx(Oe, { checked: d.enabled(Qe.archive_task), onChange: h }),
                          label: e("group.compressTask"),
                        }),
                        r.jsx(A, { children: e("group.compressTaskDes") }),
                      ],
                    }),
                  }),
                  r.jsx(Ve, {
                    in: d.enabled(Qe.archive_task),
                    unmountOnExit: !0,
                    children: r.jsxs(le, {
                      spacing: 3,
                      children: [
                        r.jsx(P, {
                          title: e("group.compressSize"),
                          lgWidth: 5,
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(tr, {
                                variant: "outlined",
                                required: !0,
                                value: ((w = t.settings) == null ? void 0 : w.compress_size) ?? 0,
                                onChange: p,
                              }),
                              r.jsx(A, { children: e("group.compressSizeDes") }),
                            ],
                          }),
                        }),
                        r.jsx(P, {
                          title: e("group.decompressSize"),
                          lgWidth: 5,
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(tr, {
                                variant: "outlined",
                                required: !0,
                                value: ((C = t.settings) == null ? void 0 : C.decompress_size) ?? 0,
                                onChange: g,
                              }),
                              r.jsx(A, { children: e("group.decompressSizeDes") }),
                            ],
                          }),
                        }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(xe, {
                          control: r.jsx(Oe, { checked: d.enabled(Qe.remote_download), onChange: m }),
                          label: e("group.allowRemoteDownload"),
                        }),
                        r.jsx(A, {
                          children: r.jsx(X, {
                            ns: "dashboard",
                            i18nKey: "group.allowRemoteDownloadDes",
                            components: [r.jsx(Z, { component: zt, to: "/admin/node" })],
                          }),
                        }),
                      ],
                    }),
                  }),
                  r.jsx(Ve, {
                    in: d.enabled(Qe.remote_download),
                    unmountOnExit: !0,
                    children: r.jsxs(le, {
                      spacing: 3,
                      children: [
                        r.jsx(P, {
                          title: e("group.aria2Options"),
                          lgWidth: 5,
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(f.Suspense, {
                                fallback: r.jsx(vn, {}),
                                children: r.jsx(g0, {
                                  theme: s.palette.mode === "dark" ? "vs-dark" : "vs",
                                  language: "json",
                                  value: o,
                                  onChange: (E) => l(E || ""),
                                  onBlur: v,
                                  height: "200px",
                                  minHeight: "200px",
                                  options: { wordWrap: "on", minimap: { enabled: !1 }, scrollBeyondLastLine: !1 },
                                }),
                              }),
                              r.jsx(A, { children: e("group.aria2OptionsDes") }),
                            ],
                          }),
                        }),
                        r.jsx(P, {
                          title: e("group.aria2BatchSize"),
                          lgWidth: 5,
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(W, {
                                slotProps: { htmlInput: { type: "number", min: 0 } },
                                value: ((O = t.settings) == null ? void 0 : O.aria2_batch) ?? 0,
                                onChange: x,
                              }),
                              r.jsx(A, { children: e("group.aria2BatchSizeDes") }),
                            ],
                          }),
                        }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(xe, {
                          control: r.jsx(Oe, { checked: d.enabled(Qe.advance_delete), onChange: j }),
                          label: e("group.advanceDelete"),
                        }),
                        r.jsx(A, { children: e("group.advanceDeleteDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("group.allowedNodes"),
                    lgWidth: 5,
                    pro: !0,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [r.jsx(f0, {}), r.jsx(A, { children: e("group.allowedNodesDes") })],
                    }),
                  }),
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      onClick: S,
                      children: [
                        r.jsx(xe, {
                          control: r.jsx(Oe, { checked: !1 }),
                          label: r.jsxs(T, {
                            sx: { display: "flex", alignItems: "center" },
                            children: [e("group.allowSelectNode"), r.jsx(It, { size: "small", label: "Pro" })],
                          }),
                        }),
                        r.jsx(A, { children: e("group.allowSelectNodeDes") }),
                      ],
                    }),
                  }),
                ],
              }),
            r.jsx(P, {
              title: e("group.maxWalkedFiles"),
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, {
                    required: !0,
                    slotProps: { htmlInput: { type: "number", min: 1 } },
                    value: ((k = t.settings) == null ? void 0 : k.max_walked_files) ?? 0,
                    onChange: b,
                  }),
                  r.jsx(A, { children: e("group.maxWalkedFilesDes") }),
                ],
              }),
            }),
            (t == null ? void 0 : t.id) != Yr &&
              r.jsx(P, {
                title: e("group.trashBinDuration"),
                lgWidth: 5,
                children: r.jsxs($, {
                  fullWidth: !0,
                  children: [
                    r.jsx(W, {
                      required: !0,
                      slotProps: { htmlInput: { type: "number", min: 1 } },
                      value: ((D = t.settings) == null ? void 0 : D.trash_retention) ?? 0,
                      onChange: _,
                    }),
                    r.jsx(A, { children: e("group.trashBinDurationDes") }),
                  ],
                }),
              }),
          ],
        }),
      ],
    });
  },
  m0 = () => {
    const { t: e } = F("dashboard"),
      { values: t, setGroup: n } = f.useContext(wi),
      [i, a] = f.useState(!1),
      s = f.useMemo(() => new Pt(t.permissions ?? ""), [t.permissions]),
      o = f.useCallback(
        (c) => {
          n((u) => ({ ...u, permissions: new Pt(u.permissions).set(Qe.share, c.target.checked).toString() }));
        },
        [n],
      ),
      l = f.useCallback(
        (c) => {
          n((u) => ({ ...u, permissions: new Pt(u.permissions).set(Qe.share_download, c.target.checked).toString() }));
        },
        [n],
      ),
      d = (c) => {
        c.stopPropagation(), a(!0);
      };
    return r.jsxs(Ee, {
      children: [
        r.jsx(Er, { open: i, onClose: () => a(!1) }),
        r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("group.share") }),
        r.jsxs(Ie, {
          children: [
            (t == null ? void 0 : t.id) != Yr &&
              r.jsx(P, {
                lgWidth: 5,
                children: r.jsxs($, {
                  fullWidth: !0,
                  children: [
                    r.jsx(xe, {
                      control: r.jsx(Oe, { checked: s.enabled(Qe.share), onChange: o }),
                      label: e("group.allowCreateShareLink"),
                    }),
                    r.jsx(A, { children: e("group.allowCreateShareLinkDes") }),
                  ],
                }),
              }),
            r.jsx(P, {
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                onClick: d,
                children: [
                  r.jsx(xe, {
                    control: r.jsx(Oe, { checked: !1 }),
                    label: r.jsxs(T, {
                      sx: { display: "flex", alignItems: "center" },
                      children: [e("group.shareFree"), r.jsx(It, { size: "small", label: "Pro" })],
                    }),
                  }),
                  r.jsx(A, { children: e("group.shareFreeDes") }),
                ],
              }),
            }),
            r.jsx(P, {
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(xe, {
                    control: r.jsx(Oe, { checked: s.enabled(Qe.share_download), onChange: l }),
                    label: e("group.allowDownloadShare"),
                  }),
                  r.jsx(A, { children: e("group.allowDownloadShareDes") }),
                ],
              }),
            }),
            (t == null ? void 0 : t.id) != Yr &&
              r.jsx(P, {
                lgWidth: 5,
                children: r.jsxs($, {
                  fullWidth: !0,
                  onClick: d,
                  children: [
                    r.jsx(xe, {
                      control: r.jsx(Oe, { checked: !1 }),
                      label: r.jsxs(T, {
                        sx: { display: "flex", alignItems: "center" },
                        children: [e("group.esclateAnonymity"), r.jsx(It, { size: "small", label: "Pro" })],
                      }),
                    }),
                    r.jsx(A, { children: e("group.esclateAnonymityDes") }),
                  ],
                }),
              }),
          ],
        }),
      ],
    });
  },
  v0 = () => {
    var u, h, p, g, m;
    const { t: e } = F("dashboard"),
      { values: t, setGroup: n } = f.useContext(wi),
      i = f.useMemo(() => new Pt(t.permissions ?? ""), [t.permissions]),
      a = f.useCallback(
        (v) => {
          n((x) => ({
            ...x,
            permissions: new Pt(x.permissions).set(Qe.archive_download, v.target.checked).toString(),
          }));
        },
        [n],
      ),
      s = f.useCallback(
        (v) => {
          n((x) => ({ ...x, settings: { ...x.settings, source_batch: v.target.checked ? 1 : 0 } }));
        },
        [n],
      ),
      o = f.useCallback(
        (v) => {
          n((x) => ({
            ...x,
            settings: { ...x.settings, source_batch: parseInt(v.target.value) ? parseInt(v.target.value) : void 0 },
          }));
        },
        [n],
      ),
      l = f.useCallback(
        (v) => {
          n((x) => ({ ...x, settings: { ...x.settings, redirected_source: v.target.checked ? !0 : void 0 } }));
        },
        [n],
      ),
      d = f.useCallback(
        (v) => {
          n((x) => ({ ...x, speed_limit: v || void 0 }));
        },
        [n],
      ),
      c = f.useCallback(
        (v) => {
          n((x) => ({
            ...x,
            permissions: new Pt(x.permissions).set(Qe.unique_direct_link, !v.target.checked).toString(),
          }));
        },
        [n],
      );
    return r.jsxs(Ee, {
      children: [
        r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("group.uploadDownload") }),
        r.jsxs(Ie, {
          children: [
            r.jsx(P, {
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(xe, {
                    control: r.jsx(Oe, { checked: i.enabled(Qe.archive_download), onChange: a }),
                    label: e("group.serverSideBatchDownload"),
                  }),
                  r.jsx(A, { children: e("group.serverSideBatchDownloadDes") }),
                ],
              }),
            }),
            (t == null ? void 0 : t.id) != Yr &&
              r.jsxs(r.Fragment, {
                children: [
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(xe, {
                          control: r.jsx(Oe, {
                            checked:
                              (((u = t == null ? void 0 : t.settings) == null ? void 0 : u.source_batch) ?? 0) > 0,
                            onChange: s,
                          }),
                          label: e("group.getDirectLink"),
                        }),
                        r.jsx(A, { children: e("group.getDirectLinkDes") }),
                      ],
                    }),
                  }),
                  r.jsxs(Ve, {
                    in: (((h = t == null ? void 0 : t.settings) == null ? void 0 : h.source_batch) ?? 0) > 0,
                    unmountOnExit: !0,
                    children: [
                      r.jsxs(le, {
                        spacing: 3,
                        children: [
                          r.jsx(P, {
                            lgWidth: 5,
                            title: e("group.bathSourceLinkLimit"),
                            children: r.jsxs($, {
                              fullWidth: !0,
                              children: [
                                r.jsx(W, {
                                  slotProps: { htmlInput: { type: "number", min: 0 } },
                                  value: ((p = t == null ? void 0 : t.settings) == null ? void 0 : p.source_batch) ?? 0,
                                  onChange: o,
                                }),
                                r.jsx(A, { children: e("group.bathSourceLinkLimitDes") }),
                              ],
                            }),
                          }),
                          r.jsx(P, {
                            lgWidth: 5,
                            children: r.jsxs($, {
                              fullWidth: !0,
                              children: [
                                r.jsx(xe, {
                                  control: r.jsx(Oe, {
                                    checked:
                                      ((g = t == null ? void 0 : t.settings) == null ? void 0 : g.redirected_source) ??
                                      !1,
                                    onChange: l,
                                  }),
                                  label: e("group.redirectedSource"),
                                }),
                                r.jsx(A, { children: e("group.redirectedSourceDes") }),
                              ],
                            }),
                          }),
                        ],
                      }),
                      r.jsx(Ve, {
                        in: (m = t == null ? void 0 : t.settings) == null ? void 0 : m.redirected_source,
                        unmountOnExit: !0,
                        children: r.jsx(P, {
                          lgWidth: 5,
                          children: r.jsxs($, {
                            fullWidth: !0,
                            sx: { mt: 3 },
                            children: [
                              r.jsx(xe, {
                                control: r.jsx(Oe, { checked: !i.enabled(Qe.unique_direct_link), onChange: c }),
                                label: e("group.reuseDirectLink"),
                              }),
                              r.jsx(A, { children: e("group.reuseDirectLinkDes") }),
                            ],
                          }),
                        }),
                      }),
                    ],
                  }),
                ],
              }),
            r.jsx(P, {
              lgWidth: 5,
              title: e("group.downloadSpeedLimit"),
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(tr, {
                    suffix: "/s",
                    variant: "outlined",
                    value: (t == null ? void 0 : t.speed_limit) ?? 0,
                    onChange: d,
                  }),
                  r.jsx(A, { children: e("group.downloadSpeedLimitDes") }),
                ],
              }),
            }),
          ],
        }),
      ],
    });
  },
  y0 = () => {
    F("dashboard");
    const { formRef: e, values: t } = f.useContext(wi);
    return r.jsx(T, {
      component: "form",
      ref: e,
      onSubmit: (n) => n.preventDefault(),
      children: r.jsxs(le, { spacing: 5, children: [r.jsx(p0, {}), r.jsx(m0, {}), r.jsx(x0, {}), r.jsx(v0, {})] }),
    });
  },
  $N = () => {
    const { t: e } = F("dashboard"),
      { id: t } = _c(),
      [n, i] = f.useState("");
    return r.jsx(Ft, {
      children: r.jsxs(Lt, {
        maxWidth: "xl",
        children: [
          r.jsx(Vt, { title: e("group.editGroup", { group: n }) }),
          r.jsx(u0, { groupID: parseInt(t ?? "1") ?? 1, onGroupChange: (a) => i(a.name), children: r.jsx(y0, {}) }),
        ],
      }),
    });
  },
  ff = new Pt("");
ff.sets({ [Qe.share]: !0, [Qe.share_download]: !0, [Qe.set_anonymous_permission]: !0 });
const Md = {
    name: "",
    permissions: ff.toString(),
    max_storage: 1024 << 20,
    settings: {
      compress_size: 1024 << 20,
      decompress_size: 1024 << 20,
      max_walked_files: 1e5,
      trash_retention: 7 * 24 * 3600,
      source_batch: 10,
      aria2_batch: 1,
      redirected_source: !0,
    },
    edges: { storage_policies: { id: 1 } },
    id: 0,
  },
  j0 = ({ open: e, onClose: t }) => {
    const { t: n } = F("dashboard"),
      i = ge(),
      a = dr(),
      [s, o] = f.useState("0"),
      [l, d] = f.useState(!1),
      [c, u] = f.useState({ ...Md }),
      h = f.useRef(null),
      p = f.useRef(void 0);
    f.useEffect(() => {
      e && (u({ ...Md }), o("0"), (p.current = void 0));
    }, [e]);
    const g = () => {
      var v, x;
      if (!((v = h.current) != null && v.checkValidity())) {
        (x = h.current) == null || x.reportValidity();
        return;
      }
      let m = { ...c };
      s != "0" && p.current && (m = { ...p.current, id: 0, name: c.name }),
        d(!0),
        i(qp({ group: m }))
          .then((j) => {
            a(`/admin/group/${j.id}`), t();
          })
          .finally(() => {
            d(!1);
          });
    };
    return r.jsx(st, {
      onAccept: g,
      loading: l,
      title: n("group.new"),
      showActions: !0,
      showCancel: !0,
      dialogProps: { open: e, onClose: t, fullWidth: !0, maxWidth: "sm" },
      children: r.jsx(gt, {
        children: r.jsx("form", {
          ref: h,
          children: r.jsxs(le, {
            spacing: 2,
            children: [
              r.jsxs(P, {
                title: n("group.nameOfGroup"),
                lgWidth: 12,
                children: [
                  r.jsx(W, {
                    fullWidth: !0,
                    required: !0,
                    value: c.name,
                    onChange: (m) => u({ ...c, name: m.target.value }),
                  }),
                  r.jsx(A, { children: n("group.nameOfGroupDes") }),
                ],
              }),
              r.jsx(P, {
                title: n("group.copyFromExisting"),
                lgWidth: 12,
                children: r.jsx($, {
                  fullWidth: !0,
                  children: r.jsx(Zn, {
                    value: s,
                    onChange: o,
                    onChangeGroup: (m) => {
                      p.current = m;
                    },
                    emptyValue: "0",
                    emptyText: "group.notCopy",
                  }),
                }),
              }),
            ],
          }),
        }),
      }),
    });
  },
  WN = () => {
    const { t: e } = F("dashboard");
    Im();
    const t = ge(),
      [n, i] = f.useState(!0),
      [a, s] = f.useState([]),
      [o, l] = _e(an, { defaultValue: "1" }),
      [d, c] = _e(sn, { defaultValue: "10" }),
      [u, h] = _e(on, { defaultValue: "" }),
      [p, g] = _e(ln, { defaultValue: "desc" }),
      [m, v] = f.useState(0),
      [x, j] = f.useState(!1),
      b = parseInt(o) ?? 1,
      _ = parseInt(d) ?? 11;
    f.useEffect(() => {
      S();
    }, [o, d, u, p]);
    const S = () => {
        i(!0),
          t(kp({ page: b, page_size: _, order_by: u ?? "", order_direction: p ?? "desc" }))
            .then((O) => {
              s(O.groups), c(O.pagination.page_size.toString()), v(O.pagination.total_items ?? 0), i(!1);
            })
            .finally(() => {
              i(!1);
            });
      },
      y = u === "id" || u === "",
      w = p,
      C = (O) => () => {
        const k = u === O || (O === "id" && y);
        h(O), g(k && w === "asc" ? "desc" : "asc");
      };
    return r.jsxs(Ft, {
      children: [
        r.jsx(j0, { open: x, onClose: () => j(!1) }),
        r.jsxs(Lt, {
          maxWidth: "xl",
          children: [
            r.jsx(Vt, { title: e("dashboard:nav.groups") }),
            r.jsxs(le, {
              direction: "row",
              spacing: 1,
              sx: { mb: 2 },
              children: [
                r.jsx(Pe, {
                  onClick: () => j(!0),
                  variant: "contained",
                  startIcon: r.jsx(Rt, {}),
                  children: e("group.create"),
                }),
                r.jsx(ke, {
                  onClick: S,
                  disabled: n,
                  variant: "contained",
                  startIcon: r.jsx(Dr, {}),
                  children: e("node.refresh"),
                }),
              ],
            }),
            r.jsx(ot, {
              component: xt,
              sx: { mt: 2 },
              children: r.jsxs(lt, {
                size: "small",
                stickyHeader: !0,
                sx: { width: "100%", tableLayout: "fixed" },
                children: [
                  r.jsx(ct, {
                    children: r.jsxs(je, {
                      children: [
                        r.jsx(M, {
                          width: 50,
                          sortDirection: y ? w : !1,
                          children: r.jsx(ft, { active: y, direction: w, onClick: C("id"), children: e("group.#") }),
                        }),
                        r.jsx(M, {
                          width: 150,
                          children: r.jsx(ft, {
                            active: u === "name",
                            direction: w,
                            onClick: C("name"),
                            children: e("group.name"),
                          }),
                        }),
                        r.jsx(M, { width: 250, children: e("group.type") }),
                        r.jsx(M, { width: 150, children: e("group.count") }),
                        r.jsx(M, {
                          width: 150,
                          children: r.jsx(ft, {
                            active: u === "max_storage",
                            direction: w,
                            onClick: C("max_storage"),
                            children: e("group.size"),
                          }),
                        }),
                        r.jsx(M, { width: 100, align: "right" }),
                      ],
                    }),
                  }),
                  r.jsxs(dt, {
                    children: [
                      !n && a.map((O) => r.jsx(zo, { group: O, onDelete: S }, O.id)),
                      n && a.length > 0 && a.map((O) => r.jsx(zo, { loading: !0 }, `loading-${O.id}`)),
                      n &&
                        a.length === 0 &&
                        Array.from(Array(5)).map((O, k) => r.jsx(zo, { loading: !0 }, `loading-${k}`)),
                    ],
                  }),
                ],
              }),
            }),
            m > 0 &&
              r.jsx(T, {
                sx: { mt: 1 },
                children: r.jsx(Rr, {
                  page: b,
                  totalItems: m,
                  rowsPerPage: _,
                  rowsPerPageOptions: [10, 25, 50, 100, 200, 500, 1e3],
                  onRowsPerPageChange: (O) => c(O.toString()),
                  onChange: (O, k) => l(k.toString()),
                }),
              }),
          ],
        }),
      ],
    });
  };
function b0({
  id: e,
  host: t,
  repo: n,
  repoId: i,
  category: a,
  categoryId: s,
  mapping: o,
  term: l,
  strict: d,
  reactionsEnabled: c,
  emitMetadata: u,
  inputPosition: h,
  theme: p,
  lang: g,
  loading: m,
}) {
  const [v, x] = f.useState(!1);
  return (
    f.useEffect(() => {
      v || rn(() => import("./giscus-Ci9LqPcC-C45O1yEu.js"), []).then(() => x(!0));
    }, []),
    v
      ? r.jsx("giscus-widget", {
          id: e,
          host: t,
          repo: n,
          repoid: i,
          category: a,
          categoryid: s,
          mapping: o,
          term: l,
          strict: d,
          reactionsenabled: c,
          emitmetadata: u,
          inputposition: h,
          theme: p,
          lang: g,
          loading: m,
        })
      : null
  );
}
var _0 = Array.isArray,
  Xt = _0,
  w0 = Xt,
  S0 = wa,
  C0 = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
  P0 = /^\w*$/;
function O0(e, t) {
  if (w0(e)) return !1;
  var n = typeof e;
  return n == "number" || n == "symbol" || n == "boolean" || e == null || S0(e)
    ? !0
    : P0.test(e) || !C0.test(e) || (t != null && e in Object(t));
}
var Ec = O0,
  k0 = Jr,
  A0 = Rs,
  D0 = "[object AsyncFunction]",
  E0 = "[object Function]",
  I0 = "[object GeneratorFunction]",
  T0 = "[object Proxy]";
function $0(e) {
  if (!A0(e)) return !1;
  var t = k0(e);
  return t == E0 || t == I0 || t == D0 || t == T0;
}
var Ic = $0;
const Te = ht(Ic);
var W0 = Qr,
  M0 = W0["__core-js_shared__"],
  N0 = M0,
  Lo = N0,
  Nd = (function () {
    var e = /[^.]+$/.exec((Lo && Lo.keys && Lo.keys.IE_PROTO) || "");
    return e ? "Symbol(src)_1." + e : "";
  })();
function z0(e) {
  return !!Nd && Nd in e;
}
var L0 = z0,
  B0 = Function.prototype,
  R0 = B0.toString;
function F0(e) {
  if (e != null) {
    try {
      return R0.call(e);
    } catch {}
    try {
      return e + "";
    } catch {}
  }
  return "";
}
var gf = F0,
  V0 = Ic,
  q0 = L0,
  U0 = Rs,
  K0 = gf,
  H0 = /[\\^$.*+?()[\]{}|]/g,
  G0 = /^\[object .+?Constructor\]$/,
  X0 = Function.prototype,
  Y0 = Object.prototype,
  J0 = X0.toString,
  Q0 = Y0.hasOwnProperty,
  Z0 = RegExp(
    "^" +
      J0.call(Q0)
        .replace(H0, "\\$&")
        .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") +
      "$",
  );
function e1(e) {
  if (!U0(e) || q0(e)) return !1;
  var t = V0(e) ? Z0 : G0;
  return t.test(K0(e));
}
var t1 = e1;
function r1(e, t) {
  return e == null ? void 0 : e[t];
}
var n1 = r1,
  i1 = t1,
  a1 = n1;
function s1(e, t) {
  var n = a1(e, t);
  return i1(n) ? n : void 0;
}
var $n = s1,
  o1 = $n,
  l1 = o1(Object, "create"),
  eo = l1,
  zd = eo;
function c1() {
  (this.__data__ = zd ? zd(null) : {}), (this.size = 0);
}
var d1 = c1;
function u1(e) {
  var t = this.has(e) && delete this.__data__[e];
  return (this.size -= t ? 1 : 0), t;
}
var h1 = u1,
  p1 = eo,
  f1 = "__lodash_hash_undefined__",
  g1 = Object.prototype,
  x1 = g1.hasOwnProperty;
function m1(e) {
  var t = this.__data__;
  if (p1) {
    var n = t[e];
    return n === f1 ? void 0 : n;
  }
  return x1.call(t, e) ? t[e] : void 0;
}
var v1 = m1,
  y1 = eo,
  j1 = Object.prototype,
  b1 = j1.hasOwnProperty;
function _1(e) {
  var t = this.__data__;
  return y1 ? t[e] !== void 0 : b1.call(t, e);
}
var w1 = _1,
  S1 = eo,
  C1 = "__lodash_hash_undefined__";
function P1(e, t) {
  var n = this.__data__;
  return (this.size += this.has(e) ? 0 : 1), (n[e] = S1 && t === void 0 ? C1 : t), this;
}
var O1 = P1,
  k1 = d1,
  A1 = h1,
  D1 = v1,
  E1 = w1,
  I1 = O1;
function Si(e) {
  var t = -1,
    n = e == null ? 0 : e.length;
  for (this.clear(); ++t < n; ) {
    var i = e[t];
    this.set(i[0], i[1]);
  }
}
Si.prototype.clear = k1;
Si.prototype.delete = A1;
Si.prototype.get = D1;
Si.prototype.has = E1;
Si.prototype.set = I1;
var T1 = Si;
function $1() {
  (this.__data__ = []), (this.size = 0);
}
var W1 = $1;
function M1(e, t) {
  return e === t || (e !== e && t !== t);
}
var Tc = M1,
  N1 = Tc;
function z1(e, t) {
  for (var n = e.length; n--; ) if (N1(e[n][0], t)) return n;
  return -1;
}
var to = z1,
  L1 = to,
  B1 = Array.prototype,
  R1 = B1.splice;
function F1(e) {
  var t = this.__data__,
    n = L1(t, e);
  if (n < 0) return !1;
  var i = t.length - 1;
  return n == i ? t.pop() : R1.call(t, n, 1), --this.size, !0;
}
var V1 = F1,
  q1 = to;
function U1(e) {
  var t = this.__data__,
    n = q1(t, e);
  return n < 0 ? void 0 : t[n][1];
}
var K1 = U1,
  H1 = to;
function G1(e) {
  return H1(this.__data__, e) > -1;
}
var X1 = G1,
  Y1 = to;
function J1(e, t) {
  var n = this.__data__,
    i = Y1(n, e);
  return i < 0 ? (++this.size, n.push([e, t])) : (n[i][1] = t), this;
}
var Q1 = J1,
  Z1 = W1,
  e_ = V1,
  t_ = K1,
  r_ = X1,
  n_ = Q1;
function Ci(e) {
  var t = -1,
    n = e == null ? 0 : e.length;
  for (this.clear(); ++t < n; ) {
    var i = e[t];
    this.set(i[0], i[1]);
  }
}
Ci.prototype.clear = Z1;
Ci.prototype.delete = e_;
Ci.prototype.get = t_;
Ci.prototype.has = r_;
Ci.prototype.set = n_;
var ro = Ci,
  i_ = $n,
  a_ = Qr,
  s_ = i_(a_, "Map"),
  $c = s_,
  Ld = T1,
  o_ = ro,
  l_ = $c;
function c_() {
  (this.size = 0), (this.__data__ = { hash: new Ld(), map: new (l_ || o_)(), string: new Ld() });
}
var d_ = c_;
function u_(e) {
  var t = typeof e;
  return t == "string" || t == "number" || t == "symbol" || t == "boolean" ? e !== "__proto__" : e === null;
}
var h_ = u_,
  p_ = h_;
function f_(e, t) {
  var n = e.__data__;
  return p_(t) ? n[typeof t == "string" ? "string" : "hash"] : n.map;
}
var no = f_,
  g_ = no;
function x_(e) {
  var t = g_(this, e).delete(e);
  return (this.size -= t ? 1 : 0), t;
}
var m_ = x_,
  v_ = no;
function y_(e) {
  return v_(this, e).get(e);
}
var j_ = y_,
  b_ = no;
function __(e) {
  return b_(this, e).has(e);
}
var w_ = __,
  S_ = no;
function C_(e, t) {
  var n = S_(this, e),
    i = n.size;
  return n.set(e, t), (this.size += n.size == i ? 0 : 1), this;
}
var P_ = C_,
  O_ = d_,
  k_ = m_,
  A_ = j_,
  D_ = w_,
  E_ = P_;
function Pi(e) {
  var t = -1,
    n = e == null ? 0 : e.length;
  for (this.clear(); ++t < n; ) {
    var i = e[t];
    this.set(i[0], i[1]);
  }
}
Pi.prototype.clear = O_;
Pi.prototype.delete = k_;
Pi.prototype.get = A_;
Pi.prototype.has = D_;
Pi.prototype.set = E_;
var Wc = Pi,
  xf = Wc,
  I_ = "Expected a function";
function Mc(e, t) {
  if (typeof e != "function" || (t != null && typeof t != "function")) throw new TypeError(I_);
  var n = function () {
    var i = arguments,
      a = t ? t.apply(this, i) : i[0],
      s = n.cache;
    if (s.has(a)) return s.get(a);
    var o = e.apply(this, i);
    return (n.cache = s.set(a, o) || s), o;
  };
  return (n.cache = new (Mc.Cache || xf)()), n;
}
Mc.Cache = xf;
var mf = Mc;
const T_ = ht(mf);
var $_ = mf,
  W_ = 500;
function M_(e) {
  var t = $_(e, function (i) {
      return n.size === W_ && n.clear(), i;
    }),
    n = t.cache;
  return t;
}
var N_ = M_,
  z_ = N_,
  L_ = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
  B_ = /\\(\\)?/g,
  R_ = z_(function (e) {
    var t = [];
    return (
      e.charCodeAt(0) === 46 && t.push(""),
      e.replace(L_, function (n, i, a, s) {
        t.push(a ? s.replace(B_, "$1") : i || n);
      }),
      t
    );
  }),
  F_ = R_;
function V_(e, t) {
  for (var n = -1, i = e == null ? 0 : e.length, a = Array(i); ++n < i; ) a[n] = t(e[n], n, e);
  return a;
}
var Nc = V_,
  Bd = wc,
  q_ = Nc,
  U_ = Xt,
  K_ = wa,
  H_ = 1 / 0,
  Rd = Bd ? Bd.prototype : void 0,
  Fd = Rd ? Rd.toString : void 0;
function vf(e) {
  if (typeof e == "string") return e;
  if (U_(e)) return q_(e, vf) + "";
  if (K_(e)) return Fd ? Fd.call(e) : "";
  var t = e + "";
  return t == "0" && 1 / e == -H_ ? "-0" : t;
}
var G_ = vf,
  X_ = G_;
function Y_(e) {
  return e == null ? "" : X_(e);
}
var yf = Y_,
  J_ = Xt,
  Q_ = Ec,
  Z_ = F_,
  ew = yf;
function tw(e, t) {
  return J_(e) ? e : Q_(e, t) ? [e] : Z_(ew(e));
}
var jf = tw,
  rw = wa,
  nw = 1 / 0;
function iw(e) {
  if (typeof e == "string" || rw(e)) return e;
  var t = e + "";
  return t == "0" && 1 / e == -nw ? "-0" : t;
}
var io = iw,
  aw = jf,
  sw = io;
function ow(e, t) {
  t = aw(t, e);
  for (var n = 0, i = t.length; e != null && n < i; ) e = e[sw(t[n++])];
  return n && n == i ? e : void 0;
}
var zc = ow,
  lw = zc;
function cw(e, t, n) {
  var i = e == null ? void 0 : lw(e, t);
  return i === void 0 ? n : i;
}
var bf = cw;
const ir = ht(bf);
function dw(e) {
  return e == null;
}
var uw = dw;
const ze = ht(uw);
var hw = Jr,
  pw = Xt,
  fw = Zr,
  gw = "[object String]";
function xw(e) {
  return typeof e == "string" || (!pw(e) && fw(e) && hw(e) == gw);
}
var mw = xw;
const Ia = ht(mw);
var vw = Jr,
  yw = Zr,
  jw = "[object Number]";
function bw(e) {
  return typeof e == "number" || (yw(e) && vw(e) == jw);
}
var _f = bw;
const _w = ht(_f);
var ww = _f;
function Sw(e) {
  return ww(e) && e != +e;
}
var Cw = Sw;
const Ta = ht(Cw);
var jr = function (t) {
    return t === 0 ? 0 : t > 0 ? 1 : -1;
  },
  xn = function (t) {
    return Ia(t) && t.indexOf("%") === t.length - 1;
  },
  se = function (t) {
    return _w(t) && !Ta(t);
  },
  kt = function (t) {
    return se(t) || Ia(t);
  },
  Pw = 0,
  $a = function (t) {
    var n = ++Pw;
    return "".concat(t || "").concat(n);
  },
  Dn = function (t, n) {
    var i = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0,
      a = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !1;
    if (!se(t) && !Ia(t)) return i;
    var s;
    if (xn(t)) {
      var o = t.indexOf("%");
      s = (n * parseFloat(t.slice(0, o))) / 100;
    } else s = +t;
    return Ta(s) && (s = i), a && s > n && (s = n), s;
  },
  Hr = function (t) {
    if (!t) return null;
    var n = Object.keys(t);
    return n && n.length ? t[n[0]] : null;
  },
  Ow = function (t) {
    if (!Array.isArray(t)) return !1;
    for (var n = t.length, i = {}, a = 0; a < n; a++)
      if (!i[t[a]]) i[t[a]] = !0;
      else return !0;
    return !1;
  },
  vr = function (t, n) {
    return se(t) && se(n)
      ? function (i) {
          return t + i * (n - t);
        }
      : function () {
          return n;
        };
  };
function ss(e, t, n) {
  return !e || !e.length
    ? null
    : e.find(function (i) {
        return i && (typeof t == "function" ? t(i) : ir(i, t)) === n;
      });
}
function Xn(e, t) {
  for (var n in e) if ({}.hasOwnProperty.call(e, n) && (!{}.hasOwnProperty.call(t, n) || e[n] !== t[n])) return !1;
  for (var i in t) if ({}.hasOwnProperty.call(t, i) && !{}.hasOwnProperty.call(e, i)) return !1;
  return !0;
}
function gl(e) {
  "@babel/helpers - typeof";
  return (
    (gl =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    gl(e)
  );
}
var kw = ["viewBox", "children"],
  Aw = [
    "aria-activedescendant",
    "aria-atomic",
    "aria-autocomplete",
    "aria-busy",
    "aria-checked",
    "aria-colcount",
    "aria-colindex",
    "aria-colspan",
    "aria-controls",
    "aria-current",
    "aria-describedby",
    "aria-details",
    "aria-disabled",
    "aria-errormessage",
    "aria-expanded",
    "aria-flowto",
    "aria-haspopup",
    "aria-hidden",
    "aria-invalid",
    "aria-keyshortcuts",
    "aria-label",
    "aria-labelledby",
    "aria-level",
    "aria-live",
    "aria-modal",
    "aria-multiline",
    "aria-multiselectable",
    "aria-orientation",
    "aria-owns",
    "aria-placeholder",
    "aria-posinset",
    "aria-pressed",
    "aria-readonly",
    "aria-relevant",
    "aria-required",
    "aria-roledescription",
    "aria-rowcount",
    "aria-rowindex",
    "aria-rowspan",
    "aria-selected",
    "aria-setsize",
    "aria-sort",
    "aria-valuemax",
    "aria-valuemin",
    "aria-valuenow",
    "aria-valuetext",
    "className",
    "color",
    "height",
    "id",
    "lang",
    "max",
    "media",
    "method",
    "min",
    "name",
    "style",
    "target",
    "width",
    "role",
    "tabIndex",
    "accentHeight",
    "accumulate",
    "additive",
    "alignmentBaseline",
    "allowReorder",
    "alphabetic",
    "amplitude",
    "arabicForm",
    "ascent",
    "attributeName",
    "attributeType",
    "autoReverse",
    "azimuth",
    "baseFrequency",
    "baselineShift",
    "baseProfile",
    "bbox",
    "begin",
    "bias",
    "by",
    "calcMode",
    "capHeight",
    "clip",
    "clipPath",
    "clipPathUnits",
    "clipRule",
    "colorInterpolation",
    "colorInterpolationFilters",
    "colorProfile",
    "colorRendering",
    "contentScriptType",
    "contentStyleType",
    "cursor",
    "cx",
    "cy",
    "d",
    "decelerate",
    "descent",
    "diffuseConstant",
    "direction",
    "display",
    "divisor",
    "dominantBaseline",
    "dur",
    "dx",
    "dy",
    "edgeMode",
    "elevation",
    "enableBackground",
    "end",
    "exponent",
    "externalResourcesRequired",
    "fill",
    "fillOpacity",
    "fillRule",
    "filter",
    "filterRes",
    "filterUnits",
    "floodColor",
    "floodOpacity",
    "focusable",
    "fontFamily",
    "fontSize",
    "fontSizeAdjust",
    "fontStretch",
    "fontStyle",
    "fontVariant",
    "fontWeight",
    "format",
    "from",
    "fx",
    "fy",
    "g1",
    "g2",
    "glyphName",
    "glyphOrientationHorizontal",
    "glyphOrientationVertical",
    "glyphRef",
    "gradientTransform",
    "gradientUnits",
    "hanging",
    "horizAdvX",
    "horizOriginX",
    "href",
    "ideographic",
    "imageRendering",
    "in2",
    "in",
    "intercept",
    "k1",
    "k2",
    "k3",
    "k4",
    "k",
    "kernelMatrix",
    "kernelUnitLength",
    "kerning",
    "keyPoints",
    "keySplines",
    "keyTimes",
    "lengthAdjust",
    "letterSpacing",
    "lightingColor",
    "limitingConeAngle",
    "local",
    "markerEnd",
    "markerHeight",
    "markerMid",
    "markerStart",
    "markerUnits",
    "markerWidth",
    "mask",
    "maskContentUnits",
    "maskUnits",
    "mathematical",
    "mode",
    "numOctaves",
    "offset",
    "opacity",
    "operator",
    "order",
    "orient",
    "orientation",
    "origin",
    "overflow",
    "overlinePosition",
    "overlineThickness",
    "paintOrder",
    "panose1",
    "pathLength",
    "patternContentUnits",
    "patternTransform",
    "patternUnits",
    "pointerEvents",
    "pointsAtX",
    "pointsAtY",
    "pointsAtZ",
    "preserveAlpha",
    "preserveAspectRatio",
    "primitiveUnits",
    "r",
    "radius",
    "refX",
    "refY",
    "renderingIntent",
    "repeatCount",
    "repeatDur",
    "requiredExtensions",
    "requiredFeatures",
    "restart",
    "result",
    "rotate",
    "rx",
    "ry",
    "seed",
    "shapeRendering",
    "slope",
    "spacing",
    "specularConstant",
    "specularExponent",
    "speed",
    "spreadMethod",
    "startOffset",
    "stdDeviation",
    "stemh",
    "stemv",
    "stitchTiles",
    "stopColor",
    "stopOpacity",
    "strikethroughPosition",
    "strikethroughThickness",
    "string",
    "stroke",
    "strokeDasharray",
    "strokeDashoffset",
    "strokeLinecap",
    "strokeLinejoin",
    "strokeMiterlimit",
    "strokeOpacity",
    "strokeWidth",
    "surfaceScale",
    "systemLanguage",
    "tableValues",
    "targetX",
    "targetY",
    "textAnchor",
    "textDecoration",
    "textLength",
    "textRendering",
    "to",
    "transform",
    "u1",
    "u2",
    "underlinePosition",
    "underlineThickness",
    "unicode",
    "unicodeBidi",
    "unicodeRange",
    "unitsPerEm",
    "vAlphabetic",
    "values",
    "vectorEffect",
    "version",
    "vertAdvY",
    "vertOriginX",
    "vertOriginY",
    "vHanging",
    "vIdeographic",
    "viewTarget",
    "visibility",
    "vMathematical",
    "widths",
    "wordSpacing",
    "writingMode",
    "x1",
    "x2",
    "x",
    "xChannelSelector",
    "xHeight",
    "xlinkActuate",
    "xlinkArcrole",
    "xlinkHref",
    "xlinkRole",
    "xlinkShow",
    "xlinkTitle",
    "xlinkType",
    "xmlBase",
    "xmlLang",
    "xmlns",
    "xmlnsXlink",
    "xmlSpace",
    "y1",
    "y2",
    "y",
    "yChannelSelector",
    "z",
    "zoomAndPan",
    "ref",
    "key",
    "angle",
  ],
  Vd = ["points", "pathLength"],
  Bo = { svg: kw, polygon: Vd, polyline: Vd },
  Lc = [
    "dangerouslySetInnerHTML",
    "onCopy",
    "onCopyCapture",
    "onCut",
    "onCutCapture",
    "onPaste",
    "onPasteCapture",
    "onCompositionEnd",
    "onCompositionEndCapture",
    "onCompositionStart",
    "onCompositionStartCapture",
    "onCompositionUpdate",
    "onCompositionUpdateCapture",
    "onFocus",
    "onFocusCapture",
    "onBlur",
    "onBlurCapture",
    "onChange",
    "onChangeCapture",
    "onBeforeInput",
    "onBeforeInputCapture",
    "onInput",
    "onInputCapture",
    "onReset",
    "onResetCapture",
    "onSubmit",
    "onSubmitCapture",
    "onInvalid",
    "onInvalidCapture",
    "onLoad",
    "onLoadCapture",
    "onError",
    "onErrorCapture",
    "onKeyDown",
    "onKeyDownCapture",
    "onKeyPress",
    "onKeyPressCapture",
    "onKeyUp",
    "onKeyUpCapture",
    "onAbort",
    "onAbortCapture",
    "onCanPlay",
    "onCanPlayCapture",
    "onCanPlayThrough",
    "onCanPlayThroughCapture",
    "onDurationChange",
    "onDurationChangeCapture",
    "onEmptied",
    "onEmptiedCapture",
    "onEncrypted",
    "onEncryptedCapture",
    "onEnded",
    "onEndedCapture",
    "onLoadedData",
    "onLoadedDataCapture",
    "onLoadedMetadata",
    "onLoadedMetadataCapture",
    "onLoadStart",
    "onLoadStartCapture",
    "onPause",
    "onPauseCapture",
    "onPlay",
    "onPlayCapture",
    "onPlaying",
    "onPlayingCapture",
    "onProgress",
    "onProgressCapture",
    "onRateChange",
    "onRateChangeCapture",
    "onSeeked",
    "onSeekedCapture",
    "onSeeking",
    "onSeekingCapture",
    "onStalled",
    "onStalledCapture",
    "onSuspend",
    "onSuspendCapture",
    "onTimeUpdate",
    "onTimeUpdateCapture",
    "onVolumeChange",
    "onVolumeChangeCapture",
    "onWaiting",
    "onWaitingCapture",
    "onAuxClick",
    "onAuxClickCapture",
    "onClick",
    "onClickCapture",
    "onContextMenu",
    "onContextMenuCapture",
    "onDoubleClick",
    "onDoubleClickCapture",
    "onDrag",
    "onDragCapture",
    "onDragEnd",
    "onDragEndCapture",
    "onDragEnter",
    "onDragEnterCapture",
    "onDragExit",
    "onDragExitCapture",
    "onDragLeave",
    "onDragLeaveCapture",
    "onDragOver",
    "onDragOverCapture",
    "onDragStart",
    "onDragStartCapture",
    "onDrop",
    "onDropCapture",
    "onMouseDown",
    "onMouseDownCapture",
    "onMouseEnter",
    "onMouseLeave",
    "onMouseMove",
    "onMouseMoveCapture",
    "onMouseOut",
    "onMouseOutCapture",
    "onMouseOver",
    "onMouseOverCapture",
    "onMouseUp",
    "onMouseUpCapture",
    "onSelect",
    "onSelectCapture",
    "onTouchCancel",
    "onTouchCancelCapture",
    "onTouchEnd",
    "onTouchEndCapture",
    "onTouchMove",
    "onTouchMoveCapture",
    "onTouchStart",
    "onTouchStartCapture",
    "onPointerDown",
    "onPointerDownCapture",
    "onPointerMove",
    "onPointerMoveCapture",
    "onPointerUp",
    "onPointerUpCapture",
    "onPointerCancel",
    "onPointerCancelCapture",
    "onPointerEnter",
    "onPointerEnterCapture",
    "onPointerLeave",
    "onPointerLeaveCapture",
    "onPointerOver",
    "onPointerOverCapture",
    "onPointerOut",
    "onPointerOutCapture",
    "onGotPointerCapture",
    "onGotPointerCaptureCapture",
    "onLostPointerCapture",
    "onLostPointerCaptureCapture",
    "onScroll",
    "onScrollCapture",
    "onWheel",
    "onWheelCapture",
    "onAnimationStart",
    "onAnimationStartCapture",
    "onAnimationEnd",
    "onAnimationEndCapture",
    "onAnimationIteration",
    "onAnimationIterationCapture",
    "onTransitionEnd",
    "onTransitionEndCapture",
  ],
  os = function (t, n) {
    if (!t || typeof t == "function" || typeof t == "boolean") return null;
    var i = t;
    if ((f.isValidElement(t) && (i = t.props), !mi(i))) return null;
    var a = {};
    return (
      Object.keys(i).forEach(function (s) {
        Lc.includes(s) &&
          (a[s] =
            n ||
            function (o) {
              return i[s](i, o);
            });
      }),
      a
    );
  },
  Dw = function (t, n, i) {
    return function (a) {
      return t(n, i, a), null;
    };
  },
  ls = function (t, n, i) {
    if (!mi(t) || gl(t) !== "object") return null;
    var a = null;
    return (
      Object.keys(t).forEach(function (s) {
        var o = t[s];
        Lc.includes(s) && typeof o == "function" && (a || (a = {}), (a[s] = Dw(o, n, i)));
      }),
      a
    );
  },
  Ew = ["children"],
  Iw = ["children"];
function qd(e, t) {
  if (e == null) return {};
  var n = Tw(e, t),
    i,
    a;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (a = 0; a < s.length; a++)
      (i = s[a]), !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i]);
  }
  return n;
}
function Tw(e, t) {
  if (e == null) return {};
  var n = {};
  for (var i in e)
    if (Object.prototype.hasOwnProperty.call(e, i)) {
      if (t.indexOf(i) >= 0) continue;
      n[i] = e[i];
    }
  return n;
}
function xl(e) {
  "@babel/helpers - typeof";
  return (
    (xl =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    xl(e)
  );
}
var Ud = {
    click: "onClick",
    mousedown: "onMouseDown",
    mouseup: "onMouseUp",
    mouseover: "onMouseOver",
    mousemove: "onMouseMove",
    mouseout: "onMouseOut",
    mouseenter: "onMouseEnter",
    mouseleave: "onMouseLeave",
    touchcancel: "onTouchCancel",
    touchend: "onTouchEnd",
    touchmove: "onTouchMove",
    touchstart: "onTouchStart",
    contextmenu: "onContextMenu",
    dblclick: "onDoubleClick",
  },
  Wr = function (t) {
    return typeof t == "string" ? t : t ? t.displayName || t.name || "Component" : "";
  },
  Kd = null,
  Ro = null,
  Bc = function e(t) {
    if (t === Kd && Array.isArray(Ro)) return Ro;
    var n = [];
    return (
      f.Children.forEach(t, function (i) {
        ze(i) || (Nx.isFragment(i) ? (n = n.concat(e(i.props.children))) : n.push(i));
      }),
      (Ro = n),
      (Kd = t),
      n
    );
  };
function ar(e, t) {
  var n = [],
    i = [];
  return (
    Array.isArray(t)
      ? (i = t.map(function (a) {
          return Wr(a);
        }))
      : (i = [Wr(t)]),
    Bc(e).forEach(function (a) {
      var s = ir(a, "type.displayName") || ir(a, "type.name");
      i.indexOf(s) !== -1 && n.push(a);
    }),
    n
  );
}
function Qt(e, t) {
  var n = ar(e, t);
  return n && n[0];
}
var Hd = function (t) {
    if (!t || !t.props) return !1;
    var n = t.props,
      i = n.width,
      a = n.height;
    return !(!se(i) || i <= 0 || !se(a) || a <= 0);
  },
  $w = [
    "a",
    "altGlyph",
    "altGlyphDef",
    "altGlyphItem",
    "animate",
    "animateColor",
    "animateMotion",
    "animateTransform",
    "circle",
    "clipPath",
    "color-profile",
    "cursor",
    "defs",
    "desc",
    "ellipse",
    "feBlend",
    "feColormatrix",
    "feComponentTransfer",
    "feComposite",
    "feConvolveMatrix",
    "feDiffuseLighting",
    "feDisplacementMap",
    "feDistantLight",
    "feFlood",
    "feFuncA",
    "feFuncB",
    "feFuncG",
    "feFuncR",
    "feGaussianBlur",
    "feImage",
    "feMerge",
    "feMergeNode",
    "feMorphology",
    "feOffset",
    "fePointLight",
    "feSpecularLighting",
    "feSpotLight",
    "feTile",
    "feTurbulence",
    "filter",
    "font",
    "font-face",
    "font-face-format",
    "font-face-name",
    "font-face-url",
    "foreignObject",
    "g",
    "glyph",
    "glyphRef",
    "hkern",
    "image",
    "line",
    "lineGradient",
    "marker",
    "mask",
    "metadata",
    "missing-glyph",
    "mpath",
    "path",
    "pattern",
    "polygon",
    "polyline",
    "radialGradient",
    "rect",
    "script",
    "set",
    "stop",
    "style",
    "svg",
    "switch",
    "symbol",
    "text",
    "textPath",
    "title",
    "tref",
    "tspan",
    "use",
    "view",
    "vkern",
  ],
  Ww = function (t) {
    return t && t.type && Ia(t.type) && $w.indexOf(t.type) >= 0;
  },
  Mw = function (t) {
    return t && xl(t) === "object" && "clipDot" in t;
  },
  Nw = function (t, n, i, a) {
    var s,
      o = (s = Bo == null ? void 0 : Bo[a]) !== null && s !== void 0 ? s : [];
    return (!Te(t) && ((a && o.includes(n)) || Aw.includes(n))) || (i && Lc.includes(n));
  },
  Re = function (t, n, i) {
    if (!t || typeof t == "function" || typeof t == "boolean") return null;
    var a = t;
    if ((f.isValidElement(t) && (a = t.props), !mi(a))) return null;
    var s = {};
    return (
      Object.keys(a).forEach(function (o) {
        var l;
        Nw((l = a) === null || l === void 0 ? void 0 : l[o], o, n, i) && (s[o] = a[o]);
      }),
      s
    );
  },
  ml = function e(t, n) {
    if (t === n) return !0;
    var i = f.Children.count(t);
    if (i !== f.Children.count(n)) return !1;
    if (i === 0) return !0;
    if (i === 1) return Gd(Array.isArray(t) ? t[0] : t, Array.isArray(n) ? n[0] : n);
    for (var a = 0; a < i; a++) {
      var s = t[a],
        o = n[a];
      if (Array.isArray(s) || Array.isArray(o)) {
        if (!e(s, o)) return !1;
      } else if (!Gd(s, o)) return !1;
    }
    return !0;
  },
  Gd = function (t, n) {
    if (ze(t) && ze(n)) return !0;
    if (!ze(t) && !ze(n)) {
      var i = t.props || {},
        a = i.children,
        s = qd(i, Ew),
        o = n.props || {},
        l = o.children,
        d = qd(o, Iw);
      return a && l ? Xn(s, d) && ml(a, l) : !a && !l ? Xn(s, d) : !1;
    }
    return !1;
  },
  Xd = function (t, n) {
    var i = [],
      a = {};
    return (
      Bc(t).forEach(function (s, o) {
        if (Ww(s)) i.push(s);
        else if (s) {
          var l = Wr(s.type),
            d = n[l] || {},
            c = d.handler,
            u = d.once;
          if (c && (!u || !a[l])) {
            var h = c(s, l, o);
            i.push(h), (a[l] = !0);
          }
        }
      }),
      i
    );
  },
  zw = function (t) {
    var n = t && t.type;
    return n && Ud[n] ? Ud[n] : null;
  },
  Lw = function (t, n) {
    return Bc(n).indexOf(t);
  },
  Bw = ["children", "width", "height", "viewBox", "className", "style", "title", "desc"];
function vl() {
  return (
    (vl = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    vl.apply(this, arguments)
  );
}
function Rw(e, t) {
  if (e == null) return {};
  var n = Fw(e, t),
    i,
    a;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (a = 0; a < s.length; a++)
      (i = s[a]), !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i]);
  }
  return n;
}
function Fw(e, t) {
  if (e == null) return {};
  var n = {};
  for (var i in e)
    if (Object.prototype.hasOwnProperty.call(e, i)) {
      if (t.indexOf(i) >= 0) continue;
      n[i] = e[i];
    }
  return n;
}
function yl(e) {
  var t = e.children,
    n = e.width,
    i = e.height,
    a = e.viewBox,
    s = e.className,
    o = e.style,
    l = e.title,
    d = e.desc,
    c = Rw(e, Bw),
    u = a || { width: n, height: i, x: 0, y: 0 },
    h = Me("recharts-surface", s);
  return N.createElement(
    "svg",
    vl({}, Re(c, !0, "svg"), {
      className: h,
      width: n,
      height: i,
      style: o,
      viewBox: "".concat(u.x, " ").concat(u.y, " ").concat(u.width, " ").concat(u.height),
    }),
    N.createElement("title", null, l),
    N.createElement("desc", null, d),
    t,
  );
}
var Vw = ["children", "className"];
function jl() {
  return (
    (jl = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    jl.apply(this, arguments)
  );
}
function qw(e, t) {
  if (e == null) return {};
  var n = Uw(e, t),
    i,
    a;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (a = 0; a < s.length; a++)
      (i = s[a]), !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i]);
  }
  return n;
}
function Uw(e, t) {
  if (e == null) return {};
  var n = {};
  for (var i in e)
    if (Object.prototype.hasOwnProperty.call(e, i)) {
      if (t.indexOf(i) >= 0) continue;
      n[i] = e[i];
    }
  return n;
}
var mt = N.forwardRef(function (e, t) {
    var n = e.children,
      i = e.className,
      a = qw(e, Vw),
      s = Me("recharts-layer", i);
    return N.createElement("g", jl({ className: s }, Re(a, !0), { ref: t }), n);
  }),
  Mr = function (t, n) {
    for (var i = arguments.length, a = new Array(i > 2 ? i - 2 : 0), s = 2; s < i; s++) a[s - 2] = arguments[s];
  };
function Kw(e, t, n) {
  var i = -1,
    a = e.length;
  t < 0 && (t = -t > a ? 0 : a + t),
    (n = n > a ? a : n),
    n < 0 && (n += a),
    (a = t > n ? 0 : (n - t) >>> 0),
    (t >>>= 0);
  for (var s = Array(a); ++i < a; ) s[i] = e[i + t];
  return s;
}
var Hw = Kw,
  Gw = Hw;
function Xw(e, t, n) {
  var i = e.length;
  return (n = n === void 0 ? i : n), !t && n >= i ? e : Gw(e, t, n);
}
var Yw = Xw,
  Jw = "\\ud800-\\udfff",
  Qw = "\\u0300-\\u036f",
  Zw = "\\ufe20-\\ufe2f",
  e2 = "\\u20d0-\\u20ff",
  t2 = Qw + Zw + e2,
  r2 = "\\ufe0e\\ufe0f",
  n2 = "\\u200d",
  i2 = RegExp("[" + n2 + Jw + t2 + r2 + "]");
function a2(e) {
  return i2.test(e);
}
var wf = a2;
function s2(e) {
  return e.split("");
}
var o2 = s2,
  Sf = "\\ud800-\\udfff",
  l2 = "\\u0300-\\u036f",
  c2 = "\\ufe20-\\ufe2f",
  d2 = "\\u20d0-\\u20ff",
  u2 = l2 + c2 + d2,
  h2 = "\\ufe0e\\ufe0f",
  p2 = "[" + Sf + "]",
  bl = "[" + u2 + "]",
  _l = "\\ud83c[\\udffb-\\udfff]",
  f2 = "(?:" + bl + "|" + _l + ")",
  Cf = "[^" + Sf + "]",
  Pf = "(?:\\ud83c[\\udde6-\\uddff]){2}",
  Of = "[\\ud800-\\udbff][\\udc00-\\udfff]",
  g2 = "\\u200d",
  kf = f2 + "?",
  Af = "[" + h2 + "]?",
  x2 = "(?:" + g2 + "(?:" + [Cf, Pf, Of].join("|") + ")" + Af + kf + ")*",
  m2 = Af + kf + x2,
  v2 = "(?:" + [Cf + bl + "?", bl, Pf, Of, p2].join("|") + ")",
  y2 = RegExp(_l + "(?=" + _l + ")|" + v2 + m2, "g");
function j2(e) {
  return e.match(y2) || [];
}
var b2 = j2,
  _2 = o2,
  w2 = wf,
  S2 = b2;
function C2(e) {
  return w2(e) ? S2(e) : _2(e);
}
var P2 = C2,
  O2 = Yw,
  k2 = wf,
  A2 = P2,
  D2 = yf;
function E2(e) {
  return function (t) {
    t = D2(t);
    var n = k2(t) ? A2(t) : void 0,
      i = n ? n[0] : t.charAt(0),
      a = n ? O2(n, 1).join("") : t.slice(1);
    return i[e]() + a;
  };
}
var I2 = E2,
  T2 = I2,
  $2 = T2("toUpperCase"),
  W2 = $2;
const ao = ht(W2);
function Ui(e) {
  "@babel/helpers - typeof";
  return (
    (Ui =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Ui(e)
  );
}
var M2 = ["type", "size", "sizeType"];
function wl() {
  return (
    (wl = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    wl.apply(this, arguments)
  );
}
function Yd(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Jd(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Yd(Object(n), !0).forEach(function (i) {
          N2(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Yd(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function N2(e, t, n) {
  return (
    (t = z2(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function z2(e) {
  var t = L2(e, "string");
  return Ui(t) == "symbol" ? t : t + "";
}
function L2(e, t) {
  if (Ui(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (Ui(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function B2(e, t) {
  if (e == null) return {};
  var n = R2(e, t),
    i,
    a;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (a = 0; a < s.length; a++)
      (i = s[a]), !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i]);
  }
  return n;
}
function R2(e, t) {
  if (e == null) return {};
  var n = {};
  for (var i in e)
    if (Object.prototype.hasOwnProperty.call(e, i)) {
      if (t.indexOf(i) >= 0) continue;
      n[i] = e[i];
    }
  return n;
}
var Df = {
    symbolCircle: nf,
    symbolCross: kv,
    symbolDiamond: Av,
    symbolSquare: Dv,
    symbolStar: Ev,
    symbolTriangle: Iv,
    symbolWye: Tv,
  },
  F2 = Math.PI / 180,
  V2 = function (t) {
    var n = "symbol".concat(ao(t));
    return Df[n] || nf;
  },
  q2 = function (t, n, i) {
    if (n === "area") return t;
    switch (i) {
      case "cross":
        return (5 * t * t) / 9;
      case "diamond":
        return (0.5 * t * t) / Math.sqrt(3);
      case "square":
        return t * t;
      case "star": {
        var a = 18 * F2;
        return 1.25 * t * t * (Math.tan(a) - Math.tan(a * 2) * Math.pow(Math.tan(a), 2));
      }
      case "triangle":
        return (Math.sqrt(3) * t * t) / 4;
      case "wye":
        return ((21 - 10 * Math.sqrt(3)) * t * t) / 8;
      default:
        return (Math.PI * t * t) / 4;
    }
  },
  U2 = function (t, n) {
    Df["symbol".concat(ao(t))] = n;
  },
  Rc = function (t) {
    var n = t.type,
      i = n === void 0 ? "circle" : n,
      a = t.size,
      s = a === void 0 ? 64 : a,
      o = t.sizeType,
      l = o === void 0 ? "area" : o,
      d = B2(t, M2),
      c = Jd(Jd({}, d), {}, { type: i, size: s, sizeType: l }),
      u = function () {
        var x = V2(i),
          j = Ov()
            .type(x)
            .size(q2(s, l, i));
        return j();
      },
      h = c.className,
      p = c.cx,
      g = c.cy,
      m = Re(c, !0);
    return p === +p && g === +g && s === +s
      ? N.createElement(
          "path",
          wl({}, m, {
            className: Me("recharts-symbols", h),
            transform: "translate(".concat(p, ", ").concat(g, ")"),
            d: u(),
          }),
        )
      : null;
  };
Rc.registerSymbol = U2;
function ei(e) {
  "@babel/helpers - typeof";
  return (
    (ei =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ei(e)
  );
}
function Sl() {
  return (
    (Sl = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    Sl.apply(this, arguments)
  );
}
function Qd(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function K2(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Qd(Object(n), !0).forEach(function (i) {
          Ki(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Qd(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function H2(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function G2(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, If(i.key), i);
  }
}
function X2(e, t, n) {
  return t && G2(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function Y2(e, t, n) {
  return (t = cs(t)), J2(e, Ef() ? Reflect.construct(t, n || [], cs(e).constructor) : t.apply(e, n));
}
function J2(e, t) {
  if (t && (ei(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0) throw new TypeError("Derived constructors may only return object or undefined");
  return Q2(e);
}
function Q2(e) {
  if (e === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
function Ef() {
  try {
    var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch {}
  return (Ef = function () {
    return !!e;
  })();
}
function cs(e) {
  return (
    (cs = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (n) {
          return n.__proto__ || Object.getPrototypeOf(n);
        }),
    cs(e)
  );
}
function Z2(e, t) {
  if (typeof t != "function" && t !== null) throw new TypeError("Super expression must either be null or a function");
  (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Cl(e, t);
}
function Cl(e, t) {
  return (
    (Cl = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (i, a) {
          return (i.__proto__ = a), i;
        }),
    Cl(e, t)
  );
}
function Ki(e, t, n) {
  return (
    (t = If(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function If(e) {
  var t = eS(e, "string");
  return ei(t) == "symbol" ? t : t + "";
}
function eS(e, t) {
  if (ei(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (ei(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var nr = 32,
  Fc = (function (e) {
    function t() {
      return H2(this, t), Y2(this, t, arguments);
    }
    return (
      Z2(t, e),
      X2(t, [
        {
          key: "renderIcon",
          value: function (i) {
            var a = this.props.inactiveColor,
              s = nr / 2,
              o = nr / 6,
              l = nr / 3,
              d = i.inactive ? a : i.color;
            if (i.type === "plainline")
              return N.createElement("line", {
                strokeWidth: 4,
                fill: "none",
                stroke: d,
                strokeDasharray: i.payload.strokeDasharray,
                x1: 0,
                y1: s,
                x2: nr,
                y2: s,
                className: "recharts-legend-icon",
              });
            if (i.type === "line")
              return N.createElement("path", {
                strokeWidth: 4,
                fill: "none",
                stroke: d,
                d: "M0,"
                  .concat(s, "h")
                  .concat(
                    l,
                    `
            A`,
                  )
                  .concat(o, ",")
                  .concat(o, ",0,1,1,")
                  .concat(2 * l, ",")
                  .concat(
                    s,
                    `
            H`,
                  )
                  .concat(nr, "M")
                  .concat(2 * l, ",")
                  .concat(
                    s,
                    `
            A`,
                  )
                  .concat(o, ",")
                  .concat(o, ",0,1,1,")
                  .concat(l, ",")
                  .concat(s),
                className: "recharts-legend-icon",
              });
            if (i.type === "rect")
              return N.createElement("path", {
                stroke: "none",
                fill: d,
                d: "M0,"
                  .concat(nr / 8, "h")
                  .concat(nr, "v")
                  .concat((nr * 3) / 4, "h")
                  .concat(-nr, "z"),
                className: "recharts-legend-icon",
              });
            if (N.isValidElement(i.legendIcon)) {
              var c = K2({}, i);
              return delete c.legendIcon, N.cloneElement(i.legendIcon, c);
            }
            return N.createElement(Rc, { fill: d, cx: s, cy: s, size: nr, sizeType: "diameter", type: i.type });
          },
        },
        {
          key: "renderItems",
          value: function () {
            var i = this,
              a = this.props,
              s = a.payload,
              o = a.iconSize,
              l = a.layout,
              d = a.formatter,
              c = a.inactiveColor,
              u = { x: 0, y: 0, width: nr, height: nr },
              h = { display: l === "horizontal" ? "inline-block" : "block", marginRight: 10 },
              p = { display: "inline-block", verticalAlign: "middle", marginRight: 4 };
            return s.map(function (g, m) {
              var v = g.formatter || d,
                x = Me(Ki(Ki({ "recharts-legend-item": !0 }, "legend-item-".concat(m), !0), "inactive", g.inactive));
              if (g.type === "none") return null;
              var j = Te(g.value) ? null : g.value;
              Mr(
                !Te(g.value),
                `The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`,
              );
              var b = g.inactive ? c : g.color;
              return N.createElement(
                "li",
                Sl({ className: x, style: h, key: "legend-item-".concat(m) }, ls(i.props, g, m)),
                N.createElement(yl, { width: o, height: o, viewBox: u, style: p }, i.renderIcon(g)),
                N.createElement(
                  "span",
                  { className: "recharts-legend-item-text", style: { color: b } },
                  v ? v(j, g, m) : j,
                ),
              );
            });
          },
        },
        {
          key: "render",
          value: function () {
            var i = this.props,
              a = i.payload,
              s = i.layout,
              o = i.align;
            if (!a || !a.length) return null;
            var l = { padding: 0, margin: 0, textAlign: s === "horizontal" ? o : "left" };
            return N.createElement("ul", { className: "recharts-default-legend", style: l }, this.renderItems());
          },
        },
      ])
    );
  })(f.PureComponent);
Ki(Fc, "displayName", "Legend");
Ki(Fc, "defaultProps", {
  iconSize: 14,
  layout: "horizontal",
  align: "center",
  verticalAlign: "middle",
  inactiveColor: "#ccc",
});
var tS = ro;
function rS() {
  (this.__data__ = new tS()), (this.size = 0);
}
var nS = rS;
function iS(e) {
  var t = this.__data__,
    n = t.delete(e);
  return (this.size = t.size), n;
}
var aS = iS;
function sS(e) {
  return this.__data__.get(e);
}
var oS = sS;
function lS(e) {
  return this.__data__.has(e);
}
var cS = lS,
  dS = ro,
  uS = $c,
  hS = Wc,
  pS = 200;
function fS(e, t) {
  var n = this.__data__;
  if (n instanceof dS) {
    var i = n.__data__;
    if (!uS || i.length < pS - 1) return i.push([e, t]), (this.size = ++n.size), this;
    n = this.__data__ = new hS(i);
  }
  return n.set(e, t), (this.size = n.size), this;
}
var gS = fS,
  xS = ro,
  mS = nS,
  vS = aS,
  yS = oS,
  jS = cS,
  bS = gS;
function Oi(e) {
  var t = (this.__data__ = new xS(e));
  this.size = t.size;
}
Oi.prototype.clear = mS;
Oi.prototype.delete = vS;
Oi.prototype.get = yS;
Oi.prototype.has = jS;
Oi.prototype.set = bS;
var Tf = Oi,
  _S = "__lodash_hash_undefined__";
function wS(e) {
  return this.__data__.set(e, _S), this;
}
var SS = wS;
function CS(e) {
  return this.__data__.has(e);
}
var PS = CS,
  OS = Wc,
  kS = SS,
  AS = PS;
function ds(e) {
  var t = -1,
    n = e == null ? 0 : e.length;
  for (this.__data__ = new OS(); ++t < n; ) this.add(e[t]);
}
ds.prototype.add = ds.prototype.push = kS;
ds.prototype.has = AS;
var $f = ds;
function DS(e, t) {
  for (var n = -1, i = e == null ? 0 : e.length; ++n < i; ) if (t(e[n], n, e)) return !0;
  return !1;
}
var Wf = DS;
function ES(e, t) {
  return e.has(t);
}
var Mf = ES,
  IS = $f,
  TS = Wf,
  $S = Mf,
  WS = 1,
  MS = 2;
function NS(e, t, n, i, a, s) {
  var o = n & WS,
    l = e.length,
    d = t.length;
  if (l != d && !(o && d > l)) return !1;
  var c = s.get(e),
    u = s.get(t);
  if (c && u) return c == t && u == e;
  var h = -1,
    p = !0,
    g = n & MS ? new IS() : void 0;
  for (s.set(e, t), s.set(t, e); ++h < l; ) {
    var m = e[h],
      v = t[h];
    if (i) var x = o ? i(v, m, h, t, e, s) : i(m, v, h, e, t, s);
    if (x !== void 0) {
      if (x) continue;
      p = !1;
      break;
    }
    if (g) {
      if (
        !TS(t, function (j, b) {
          if (!$S(g, b) && (m === j || a(m, j, n, i, s))) return g.push(b);
        })
      ) {
        p = !1;
        break;
      }
    } else if (!(m === v || a(m, v, n, i, s))) {
      p = !1;
      break;
    }
  }
  return s.delete(e), s.delete(t), p;
}
var Nf = NS,
  zS = Qr,
  LS = zS.Uint8Array,
  BS = LS;
function RS(e) {
  var t = -1,
    n = Array(e.size);
  return (
    e.forEach(function (i, a) {
      n[++t] = [a, i];
    }),
    n
  );
}
var FS = RS;
function VS(e) {
  var t = -1,
    n = Array(e.size);
  return (
    e.forEach(function (i) {
      n[++t] = i;
    }),
    n
  );
}
var Vc = VS,
  Zd = wc,
  eu = BS,
  qS = Tc,
  US = Nf,
  KS = FS,
  HS = Vc,
  GS = 1,
  XS = 2,
  YS = "[object Boolean]",
  JS = "[object Date]",
  QS = "[object Error]",
  ZS = "[object Map]",
  e5 = "[object Number]",
  t5 = "[object RegExp]",
  r5 = "[object Set]",
  n5 = "[object String]",
  i5 = "[object Symbol]",
  a5 = "[object ArrayBuffer]",
  s5 = "[object DataView]",
  tu = Zd ? Zd.prototype : void 0,
  Fo = tu ? tu.valueOf : void 0;
function o5(e, t, n, i, a, s, o) {
  switch (n) {
    case s5:
      if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) return !1;
      (e = e.buffer), (t = t.buffer);
    case a5:
      return !(e.byteLength != t.byteLength || !s(new eu(e), new eu(t)));
    case YS:
    case JS:
    case e5:
      return qS(+e, +t);
    case QS:
      return e.name == t.name && e.message == t.message;
    case t5:
    case n5:
      return e == t + "";
    case ZS:
      var l = KS;
    case r5:
      var d = i & GS;
      if ((l || (l = HS), e.size != t.size && !d)) return !1;
      var c = o.get(e);
      if (c) return c == t;
      (i |= XS), o.set(e, t);
      var u = US(l(e), l(t), i, a, s, o);
      return o.delete(e), u;
    case i5:
      if (Fo) return Fo.call(e) == Fo.call(t);
  }
  return !1;
}
var l5 = o5;
function c5(e, t) {
  for (var n = -1, i = t.length, a = e.length; ++n < i; ) e[a + n] = t[n];
  return e;
}
var zf = c5,
  d5 = zf,
  u5 = Xt;
function h5(e, t, n) {
  var i = t(e);
  return u5(e) ? i : d5(i, n(e));
}
var p5 = h5;
function f5(e, t) {
  for (var n = -1, i = e == null ? 0 : e.length, a = 0, s = []; ++n < i; ) {
    var o = e[n];
    t(o, n, e) && (s[a++] = o);
  }
  return s;
}
var g5 = f5;
function x5() {
  return [];
}
var m5 = x5,
  v5 = g5,
  y5 = m5,
  j5 = Object.prototype,
  b5 = j5.propertyIsEnumerable,
  ru = Object.getOwnPropertySymbols,
  _5 = ru
    ? function (e) {
        return e == null
          ? []
          : ((e = Object(e)),
            v5(ru(e), function (t) {
              return b5.call(e, t);
            }));
      }
    : y5,
  w5 = _5;
function S5(e, t) {
  for (var n = -1, i = Array(e); ++n < e; ) i[n] = t(n);
  return i;
}
var C5 = S5,
  P5 = Jr,
  O5 = Zr,
  k5 = "[object Arguments]";
function A5(e) {
  return O5(e) && P5(e) == k5;
}
var D5 = A5,
  nu = D5,
  E5 = Zr,
  Lf = Object.prototype,
  I5 = Lf.hasOwnProperty,
  T5 = Lf.propertyIsEnumerable,
  $5 = nu(
    (function () {
      return arguments;
    })(),
  )
    ? nu
    : function (e) {
        return E5(e) && I5.call(e, "callee") && !T5.call(e, "callee");
      },
  qc = $5,
  us = { exports: {} };
function W5() {
  return !1;
}
var M5 = W5;
us.exports;
(function (e, t) {
  var n = Qr,
    i = M5,
    a = t && !t.nodeType && t,
    s = a && !0 && e && !e.nodeType && e,
    o = s && s.exports === a,
    l = o ? n.Buffer : void 0,
    d = l ? l.isBuffer : void 0,
    c = d || i;
  e.exports = c;
})(us, us.exports);
var Bf = us.exports,
  N5 = 9007199254740991,
  z5 = /^(?:0|[1-9]\d*)$/;
function L5(e, t) {
  var n = typeof e;
  return (t = t ?? N5), !!t && (n == "number" || (n != "symbol" && z5.test(e))) && e > -1 && e % 1 == 0 && e < t;
}
var Uc = L5,
  B5 = 9007199254740991;
function R5(e) {
  return typeof e == "number" && e > -1 && e % 1 == 0 && e <= B5;
}
var Kc = R5,
  F5 = Jr,
  V5 = Kc,
  q5 = Zr,
  U5 = "[object Arguments]",
  K5 = "[object Array]",
  H5 = "[object Boolean]",
  G5 = "[object Date]",
  X5 = "[object Error]",
  Y5 = "[object Function]",
  J5 = "[object Map]",
  Q5 = "[object Number]",
  Z5 = "[object Object]",
  eC = "[object RegExp]",
  tC = "[object Set]",
  rC = "[object String]",
  nC = "[object WeakMap]",
  iC = "[object ArrayBuffer]",
  aC = "[object DataView]",
  sC = "[object Float32Array]",
  oC = "[object Float64Array]",
  lC = "[object Int8Array]",
  cC = "[object Int16Array]",
  dC = "[object Int32Array]",
  uC = "[object Uint8Array]",
  hC = "[object Uint8ClampedArray]",
  pC = "[object Uint16Array]",
  fC = "[object Uint32Array]",
  tt = {};
tt[sC] = tt[oC] = tt[lC] = tt[cC] = tt[dC] = tt[uC] = tt[hC] = tt[pC] = tt[fC] = !0;
tt[U5] =
  tt[K5] =
  tt[iC] =
  tt[H5] =
  tt[aC] =
  tt[G5] =
  tt[X5] =
  tt[Y5] =
  tt[J5] =
  tt[Q5] =
  tt[Z5] =
  tt[eC] =
  tt[tC] =
  tt[rC] =
  tt[nC] =
    !1;
function gC(e) {
  return q5(e) && V5(e.length) && !!tt[F5(e)];
}
var xC = gC;
function mC(e) {
  return function (t) {
    return e(t);
  };
}
var Rf = mC,
  hs = { exports: {} };
hs.exports;
(function (e, t) {
  var n = zx,
    i = t && !t.nodeType && t,
    a = i && !0 && e && !e.nodeType && e,
    s = a && a.exports === i,
    o = s && n.process,
    l = (function () {
      try {
        var d = a && a.require && a.require("util").types;
        return d || (o && o.binding && o.binding("util"));
      } catch {}
    })();
  e.exports = l;
})(hs, hs.exports);
var vC = hs.exports,
  yC = xC,
  jC = Rf,
  iu = vC,
  au = iu && iu.isTypedArray,
  bC = au ? jC(au) : yC,
  Ff = bC,
  _C = C5,
  wC = qc,
  SC = Xt,
  CC = Bf,
  PC = Uc,
  OC = Ff,
  kC = Object.prototype,
  AC = kC.hasOwnProperty;
function DC(e, t) {
  var n = SC(e),
    i = !n && wC(e),
    a = !n && !i && CC(e),
    s = !n && !i && !a && OC(e),
    o = n || i || a || s,
    l = o ? _C(e.length, String) : [],
    d = l.length;
  for (var c in e)
    (t || AC.call(e, c)) &&
      !(
        o &&
        (c == "length" ||
          (a && (c == "offset" || c == "parent")) ||
          (s && (c == "buffer" || c == "byteLength" || c == "byteOffset")) ||
          PC(c, d))
      ) &&
      l.push(c);
  return l;
}
var EC = DC,
  IC = Object.prototype;
function TC(e) {
  var t = e && e.constructor,
    n = (typeof t == "function" && t.prototype) || IC;
  return e === n;
}
var $C = TC;
function WC(e, t) {
  return function (n) {
    return e(t(n));
  };
}
var Vf = WC,
  MC = Vf,
  NC = MC(Object.keys, Object),
  zC = NC,
  LC = $C,
  BC = zC,
  RC = Object.prototype,
  FC = RC.hasOwnProperty;
function VC(e) {
  if (!LC(e)) return BC(e);
  var t = [];
  for (var n in Object(e)) FC.call(e, n) && n != "constructor" && t.push(n);
  return t;
}
var qC = VC,
  UC = Ic,
  KC = Kc;
function HC(e) {
  return e != null && KC(e.length) && !UC(e);
}
var Wa = HC,
  GC = EC,
  XC = qC,
  YC = Wa;
function JC(e) {
  return YC(e) ? GC(e) : XC(e);
}
var so = JC,
  QC = p5,
  ZC = w5,
  eP = so;
function tP(e) {
  return QC(e, eP, ZC);
}
var rP = tP,
  su = rP,
  nP = 1,
  iP = Object.prototype,
  aP = iP.hasOwnProperty;
function sP(e, t, n, i, a, s) {
  var o = n & nP,
    l = su(e),
    d = l.length,
    c = su(t),
    u = c.length;
  if (d != u && !o) return !1;
  for (var h = d; h--; ) {
    var p = l[h];
    if (!(o ? p in t : aP.call(t, p))) return !1;
  }
  var g = s.get(e),
    m = s.get(t);
  if (g && m) return g == t && m == e;
  var v = !0;
  s.set(e, t), s.set(t, e);
  for (var x = o; ++h < d; ) {
    p = l[h];
    var j = e[p],
      b = t[p];
    if (i) var _ = o ? i(b, j, p, t, e, s) : i(j, b, p, e, t, s);
    if (!(_ === void 0 ? j === b || a(j, b, n, i, s) : _)) {
      v = !1;
      break;
    }
    x || (x = p == "constructor");
  }
  if (v && !x) {
    var S = e.constructor,
      y = t.constructor;
    S != y &&
      "constructor" in e &&
      "constructor" in t &&
      !(typeof S == "function" && S instanceof S && typeof y == "function" && y instanceof y) &&
      (v = !1);
  }
  return s.delete(e), s.delete(t), v;
}
var oP = sP,
  lP = $n,
  cP = Qr,
  dP = lP(cP, "DataView"),
  uP = dP,
  hP = $n,
  pP = Qr,
  fP = hP(pP, "Promise"),
  gP = fP,
  xP = $n,
  mP = Qr,
  vP = xP(mP, "Set"),
  qf = vP,
  yP = $n,
  jP = Qr,
  bP = yP(jP, "WeakMap"),
  _P = bP,
  Pl = uP,
  Ol = $c,
  kl = gP,
  Al = qf,
  Dl = _P,
  Uf = Jr,
  ki = gf,
  ou = "[object Map]",
  wP = "[object Object]",
  lu = "[object Promise]",
  cu = "[object Set]",
  du = "[object WeakMap]",
  uu = "[object DataView]",
  SP = ki(Pl),
  CP = ki(Ol),
  PP = ki(kl),
  OP = ki(Al),
  kP = ki(Dl),
  un = Uf;
((Pl && un(new Pl(new ArrayBuffer(1))) != uu) ||
  (Ol && un(new Ol()) != ou) ||
  (kl && un(kl.resolve()) != lu) ||
  (Al && un(new Al()) != cu) ||
  (Dl && un(new Dl()) != du)) &&
  (un = function (e) {
    var t = Uf(e),
      n = t == wP ? e.constructor : void 0,
      i = n ? ki(n) : "";
    if (i)
      switch (i) {
        case SP:
          return uu;
        case CP:
          return ou;
        case PP:
          return lu;
        case OP:
          return cu;
        case kP:
          return du;
      }
    return t;
  });
var AP = un,
  Vo = Tf,
  DP = Nf,
  EP = l5,
  IP = oP,
  hu = AP,
  pu = Xt,
  fu = Bf,
  TP = Ff,
  $P = 1,
  gu = "[object Arguments]",
  xu = "[object Array]",
  Va = "[object Object]",
  WP = Object.prototype,
  mu = WP.hasOwnProperty;
function MP(e, t, n, i, a, s) {
  var o = pu(e),
    l = pu(t),
    d = o ? xu : hu(e),
    c = l ? xu : hu(t);
  (d = d == gu ? Va : d), (c = c == gu ? Va : c);
  var u = d == Va,
    h = c == Va,
    p = d == c;
  if (p && fu(e)) {
    if (!fu(t)) return !1;
    (o = !0), (u = !1);
  }
  if (p && !u) return s || (s = new Vo()), o || TP(e) ? DP(e, t, n, i, a, s) : EP(e, t, d, n, i, a, s);
  if (!(n & $P)) {
    var g = u && mu.call(e, "__wrapped__"),
      m = h && mu.call(t, "__wrapped__");
    if (g || m) {
      var v = g ? e.value() : e,
        x = m ? t.value() : t;
      return s || (s = new Vo()), a(v, x, n, i, s);
    }
  }
  return p ? (s || (s = new Vo()), IP(e, t, n, i, a, s)) : !1;
}
var NP = MP,
  zP = NP,
  vu = Zr;
function Kf(e, t, n, i, a) {
  return e === t ? !0 : e == null || t == null || (!vu(e) && !vu(t)) ? e !== e && t !== t : zP(e, t, n, i, Kf, a);
}
var Hc = Kf,
  LP = Tf,
  BP = Hc,
  RP = 1,
  FP = 2;
function VP(e, t, n, i) {
  var a = n.length,
    s = a,
    o = !i;
  if (e == null) return !s;
  for (e = Object(e); a--; ) {
    var l = n[a];
    if (o && l[2] ? l[1] !== e[l[0]] : !(l[0] in e)) return !1;
  }
  for (; ++a < s; ) {
    l = n[a];
    var d = l[0],
      c = e[d],
      u = l[1];
    if (o && l[2]) {
      if (c === void 0 && !(d in e)) return !1;
    } else {
      var h = new LP();
      if (i) var p = i(c, u, d, e, t, h);
      if (!(p === void 0 ? BP(u, c, RP | FP, i, h) : p)) return !1;
    }
  }
  return !0;
}
var qP = VP,
  UP = Rs;
function KP(e) {
  return e === e && !UP(e);
}
var Hf = KP,
  HP = Hf,
  GP = so;
function XP(e) {
  for (var t = GP(e), n = t.length; n--; ) {
    var i = t[n],
      a = e[i];
    t[n] = [i, a, HP(a)];
  }
  return t;
}
var YP = XP;
function JP(e, t) {
  return function (n) {
    return n == null ? !1 : n[e] === t && (t !== void 0 || e in Object(n));
  };
}
var Gf = JP,
  QP = qP,
  ZP = YP,
  eO = Gf;
function tO(e) {
  var t = ZP(e);
  return t.length == 1 && t[0][2]
    ? eO(t[0][0], t[0][1])
    : function (n) {
        return n === e || QP(n, e, t);
      };
}
var rO = tO;
function nO(e, t) {
  return e != null && t in Object(e);
}
var iO = nO,
  aO = jf,
  sO = qc,
  oO = Xt,
  lO = Uc,
  cO = Kc,
  dO = io;
function uO(e, t, n) {
  t = aO(t, e);
  for (var i = -1, a = t.length, s = !1; ++i < a; ) {
    var o = dO(t[i]);
    if (!(s = e != null && n(e, o))) break;
    e = e[o];
  }
  return s || ++i != a ? s : ((a = e == null ? 0 : e.length), !!a && cO(a) && lO(o, a) && (oO(e) || sO(e)));
}
var hO = uO,
  pO = iO,
  fO = hO;
function gO(e, t) {
  return e != null && fO(e, t, pO);
}
var xO = gO,
  mO = Hc,
  vO = bf,
  yO = xO,
  jO = Ec,
  bO = Hf,
  _O = Gf,
  wO = io,
  SO = 1,
  CO = 2;
function PO(e, t) {
  return jO(e) && bO(t)
    ? _O(wO(e), t)
    : function (n) {
        var i = vO(n, e);
        return i === void 0 && i === t ? yO(n, e) : mO(t, i, SO | CO);
      };
}
var OO = PO;
function kO(e) {
  return e;
}
var Ai = kO;
function AO(e) {
  return function (t) {
    return t == null ? void 0 : t[e];
  };
}
var DO = AO,
  EO = zc;
function IO(e) {
  return function (t) {
    return EO(t, e);
  };
}
var TO = IO,
  $O = DO,
  WO = TO,
  MO = Ec,
  NO = io;
function zO(e) {
  return MO(e) ? $O(NO(e)) : WO(e);
}
var LO = zO,
  BO = rO,
  RO = OO,
  FO = Ai,
  VO = Xt,
  qO = LO;
function UO(e) {
  return typeof e == "function" ? e : e == null ? FO : typeof e == "object" ? (VO(e) ? RO(e[0], e[1]) : BO(e)) : qO(e);
}
var cn = UO;
function KO(e, t, n, i) {
  for (var a = e.length, s = n + (i ? 1 : -1); i ? s-- : ++s < a; ) if (t(e[s], s, e)) return s;
  return -1;
}
var Xf = KO;
function HO(e) {
  return e !== e;
}
var GO = HO;
function XO(e, t, n) {
  for (var i = n - 1, a = e.length; ++i < a; ) if (e[i] === t) return i;
  return -1;
}
var YO = XO,
  JO = Xf,
  QO = GO,
  ZO = YO;
function ek(e, t, n) {
  return t === t ? ZO(e, t, n) : JO(e, QO, n);
}
var tk = ek,
  rk = tk;
function nk(e, t) {
  var n = e == null ? 0 : e.length;
  return !!n && rk(e, t, 0) > -1;
}
var ik = nk;
function ak(e, t, n) {
  for (var i = -1, a = e == null ? 0 : e.length; ++i < a; ) if (n(t, e[i])) return !0;
  return !1;
}
var sk = ak;
function ok() {}
var lk = ok,
  qo = qf,
  ck = lk,
  dk = Vc,
  uk = 1 / 0,
  hk =
    qo && 1 / dk(new qo([, -0]))[1] == uk
      ? function (e) {
          return new qo(e);
        }
      : ck,
  pk = hk,
  fk = $f,
  gk = ik,
  xk = sk,
  mk = Mf,
  vk = pk,
  yk = Vc,
  jk = 200;
function bk(e, t, n) {
  var i = -1,
    a = gk,
    s = e.length,
    o = !0,
    l = [],
    d = l;
  if (n) (o = !1), (a = xk);
  else if (s >= jk) {
    var c = t ? null : vk(e);
    if (c) return yk(c);
    (o = !1), (a = mk), (d = new fk());
  } else d = t ? [] : l;
  e: for (; ++i < s; ) {
    var u = e[i],
      h = t ? t(u) : u;
    if (((u = n || u !== 0 ? u : 0), o && h === h)) {
      for (var p = d.length; p--; ) if (d[p] === h) continue e;
      t && d.push(h), l.push(u);
    } else a(d, h, n) || (d !== l && d.push(h), l.push(u));
  }
  return l;
}
var _k = bk,
  wk = cn,
  Sk = _k;
function Ck(e, t) {
  return e && e.length ? Sk(e, wk(t)) : [];
}
var Pk = Ck;
const yu = ht(Pk);
function Yf(e, t, n) {
  return t === !0 ? yu(e, n) : Te(t) ? yu(e, t) : e;
}
function ti(e) {
  "@babel/helpers - typeof";
  return (
    (ti =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ti(e)
  );
}
var Ok = ["ref"];
function ju(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Ir(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? ju(Object(n), !0).forEach(function (i) {
          oo(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : ju(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function kk(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function bu(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, Qf(i.key), i);
  }
}
function Ak(e, t, n) {
  return t && bu(e.prototype, t), n && bu(e, n), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function Dk(e, t, n) {
  return (t = ps(t)), Ek(e, Jf() ? Reflect.construct(t, n || [], ps(e).constructor) : t.apply(e, n));
}
function Ek(e, t) {
  if (t && (ti(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0) throw new TypeError("Derived constructors may only return object or undefined");
  return Ik(e);
}
function Ik(e) {
  if (e === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
function Jf() {
  try {
    var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch {}
  return (Jf = function () {
    return !!e;
  })();
}
function ps(e) {
  return (
    (ps = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (n) {
          return n.__proto__ || Object.getPrototypeOf(n);
        }),
    ps(e)
  );
}
function Tk(e, t) {
  if (typeof t != "function" && t !== null) throw new TypeError("Super expression must either be null or a function");
  (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && El(e, t);
}
function El(e, t) {
  return (
    (El = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (i, a) {
          return (i.__proto__ = a), i;
        }),
    El(e, t)
  );
}
function oo(e, t, n) {
  return (
    (t = Qf(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function Qf(e) {
  var t = $k(e, "string");
  return ti(t) == "symbol" ? t : t + "";
}
function $k(e, t) {
  if (ti(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (ti(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function Wk(e, t) {
  if (e == null) return {};
  var n = Mk(e, t),
    i,
    a;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (a = 0; a < s.length; a++)
      (i = s[a]), !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i]);
  }
  return n;
}
function Mk(e, t) {
  if (e == null) return {};
  var n = {};
  for (var i in e)
    if (Object.prototype.hasOwnProperty.call(e, i)) {
      if (t.indexOf(i) >= 0) continue;
      n[i] = e[i];
    }
  return n;
}
function Nk(e) {
  return e.value;
}
function zk(e, t) {
  if (N.isValidElement(e)) return N.cloneElement(e, t);
  if (typeof e == "function") return N.createElement(e, t);
  t.ref;
  var n = Wk(t, Ok);
  return N.createElement(Fc, n);
}
var _u = 1,
  Pn = (function (e) {
    function t() {
      var n;
      kk(this, t);
      for (var i = arguments.length, a = new Array(i), s = 0; s < i; s++) a[s] = arguments[s];
      return (n = Dk(this, t, [].concat(a))), oo(n, "lastBoundingBox", { width: -1, height: -1 }), n;
    }
    return (
      Tk(t, e),
      Ak(
        t,
        [
          {
            key: "componentDidMount",
            value: function () {
              this.updateBBox();
            },
          },
          {
            key: "componentDidUpdate",
            value: function () {
              this.updateBBox();
            },
          },
          {
            key: "getBBox",
            value: function () {
              if (this.wrapperNode && this.wrapperNode.getBoundingClientRect) {
                var i = this.wrapperNode.getBoundingClientRect();
                return (i.height = this.wrapperNode.offsetHeight), (i.width = this.wrapperNode.offsetWidth), i;
              }
              return null;
            },
          },
          {
            key: "updateBBox",
            value: function () {
              var i = this.props.onBBoxUpdate,
                a = this.getBBox();
              a
                ? (Math.abs(a.width - this.lastBoundingBox.width) > _u ||
                    Math.abs(a.height - this.lastBoundingBox.height) > _u) &&
                  ((this.lastBoundingBox.width = a.width), (this.lastBoundingBox.height = a.height), i && i(a))
                : (this.lastBoundingBox.width !== -1 || this.lastBoundingBox.height !== -1) &&
                  ((this.lastBoundingBox.width = -1), (this.lastBoundingBox.height = -1), i && i(null));
            },
          },
          {
            key: "getBBoxSnapshot",
            value: function () {
              return this.lastBoundingBox.width >= 0 && this.lastBoundingBox.height >= 0
                ? Ir({}, this.lastBoundingBox)
                : { width: 0, height: 0 };
            },
          },
          {
            key: "getDefaultPosition",
            value: function (i) {
              var a = this.props,
                s = a.layout,
                o = a.align,
                l = a.verticalAlign,
                d = a.margin,
                c = a.chartWidth,
                u = a.chartHeight,
                h,
                p;
              if (!i || ((i.left === void 0 || i.left === null) && (i.right === void 0 || i.right === null)))
                if (o === "center" && s === "vertical") {
                  var g = this.getBBoxSnapshot();
                  h = { left: ((c || 0) - g.width) / 2 };
                } else h = o === "right" ? { right: (d && d.right) || 0 } : { left: (d && d.left) || 0 };
              if (!i || ((i.top === void 0 || i.top === null) && (i.bottom === void 0 || i.bottom === null)))
                if (l === "middle") {
                  var m = this.getBBoxSnapshot();
                  p = { top: ((u || 0) - m.height) / 2 };
                } else p = l === "bottom" ? { bottom: (d && d.bottom) || 0 } : { top: (d && d.top) || 0 };
              return Ir(Ir({}, h), p);
            },
          },
          {
            key: "render",
            value: function () {
              var i = this,
                a = this.props,
                s = a.content,
                o = a.width,
                l = a.height,
                d = a.wrapperStyle,
                c = a.payloadUniqBy,
                u = a.payload,
                h = Ir(
                  Ir({ position: "absolute", width: o || "auto", height: l || "auto" }, this.getDefaultPosition(d)),
                  d,
                );
              return N.createElement(
                "div",
                {
                  className: "recharts-legend-wrapper",
                  style: h,
                  ref: function (g) {
                    i.wrapperNode = g;
                  },
                },
                zk(s, Ir(Ir({}, this.props), {}, { payload: Yf(u, c, Nk) })),
              );
            },
          },
        ],
        [
          {
            key: "getWithHeight",
            value: function (i, a) {
              var s = Ir(Ir({}, this.defaultProps), i.props),
                o = s.layout;
              return o === "vertical" && se(i.props.height)
                ? { height: i.props.height }
                : o === "horizontal"
                  ? { width: i.props.width || a }
                  : null;
            },
          },
        ],
      )
    );
  })(f.PureComponent);
oo(Pn, "displayName", "Legend");
oo(Pn, "defaultProps", { iconSize: 14, layout: "horizontal", align: "center", verticalAlign: "bottom" });
var wu = wc,
  Lk = qc,
  Bk = Xt,
  Su = wu ? wu.isConcatSpreadable : void 0;
function Rk(e) {
  return Bk(e) || Lk(e) || !!(Su && e && e[Su]);
}
var Fk = Rk,
  Vk = zf,
  qk = Fk;
function Zf(e, t, n, i, a) {
  var s = -1,
    o = e.length;
  for (n || (n = qk), a || (a = []); ++s < o; ) {
    var l = e[s];
    t > 0 && n(l) ? (t > 1 ? Zf(l, t - 1, n, i, a) : Vk(a, l)) : i || (a[a.length] = l);
  }
  return a;
}
var eg = Zf;
function Uk(e) {
  return function (t, n, i) {
    for (var a = -1, s = Object(t), o = i(t), l = o.length; l--; ) {
      var d = o[e ? l : ++a];
      if (n(s[d], d, s) === !1) break;
    }
    return t;
  };
}
var Kk = Uk,
  Hk = Kk,
  Gk = Hk(),
  Xk = Gk,
  Yk = Xk,
  Jk = so;
function Qk(e, t) {
  return e && Yk(e, t, Jk);
}
var tg = Qk,
  Zk = Wa;
function eA(e, t) {
  return function (n, i) {
    if (n == null) return n;
    if (!Zk(n)) return e(n, i);
    for (var a = n.length, s = t ? a : -1, o = Object(n); (t ? s-- : ++s < a) && i(o[s], s, o) !== !1; );
    return n;
  };
}
var tA = eA,
  rA = tg,
  nA = tA,
  iA = nA(rA),
  Gc = iA,
  aA = Gc,
  sA = Wa;
function oA(e, t) {
  var n = -1,
    i = sA(e) ? Array(e.length) : [];
  return (
    aA(e, function (a, s, o) {
      i[++n] = t(a, s, o);
    }),
    i
  );
}
var rg = oA;
function lA(e, t) {
  var n = e.length;
  for (e.sort(t); n--; ) e[n] = e[n].value;
  return e;
}
var cA = lA,
  Cu = wa;
function dA(e, t) {
  if (e !== t) {
    var n = e !== void 0,
      i = e === null,
      a = e === e,
      s = Cu(e),
      o = t !== void 0,
      l = t === null,
      d = t === t,
      c = Cu(t);
    if ((!l && !c && !s && e > t) || (s && o && d && !l && !c) || (i && o && d) || (!n && d) || !a) return 1;
    if ((!i && !s && !c && e < t) || (c && n && a && !i && !s) || (l && n && a) || (!o && a) || !d) return -1;
  }
  return 0;
}
var uA = dA,
  hA = uA;
function pA(e, t, n) {
  for (var i = -1, a = e.criteria, s = t.criteria, o = a.length, l = n.length; ++i < o; ) {
    var d = hA(a[i], s[i]);
    if (d) {
      if (i >= l) return d;
      var c = n[i];
      return d * (c == "desc" ? -1 : 1);
    }
  }
  return e.index - t.index;
}
var fA = pA,
  Uo = Nc,
  gA = zc,
  xA = cn,
  mA = rg,
  vA = cA,
  yA = Rf,
  jA = fA,
  bA = Ai,
  _A = Xt;
function wA(e, t, n) {
  t.length
    ? (t = Uo(t, function (s) {
        return _A(s)
          ? function (o) {
              return gA(o, s.length === 1 ? s[0] : s);
            }
          : s;
      }))
    : (t = [bA]);
  var i = -1;
  t = Uo(t, yA(xA));
  var a = mA(e, function (s, o, l) {
    var d = Uo(t, function (c) {
      return c(s);
    });
    return { criteria: d, index: ++i, value: s };
  });
  return vA(a, function (s, o) {
    return jA(s, o, n);
  });
}
var SA = wA;
function CA(e, t, n) {
  switch (n.length) {
    case 0:
      return e.call(t);
    case 1:
      return e.call(t, n[0]);
    case 2:
      return e.call(t, n[0], n[1]);
    case 3:
      return e.call(t, n[0], n[1], n[2]);
  }
  return e.apply(t, n);
}
var PA = CA,
  OA = PA,
  Pu = Math.max;
function kA(e, t, n) {
  return (
    (t = Pu(t === void 0 ? e.length - 1 : t, 0)),
    function () {
      for (var i = arguments, a = -1, s = Pu(i.length - t, 0), o = Array(s); ++a < s; ) o[a] = i[t + a];
      a = -1;
      for (var l = Array(t + 1); ++a < t; ) l[a] = i[a];
      return (l[t] = n(o)), OA(e, this, l);
    }
  );
}
var AA = kA;
function DA(e) {
  return function () {
    return e;
  };
}
var EA = DA,
  IA = $n,
  TA = (function () {
    try {
      var e = IA(Object, "defineProperty");
      return e({}, "", {}), e;
    } catch {}
  })(),
  ng = TA,
  $A = EA,
  Ou = ng,
  WA = Ai,
  MA = Ou
    ? function (e, t) {
        return Ou(e, "toString", { configurable: !0, enumerable: !1, value: $A(t), writable: !0 });
      }
    : WA,
  NA = MA,
  zA = 800,
  LA = 16,
  BA = Date.now;
function RA(e) {
  var t = 0,
    n = 0;
  return function () {
    var i = BA(),
      a = LA - (i - n);
    if (((n = i), a > 0)) {
      if (++t >= zA) return arguments[0];
    } else t = 0;
    return e.apply(void 0, arguments);
  };
}
var FA = RA,
  VA = NA,
  qA = FA,
  UA = qA(VA),
  KA = UA,
  HA = Ai,
  GA = AA,
  XA = KA;
function YA(e, t) {
  return XA(GA(e, t, HA), e + "");
}
var JA = YA,
  QA = Tc,
  ZA = Wa,
  eD = Uc,
  tD = Rs;
function rD(e, t, n) {
  if (!tD(n)) return !1;
  var i = typeof t;
  return (i == "number" ? ZA(n) && eD(t, n.length) : i == "string" && t in n) ? QA(n[t], e) : !1;
}
var lo = rD,
  nD = eg,
  iD = SA,
  aD = JA,
  ku = lo,
  sD = aD(function (e, t) {
    if (e == null) return [];
    var n = t.length;
    return n > 1 && ku(e, t[0], t[1]) ? (t = []) : n > 2 && ku(t[0], t[1], t[2]) && (t = [t[0]]), iD(e, nD(t, 1), []);
  }),
  oD = sD;
const Xc = ht(oD);
function Hi(e) {
  "@babel/helpers - typeof";
  return (
    (Hi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Hi(e)
  );
}
function Il() {
  return (
    (Il = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    Il.apply(this, arguments)
  );
}
function lD(e, t) {
  return hD(e) || uD(e, t) || dD(e, t) || cD();
}
function cD() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function dD(e, t) {
  if (e) {
    if (typeof e == "string") return Au(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if ((n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")) return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Au(e, t);
  }
}
function Au(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
  return i;
}
function uD(e, t) {
  var n = e == null ? null : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (n != null) {
    var i,
      a,
      s,
      o,
      l = [],
      d = !0,
      c = !1;
    try {
      if (((s = (n = n.call(e)).next), t !== 0))
        for (; !(d = (i = s.call(n)).done) && (l.push(i.value), l.length !== t); d = !0);
    } catch (u) {
      (c = !0), (a = u);
    } finally {
      try {
        if (!d && n.return != null && ((o = n.return()), Object(o) !== o)) return;
      } finally {
        if (c) throw a;
      }
    }
    return l;
  }
}
function hD(e) {
  if (Array.isArray(e)) return e;
}
function Du(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Ko(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Du(Object(n), !0).forEach(function (i) {
          pD(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Du(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function pD(e, t, n) {
  return (
    (t = fD(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function fD(e) {
  var t = gD(e, "string");
  return Hi(t) == "symbol" ? t : t + "";
}
function gD(e, t) {
  if (Hi(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (Hi(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function xD(e) {
  return Array.isArray(e) && kt(e[0]) && kt(e[1]) ? e.join(" ~ ") : e;
}
var mD = function (t) {
  var n = t.separator,
    i = n === void 0 ? " : " : n,
    a = t.contentStyle,
    s = a === void 0 ? {} : a,
    o = t.itemStyle,
    l = o === void 0 ? {} : o,
    d = t.labelStyle,
    c = d === void 0 ? {} : d,
    u = t.payload,
    h = t.formatter,
    p = t.itemSorter,
    g = t.wrapperClassName,
    m = t.labelClassName,
    v = t.label,
    x = t.labelFormatter,
    j = t.accessibilityLayer,
    b = j === void 0 ? !1 : j,
    _ = function () {
      if (u && u.length) {
        var I = { padding: 0, margin: 0 },
          z = (p ? Xc(u, p) : u).map(function (R, B) {
            if (R.type === "none") return null;
            var V = Ko({ display: "block", paddingTop: 4, paddingBottom: 4, color: R.color || "#000" }, l),
              q = R.formatter || h || xD,
              G = R.value,
              H = R.name,
              Q = G,
              ne = H;
            if (q && Q != null && ne != null) {
              var Y = q(G, H, R, B, u);
              if (Array.isArray(Y)) {
                var ie = lD(Y, 2);
                (Q = ie[0]), (ne = ie[1]);
              } else Q = Y;
            }
            return N.createElement(
              "li",
              { className: "recharts-tooltip-item", key: "tooltip-item-".concat(B), style: V },
              kt(ne) ? N.createElement("span", { className: "recharts-tooltip-item-name" }, ne) : null,
              kt(ne) ? N.createElement("span", { className: "recharts-tooltip-item-separator" }, i) : null,
              N.createElement("span", { className: "recharts-tooltip-item-value" }, Q),
              N.createElement("span", { className: "recharts-tooltip-item-unit" }, R.unit || ""),
            );
          });
        return N.createElement("ul", { className: "recharts-tooltip-item-list", style: I }, z);
      }
      return null;
    },
    S = Ko({ margin: 0, padding: 10, backgroundColor: "#fff", border: "1px solid #ccc", whiteSpace: "nowrap" }, s),
    y = Ko({ margin: 0 }, c),
    w = !ze(v),
    C = w ? v : "",
    O = Me("recharts-default-tooltip", g),
    k = Me("recharts-tooltip-label", m);
  w && x && u !== void 0 && u !== null && (C = x(v, u));
  var D = b ? { role: "status", "aria-live": "assertive" } : {};
  return N.createElement(
    "div",
    Il({ className: O, style: S }, D),
    N.createElement("p", { className: k, style: y }, N.isValidElement(C) ? C : "".concat(C)),
    _(),
  );
};
function Gi(e) {
  "@babel/helpers - typeof";
  return (
    (Gi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Gi(e)
  );
}
function qa(e, t, n) {
  return (
    (t = vD(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function vD(e) {
  var t = yD(e, "string");
  return Gi(t) == "symbol" ? t : t + "";
}
function yD(e, t) {
  if (Gi(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (Gi(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var $i = "recharts-tooltip-wrapper",
  jD = { visibility: "hidden" };
function bD(e) {
  var t = e.coordinate,
    n = e.translateX,
    i = e.translateY;
  return Me(
    $i,
    qa(
      qa(
        qa(
          qa({}, "".concat($i, "-right"), se(n) && t && se(t.x) && n >= t.x),
          "".concat($i, "-left"),
          se(n) && t && se(t.x) && n < t.x,
        ),
        "".concat($i, "-bottom"),
        se(i) && t && se(t.y) && i >= t.y,
      ),
      "".concat($i, "-top"),
      se(i) && t && se(t.y) && i < t.y,
    ),
  );
}
function Eu(e) {
  var t = e.allowEscapeViewBox,
    n = e.coordinate,
    i = e.key,
    a = e.offsetTopLeft,
    s = e.position,
    o = e.reverseDirection,
    l = e.tooltipDimension,
    d = e.viewBox,
    c = e.viewBoxDimension;
  if (s && se(s[i])) return s[i];
  var u = n[i] - l - a,
    h = n[i] + a;
  if (t[i]) return o[i] ? u : h;
  if (o[i]) {
    var p = u,
      g = d[i];
    return p < g ? Math.max(h, d[i]) : Math.max(u, d[i]);
  }
  var m = h + l,
    v = d[i] + c;
  return m > v ? Math.max(u, d[i]) : Math.max(h, d[i]);
}
function _D(e) {
  var t = e.translateX,
    n = e.translateY,
    i = e.useTranslate3d;
  return {
    transform: i
      ? "translate3d(".concat(t, "px, ").concat(n, "px, 0)")
      : "translate(".concat(t, "px, ").concat(n, "px)"),
  };
}
function wD(e) {
  var t = e.allowEscapeViewBox,
    n = e.coordinate,
    i = e.offsetTopLeft,
    a = e.position,
    s = e.reverseDirection,
    o = e.tooltipBox,
    l = e.useTranslate3d,
    d = e.viewBox,
    c,
    u,
    h;
  return (
    o.height > 0 && o.width > 0 && n
      ? ((u = Eu({
          allowEscapeViewBox: t,
          coordinate: n,
          key: "x",
          offsetTopLeft: i,
          position: a,
          reverseDirection: s,
          tooltipDimension: o.width,
          viewBox: d,
          viewBoxDimension: d.width,
        })),
        (h = Eu({
          allowEscapeViewBox: t,
          coordinate: n,
          key: "y",
          offsetTopLeft: i,
          position: a,
          reverseDirection: s,
          tooltipDimension: o.height,
          viewBox: d,
          viewBoxDimension: d.height,
        })),
        (c = _D({ translateX: u, translateY: h, useTranslate3d: l })))
      : (c = jD),
    { cssProperties: c, cssClasses: bD({ translateX: u, translateY: h, coordinate: n }) }
  );
}
function ri(e) {
  "@babel/helpers - typeof";
  return (
    (ri =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ri(e)
  );
}
function Iu(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Tu(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Iu(Object(n), !0).forEach(function (i) {
          $l(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Iu(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function SD(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function CD(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, ag(i.key), i);
  }
}
function PD(e, t, n) {
  return t && CD(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function OD(e, t, n) {
  return (t = fs(t)), kD(e, ig() ? Reflect.construct(t, n || [], fs(e).constructor) : t.apply(e, n));
}
function kD(e, t) {
  if (t && (ri(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0) throw new TypeError("Derived constructors may only return object or undefined");
  return AD(e);
}
function AD(e) {
  if (e === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
function ig() {
  try {
    var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch {}
  return (ig = function () {
    return !!e;
  })();
}
function fs(e) {
  return (
    (fs = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (n) {
          return n.__proto__ || Object.getPrototypeOf(n);
        }),
    fs(e)
  );
}
function DD(e, t) {
  if (typeof t != "function" && t !== null) throw new TypeError("Super expression must either be null or a function");
  (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Tl(e, t);
}
function Tl(e, t) {
  return (
    (Tl = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (i, a) {
          return (i.__proto__ = a), i;
        }),
    Tl(e, t)
  );
}
function $l(e, t, n) {
  return (
    (t = ag(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function ag(e) {
  var t = ED(e, "string");
  return ri(t) == "symbol" ? t : t + "";
}
function ED(e, t) {
  if (ri(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (ri(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var $u = 1,
  ID = (function (e) {
    function t() {
      var n;
      SD(this, t);
      for (var i = arguments.length, a = new Array(i), s = 0; s < i; s++) a[s] = arguments[s];
      return (
        (n = OD(this, t, [].concat(a))),
        $l(n, "state", {
          dismissed: !1,
          dismissedAtCoordinate: { x: 0, y: 0 },
          lastBoundingBox: { width: -1, height: -1 },
        }),
        $l(n, "handleKeyDown", function (o) {
          if (o.key === "Escape") {
            var l, d, c, u;
            n.setState({
              dismissed: !0,
              dismissedAtCoordinate: {
                x:
                  (l = (d = n.props.coordinate) === null || d === void 0 ? void 0 : d.x) !== null && l !== void 0
                    ? l
                    : 0,
                y:
                  (c = (u = n.props.coordinate) === null || u === void 0 ? void 0 : u.y) !== null && c !== void 0
                    ? c
                    : 0,
              },
            });
          }
        }),
        n
      );
    }
    return (
      DD(t, e),
      PD(t, [
        {
          key: "updateBBox",
          value: function () {
            if (this.wrapperNode && this.wrapperNode.getBoundingClientRect) {
              var i = this.wrapperNode.getBoundingClientRect();
              (Math.abs(i.width - this.state.lastBoundingBox.width) > $u ||
                Math.abs(i.height - this.state.lastBoundingBox.height) > $u) &&
                this.setState({ lastBoundingBox: { width: i.width, height: i.height } });
            } else
              (this.state.lastBoundingBox.width !== -1 || this.state.lastBoundingBox.height !== -1) &&
                this.setState({ lastBoundingBox: { width: -1, height: -1 } });
          },
        },
        {
          key: "componentDidMount",
          value: function () {
            document.addEventListener("keydown", this.handleKeyDown), this.updateBBox();
          },
        },
        {
          key: "componentWillUnmount",
          value: function () {
            document.removeEventListener("keydown", this.handleKeyDown);
          },
        },
        {
          key: "componentDidUpdate",
          value: function () {
            var i, a;
            this.props.active && this.updateBBox(),
              this.state.dismissed &&
                (((i = this.props.coordinate) === null || i === void 0 ? void 0 : i.x) !==
                  this.state.dismissedAtCoordinate.x ||
                  ((a = this.props.coordinate) === null || a === void 0 ? void 0 : a.y) !==
                    this.state.dismissedAtCoordinate.y) &&
                (this.state.dismissed = !1);
          },
        },
        {
          key: "render",
          value: function () {
            var i = this,
              a = this.props,
              s = a.active,
              o = a.allowEscapeViewBox,
              l = a.animationDuration,
              d = a.animationEasing,
              c = a.children,
              u = a.coordinate,
              h = a.hasPayload,
              p = a.isAnimationActive,
              g = a.offset,
              m = a.position,
              v = a.reverseDirection,
              x = a.useTranslate3d,
              j = a.viewBox,
              b = a.wrapperStyle,
              _ = wD({
                allowEscapeViewBox: o,
                coordinate: u,
                offsetTopLeft: g,
                position: m,
                reverseDirection: v,
                tooltipBox: this.state.lastBoundingBox,
                useTranslate3d: x,
                viewBox: j,
              }),
              S = _.cssClasses,
              y = _.cssProperties,
              w = Tu(
                Tu({ transition: p && s ? "transform ".concat(l, "ms ").concat(d) : void 0 }, y),
                {},
                {
                  pointerEvents: "none",
                  visibility: !this.state.dismissed && s && h ? "visible" : "hidden",
                  position: "absolute",
                  top: 0,
                  left: 0,
                },
                b,
              );
            return N.createElement(
              "div",
              {
                tabIndex: -1,
                className: S,
                style: w,
                ref: function (O) {
                  i.wrapperNode = O;
                },
              },
              c,
            );
          },
        },
      ])
    );
  })(f.PureComponent),
  TD = function () {
    return !(typeof window < "u" && window.document && window.document.createElement && window.setTimeout);
  },
  Nr = {
    isSsr: TD(),
    get: function (t) {
      return Nr[t];
    },
    set: function (t, n) {
      if (typeof t == "string") Nr[t] = n;
      else {
        var i = Object.keys(t);
        i &&
          i.length &&
          i.forEach(function (a) {
            Nr[a] = t[a];
          });
      }
    },
  };
function ni(e) {
  "@babel/helpers - typeof";
  return (
    (ni =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ni(e)
  );
}
function Wu(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Mu(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Wu(Object(n), !0).forEach(function (i) {
          Yc(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Wu(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function $D(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function WD(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, og(i.key), i);
  }
}
function MD(e, t, n) {
  return t && WD(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function ND(e, t, n) {
  return (t = gs(t)), zD(e, sg() ? Reflect.construct(t, n || [], gs(e).constructor) : t.apply(e, n));
}
function zD(e, t) {
  if (t && (ni(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0) throw new TypeError("Derived constructors may only return object or undefined");
  return LD(e);
}
function LD(e) {
  if (e === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
function sg() {
  try {
    var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch {}
  return (sg = function () {
    return !!e;
  })();
}
function gs(e) {
  return (
    (gs = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (n) {
          return n.__proto__ || Object.getPrototypeOf(n);
        }),
    gs(e)
  );
}
function BD(e, t) {
  if (typeof t != "function" && t !== null) throw new TypeError("Super expression must either be null or a function");
  (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Wl(e, t);
}
function Wl(e, t) {
  return (
    (Wl = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (i, a) {
          return (i.__proto__ = a), i;
        }),
    Wl(e, t)
  );
}
function Yc(e, t, n) {
  return (
    (t = og(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function og(e) {
  var t = RD(e, "string");
  return ni(t) == "symbol" ? t : t + "";
}
function RD(e, t) {
  if (ni(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (ni(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function FD(e) {
  return e.dataKey;
}
function VD(e, t) {
  return N.isValidElement(e)
    ? N.cloneElement(e, t)
    : typeof e == "function"
      ? N.createElement(e, t)
      : N.createElement(mD, t);
}
var Cr = (function (e) {
  function t() {
    return $D(this, t), ND(this, t, arguments);
  }
  return (
    BD(t, e),
    MD(t, [
      {
        key: "render",
        value: function () {
          var i = this,
            a = this.props,
            s = a.active,
            o = a.allowEscapeViewBox,
            l = a.animationDuration,
            d = a.animationEasing,
            c = a.content,
            u = a.coordinate,
            h = a.filterNull,
            p = a.isAnimationActive,
            g = a.offset,
            m = a.payload,
            v = a.payloadUniqBy,
            x = a.position,
            j = a.reverseDirection,
            b = a.useTranslate3d,
            _ = a.viewBox,
            S = a.wrapperStyle,
            y = m ?? [];
          h &&
            y.length &&
            (y = Yf(
              m.filter(function (C) {
                return C.value != null && (C.hide !== !0 || i.props.includeHidden);
              }),
              v,
              FD,
            ));
          var w = y.length > 0;
          return N.createElement(
            ID,
            {
              allowEscapeViewBox: o,
              animationDuration: l,
              animationEasing: d,
              isAnimationActive: p,
              active: s,
              coordinate: u,
              hasPayload: w,
              offset: g,
              position: x,
              reverseDirection: j,
              useTranslate3d: b,
              viewBox: _,
              wrapperStyle: S,
            },
            VD(c, Mu(Mu({}, this.props), {}, { payload: y })),
          );
        },
      },
    ])
  );
})(f.PureComponent);
Yc(Cr, "displayName", "Tooltip");
Yc(Cr, "defaultProps", {
  accessibilityLayer: !1,
  allowEscapeViewBox: { x: !1, y: !1 },
  animationDuration: 400,
  animationEasing: "ease",
  contentStyle: {},
  coordinate: { x: 0, y: 0 },
  cursor: !0,
  cursorStyle: {},
  filterNull: !0,
  isAnimationActive: !Nr.isSsr,
  itemStyle: {},
  labelStyle: {},
  offset: 10,
  reverseDirection: { x: !1, y: !1 },
  separator: " : ",
  trigger: "hover",
  useTranslate3d: !1,
  viewBox: { x: 0, y: 0, height: 0, width: 0 },
  wrapperStyle: {},
});
function Xi(e) {
  "@babel/helpers - typeof";
  return (
    (Xi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Xi(e)
  );
}
function Nu(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Ua(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Nu(Object(n), !0).forEach(function (i) {
          qD(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Nu(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function qD(e, t, n) {
  return (
    (t = UD(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function UD(e) {
  var t = KD(e, "string");
  return Xi(t) == "symbol" ? t : t + "";
}
function KD(e, t) {
  if (Xi(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (Xi(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function HD(e, t) {
  return JD(e) || YD(e, t) || XD(e, t) || GD();
}
function GD() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function XD(e, t) {
  if (e) {
    if (typeof e == "string") return zu(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if ((n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")) return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return zu(e, t);
  }
}
function zu(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
  return i;
}
function YD(e, t) {
  var n = e == null ? null : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (n != null) {
    var i,
      a,
      s,
      o,
      l = [],
      d = !0,
      c = !1;
    try {
      if (((s = (n = n.call(e)).next), t !== 0))
        for (; !(d = (i = s.call(n)).done) && (l.push(i.value), l.length !== t); d = !0);
    } catch (u) {
      (c = !0), (a = u);
    } finally {
      try {
        if (!d && n.return != null && ((o = n.return()), Object(o) !== o)) return;
      } finally {
        if (c) throw a;
      }
    }
    return l;
  }
}
function JD(e) {
  if (Array.isArray(e)) return e;
}
var QD = f.forwardRef(function (e, t) {
    var n = e.aspect,
      i = e.initialDimension,
      a = i === void 0 ? { width: -1, height: -1 } : i,
      s = e.width,
      o = s === void 0 ? "100%" : s,
      l = e.height,
      d = l === void 0 ? "100%" : l,
      c = e.minWidth,
      u = c === void 0 ? 0 : c,
      h = e.minHeight,
      p = e.maxHeight,
      g = e.children,
      m = e.debounce,
      v = m === void 0 ? 0 : m,
      x = e.id,
      j = e.className,
      b = e.onResize,
      _ = e.style,
      S = _ === void 0 ? {} : _,
      y = f.useRef(null),
      w = f.useRef();
    (w.current = b),
      f.useImperativeHandle(t, function () {
        return Object.defineProperty(y.current, "current", {
          get: function () {
            return (
              console.warn("The usage of ref.current.current is deprecated and will no longer be supported."), y.current
            );
          },
          configurable: !0,
        });
      });
    var C = f.useState({ containerWidth: a.width, containerHeight: a.height }),
      O = HD(C, 2),
      k = O[0],
      D = O[1],
      E = f.useCallback(function (z, R) {
        D(function (B) {
          var V = Math.round(z),
            q = Math.round(R);
          return B.containerWidth === V && B.containerHeight === q ? B : { containerWidth: V, containerHeight: q };
        });
      }, []);
    f.useEffect(
      function () {
        var z = function (H) {
          var Q,
            ne = H[0].contentRect,
            Y = ne.width,
            ie = ne.height;
          E(Y, ie), (Q = w.current) === null || Q === void 0 || Q.call(w, Y, ie);
        };
        v > 0 && (z = jp(z, v, { trailing: !0, leading: !1 }));
        var R = new ResizeObserver(z),
          B = y.current.getBoundingClientRect(),
          V = B.width,
          q = B.height;
        return (
          E(V, q),
          R.observe(y.current),
          function () {
            R.disconnect();
          }
        );
      },
      [E, v],
    );
    var I = f.useMemo(
      function () {
        var z = k.containerWidth,
          R = k.containerHeight;
        if (z < 0 || R < 0) return null;
        Mr(
          xn(o) || xn(d),
          `The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,
          o,
          d,
        ),
          Mr(!n || n > 0, "The aspect(%s) must be greater than zero.", n);
        var B = xn(o) ? z : o,
          V = xn(d) ? R : d;
        n && n > 0 && (B ? (V = B / n) : V && (B = V * n), p && V > p && (V = p)),
          Mr(
            B > 0 || V > 0,
            `The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,
            B,
            V,
            o,
            d,
            u,
            h,
            n,
          );
        var q = !Array.isArray(g) && Wr(g.type).endsWith("Chart");
        return N.Children.map(g, function (G) {
          return N.isValidElement(G)
            ? f.cloneElement(
                G,
                Ua(
                  { width: B, height: V },
                  q ? { style: Ua({ height: "100%", width: "100%", maxHeight: V, maxWidth: B }, G.props.style) } : {},
                ),
              )
            : G;
        });
      },
      [n, g, d, p, h, u, k, o],
    );
    return N.createElement(
      "div",
      {
        id: x ? "".concat(x) : void 0,
        className: Me("recharts-responsive-container", j),
        style: Ua(Ua({}, S), {}, { width: o, height: d, minWidth: u, minHeight: h, maxHeight: p }),
        ref: y,
      },
      I,
    );
  }),
  lg = function (t) {
    return null;
  };
lg.displayName = "Cell";
function Yi(e) {
  "@babel/helpers - typeof";
  return (
    (Yi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Yi(e)
  );
}
function Lu(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Ml(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Lu(Object(n), !0).forEach(function (i) {
          ZD(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Lu(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function ZD(e, t, n) {
  return (
    (t = eE(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function eE(e) {
  var t = tE(e, "string");
  return Yi(t) == "symbol" ? t : t + "";
}
function tE(e, t) {
  if (Yi(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (Yi(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var Nn = { widthCache: {}, cacheCount: 0 },
  rE = 2e3,
  nE = { position: "absolute", top: "-20000px", left: 0, padding: 0, margin: 0, border: "none", whiteSpace: "pre" },
  Bu = "recharts_measurement_span";
function iE(e) {
  var t = Ml({}, e);
  return (
    Object.keys(t).forEach(function (n) {
      t[n] || delete t[n];
    }),
    t
  );
}
var Bi = function (t) {
    var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    if (t == null || Nr.isSsr) return { width: 0, height: 0 };
    var i = iE(n),
      a = JSON.stringify({ text: t, copyStyle: i });
    if (Nn.widthCache[a]) return Nn.widthCache[a];
    try {
      var s = document.getElementById(Bu);
      s ||
        ((s = document.createElement("span")),
        s.setAttribute("id", Bu),
        s.setAttribute("aria-hidden", "true"),
        document.body.appendChild(s));
      var o = Ml(Ml({}, nE), i);
      Object.assign(s.style, o), (s.textContent = "".concat(t));
      var l = s.getBoundingClientRect(),
        d = { width: l.width, height: l.height };
      return (Nn.widthCache[a] = d), ++Nn.cacheCount > rE && ((Nn.cacheCount = 0), (Nn.widthCache = {})), d;
    } catch {
      return { width: 0, height: 0 };
    }
  },
  aE = function (t) {
    return {
      top: t.top + window.scrollY - document.documentElement.clientTop,
      left: t.left + window.scrollX - document.documentElement.clientLeft,
    };
  };
function Ji(e) {
  "@babel/helpers - typeof";
  return (
    (Ji =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Ji(e)
  );
}
function xs(e, t) {
  return cE(e) || lE(e, t) || oE(e, t) || sE();
}
function sE() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function oE(e, t) {
  if (e) {
    if (typeof e == "string") return Ru(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if ((n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")) return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Ru(e, t);
  }
}
function Ru(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
  return i;
}
function lE(e, t) {
  var n = e == null ? null : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (n != null) {
    var i,
      a,
      s,
      o,
      l = [],
      d = !0,
      c = !1;
    try {
      if (((s = (n = n.call(e)).next), t === 0)) {
        if (Object(n) !== n) return;
        d = !1;
      } else for (; !(d = (i = s.call(n)).done) && (l.push(i.value), l.length !== t); d = !0);
    } catch (u) {
      (c = !0), (a = u);
    } finally {
      try {
        if (!d && n.return != null && ((o = n.return()), Object(o) !== o)) return;
      } finally {
        if (c) throw a;
      }
    }
    return l;
  }
}
function cE(e) {
  if (Array.isArray(e)) return e;
}
function dE(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function Fu(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, hE(i.key), i);
  }
}
function uE(e, t, n) {
  return t && Fu(e.prototype, t), n && Fu(e, n), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function hE(e) {
  var t = pE(e, "string");
  return Ji(t) == "symbol" ? t : t + "";
}
function pE(e, t) {
  if (Ji(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t);
    if (Ji(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
var Vu = /(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,
  qu = /(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,
  fE = /^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,
  gE = /(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,
  cg = { cm: 96 / 2.54, mm: 96 / 25.4, pt: 96 / 72, pc: 96 / 6, in: 96, Q: 96 / (2.54 * 40), px: 1 },
  xE = Object.keys(cg),
  qn = "NaN";
function mE(e, t) {
  return e * cg[t];
}
var Ka = (function () {
  function e(t, n) {
    dE(this, e),
      (this.num = t),
      (this.unit = n),
      (this.num = t),
      (this.unit = n),
      Number.isNaN(t) && (this.unit = ""),
      n !== "" && !fE.test(n) && ((this.num = NaN), (this.unit = "")),
      xE.includes(n) && ((this.num = mE(t, n)), (this.unit = "px"));
  }
  return uE(
    e,
    [
      {
        key: "add",
        value: function (n) {
          return this.unit !== n.unit ? new e(NaN, "") : new e(this.num + n.num, this.unit);
        },
      },
      {
        key: "subtract",
        value: function (n) {
          return this.unit !== n.unit ? new e(NaN, "") : new e(this.num - n.num, this.unit);
        },
      },
      {
        key: "multiply",
        value: function (n) {
          return this.unit !== "" && n.unit !== "" && this.unit !== n.unit
            ? new e(NaN, "")
            : new e(this.num * n.num, this.unit || n.unit);
        },
      },
      {
        key: "divide",
        value: function (n) {
          return this.unit !== "" && n.unit !== "" && this.unit !== n.unit
            ? new e(NaN, "")
            : new e(this.num / n.num, this.unit || n.unit);
        },
      },
      {
        key: "toString",
        value: function () {
          return "".concat(this.num).concat(this.unit);
        },
      },
      {
        key: "isNaN",
        value: function () {
          return Number.isNaN(this.num);
        },
      },
    ],
    [
      {
        key: "parse",
        value: function (n) {
          var i,
            a = (i = gE.exec(n)) !== null && i !== void 0 ? i : [],
            s = xs(a, 3),
            o = s[1],
            l = s[2];
          return new e(parseFloat(o), l ?? "");
        },
      },
    ],
  );
})();
function dg(e) {
  if (e.includes(qn)) return qn;
  for (var t = e; t.includes("*") || t.includes("/"); ) {
    var n,
      i = (n = Vu.exec(t)) !== null && n !== void 0 ? n : [],
      a = xs(i, 4),
      s = a[1],
      o = a[2],
      l = a[3],
      d = Ka.parse(s ?? ""),
      c = Ka.parse(l ?? ""),
      u = o === "*" ? d.multiply(c) : d.divide(c);
    if (u.isNaN()) return qn;
    t = t.replace(Vu, u.toString());
  }
  for (; t.includes("+") || /.-\d+(?:\.\d+)?/.test(t); ) {
    var h,
      p = (h = qu.exec(t)) !== null && h !== void 0 ? h : [],
      g = xs(p, 4),
      m = g[1],
      v = g[2],
      x = g[3],
      j = Ka.parse(m ?? ""),
      b = Ka.parse(x ?? ""),
      _ = v === "+" ? j.add(b) : j.subtract(b);
    if (_.isNaN()) return qn;
    t = t.replace(qu, _.toString());
  }
  return t;
}
var Uu = /\(([^()]*)\)/;
function vE(e) {
  for (var t = e; t.includes("("); ) {
    var n = Uu.exec(t),
      i = xs(n, 2),
      a = i[1];
    t = t.replace(Uu, dg(a));
  }
  return t;
}
function yE(e) {
  var t = e.replace(/\s+/g, "");
  return (t = vE(t)), (t = dg(t)), t;
}
function jE(e) {
  try {
    return yE(e);
  } catch {
    return qn;
  }
}
function Ho(e) {
  var t = jE(e.slice(5, -1));
  return t === qn ? "" : t;
}
var bE = ["x", "y", "lineHeight", "capHeight", "scaleToFit", "textAnchor", "verticalAnchor", "fill"],
  _E = ["dx", "dy", "angle", "className", "breakAll"];
function Nl() {
  return (
    (Nl = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    Nl.apply(this, arguments)
  );
}
function Ku(e, t) {
  if (e == null) return {};
  var n = wE(e, t),
    i,
    a;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (a = 0; a < s.length; a++)
      (i = s[a]), !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i]);
  }
  return n;
}
function wE(e, t) {
  if (e == null) return {};
  var n = {};
  for (var i in e)
    if (Object.prototype.hasOwnProperty.call(e, i)) {
      if (t.indexOf(i) >= 0) continue;
      n[i] = e[i];
    }
  return n;
}
function Hu(e, t) {
  return OE(e) || PE(e, t) || CE(e, t) || SE();
}
function SE() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function CE(e, t) {
  if (e) {
    if (typeof e == "string") return Gu(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if ((n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")) return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Gu(e, t);
  }
}
function Gu(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
  return i;
}
function PE(e, t) {
  var n = e == null ? null : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (n != null) {
    var i,
      a,
      s,
      o,
      l = [],
      d = !0,
      c = !1;
    try {
      if (((s = (n = n.call(e)).next), t === 0)) {
        if (Object(n) !== n) return;
        d = !1;
      } else for (; !(d = (i = s.call(n)).done) && (l.push(i.value), l.length !== t); d = !0);
    } catch (u) {
      (c = !0), (a = u);
    } finally {
      try {
        if (!d && n.return != null && ((o = n.return()), Object(o) !== o)) return;
      } finally {
        if (c) throw a;
      }
    }
    return l;
  }
}
function OE(e) {
  if (Array.isArray(e)) return e;
}
var ug = /[ \f\n\r\t\v\u2028\u2029]+/,
  hg = function (t) {
    var n = t.children,
      i = t.breakAll,
      a = t.style;
    try {
      var s = [];
      ze(n) || (i ? (s = n.toString().split("")) : (s = n.toString().split(ug)));
      var o = s.map(function (d) {
          return { word: d, width: Bi(d, a).width };
        }),
        l = i ? 0 : Bi("", a).width;
      return { wordsWithComputedWidth: o, spaceWidth: l };
    } catch {
      return null;
    }
  },
  kE = function (t, n, i, a, s) {
    var o = t.maxLines,
      l = t.children,
      d = t.style,
      c = t.breakAll,
      u = se(o),
      h = l,
      p = function () {
        var B = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
        return B.reduce(function (V, q) {
          var G = q.word,
            H = q.width,
            Q = V[V.length - 1];
          if (Q && (a == null || s || Q.width + H + i < Number(a))) Q.words.push(G), (Q.width += H + i);
          else {
            var ne = { words: [G], width: H };
            V.push(ne);
          }
          return V;
        }, []);
      },
      g = p(n),
      m = function (B) {
        return B.reduce(function (V, q) {
          return V.width > q.width ? V : q;
        });
      };
    if (!u) return g;
    for (
      var v = "",
        x = function (B) {
          var V = h.slice(0, B),
            q = hg({ breakAll: c, style: d, children: V + v }).wordsWithComputedWidth,
            G = p(q),
            H = G.length > o || m(G).width > Number(a);
          return [H, G];
        },
        j = 0,
        b = h.length - 1,
        _ = 0,
        S;
      j <= b && _ <= h.length - 1;

    ) {
      var y = Math.floor((j + b) / 2),
        w = y - 1,
        C = x(w),
        O = Hu(C, 2),
        k = O[0],
        D = O[1],
        E = x(y),
        I = Hu(E, 1),
        z = I[0];
      if ((!k && !z && (j = y + 1), k && z && (b = y - 1), !k && z)) {
        S = D;
        break;
      }
      _++;
    }
    return S || g;
  },
  Xu = function (t) {
    var n = ze(t) ? [] : t.toString().split(ug);
    return [{ words: n }];
  },
  AE = function (t) {
    var n = t.width,
      i = t.scaleToFit,
      a = t.children,
      s = t.style,
      o = t.breakAll,
      l = t.maxLines;
    if ((n || i) && !Nr.isSsr) {
      var d,
        c,
        u = hg({ breakAll: o, children: a, style: s });
      if (u) {
        var h = u.wordsWithComputedWidth,
          p = u.spaceWidth;
        (d = h), (c = p);
      } else return Xu(a);
      return kE({ breakAll: o, children: a, maxLines: l, style: s }, d, c, n, i);
    }
    return Xu(a);
  },
  Yu = "#808080",
  ms = function (t) {
    var n = t.x,
      i = n === void 0 ? 0 : n,
      a = t.y,
      s = a === void 0 ? 0 : a,
      o = t.lineHeight,
      l = o === void 0 ? "1em" : o,
      d = t.capHeight,
      c = d === void 0 ? "0.71em" : d,
      u = t.scaleToFit,
      h = u === void 0 ? !1 : u,
      p = t.textAnchor,
      g = p === void 0 ? "start" : p,
      m = t.verticalAnchor,
      v = m === void 0 ? "end" : m,
      x = t.fill,
      j = x === void 0 ? Yu : x,
      b = Ku(t, bE),
      _ = f.useMemo(
        function () {
          return AE({
            breakAll: b.breakAll,
            children: b.children,
            maxLines: b.maxLines,
            scaleToFit: h,
            style: b.style,
            width: b.width,
          });
        },
        [b.breakAll, b.children, b.maxLines, h, b.style, b.width],
      ),
      S = b.dx,
      y = b.dy,
      w = b.angle,
      C = b.className,
      O = b.breakAll,
      k = Ku(b, _E);
    if (!kt(i) || !kt(s)) return null;
    var D = i + (se(S) ? S : 0),
      E = s + (se(y) ? y : 0),
      I;
    switch (v) {
      case "start":
        I = Ho("calc(".concat(c, ")"));
        break;
      case "middle":
        I = Ho(
          "calc("
            .concat((_.length - 1) / 2, " * -")
            .concat(l, " + (")
            .concat(c, " / 2))"),
        );
        break;
      default:
        I = Ho("calc(".concat(_.length - 1, " * -").concat(l, ")"));
        break;
    }
    var z = [];
    if (h) {
      var R = _[0].width,
        B = b.width;
      z.push("scale(".concat((se(B) ? B / R : 1) / R, ")"));
    }
    return (
      w && z.push("rotate(".concat(w, ", ").concat(D, ", ").concat(E, ")")),
      z.length && (k.transform = z.join(" ")),
      N.createElement(
        "text",
        Nl({}, Re(k, !0), {
          x: D,
          y: E,
          className: Me("recharts-text", C),
          textAnchor: g,
          fill: j.includes("url") ? Yu : j,
        }),
        _.map(function (V, q) {
          var G = V.words.join(O ? "" : " ");
          return N.createElement("tspan", { x: D, dy: q === 0 ? I : l, key: "".concat(G, "-").concat(q) }, G);
        }),
      )
    );
  };
const Ju = Object.freeze(
  Object.defineProperty(
    {
      __proto__: null,
      scaleBand: dl,
      scaleDiverging: $v,
      scaleDivergingLog: Wv,
      scaleDivergingPow: Mv,
      scaleDivergingSqrt: Nv,
      scaleDivergingSymlog: zv,
      scaleIdentity: Lv,
      scaleImplicit: Bv,
      scaleLinear: ul,
      scaleLog: Rv,
      scaleOrdinal: Fv,
      scalePoint: Li,
      scalePow: Vv,
      scaleQuantile: qv,
      scaleQuantize: Uv,
      scaleRadial: Kv,
      scaleSequential: Hv,
      scaleSequentialLog: Gv,
      scaleSequentialPow: Xv,
      scaleSequentialQuantile: Yv,
      scaleSequentialSqrt: Jv,
      scaleSequentialSymlog: Qv,
      scaleSqrt: Zv,
      scaleSymlog: ey,
      scaleThreshold: ty,
      scaleTime: ry,
      scaleUtc: ny,
      tickFormat: iy,
    },
    Symbol.toStringTag,
    { value: "Module" },
  ),
);
var DE = wa;
function EE(e, t, n) {
  for (var i = -1, a = e.length; ++i < a; ) {
    var s = e[i],
      o = t(s);
    if (o != null && (l === void 0 ? o === o && !DE(o) : n(o, l)))
      var l = o,
        d = s;
  }
  return d;
}
var pg = EE;
function IE(e, t) {
  return e > t;
}
var TE = IE,
  $E = pg,
  WE = TE,
  ME = Ai;
function NE(e) {
  return e && e.length ? $E(e, ME, WE) : void 0;
}
var zE = NE;
const co = ht(zE);
function LE(e, t) {
  return e < t;
}
var BE = LE,
  RE = pg,
  FE = BE,
  VE = Ai;
function qE(e) {
  return e && e.length ? RE(e, VE, FE) : void 0;
}
var UE = qE;
const uo = ht(UE);
var KE = Nc,
  HE = cn,
  GE = rg,
  XE = Xt;
function YE(e, t) {
  var n = XE(e) ? KE : GE;
  return n(e, HE(t));
}
var JE = YE,
  QE = eg,
  ZE = JE;
function eI(e, t) {
  return QE(ZE(e, t), 1);
}
var tI = eI;
const rI = ht(tI);
var nI = Hc;
function iI(e, t) {
  return nI(e, t);
}
var aI = iI;
const ho = ht(aI);
var Di = 1e9,
  sI = {
    precision: 20,
    rounding: 4,
    toExpNeg: -7,
    toExpPos: 21,
    LN10: "2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286",
  },
  Qc,
  at = !0,
  cr = "[DecimalError] ",
  On = cr + "Invalid argument: ",
  Jc = cr + "Exponent out of range: ",
  Ei = Math.floor,
  hn = Math.pow,
  oI = /^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,
  er,
  At = 1e7,
  rt = 7,
  fg = 9007199254740991,
  vs = Ei(fg / rt),
  fe = {};
fe.absoluteValue = fe.abs = function () {
  var e = new this.constructor(this);
  return e.s && (e.s = 1), e;
};
fe.comparedTo = fe.cmp = function (e) {
  var t,
    n,
    i,
    a,
    s = this;
  if (((e = new s.constructor(e)), s.s !== e.s)) return s.s || -e.s;
  if (s.e !== e.e) return (s.e > e.e) ^ (s.s < 0) ? 1 : -1;
  for (i = s.d.length, a = e.d.length, t = 0, n = i < a ? i : a; t < n; ++t)
    if (s.d[t] !== e.d[t]) return (s.d[t] > e.d[t]) ^ (s.s < 0) ? 1 : -1;
  return i === a ? 0 : (i > a) ^ (s.s < 0) ? 1 : -1;
};
fe.decimalPlaces = fe.dp = function () {
  var e = this,
    t = e.d.length - 1,
    n = (t - e.e) * rt;
  if (((t = e.d[t]), t)) for (; t % 10 == 0; t /= 10) n--;
  return n < 0 ? 0 : n;
};
fe.dividedBy = fe.div = function (e) {
  return zr(this, new this.constructor(e));
};
fe.dividedToIntegerBy = fe.idiv = function (e) {
  var t = this,
    n = t.constructor;
  return Ze(zr(t, new n(e), 0, 1), n.precision);
};
fe.equals = fe.eq = function (e) {
  return !this.cmp(e);
};
fe.exponent = function () {
  return wt(this);
};
fe.greaterThan = fe.gt = function (e) {
  return this.cmp(e) > 0;
};
fe.greaterThanOrEqualTo = fe.gte = function (e) {
  return this.cmp(e) >= 0;
};
fe.isInteger = fe.isint = function () {
  return this.e > this.d.length - 2;
};
fe.isNegative = fe.isneg = function () {
  return this.s < 0;
};
fe.isPositive = fe.ispos = function () {
  return this.s > 0;
};
fe.isZero = function () {
  return this.s === 0;
};
fe.lessThan = fe.lt = function (e) {
  return this.cmp(e) < 0;
};
fe.lessThanOrEqualTo = fe.lte = function (e) {
  return this.cmp(e) < 1;
};
fe.logarithm = fe.log = function (e) {
  var t,
    n = this,
    i = n.constructor,
    a = i.precision,
    s = a + 5;
  if (e === void 0) e = new i(10);
  else if (((e = new i(e)), e.s < 1 || e.eq(er))) throw Error(cr + "NaN");
  if (n.s < 1) throw Error(cr + (n.s ? "NaN" : "-Infinity"));
  return n.eq(er) ? new i(0) : ((at = !1), (t = zr(Qi(n, s), Qi(e, s), s)), (at = !0), Ze(t, a));
};
fe.minus = fe.sub = function (e) {
  var t = this;
  return (e = new t.constructor(e)), t.s == e.s ? mg(t, e) : gg(t, ((e.s = -e.s), e));
};
fe.modulo = fe.mod = function (e) {
  var t,
    n = this,
    i = n.constructor,
    a = i.precision;
  if (((e = new i(e)), !e.s)) throw Error(cr + "NaN");
  return n.s ? ((at = !1), (t = zr(n, e, 0, 1).times(e)), (at = !0), n.minus(t)) : Ze(new i(n), a);
};
fe.naturalExponential = fe.exp = function () {
  return xg(this);
};
fe.naturalLogarithm = fe.ln = function () {
  return Qi(this);
};
fe.negated = fe.neg = function () {
  var e = new this.constructor(this);
  return (e.s = -e.s || 0), e;
};
fe.plus = fe.add = function (e) {
  var t = this;
  return (e = new t.constructor(e)), t.s == e.s ? gg(t, e) : mg(t, ((e.s = -e.s), e));
};
fe.precision = fe.sd = function (e) {
  var t,
    n,
    i,
    a = this;
  if (e !== void 0 && e !== !!e && e !== 1 && e !== 0) throw Error(On + e);
  if (((t = wt(a) + 1), (i = a.d.length - 1), (n = i * rt + 1), (i = a.d[i]), i)) {
    for (; i % 10 == 0; i /= 10) n--;
    for (i = a.d[0]; i >= 10; i /= 10) n++;
  }
  return e && t > n ? t : n;
};
fe.squareRoot = fe.sqrt = function () {
  var e,
    t,
    n,
    i,
    a,
    s,
    o,
    l = this,
    d = l.constructor;
  if (l.s < 1) {
    if (!l.s) return new d(0);
    throw Error(cr + "NaN");
  }
  for (
    e = wt(l),
      at = !1,
      a = Math.sqrt(+l),
      a == 0 || a == 1 / 0
        ? ((t = Pr(l.d)),
          (t.length + e) % 2 == 0 && (t += "0"),
          (a = Math.sqrt(t)),
          (e = Ei((e + 1) / 2) - (e < 0 || e % 2)),
          a == 1 / 0 ? (t = "5e" + e) : ((t = a.toExponential()), (t = t.slice(0, t.indexOf("e") + 1) + e)),
          (i = new d(t)))
        : (i = new d(a.toString())),
      n = d.precision,
      a = o = n + 3;
    ;

  )
    if (((s = i), (i = s.plus(zr(l, s, o + 2)).times(0.5)), Pr(s.d).slice(0, o) === (t = Pr(i.d)).slice(0, o))) {
      if (((t = t.slice(o - 3, o + 1)), a == o && t == "4999")) {
        if ((Ze(s, n + 1, 0), s.times(s).eq(l))) {
          i = s;
          break;
        }
      } else if (t != "9999") break;
      o += 4;
    }
  return (at = !0), Ze(i, n);
};
fe.times = fe.mul = function (e) {
  var t,
    n,
    i,
    a,
    s,
    o,
    l,
    d,
    c,
    u = this,
    h = u.constructor,
    p = u.d,
    g = (e = new h(e)).d;
  if (!u.s || !e.s) return new h(0);
  for (
    e.s *= u.s,
      n = u.e + e.e,
      d = p.length,
      c = g.length,
      d < c && ((s = p), (p = g), (g = s), (o = d), (d = c), (c = o)),
      s = [],
      o = d + c,
      i = o;
    i--;

  )
    s.push(0);
  for (i = c; --i >= 0; ) {
    for (t = 0, a = d + i; a > i; ) (l = s[a] + g[i] * p[a - i - 1] + t), (s[a--] = l % At | 0), (t = (l / At) | 0);
    s[a] = (s[a] + t) % At | 0;
  }
  for (; !s[--o]; ) s.pop();
  return t ? ++n : s.shift(), (e.d = s), (e.e = n), at ? Ze(e, h.precision) : e;
};
fe.toDecimalPlaces = fe.todp = function (e, t) {
  var n = this,
    i = n.constructor;
  return (
    (n = new i(n)),
    e === void 0 ? n : (Ar(e, 0, Di), t === void 0 ? (t = i.rounding) : Ar(t, 0, 8), Ze(n, e + wt(n) + 1, t))
  );
};
fe.toExponential = function (e, t) {
  var n,
    i = this,
    a = i.constructor;
  return (
    e === void 0
      ? (n = En(i, !0))
      : (Ar(e, 0, Di),
        t === void 0 ? (t = a.rounding) : Ar(t, 0, 8),
        (i = Ze(new a(i), e + 1, t)),
        (n = En(i, !0, e + 1))),
    n
  );
};
fe.toFixed = function (e, t) {
  var n,
    i,
    a = this,
    s = a.constructor;
  return e === void 0
    ? En(a)
    : (Ar(e, 0, Di),
      t === void 0 ? (t = s.rounding) : Ar(t, 0, 8),
      (i = Ze(new s(a), e + wt(a) + 1, t)),
      (n = En(i.abs(), !1, e + wt(i) + 1)),
      a.isneg() && !a.isZero() ? "-" + n : n);
};
fe.toInteger = fe.toint = function () {
  var e = this,
    t = e.constructor;
  return Ze(new t(e), wt(e) + 1, t.rounding);
};
fe.toNumber = function () {
  return +this;
};
fe.toPower = fe.pow = function (e) {
  var t,
    n,
    i,
    a,
    s,
    o,
    l = this,
    d = l.constructor,
    c = 12,
    u = +(e = new d(e));
  if (!e.s) return new d(er);
  if (((l = new d(l)), !l.s)) {
    if (e.s < 1) throw Error(cr + "Infinity");
    return l;
  }
  if (l.eq(er)) return l;
  if (((i = d.precision), e.eq(er))) return Ze(l, i);
  if (((t = e.e), (n = e.d.length - 1), (o = t >= n), (s = l.s), o)) {
    if ((n = u < 0 ? -u : u) <= fg) {
      for (
        a = new d(er), t = Math.ceil(i / rt + 4), at = !1;
        n % 2 && ((a = a.times(l)), Zu(a.d, t)), (n = Ei(n / 2)), n !== 0;

      )
        (l = l.times(l)), Zu(l.d, t);
      return (at = !0), e.s < 0 ? new d(er).div(a) : Ze(a, i);
    }
  } else if (s < 0) throw Error(cr + "NaN");
  return (
    (s = s < 0 && e.d[Math.max(t, n)] & 1 ? -1 : 1),
    (l.s = 1),
    (at = !1),
    (a = e.times(Qi(l, i + c))),
    (at = !0),
    (a = xg(a)),
    (a.s = s),
    a
  );
};
fe.toPrecision = function (e, t) {
  var n,
    i,
    a = this,
    s = a.constructor;
  return (
    e === void 0
      ? ((n = wt(a)), (i = En(a, n <= s.toExpNeg || n >= s.toExpPos)))
      : (Ar(e, 1, Di),
        t === void 0 ? (t = s.rounding) : Ar(t, 0, 8),
        (a = Ze(new s(a), e, t)),
        (n = wt(a)),
        (i = En(a, e <= n || n <= s.toExpNeg, e))),
    i
  );
};
fe.toSignificantDigits = fe.tosd = function (e, t) {
  var n = this,
    i = n.constructor;
  return (
    e === void 0
      ? ((e = i.precision), (t = i.rounding))
      : (Ar(e, 1, Di), t === void 0 ? (t = i.rounding) : Ar(t, 0, 8)),
    Ze(new i(n), e, t)
  );
};
fe.toString =
  fe.valueOf =
  fe.val =
  fe.toJSON =
  fe[Symbol.for("nodejs.util.inspect.custom")] =
    function () {
      var e = this,
        t = wt(e),
        n = e.constructor;
      return En(e, t <= n.toExpNeg || t >= n.toExpPos);
    };
function gg(e, t) {
  var n,
    i,
    a,
    s,
    o,
    l,
    d,
    c,
    u = e.constructor,
    h = u.precision;
  if (!e.s || !t.s) return t.s || (t = new u(e)), at ? Ze(t, h) : t;
  if (((d = e.d), (c = t.d), (o = e.e), (a = t.e), (d = d.slice()), (s = o - a), s)) {
    for (
      s < 0 ? ((i = d), (s = -s), (l = c.length)) : ((i = c), (a = o), (l = d.length)),
        o = Math.ceil(h / rt),
        l = o > l ? o + 1 : l + 1,
        s > l && ((s = l), (i.length = 1)),
        i.reverse();
      s--;

    )
      i.push(0);
    i.reverse();
  }
  for (l = d.length, s = c.length, l - s < 0 && ((s = l), (i = c), (c = d), (d = i)), n = 0; s; )
    (n = ((d[--s] = d[s] + c[s] + n) / At) | 0), (d[s] %= At);
  for (n && (d.unshift(n), ++a), l = d.length; d[--l] == 0; ) d.pop();
  return (t.d = d), (t.e = a), at ? Ze(t, h) : t;
}
function Ar(e, t, n) {
  if (e !== ~~e || e < t || e > n) throw Error(On + e);
}
function Pr(e) {
  var t,
    n,
    i,
    a = e.length - 1,
    s = "",
    o = e[0];
  if (a > 0) {
    for (s += o, t = 1; t < a; t++) (i = e[t] + ""), (n = rt - i.length), n && (s += Kr(n)), (s += i);
    (o = e[t]), (i = o + ""), (n = rt - i.length), n && (s += Kr(n));
  } else if (o === 0) return "0";
  for (; o % 10 === 0; ) o /= 10;
  return s + o;
}
var zr = (function () {
  function e(i, a) {
    var s,
      o = 0,
      l = i.length;
    for (i = i.slice(); l--; ) (s = i[l] * a + o), (i[l] = s % At | 0), (o = (s / At) | 0);
    return o && i.unshift(o), i;
  }
  function t(i, a, s, o) {
    var l, d;
    if (s != o) d = s > o ? 1 : -1;
    else
      for (l = d = 0; l < s; l++)
        if (i[l] != a[l]) {
          d = i[l] > a[l] ? 1 : -1;
          break;
        }
    return d;
  }
  function n(i, a, s) {
    for (var o = 0; s--; ) (i[s] -= o), (o = i[s] < a[s] ? 1 : 0), (i[s] = o * At + i[s] - a[s]);
    for (; !i[0] && i.length > 1; ) i.shift();
  }
  return function (i, a, s, o) {
    var l,
      d,
      c,
      u,
      h,
      p,
      g,
      m,
      v,
      x,
      j,
      b,
      _,
      S,
      y,
      w,
      C,
      O,
      k = i.constructor,
      D = i.s == a.s ? 1 : -1,
      E = i.d,
      I = a.d;
    if (!i.s) return new k(i);
    if (!a.s) throw Error(cr + "Division by zero");
    for (d = i.e - a.e, C = I.length, y = E.length, g = new k(D), m = g.d = [], c = 0; I[c] == (E[c] || 0); ) ++c;
    if (
      (I[c] > (E[c] || 0) && --d,
      s == null ? (b = s = k.precision) : o ? (b = s + (wt(i) - wt(a)) + 1) : (b = s),
      b < 0)
    )
      return new k(0);
    if (((b = (b / rt + 2) | 0), (c = 0), C == 1))
      for (u = 0, I = I[0], b++; (c < y || u) && b--; c++)
        (_ = u * At + (E[c] || 0)), (m[c] = (_ / I) | 0), (u = _ % I | 0);
    else {
      for (
        u = (At / (I[0] + 1)) | 0,
          u > 1 && ((I = e(I, u)), (E = e(E, u)), (C = I.length), (y = E.length)),
          S = C,
          v = E.slice(0, C),
          x = v.length;
        x < C;

      )
        v[x++] = 0;
      (O = I.slice()), O.unshift(0), (w = I[0]), I[1] >= At / 2 && ++w;
      do
        (u = 0),
          (l = t(I, v, C, x)),
          l < 0
            ? ((j = v[0]),
              C != x && (j = j * At + (v[1] || 0)),
              (u = (j / w) | 0),
              u > 1
                ? (u >= At && (u = At - 1),
                  (h = e(I, u)),
                  (p = h.length),
                  (x = v.length),
                  (l = t(h, v, p, x)),
                  l == 1 && (u--, n(h, C < p ? O : I, p)))
                : (u == 0 && (l = u = 1), (h = I.slice())),
              (p = h.length),
              p < x && h.unshift(0),
              n(v, h, x),
              l == -1 && ((x = v.length), (l = t(I, v, C, x)), l < 1 && (u++, n(v, C < x ? O : I, x))),
              (x = v.length))
            : l === 0 && (u++, (v = [0])),
          (m[c++] = u),
          l && v[0] ? (v[x++] = E[S] || 0) : ((v = [E[S]]), (x = 1));
      while ((S++ < y || v[0] !== void 0) && b--);
    }
    return m[0] || m.shift(), (g.e = d), Ze(g, o ? s + wt(g) + 1 : s);
  };
})();
function xg(e, t) {
  var n,
    i,
    a,
    s,
    o,
    l,
    d = 0,
    c = 0,
    u = e.constructor,
    h = u.precision;
  if (wt(e) > 16) throw Error(Jc + wt(e));
  if (!e.s) return new u(er);
  for (t == null ? ((at = !1), (l = h)) : (l = t), o = new u(0.03125); e.abs().gte(0.1); ) (e = e.times(o)), (c += 5);
  for (i = ((Math.log(hn(2, c)) / Math.LN10) * 2 + 5) | 0, l += i, n = a = s = new u(er), u.precision = l; ; ) {
    if (
      ((a = Ze(a.times(e), l)),
      (n = n.times(++d)),
      (o = s.plus(zr(a, n, l))),
      Pr(o.d).slice(0, l) === Pr(s.d).slice(0, l))
    ) {
      for (; c--; ) s = Ze(s.times(s), l);
      return (u.precision = h), t == null ? ((at = !0), Ze(s, h)) : s;
    }
    s = o;
  }
}
function wt(e) {
  for (var t = e.e * rt, n = e.d[0]; n >= 10; n /= 10) t++;
  return t;
}
function Go(e, t, n) {
  if (t > e.LN10.sd()) throw ((at = !0), n && (e.precision = n), Error(cr + "LN10 precision limit exceeded"));
  return Ze(new e(e.LN10), t);
}
function Kr(e) {
  for (var t = ""; e--; ) t += "0";
  return t;
}
function Qi(e, t) {
  var n,
    i,
    a,
    s,
    o,
    l,
    d,
    c,
    u,
    h = 1,
    p = 10,
    g = e,
    m = g.d,
    v = g.constructor,
    x = v.precision;
  if (g.s < 1) throw Error(cr + (g.s ? "NaN" : "-Infinity"));
  if (g.eq(er)) return new v(0);
  if ((t == null ? ((at = !1), (c = x)) : (c = t), g.eq(10))) return t == null && (at = !0), Go(v, c);
  if (((c += p), (v.precision = c), (n = Pr(m)), (i = n.charAt(0)), (s = wt(g)), Math.abs(s) < 15e14)) {
    for (; (i < 7 && i != 1) || (i == 1 && n.charAt(1) > 3); ) (g = g.times(e)), (n = Pr(g.d)), (i = n.charAt(0)), h++;
    (s = wt(g)), i > 1 ? ((g = new v("0." + n)), s++) : (g = new v(i + "." + n.slice(1)));
  } else
    return (
      (d = Go(v, c + 2, x).times(s + "")),
      (g = Qi(new v(i + "." + n.slice(1)), c - p).plus(d)),
      (v.precision = x),
      t == null ? ((at = !0), Ze(g, x)) : g
    );
  for (l = o = g = zr(g.minus(er), g.plus(er), c), u = Ze(g.times(g), c), a = 3; ; ) {
    if (((o = Ze(o.times(u), c)), (d = l.plus(zr(o, new v(a), c))), Pr(d.d).slice(0, c) === Pr(l.d).slice(0, c)))
      return (
        (l = l.times(2)),
        s !== 0 && (l = l.plus(Go(v, c + 2, x).times(s + ""))),
        (l = zr(l, new v(h), c)),
        (v.precision = x),
        t == null ? ((at = !0), Ze(l, x)) : l
      );
    (l = d), (a += 2);
  }
}
function Qu(e, t) {
  var n, i, a;
  for (
    (n = t.indexOf(".")) > -1 && (t = t.replace(".", "")),
      (i = t.search(/e/i)) > 0
        ? (n < 0 && (n = i), (n += +t.slice(i + 1)), (t = t.substring(0, i)))
        : n < 0 && (n = t.length),
      i = 0;
    t.charCodeAt(i) === 48;

  )
    ++i;
  for (a = t.length; t.charCodeAt(a - 1) === 48; ) --a;
  if (((t = t.slice(i, a)), t)) {
    if (((a -= i), (n = n - i - 1), (e.e = Ei(n / rt)), (e.d = []), (i = (n + 1) % rt), n < 0 && (i += rt), i < a)) {
      for (i && e.d.push(+t.slice(0, i)), a -= rt; i < a; ) e.d.push(+t.slice(i, (i += rt)));
      (t = t.slice(i)), (i = rt - t.length);
    } else i -= a;
    for (; i--; ) t += "0";
    if ((e.d.push(+t), at && (e.e > vs || e.e < -vs))) throw Error(Jc + n);
  } else (e.s = 0), (e.e = 0), (e.d = [0]);
  return e;
}
function Ze(e, t, n) {
  var i,
    a,
    s,
    o,
    l,
    d,
    c,
    u,
    h = e.d;
  for (o = 1, s = h[0]; s >= 10; s /= 10) o++;
  if (((i = t - o), i < 0)) (i += rt), (a = t), (c = h[(u = 0)]);
  else {
    if (((u = Math.ceil((i + 1) / rt)), (s = h.length), u >= s)) return e;
    for (c = s = h[u], o = 1; s >= 10; s /= 10) o++;
    (i %= rt), (a = i - rt + o);
  }
  if (
    (n !== void 0 &&
      ((s = hn(10, o - a - 1)),
      (l = (c / s) % 10 | 0),
      (d = t < 0 || h[u + 1] !== void 0 || c % s),
      (d =
        n < 4
          ? (l || d) && (n == 0 || n == (e.s < 0 ? 3 : 2))
          : l > 5 ||
            (l == 5 &&
              (n == 4 ||
                d ||
                (n == 6 && (i > 0 ? (a > 0 ? c / hn(10, o - a) : 0) : h[u - 1]) % 10 & 1) ||
                n == (e.s < 0 ? 8 : 7))))),
    t < 1 || !h[0])
  )
    return (
      d
        ? ((s = wt(e)),
          (h.length = 1),
          (t = t - s - 1),
          (h[0] = hn(10, (rt - (t % rt)) % rt)),
          (e.e = Ei(-t / rt) || 0))
        : ((h.length = 1), (h[0] = e.e = e.s = 0)),
      e
    );
  if (
    (i == 0
      ? ((h.length = u), (s = 1), u--)
      : ((h.length = u + 1), (s = hn(10, rt - i)), (h[u] = a > 0 ? ((c / hn(10, o - a)) % hn(10, a) | 0) * s : 0)),
    d)
  )
    for (;;)
      if (u == 0) {
        (h[0] += s) == At && ((h[0] = 1), ++e.e);
        break;
      } else {
        if (((h[u] += s), h[u] != At)) break;
        (h[u--] = 0), (s = 1);
      }
  for (i = h.length; h[--i] === 0; ) h.pop();
  if (at && (e.e > vs || e.e < -vs)) throw Error(Jc + wt(e));
  return e;
}
function mg(e, t) {
  var n,
    i,
    a,
    s,
    o,
    l,
    d,
    c,
    u,
    h,
    p = e.constructor,
    g = p.precision;
  if (!e.s || !t.s) return t.s ? (t.s = -t.s) : (t = new p(e)), at ? Ze(t, g) : t;
  if (((d = e.d), (h = t.d), (i = t.e), (c = e.e), (d = d.slice()), (o = c - i), o)) {
    for (
      u = o < 0,
        u ? ((n = d), (o = -o), (l = h.length)) : ((n = h), (i = c), (l = d.length)),
        a = Math.max(Math.ceil(g / rt), l) + 2,
        o > a && ((o = a), (n.length = 1)),
        n.reverse(),
        a = o;
      a--;

    )
      n.push(0);
    n.reverse();
  } else {
    for (a = d.length, l = h.length, u = a < l, u && (l = a), a = 0; a < l; a++)
      if (d[a] != h[a]) {
        u = d[a] < h[a];
        break;
      }
    o = 0;
  }
  for (u && ((n = d), (d = h), (h = n), (t.s = -t.s)), l = d.length, a = h.length - l; a > 0; --a) d[l++] = 0;
  for (a = h.length; a > o; ) {
    if (d[--a] < h[a]) {
      for (s = a; s && d[--s] === 0; ) d[s] = At - 1;
      --d[s], (d[a] += At);
    }
    d[a] -= h[a];
  }
  for (; d[--l] === 0; ) d.pop();
  for (; d[0] === 0; d.shift()) --i;
  return d[0] ? ((t.d = d), (t.e = i), at ? Ze(t, g) : t) : new p(0);
}
function En(e, t, n) {
  var i,
    a = wt(e),
    s = Pr(e.d),
    o = s.length;
  return (
    t
      ? (n && (i = n - o) > 0
          ? (s = s.charAt(0) + "." + s.slice(1) + Kr(i))
          : o > 1 && (s = s.charAt(0) + "." + s.slice(1)),
        (s = s + (a < 0 ? "e" : "e+") + a))
      : a < 0
        ? ((s = "0." + Kr(-a - 1) + s), n && (i = n - o) > 0 && (s += Kr(i)))
        : a >= o
          ? ((s += Kr(a + 1 - o)), n && (i = n - a - 1) > 0 && (s = s + "." + Kr(i)))
          : ((i = a + 1) < o && (s = s.slice(0, i) + "." + s.slice(i)),
            n && (i = n - o) > 0 && (a + 1 === o && (s += "."), (s += Kr(i)))),
    e.s < 0 ? "-" + s : s
  );
}
function Zu(e, t) {
  if (e.length > t) return (e.length = t), !0;
}
function vg(e) {
  var t, n, i;
  function a(s) {
    var o = this;
    if (!(o instanceof a)) return new a(s);
    if (((o.constructor = a), s instanceof a)) {
      (o.s = s.s), (o.e = s.e), (o.d = (s = s.d) ? s.slice() : s);
      return;
    }
    if (typeof s == "number") {
      if (s * 0 !== 0) throw Error(On + s);
      if (s > 0) o.s = 1;
      else if (s < 0) (s = -s), (o.s = -1);
      else {
        (o.s = 0), (o.e = 0), (o.d = [0]);
        return;
      }
      if (s === ~~s && s < 1e7) {
        (o.e = 0), (o.d = [s]);
        return;
      }
      return Qu(o, s.toString());
    } else if (typeof s != "string") throw Error(On + s);
    if ((s.charCodeAt(0) === 45 ? ((s = s.slice(1)), (o.s = -1)) : (o.s = 1), oI.test(s))) Qu(o, s);
    else throw Error(On + s);
  }
  if (
    ((a.prototype = fe),
    (a.ROUND_UP = 0),
    (a.ROUND_DOWN = 1),
    (a.ROUND_CEIL = 2),
    (a.ROUND_FLOOR = 3),
    (a.ROUND_HALF_UP = 4),
    (a.ROUND_HALF_DOWN = 5),
    (a.ROUND_HALF_EVEN = 6),
    (a.ROUND_HALF_CEIL = 7),
    (a.ROUND_HALF_FLOOR = 8),
    (a.clone = vg),
    (a.config = a.set = lI),
    e === void 0 && (e = {}),
    e)
  )
    for (i = ["precision", "rounding", "toExpNeg", "toExpPos", "LN10"], t = 0; t < i.length; )
      e.hasOwnProperty((n = i[t++])) || (e[n] = this[n]);
  return a.config(e), a;
}
function lI(e) {
  if (!e || typeof e != "object") throw Error(cr + "Object expected");
  var t,
    n,
    i,
    a = ["precision", 1, Di, "rounding", 0, 8, "toExpNeg", -1 / 0, 0, "toExpPos", 0, 1 / 0];
  for (t = 0; t < a.length; t += 3)
    if ((i = e[(n = a[t])]) !== void 0)
      if (Ei(i) === i && i >= a[t + 1] && i <= a[t + 2]) this[n] = i;
      else throw Error(On + n + ": " + i);
  if ((i = e[(n = "LN10")]) !== void 0)
    if (i == Math.LN10) this[n] = new this(i);
    else throw Error(On + n + ": " + i);
  return this;
}
var Qc = vg(sI);
er = new Qc(1);
const Je = Qc;
function cI(e) {
  return pI(e) || hI(e) || uI(e) || dI();
}
function dI() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function uI(e, t) {
  if (e) {
    if (typeof e == "string") return zl(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if ((n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")) return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return zl(e, t);
  }
}
function hI(e) {
  if (typeof Symbol < "u" && Symbol.iterator in Object(e)) return Array.from(e);
}
function pI(e) {
  if (Array.isArray(e)) return zl(e);
}
function zl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
  return i;
}
var fI = function (t) {
    return t;
  },
  yg = { "@@functional/placeholder": !0 },
  jg = function (t) {
    return t === yg;
  },
  eh = function (t) {
    return function n() {
      return arguments.length === 0 || (arguments.length === 1 && jg(arguments.length <= 0 ? void 0 : arguments[0]))
        ? n
        : t.apply(void 0, arguments);
    };
  },
  gI = function e(t, n) {
    return t === 1
      ? n
      : eh(function () {
          for (var i = arguments.length, a = new Array(i), s = 0; s < i; s++) a[s] = arguments[s];
          var o = a.filter(function (l) {
            return l !== yg;
          }).length;
          return o >= t
            ? n.apply(void 0, a)
            : e(
                t - o,
                eh(function () {
                  for (var l = arguments.length, d = new Array(l), c = 0; c < l; c++) d[c] = arguments[c];
                  var u = a.map(function (h) {
                    return jg(h) ? d.shift() : h;
                  });
                  return n.apply(void 0, cI(u).concat(d));
                }),
              );
        });
  },
  po = function (t) {
    return gI(t.length, t);
  },
  Ll = function (t, n) {
    for (var i = [], a = t; a < n; ++a) i[a - t] = a;
    return i;
  },
  xI = po(function (e, t) {
    return Array.isArray(t)
      ? t.map(e)
      : Object.keys(t)
          .map(function (n) {
            return t[n];
          })
          .map(e);
  }),
  mI = function () {
    for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++) n[i] = arguments[i];
    if (!n.length) return fI;
    var a = n.reverse(),
      s = a[0],
      o = a.slice(1);
    return function () {
      return o.reduce(
        function (l, d) {
          return d(l);
        },
        s.apply(void 0, arguments),
      );
    };
  },
  Bl = function (t) {
    return Array.isArray(t) ? t.reverse() : t.split("").reverse.join("");
  },
  bg = function (t) {
    var n = null,
      i = null;
    return function () {
      for (var a = arguments.length, s = new Array(a), o = 0; o < a; o++) s[o] = arguments[o];
      return (
        (n &&
          s.every(function (l, d) {
            return l === n[d];
          })) ||
          ((n = s), (i = t.apply(void 0, s))),
        i
      );
    };
  };
function vI(e) {
  var t;
  return e === 0 ? (t = 1) : (t = Math.floor(new Je(e).abs().log(10).toNumber()) + 1), t;
}
function yI(e, t, n) {
  for (var i = new Je(e), a = 0, s = []; i.lt(t) && a < 1e5; ) s.push(i.toNumber()), (i = i.add(n)), a++;
  return s;
}
var jI = po(function (e, t, n) {
    var i = +e,
      a = +t;
    return i + n * (a - i);
  }),
  bI = po(function (e, t, n) {
    var i = t - +e;
    return (i = i || 1 / 0), (n - e) / i;
  }),
  _I = po(function (e, t, n) {
    var i = t - +e;
    return (i = i || 1 / 0), Math.max(0, Math.min(1, (n - e) / i));
  });
const fo = {
  rangeStep: yI,
  getDigitCount: vI,
  interpolateNumber: jI,
  uninterpolateNumber: bI,
  uninterpolateTruncation: _I,
};
function Rl(e) {
  return CI(e) || SI(e) || _g(e) || wI();
}
function wI() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function SI(e) {
  if (typeof Symbol < "u" && Symbol.iterator in Object(e)) return Array.from(e);
}
function CI(e) {
  if (Array.isArray(e)) return Fl(e);
}
function Zi(e, t) {
  return kI(e) || OI(e, t) || _g(e, t) || PI();
}
function PI() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function _g(e, t) {
  if (e) {
    if (typeof e == "string") return Fl(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if ((n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")) return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Fl(e, t);
  }
}
function Fl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
  return i;
}
function OI(e, t) {
  if (!(typeof Symbol > "u" || !(Symbol.iterator in Object(e)))) {
    var n = [],
      i = !0,
      a = !1,
      s = void 0;
    try {
      for (
        var o = e[Symbol.iterator](), l;
        !(i = (l = o.next()).done) && (n.push(l.value), !(t && n.length === t));
        i = !0
      );
    } catch (d) {
      (a = !0), (s = d);
    } finally {
      try {
        !i && o.return != null && o.return();
      } finally {
        if (a) throw s;
      }
    }
    return n;
  }
}
function kI(e) {
  if (Array.isArray(e)) return e;
}
function wg(e) {
  var t = Zi(e, 2),
    n = t[0],
    i = t[1],
    a = n,
    s = i;
  return n > i && ((a = i), (s = n)), [a, s];
}
function Sg(e, t, n) {
  if (e.lte(0)) return new Je(0);
  var i = fo.getDigitCount(e.toNumber()),
    a = new Je(10).pow(i),
    s = e.div(a),
    o = i !== 1 ? 0.05 : 0.1,
    l = new Je(Math.ceil(s.div(o).toNumber())).add(n).mul(o),
    d = l.mul(a);
  return t ? d : new Je(Math.ceil(d));
}
function AI(e, t, n) {
  var i = 1,
    a = new Je(e);
  if (!a.isint() && n) {
    var s = Math.abs(e);
    s < 1
      ? ((i = new Je(10).pow(fo.getDigitCount(e) - 1)), (a = new Je(Math.floor(a.div(i).toNumber())).mul(i)))
      : s > 1 && (a = new Je(Math.floor(e)));
  } else e === 0 ? (a = new Je(Math.floor((t - 1) / 2))) : n || (a = new Je(Math.floor(e)));
  var o = Math.floor((t - 1) / 2),
    l = mI(
      xI(function (d) {
        return a.add(new Je(d - o).mul(i)).toNumber();
      }),
      Ll,
    );
  return l(0, t);
}
function Cg(e, t, n, i) {
  var a = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 0;
  if (!Number.isFinite((t - e) / (n - 1))) return { step: new Je(0), tickMin: new Je(0), tickMax: new Je(0) };
  var s = Sg(new Je(t).sub(e).div(n - 1), i, a),
    o;
  e <= 0 && t >= 0 ? (o = new Je(0)) : ((o = new Je(e).add(t).div(2)), (o = o.sub(new Je(o).mod(s))));
  var l = Math.ceil(o.sub(e).div(s).toNumber()),
    d = Math.ceil(new Je(t).sub(o).div(s).toNumber()),
    c = l + d + 1;
  return c > n
    ? Cg(e, t, n, i, a + 1)
    : (c < n && ((d = t > 0 ? d + (n - c) : d), (l = t > 0 ? l : l + (n - c))),
      { step: s, tickMin: o.sub(new Je(l).mul(s)), tickMax: o.add(new Je(d).mul(s)) });
}
function DI(e) {
  var t = Zi(e, 2),
    n = t[0],
    i = t[1],
    a = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 6,
    s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0,
    o = Math.max(a, 2),
    l = wg([n, i]),
    d = Zi(l, 2),
    c = d[0],
    u = d[1];
  if (c === -1 / 0 || u === 1 / 0) {
    var h =
      u === 1 / 0
        ? [c].concat(
            Rl(
              Ll(0, a - 1).map(function () {
                return 1 / 0;
              }),
            ),
          )
        : [].concat(
            Rl(
              Ll(0, a - 1).map(function () {
                return -1 / 0;
              }),
            ),
            [u],
          );
    return n > i ? Bl(h) : h;
  }
  if (c === u) return AI(c, a, s);
  var p = Cg(c, u, o, s),
    g = p.step,
    m = p.tickMin,
    v = p.tickMax,
    x = fo.rangeStep(m, v.add(new Je(0.1).mul(g)), g);
  return n > i ? Bl(x) : x;
}
function EI(e, t) {
  var n = Zi(e, 2),
    i = n[0],
    a = n[1],
    s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0,
    o = wg([i, a]),
    l = Zi(o, 2),
    d = l[0],
    c = l[1];
  if (d === -1 / 0 || c === 1 / 0) return [i, a];
  if (d === c) return [d];
  var u = Math.max(t, 2),
    h = Sg(new Je(c).sub(d).div(u - 1), s, 0),
    p = [].concat(Rl(fo.rangeStep(new Je(d), new Je(c).sub(new Je(0.99).mul(h)), h)), [c]);
  return i > a ? Bl(p) : p;
}
var II = bg(DI),
  TI = bg(EI),
  $I = "Invariant failed";
function In(e, t) {
  throw new Error($I);
}
var WI = ["offset", "layout", "width", "dataKey", "data", "dataPointFormatter", "xAxis", "yAxis"];
function ii(e) {
  "@babel/helpers - typeof";
  return (
    (ii =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ii(e)
  );
}
function ys() {
  return (
    (ys = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    ys.apply(this, arguments)
  );
}
function MI(e, t) {
  return BI(e) || LI(e, t) || zI(e, t) || NI();
}
function NI() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function zI(e, t) {
  if (e) {
    if (typeof e == "string") return th(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if ((n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")) return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return th(e, t);
  }
}
function th(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
  return i;
}
function LI(e, t) {
  var n = e == null ? null : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (n != null) {
    var i,
      a,
      s,
      o,
      l = [],
      d = !0,
      c = !1;
    try {
      if (((s = (n = n.call(e)).next), t !== 0))
        for (; !(d = (i = s.call(n)).done) && (l.push(i.value), l.length !== t); d = !0);
    } catch (u) {
      (c = !0), (a = u);
    } finally {
      try {
        if (!d && n.return != null && ((o = n.return()), Object(o) !== o)) return;
      } finally {
        if (c) throw a;
      }
    }
    return l;
  }
}
function BI(e) {
  if (Array.isArray(e)) return e;
}
function RI(e, t) {
  if (e == null) return {};
  var n = FI(e, t),
    i,
    a;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (a = 0; a < s.length; a++)
      (i = s[a]), !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i]);
  }
  return n;
}
function FI(e, t) {
  if (e == null) return {};
  var n = {};
  for (var i in e)
    if (Object.prototype.hasOwnProperty.call(e, i)) {
      if (t.indexOf(i) >= 0) continue;
      n[i] = e[i];
    }
  return n;
}
function VI(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function qI(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, kg(i.key), i);
  }
}
function UI(e, t, n) {
  return t && qI(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function KI(e, t, n) {
  return (t = js(t)), HI(e, Pg() ? Reflect.construct(t, n || [], js(e).constructor) : t.apply(e, n));
}
function HI(e, t) {
  if (t && (ii(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0) throw new TypeError("Derived constructors may only return object or undefined");
  return GI(e);
}
function GI(e) {
  if (e === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
function Pg() {
  try {
    var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch {}
  return (Pg = function () {
    return !!e;
  })();
}
function js(e) {
  return (
    (js = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (n) {
          return n.__proto__ || Object.getPrototypeOf(n);
        }),
    js(e)
  );
}
function XI(e, t) {
  if (typeof t != "function" && t !== null) throw new TypeError("Super expression must either be null or a function");
  (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Vl(e, t);
}
function Vl(e, t) {
  return (
    (Vl = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (i, a) {
          return (i.__proto__ = a), i;
        }),
    Vl(e, t)
  );
}
function Og(e, t, n) {
  return (
    (t = kg(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function kg(e) {
  var t = YI(e, "string");
  return ii(t) == "symbol" ? t : t + "";
}
function YI(e, t) {
  if (ii(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (ii(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var Ma = (function (e) {
  function t() {
    return VI(this, t), KI(this, t, arguments);
  }
  return (
    XI(t, e),
    UI(t, [
      {
        key: "render",
        value: function () {
          var i = this.props,
            a = i.offset,
            s = i.layout,
            o = i.width,
            l = i.dataKey,
            d = i.data,
            c = i.dataPointFormatter,
            u = i.xAxis,
            h = i.yAxis,
            p = RI(i, WI),
            g = Re(p, !1);
          this.props.direction === "x" && u.type !== "number" && In();
          var m = d.map(function (v) {
            var x = c(v, l),
              j = x.x,
              b = x.y,
              _ = x.value,
              S = x.errorVal;
            if (!S) return null;
            var y = [],
              w,
              C;
            if (Array.isArray(S)) {
              var O = MI(S, 2);
              (w = O[0]), (C = O[1]);
            } else w = C = S;
            if (s === "vertical") {
              var k = u.scale,
                D = b + a,
                E = D + o,
                I = D - o,
                z = k(_ - w),
                R = k(_ + C);
              y.push({ x1: R, y1: E, x2: R, y2: I }),
                y.push({ x1: z, y1: D, x2: R, y2: D }),
                y.push({ x1: z, y1: E, x2: z, y2: I });
            } else if (s === "horizontal") {
              var B = h.scale,
                V = j + a,
                q = V - o,
                G = V + o,
                H = B(_ - w),
                Q = B(_ + C);
              y.push({ x1: q, y1: Q, x2: G, y2: Q }),
                y.push({ x1: V, y1: H, x2: V, y2: Q }),
                y.push({ x1: q, y1: H, x2: G, y2: H });
            }
            return N.createElement(
              mt,
              ys(
                {
                  className: "recharts-errorBar",
                  key: "bar-".concat(
                    y.map(function (ne) {
                      return "".concat(ne.x1, "-").concat(ne.x2, "-").concat(ne.y1, "-").concat(ne.y2);
                    }),
                  ),
                },
                g,
              ),
              y.map(function (ne) {
                return N.createElement(
                  "line",
                  ys({}, ne, { key: "line-".concat(ne.x1, "-").concat(ne.x2, "-").concat(ne.y1, "-").concat(ne.y2) }),
                );
              }),
            );
          });
          return N.createElement(mt, { className: "recharts-errorBars" }, m);
        },
      },
    ])
  );
})(N.Component);
Og(Ma, "defaultProps", { stroke: "black", strokeWidth: 1.5, width: 5, offset: 0, layout: "horizontal" });
Og(Ma, "displayName", "ErrorBar");
function ea(e) {
  "@babel/helpers - typeof";
  return (
    (ea =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ea(e)
  );
}
function rh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function dn(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? rh(Object(n), !0).forEach(function (i) {
          JI(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : rh(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function JI(e, t, n) {
  return (
    (t = QI(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function QI(e) {
  var t = ZI(e, "string");
  return ea(t) == "symbol" ? t : t + "";
}
function ZI(e, t) {
  if (ea(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (ea(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var Ag = function (t) {
  var n = t.children,
    i = t.formattedGraphicalItems,
    a = t.legendWidth,
    s = t.legendContent,
    o = Qt(n, Pn);
  if (!o) return null;
  var l = Pn.defaultProps,
    d = l !== void 0 ? dn(dn({}, l), o.props) : {},
    c;
  return (
    o.props && o.props.payload
      ? (c = o.props && o.props.payload)
      : s === "children"
        ? (c = (i || []).reduce(function (u, h) {
            var p = h.item,
              g = h.props,
              m = g.sectors || g.data || [];
            return u.concat(
              m.map(function (v) {
                return { type: o.props.iconType || p.props.legendType, value: v.name, color: v.fill, payload: v };
              }),
            );
          }, []))
        : (c = (i || []).map(function (u) {
            var h = u.item,
              p = h.type.defaultProps,
              g = p !== void 0 ? dn(dn({}, p), h.props) : {},
              m = g.dataKey,
              v = g.name,
              x = g.legendType,
              j = g.hide;
            return {
              inactive: j,
              dataKey: m,
              type: d.iconType || x || "square",
              color: Zc(h),
              value: v || m,
              payload: g,
            };
          })),
    dn(dn(dn({}, d), Pn.getWithHeight(o, a)), {}, { payload: c, item: o })
  );
};
function ta(e) {
  "@babel/helpers - typeof";
  return (
    (ta =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ta(e)
  );
}
function nh(e) {
  return nT(e) || rT(e) || tT(e) || eT();
}
function eT() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function tT(e, t) {
  if (e) {
    if (typeof e == "string") return ql(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if ((n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")) return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return ql(e, t);
  }
}
function rT(e) {
  if ((typeof Symbol < "u" && e[Symbol.iterator] != null) || e["@@iterator"] != null) return Array.from(e);
}
function nT(e) {
  if (Array.isArray(e)) return ql(e);
}
function ql(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
  return i;
}
function ih(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function pt(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? ih(Object(n), !0).forEach(function (i) {
          Yn(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : ih(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function Yn(e, t, n) {
  return (
    (t = iT(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function iT(e) {
  var t = aT(e, "string");
  return ta(t) == "symbol" ? t : t + "";
}
function aT(e, t) {
  if (ta(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (ta(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function rr(e, t, n) {
  return ze(e) || ze(t) ? n : kt(t) ? ir(e, t, n) : Te(t) ? t(e) : n;
}
function Ri(e, t, n, i) {
  var a = rI(e, function (l) {
    return rr(l, t);
  });
  if (n === "number") {
    var s = a.filter(function (l) {
      return se(l) || parseFloat(l);
    });
    return s.length ? [uo(s), co(s)] : [1 / 0, -1 / 0];
  }
  var o = i
    ? a.filter(function (l) {
        return !ze(l);
      })
    : a;
  return o.map(function (l) {
    return kt(l) || l instanceof Date ? l : "";
  });
}
var sT = function (t) {
    var n,
      i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [],
      a = arguments.length > 2 ? arguments[2] : void 0,
      s = arguments.length > 3 ? arguments[3] : void 0,
      o = -1,
      l = (n = i == null ? void 0 : i.length) !== null && n !== void 0 ? n : 0;
    if (l <= 1) return 0;
    if (s && s.axisType === "angleAxis" && Math.abs(Math.abs(s.range[1] - s.range[0]) - 360) <= 1e-6)
      for (var d = s.range, c = 0; c < l; c++) {
        var u = c > 0 ? a[c - 1].coordinate : a[l - 1].coordinate,
          h = a[c].coordinate,
          p = c >= l - 1 ? a[0].coordinate : a[c + 1].coordinate,
          g = void 0;
        if (jr(h - u) !== jr(p - h)) {
          var m = [];
          if (jr(p - h) === jr(d[1] - d[0])) {
            g = p;
            var v = h + d[1] - d[0];
            (m[0] = Math.min(v, (v + u) / 2)), (m[1] = Math.max(v, (v + u) / 2));
          } else {
            g = u;
            var x = p + d[1] - d[0];
            (m[0] = Math.min(h, (x + h) / 2)), (m[1] = Math.max(h, (x + h) / 2));
          }
          var j = [Math.min(h, (g + h) / 2), Math.max(h, (g + h) / 2)];
          if ((t > j[0] && t <= j[1]) || (t >= m[0] && t <= m[1])) {
            o = a[c].index;
            break;
          }
        } else {
          var b = Math.min(u, p),
            _ = Math.max(u, p);
          if (t > (b + h) / 2 && t <= (_ + h) / 2) {
            o = a[c].index;
            break;
          }
        }
      }
    else
      for (var S = 0; S < l; S++)
        if (
          (S === 0 && t <= (i[S].coordinate + i[S + 1].coordinate) / 2) ||
          (S > 0 &&
            S < l - 1 &&
            t > (i[S].coordinate + i[S - 1].coordinate) / 2 &&
            t <= (i[S].coordinate + i[S + 1].coordinate) / 2) ||
          (S === l - 1 && t > (i[S].coordinate + i[S - 1].coordinate) / 2)
        ) {
          o = i[S].index;
          break;
        }
    return o;
  },
  Zc = function (t) {
    var n,
      i = t,
      a = i.type.displayName,
      s = (n = t.type) !== null && n !== void 0 && n.defaultProps ? pt(pt({}, t.type.defaultProps), t.props) : t.props,
      o = s.stroke,
      l = s.fill,
      d;
    switch (a) {
      case "Line":
        d = o;
        break;
      case "Area":
      case "Radar":
        d = o && o !== "none" ? o : l;
        break;
      default:
        d = l;
        break;
    }
    return d;
  },
  oT = function (t) {
    var n = t.barSize,
      i = t.totalSize,
      a = t.stackGroups,
      s = a === void 0 ? {} : a;
    if (!s) return {};
    for (var o = {}, l = Object.keys(s), d = 0, c = l.length; d < c; d++)
      for (var u = s[l[d]].stackGroups, h = Object.keys(u), p = 0, g = h.length; p < g; p++) {
        var m = u[h[p]],
          v = m.items,
          x = m.cateAxisId,
          j = v.filter(function (C) {
            return Wr(C.type).indexOf("Bar") >= 0;
          });
        if (j && j.length) {
          var b = j[0].type.defaultProps,
            _ = b !== void 0 ? pt(pt({}, b), j[0].props) : j[0].props,
            S = _.barSize,
            y = _[x];
          o[y] || (o[y] = []);
          var w = ze(S) ? n : S;
          o[y].push({ item: j[0], stackList: j.slice(1), barSize: ze(w) ? void 0 : Dn(w, i, 0) });
        }
      }
    return o;
  },
  lT = function (t) {
    var n = t.barGap,
      i = t.barCategoryGap,
      a = t.bandSize,
      s = t.sizeList,
      o = s === void 0 ? [] : s,
      l = t.maxBarSize,
      d = o.length;
    if (d < 1) return null;
    var c = Dn(n, a, 0, !0),
      u,
      h = [];
    if (o[0].barSize === +o[0].barSize) {
      var p = !1,
        g = a / d,
        m = o.reduce(function (S, y) {
          return S + y.barSize || 0;
        }, 0);
      (m += (d - 1) * c),
        m >= a && ((m -= (d - 1) * c), (c = 0)),
        m >= a && g > 0 && ((p = !0), (g *= 0.9), (m = d * g));
      var v = ((a - m) / 2) >> 0,
        x = { offset: v - c, size: 0 };
      u = o.reduce(function (S, y) {
        var w = { item: y.item, position: { offset: x.offset + x.size + c, size: p ? g : y.barSize } },
          C = [].concat(nh(S), [w]);
        return (
          (x = C[C.length - 1].position),
          y.stackList &&
            y.stackList.length &&
            y.stackList.forEach(function (O) {
              C.push({ item: O, position: x });
            }),
          C
        );
      }, h);
    } else {
      var j = Dn(i, a, 0, !0);
      a - 2 * j - (d - 1) * c <= 0 && (c = 0);
      var b = (a - 2 * j - (d - 1) * c) / d;
      b > 1 && (b >>= 0);
      var _ = l === +l ? Math.min(b, l) : b;
      u = o.reduce(function (S, y, w) {
        var C = [].concat(nh(S), [{ item: y.item, position: { offset: j + (b + c) * w + (b - _) / 2, size: _ } }]);
        return (
          y.stackList &&
            y.stackList.length &&
            y.stackList.forEach(function (O) {
              C.push({ item: O, position: C[C.length - 1].position });
            }),
          C
        );
      }, h);
    }
    return u;
  },
  cT = function (t, n, i, a) {
    var s = i.children,
      o = i.width,
      l = i.margin,
      d = o - (l.left || 0) - (l.right || 0),
      c = Ag({ children: s, legendWidth: d });
    if (c) {
      var u = a || {},
        h = u.width,
        p = u.height,
        g = c.align,
        m = c.verticalAlign,
        v = c.layout;
      if ((v === "vertical" || (v === "horizontal" && m === "middle")) && g !== "center" && se(t[g]))
        return pt(pt({}, t), {}, Yn({}, g, t[g] + (h || 0)));
      if ((v === "horizontal" || (v === "vertical" && g === "center")) && m !== "middle" && se(t[m]))
        return pt(pt({}, t), {}, Yn({}, m, t[m] + (p || 0)));
    }
    return t;
  },
  dT = function (t, n, i) {
    return ze(n)
      ? !0
      : t === "horizontal"
        ? n === "yAxis"
        : t === "vertical" || i === "x"
          ? n === "xAxis"
          : i === "y"
            ? n === "yAxis"
            : !0;
  },
  Dg = function (t, n, i, a, s) {
    var o = n.props.children,
      l = ar(o, Ma).filter(function (c) {
        return dT(a, s, c.props.direction);
      });
    if (l && l.length) {
      var d = l.map(function (c) {
        return c.props.dataKey;
      });
      return t.reduce(
        function (c, u) {
          var h = rr(u, i);
          if (ze(h)) return c;
          var p = Array.isArray(h) ? [uo(h), co(h)] : [h, h],
            g = d.reduce(
              function (m, v) {
                var x = rr(u, v, 0),
                  j = p[0] - Math.abs(Array.isArray(x) ? x[0] : x),
                  b = p[1] + Math.abs(Array.isArray(x) ? x[1] : x);
                return [Math.min(j, m[0]), Math.max(b, m[1])];
              },
              [1 / 0, -1 / 0],
            );
          return [Math.min(g[0], c[0]), Math.max(g[1], c[1])];
        },
        [1 / 0, -1 / 0],
      );
    }
    return null;
  },
  uT = function (t, n, i, a, s) {
    var o = n
      .map(function (l) {
        return Dg(t, l, i, s, a);
      })
      .filter(function (l) {
        return !ze(l);
      });
    return o && o.length
      ? o.reduce(
          function (l, d) {
            return [Math.min(l[0], d[0]), Math.max(l[1], d[1])];
          },
          [1 / 0, -1 / 0],
        )
      : null;
  },
  Eg = function (t, n, i, a, s) {
    var o = n.map(function (d) {
      var c = d.props.dataKey;
      return (i === "number" && c && Dg(t, d, c, a)) || Ri(t, c, i, s);
    });
    if (i === "number")
      return o.reduce(
        function (d, c) {
          return [Math.min(d[0], c[0]), Math.max(d[1], c[1])];
        },
        [1 / 0, -1 / 0],
      );
    var l = {};
    return o.reduce(function (d, c) {
      for (var u = 0, h = c.length; u < h; u++) l[c[u]] || ((l[c[u]] = !0), d.push(c[u]));
      return d;
    }, []);
  },
  Ig = function (t, n) {
    return (
      (t === "horizontal" && n === "xAxis") ||
      (t === "vertical" && n === "yAxis") ||
      (t === "centric" && n === "angleAxis") ||
      (t === "radial" && n === "radiusAxis")
    );
  },
  Tg = function (t, n, i, a) {
    if (a)
      return t.map(function (d) {
        return d.coordinate;
      });
    var s,
      o,
      l = t.map(function (d) {
        return d.coordinate === n && (s = !0), d.coordinate === i && (o = !0), d.coordinate;
      });
    return s || l.push(n), o || l.push(i), l;
  },
  $r = function (t, n, i) {
    if (!t) return null;
    var a = t.scale,
      s = t.duplicateDomain,
      o = t.type,
      l = t.range,
      d = t.realScaleType === "scaleBand" ? a.bandwidth() / 2 : 2,
      c = (n || i) && o === "category" && a.bandwidth ? a.bandwidth() / d : 0;
    if (
      ((c = t.axisType === "angleAxis" && (l == null ? void 0 : l.length) >= 2 ? jr(l[0] - l[1]) * 2 * c : c),
      n && (t.ticks || t.niceTicks))
    ) {
      var u = (t.ticks || t.niceTicks).map(function (h) {
        var p = s ? s.indexOf(h) : h;
        return { coordinate: a(p) + c, value: h, offset: c };
      });
      return u.filter(function (h) {
        return !Ta(h.coordinate);
      });
    }
    return t.isCategorical && t.categoricalDomain
      ? t.categoricalDomain.map(function (h, p) {
          return { coordinate: a(h) + c, value: h, index: p, offset: c };
        })
      : a.ticks && !i
        ? a.ticks(t.tickCount).map(function (h) {
            return { coordinate: a(h) + c, value: h, offset: c };
          })
        : a.domain().map(function (h, p) {
            return { coordinate: a(h) + c, value: s ? s[h] : h, index: p, offset: c };
          });
  },
  Xo = new WeakMap(),
  Ha = function (t, n) {
    if (typeof n != "function") return t;
    Xo.has(t) || Xo.set(t, new WeakMap());
    var i = Xo.get(t);
    if (i.has(n)) return i.get(n);
    var a = function () {
      t.apply(void 0, arguments), n.apply(void 0, arguments);
    };
    return i.set(n, a), a;
  },
  hT = function (t, n, i) {
    var a = t.scale,
      s = t.type,
      o = t.layout,
      l = t.axisType;
    if (a === "auto")
      return o === "radial" && l === "radiusAxis"
        ? { scale: dl(), realScaleType: "band" }
        : o === "radial" && l === "angleAxis"
          ? { scale: ul(), realScaleType: "linear" }
          : s === "category" &&
              n &&
              (n.indexOf("LineChart") >= 0 || n.indexOf("AreaChart") >= 0 || (n.indexOf("ComposedChart") >= 0 && !i))
            ? { scale: Li(), realScaleType: "point" }
            : s === "category"
              ? { scale: dl(), realScaleType: "band" }
              : { scale: ul(), realScaleType: "linear" };
    if (Ia(a)) {
      var d = "scale".concat(ao(a));
      return { scale: (Ju[d] || Li)(), realScaleType: Ju[d] ? d : "point" };
    }
    return Te(a) ? { scale: a } : { scale: Li(), realScaleType: "point" };
  },
  ah = 1e-4,
  pT = function (t) {
    var n = t.domain();
    if (!(!n || n.length <= 2)) {
      var i = n.length,
        a = t.range(),
        s = Math.min(a[0], a[1]) - ah,
        o = Math.max(a[0], a[1]) + ah,
        l = t(n[0]),
        d = t(n[i - 1]);
      (l < s || l > o || d < s || d > o) && t.domain([n[0], n[i - 1]]);
    }
  },
  fT = function (t, n) {
    if (!t) return null;
    for (var i = 0, a = t.length; i < a; i++) if (t[i].item === n) return t[i].position;
    return null;
  },
  gT = function (t, n) {
    if (!n || n.length !== 2 || !se(n[0]) || !se(n[1])) return t;
    var i = Math.min(n[0], n[1]),
      a = Math.max(n[0], n[1]),
      s = [t[0], t[1]];
    return (
      (!se(t[0]) || t[0] < i) && (s[0] = i),
      (!se(t[1]) || t[1] > a) && (s[1] = a),
      s[0] > a && (s[0] = a),
      s[1] < i && (s[1] = i),
      s
    );
  },
  xT = function (t) {
    var n = t.length;
    if (!(n <= 0))
      for (var i = 0, a = t[0].length; i < a; ++i)
        for (var s = 0, o = 0, l = 0; l < n; ++l) {
          var d = Ta(t[l][i][1]) ? t[l][i][0] : t[l][i][1];
          d >= 0
            ? ((t[l][i][0] = s), (t[l][i][1] = s + d), (s = t[l][i][1]))
            : ((t[l][i][0] = o), (t[l][i][1] = o + d), (o = t[l][i][1]));
        }
  },
  mT = function (t) {
    var n = t.length;
    if (!(n <= 0))
      for (var i = 0, a = t[0].length; i < a; ++i)
        for (var s = 0, o = 0; o < n; ++o) {
          var l = Ta(t[o][i][1]) ? t[o][i][0] : t[o][i][1];
          l >= 0 ? ((t[o][i][0] = s), (t[o][i][1] = s + l), (s = t[o][i][1])) : ((t[o][i][0] = 0), (t[o][i][1] = 0));
        }
  },
  vT = { sign: xT, expand: oy, none: ly, silhouette: cy, wiggle: dy, positive: mT },
  yT = function (t, n, i) {
    var a = n.map(function (l) {
        return l.props.dataKey;
      }),
      s = vT[i],
      o = ay()
        .keys(a)
        .value(function (l, d) {
          return +rr(l, d, 0);
        })
        .order(sy)
        .offset(s);
    return o(t);
  },
  jT = function (t, n, i, a, s, o) {
    if (!t) return null;
    var l = o ? n.reverse() : n,
      d = {},
      c = l.reduce(function (h, p) {
        var g,
          m =
            (g = p.type) !== null && g !== void 0 && g.defaultProps
              ? pt(pt({}, p.type.defaultProps), p.props)
              : p.props,
          v = m.stackId,
          x = m.hide;
        if (x) return h;
        var j = m[i],
          b = h[j] || { hasStack: !1, stackGroups: {} };
        if (kt(v)) {
          var _ = b.stackGroups[v] || { numericAxisId: i, cateAxisId: a, items: [] };
          _.items.push(p), (b.hasStack = !0), (b.stackGroups[v] = _);
        } else b.stackGroups[$a("_stackId_")] = { numericAxisId: i, cateAxisId: a, items: [p] };
        return pt(pt({}, h), {}, Yn({}, j, b));
      }, d),
      u = {};
    return Object.keys(c).reduce(function (h, p) {
      var g = c[p];
      if (g.hasStack) {
        var m = {};
        g.stackGroups = Object.keys(g.stackGroups).reduce(function (v, x) {
          var j = g.stackGroups[x];
          return pt(
            pt({}, v),
            {},
            Yn({}, x, { numericAxisId: i, cateAxisId: a, items: j.items, stackedData: yT(t, j.items, s) }),
          );
        }, m);
      }
      return pt(pt({}, h), {}, Yn({}, p, g));
    }, u);
  },
  bT = function (t, n) {
    var i = n.realScaleType,
      a = n.type,
      s = n.tickCount,
      o = n.originalDomain,
      l = n.allowDecimals,
      d = i || n.scale;
    if (d !== "auto" && d !== "linear") return null;
    if (s && a === "number" && o && (o[0] === "auto" || o[1] === "auto")) {
      var c = t.domain();
      if (!c.length) return null;
      var u = II(c, s, l);
      return t.domain([uo(u), co(u)]), { niceTicks: u };
    }
    if (s && a === "number") {
      var h = t.domain(),
        p = TI(h, s, l);
      return { niceTicks: p };
    }
    return null;
  };
function sh(e) {
  var t = e.axis,
    n = e.ticks,
    i = e.bandSize,
    a = e.entry,
    s = e.index,
    o = e.dataKey;
  if (t.type === "category") {
    if (!t.allowDuplicatedCategory && t.dataKey && !ze(a[t.dataKey])) {
      var l = ss(n, "value", a[t.dataKey]);
      if (l) return l.coordinate + i / 2;
    }
    return n[s] ? n[s].coordinate + i / 2 : null;
  }
  var d = rr(a, ze(o) ? t.dataKey : o);
  return ze(d) ? null : t.scale(d);
}
var oh = function (t) {
    var n = t.axis,
      i = t.ticks,
      a = t.offset,
      s = t.bandSize,
      o = t.entry,
      l = t.index;
    if (n.type === "category") return i[l] ? i[l].coordinate + a : null;
    var d = rr(o, n.dataKey, n.domain[l]);
    return ze(d) ? null : n.scale(d) - s / 2 + a;
  },
  _T = function (t) {
    var n = t.numericAxis,
      i = n.scale.domain();
    if (n.type === "number") {
      var a = Math.min(i[0], i[1]),
        s = Math.max(i[0], i[1]);
      return a <= 0 && s >= 0 ? 0 : s < 0 ? s : a;
    }
    return i[0];
  },
  wT = function (t, n) {
    var i,
      a = (i = t.type) !== null && i !== void 0 && i.defaultProps ? pt(pt({}, t.type.defaultProps), t.props) : t.props,
      s = a.stackId;
    if (kt(s)) {
      var o = n[s];
      if (o) {
        var l = o.items.indexOf(t);
        return l >= 0 ? o.stackedData[l] : null;
      }
    }
    return null;
  },
  ST = function (t) {
    return t.reduce(
      function (n, i) {
        return [uo(i.concat([n[0]]).filter(se)), co(i.concat([n[1]]).filter(se))];
      },
      [1 / 0, -1 / 0],
    );
  },
  $g = function (t, n, i) {
    return Object.keys(t)
      .reduce(
        function (a, s) {
          var o = t[s],
            l = o.stackedData,
            d = l.reduce(
              function (c, u) {
                var h = ST(u.slice(n, i + 1));
                return [Math.min(c[0], h[0]), Math.max(c[1], h[1])];
              },
              [1 / 0, -1 / 0],
            );
          return [Math.min(d[0], a[0]), Math.max(d[1], a[1])];
        },
        [1 / 0, -1 / 0],
      )
      .map(function (a) {
        return a === 1 / 0 || a === -1 / 0 ? 0 : a;
      });
  },
  lh = /^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,
  ch = /^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,
  Ul = function (t, n, i) {
    if (Te(t)) return t(n, i);
    if (!Array.isArray(t)) return n;
    var a = [];
    if (se(t[0])) a[0] = i ? t[0] : Math.min(t[0], n[0]);
    else if (lh.test(t[0])) {
      var s = +lh.exec(t[0])[1];
      a[0] = n[0] - s;
    } else Te(t[0]) ? (a[0] = t[0](n[0])) : (a[0] = n[0]);
    if (se(t[1])) a[1] = i ? t[1] : Math.max(t[1], n[1]);
    else if (ch.test(t[1])) {
      var o = +ch.exec(t[1])[1];
      a[1] = n[1] + o;
    } else Te(t[1]) ? (a[1] = t[1](n[1])) : (a[1] = n[1]);
    return a;
  },
  bs = function (t, n, i) {
    if (t && t.scale && t.scale.bandwidth) {
      var a = t.scale.bandwidth();
      if (!i || a > 0) return a;
    }
    if (t && n && n.length >= 2) {
      for (
        var s = Xc(n, function (h) {
            return h.coordinate;
          }),
          o = 1 / 0,
          l = 1,
          d = s.length;
        l < d;
        l++
      ) {
        var c = s[l],
          u = s[l - 1];
        o = Math.min((c.coordinate || 0) - (u.coordinate || 0), o);
      }
      return o === 1 / 0 ? 0 : o;
    }
    return i ? void 0 : 0;
  },
  dh = function (t, n, i) {
    return !t || !t.length || ho(t, ir(i, "type.defaultProps.domain")) ? n : t;
  },
  Wg = function (t, n) {
    var i = t.type.defaultProps ? pt(pt({}, t.type.defaultProps), t.props) : t.props,
      a = i.dataKey,
      s = i.name,
      o = i.unit,
      l = i.formatter,
      d = i.tooltipType,
      c = i.chartType,
      u = i.hide;
    return pt(
      pt({}, Re(t, !1)),
      {},
      {
        dataKey: a,
        unit: o,
        formatter: l,
        name: s || a,
        color: Zc(t),
        value: rr(n, a),
        type: d,
        payload: n,
        chartType: c,
        hide: u,
      },
    );
  };
function ra(e) {
  "@babel/helpers - typeof";
  return (
    (ra =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ra(e)
  );
}
function uh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function hh(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? uh(Object(n), !0).forEach(function (i) {
          CT(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : uh(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function CT(e, t, n) {
  return (
    (t = PT(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function PT(e) {
  var t = OT(e, "string");
  return ra(t) == "symbol" ? t : t + "";
}
function OT(e, t) {
  if (ra(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (ra(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var _s = Math.PI / 180,
  kT = function (t) {
    return (t * 180) / Math.PI;
  },
  Tt = function (t, n, i, a) {
    return { x: t + Math.cos(-_s * a) * i, y: n + Math.sin(-_s * a) * i };
  },
  AT = function (t, n) {
    var i = t.x,
      a = t.y,
      s = n.x,
      o = n.y;
    return Math.sqrt(Math.pow(i - s, 2) + Math.pow(a - o, 2));
  },
  DT = function (t, n) {
    var i = t.x,
      a = t.y,
      s = n.cx,
      o = n.cy,
      l = AT({ x: i, y: a }, { x: s, y: o });
    if (l <= 0) return { radius: l };
    var d = (i - s) / l,
      c = Math.acos(d);
    return a > o && (c = 2 * Math.PI - c), { radius: l, angle: kT(c), angleInRadian: c };
  },
  ET = function (t) {
    var n = t.startAngle,
      i = t.endAngle,
      a = Math.floor(n / 360),
      s = Math.floor(i / 360),
      o = Math.min(a, s);
    return { startAngle: n - o * 360, endAngle: i - o * 360 };
  },
  IT = function (t, n) {
    var i = n.startAngle,
      a = n.endAngle,
      s = Math.floor(i / 360),
      o = Math.floor(a / 360),
      l = Math.min(s, o);
    return t + l * 360;
  },
  ph = function (t, n) {
    var i = t.x,
      a = t.y,
      s = DT({ x: i, y: a }, n),
      o = s.radius,
      l = s.angle,
      d = n.innerRadius,
      c = n.outerRadius;
    if (o < d || o > c) return !1;
    if (o === 0) return !0;
    var u = ET(n),
      h = u.startAngle,
      p = u.endAngle,
      g = l,
      m;
    if (h <= p) {
      for (; g > p; ) g -= 360;
      for (; g < h; ) g += 360;
      m = g >= h && g <= p;
    } else {
      for (; g > h; ) g -= 360;
      for (; g < p; ) g += 360;
      m = g >= p && g <= h;
    }
    return m ? hh(hh({}, n), {}, { radius: o, angle: IT(g, n) }) : null;
  };
function na(e) {
  "@babel/helpers - typeof";
  return (
    (na =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    na(e)
  );
}
var TT = ["offset"];
function $T(e) {
  return zT(e) || NT(e) || MT(e) || WT();
}
function WT() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function MT(e, t) {
  if (e) {
    if (typeof e == "string") return Kl(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if ((n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")) return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Kl(e, t);
  }
}
function NT(e) {
  if ((typeof Symbol < "u" && e[Symbol.iterator] != null) || e["@@iterator"] != null) return Array.from(e);
}
function zT(e) {
  if (Array.isArray(e)) return Kl(e);
}
function Kl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
  return i;
}
function LT(e, t) {
  if (e == null) return {};
  var n = BT(e, t),
    i,
    a;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (a = 0; a < s.length; a++)
      (i = s[a]), !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i]);
  }
  return n;
}
function BT(e, t) {
  if (e == null) return {};
  var n = {};
  for (var i in e)
    if (Object.prototype.hasOwnProperty.call(e, i)) {
      if (t.indexOf(i) >= 0) continue;
      n[i] = e[i];
    }
  return n;
}
function fh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Ct(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? fh(Object(n), !0).forEach(function (i) {
          RT(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : fh(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function RT(e, t, n) {
  return (
    (t = FT(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function FT(e) {
  var t = VT(e, "string");
  return na(t) == "symbol" ? t : t + "";
}
function VT(e, t) {
  if (na(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (na(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function ia() {
  return (
    (ia = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    ia.apply(this, arguments)
  );
}
var qT = function (t) {
    var n = t.value,
      i = t.formatter,
      a = ze(t.children) ? n : t.children;
    return Te(i) ? i(a) : a;
  },
  UT = function (t, n) {
    var i = jr(n - t),
      a = Math.min(Math.abs(n - t), 360);
    return i * a;
  },
  KT = function (t, n, i) {
    var a = t.position,
      s = t.viewBox,
      o = t.offset,
      l = t.className,
      d = s,
      c = d.cx,
      u = d.cy,
      h = d.innerRadius,
      p = d.outerRadius,
      g = d.startAngle,
      m = d.endAngle,
      v = d.clockWise,
      x = (h + p) / 2,
      j = UT(g, m),
      b = j >= 0 ? 1 : -1,
      _,
      S;
    a === "insideStart"
      ? ((_ = g + b * o), (S = v))
      : a === "insideEnd"
        ? ((_ = m - b * o), (S = !v))
        : a === "end" && ((_ = m + b * o), (S = v)),
      (S = j <= 0 ? S : !S);
    var y = Tt(c, u, x, _),
      w = Tt(c, u, x, _ + (S ? 1 : -1) * 359),
      C = "M"
        .concat(y.x, ",")
        .concat(
          y.y,
          `
    A`,
        )
        .concat(x, ",")
        .concat(x, ",0,1,")
        .concat(
          S ? 0 : 1,
          `,
    `,
        )
        .concat(w.x, ",")
        .concat(w.y),
      O = ze(t.id) ? $a("recharts-radial-line-") : t.id;
    return N.createElement(
      "text",
      ia({}, i, { dominantBaseline: "central", className: Me("recharts-radial-bar-label", l) }),
      N.createElement("defs", null, N.createElement("path", { id: O, d: C })),
      N.createElement("textPath", { xlinkHref: "#".concat(O) }, n),
    );
  },
  HT = function (t) {
    var n = t.viewBox,
      i = t.offset,
      a = t.position,
      s = n,
      o = s.cx,
      l = s.cy,
      d = s.innerRadius,
      c = s.outerRadius,
      u = s.startAngle,
      h = s.endAngle,
      p = (u + h) / 2;
    if (a === "outside") {
      var g = Tt(o, l, c + i, p),
        m = g.x,
        v = g.y;
      return { x: m, y: v, textAnchor: m >= o ? "start" : "end", verticalAnchor: "middle" };
    }
    if (a === "center") return { x: o, y: l, textAnchor: "middle", verticalAnchor: "middle" };
    if (a === "centerTop") return { x: o, y: l, textAnchor: "middle", verticalAnchor: "start" };
    if (a === "centerBottom") return { x: o, y: l, textAnchor: "middle", verticalAnchor: "end" };
    var x = (d + c) / 2,
      j = Tt(o, l, x, p),
      b = j.x,
      _ = j.y;
    return { x: b, y: _, textAnchor: "middle", verticalAnchor: "middle" };
  },
  GT = function (t) {
    var n = t.viewBox,
      i = t.parentViewBox,
      a = t.offset,
      s = t.position,
      o = n,
      l = o.x,
      d = o.y,
      c = o.width,
      u = o.height,
      h = u >= 0 ? 1 : -1,
      p = h * a,
      g = h > 0 ? "end" : "start",
      m = h > 0 ? "start" : "end",
      v = c >= 0 ? 1 : -1,
      x = v * a,
      j = v > 0 ? "end" : "start",
      b = v > 0 ? "start" : "end";
    if (s === "top") {
      var _ = { x: l + c / 2, y: d - h * a, textAnchor: "middle", verticalAnchor: g };
      return Ct(Ct({}, _), i ? { height: Math.max(d - i.y, 0), width: c } : {});
    }
    if (s === "bottom") {
      var S = { x: l + c / 2, y: d + u + p, textAnchor: "middle", verticalAnchor: m };
      return Ct(Ct({}, S), i ? { height: Math.max(i.y + i.height - (d + u), 0), width: c } : {});
    }
    if (s === "left") {
      var y = { x: l - x, y: d + u / 2, textAnchor: j, verticalAnchor: "middle" };
      return Ct(Ct({}, y), i ? { width: Math.max(y.x - i.x, 0), height: u } : {});
    }
    if (s === "right") {
      var w = { x: l + c + x, y: d + u / 2, textAnchor: b, verticalAnchor: "middle" };
      return Ct(Ct({}, w), i ? { width: Math.max(i.x + i.width - w.x, 0), height: u } : {});
    }
    var C = i ? { width: c, height: u } : {};
    return s === "insideLeft"
      ? Ct({ x: l + x, y: d + u / 2, textAnchor: b, verticalAnchor: "middle" }, C)
      : s === "insideRight"
        ? Ct({ x: l + c - x, y: d + u / 2, textAnchor: j, verticalAnchor: "middle" }, C)
        : s === "insideTop"
          ? Ct({ x: l + c / 2, y: d + p, textAnchor: "middle", verticalAnchor: m }, C)
          : s === "insideBottom"
            ? Ct({ x: l + c / 2, y: d + u - p, textAnchor: "middle", verticalAnchor: g }, C)
            : s === "insideTopLeft"
              ? Ct({ x: l + x, y: d + p, textAnchor: b, verticalAnchor: m }, C)
              : s === "insideTopRight"
                ? Ct({ x: l + c - x, y: d + p, textAnchor: j, verticalAnchor: m }, C)
                : s === "insideBottomLeft"
                  ? Ct({ x: l + x, y: d + u - p, textAnchor: b, verticalAnchor: g }, C)
                  : s === "insideBottomRight"
                    ? Ct({ x: l + c - x, y: d + u - p, textAnchor: j, verticalAnchor: g }, C)
                    : mi(s) && (se(s.x) || xn(s.x)) && (se(s.y) || xn(s.y))
                      ? Ct({ x: l + Dn(s.x, c), y: d + Dn(s.y, u), textAnchor: "end", verticalAnchor: "end" }, C)
                      : Ct({ x: l + c / 2, y: d + u / 2, textAnchor: "middle", verticalAnchor: "middle" }, C);
  },
  XT = function (t) {
    return "cx" in t && se(t.cx);
  };
function Mt(e) {
  var t = e.offset,
    n = t === void 0 ? 5 : t,
    i = LT(e, TT),
    a = Ct({ offset: n }, i),
    s = a.viewBox,
    o = a.position,
    l = a.value,
    d = a.children,
    c = a.content,
    u = a.className,
    h = u === void 0 ? "" : u,
    p = a.textBreakAll;
  if (!s || (ze(l) && ze(d) && !f.isValidElement(c) && !Te(c))) return null;
  if (f.isValidElement(c)) return f.cloneElement(c, a);
  var g;
  if (Te(c)) {
    if (((g = f.createElement(c, a)), f.isValidElement(g))) return g;
  } else g = qT(a);
  var m = XT(s),
    v = Re(a, !0);
  if (m && (o === "insideStart" || o === "insideEnd" || o === "end")) return KT(a, g, v);
  var x = m ? HT(a) : GT(a);
  return N.createElement(ms, ia({ className: Me("recharts-label", h) }, v, x, { breakAll: p }), g);
}
Mt.displayName = "Label";
var Mg = function (t) {
    var n = t.cx,
      i = t.cy,
      a = t.angle,
      s = t.startAngle,
      o = t.endAngle,
      l = t.r,
      d = t.radius,
      c = t.innerRadius,
      u = t.outerRadius,
      h = t.x,
      p = t.y,
      g = t.top,
      m = t.left,
      v = t.width,
      x = t.height,
      j = t.clockWise,
      b = t.labelViewBox;
    if (b) return b;
    if (se(v) && se(x)) {
      if (se(h) && se(p)) return { x: h, y: p, width: v, height: x };
      if (se(g) && se(m)) return { x: g, y: m, width: v, height: x };
    }
    return se(h) && se(p)
      ? { x: h, y: p, width: 0, height: 0 }
      : se(n) && se(i)
        ? {
            cx: n,
            cy: i,
            startAngle: s || a || 0,
            endAngle: o || a || 0,
            innerRadius: c || 0,
            outerRadius: u || d || l || 0,
            clockWise: j,
          }
        : t.viewBox
          ? t.viewBox
          : {};
  },
  YT = function (t, n) {
    return t
      ? t === !0
        ? N.createElement(Mt, { key: "label-implicit", viewBox: n })
        : kt(t)
          ? N.createElement(Mt, { key: "label-implicit", viewBox: n, value: t })
          : f.isValidElement(t)
            ? t.type === Mt
              ? f.cloneElement(t, { key: "label-implicit", viewBox: n })
              : N.createElement(Mt, { key: "label-implicit", content: t, viewBox: n })
            : Te(t)
              ? N.createElement(Mt, { key: "label-implicit", content: t, viewBox: n })
              : mi(t)
                ? N.createElement(Mt, ia({ viewBox: n }, t, { key: "label-implicit" }))
                : null
      : null;
  },
  JT = function (t, n) {
    var i = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0;
    if (!t || (!t.children && i && !t.label)) return null;
    var a = t.children,
      s = Mg(t),
      o = ar(a, Mt).map(function (d, c) {
        return f.cloneElement(d, { viewBox: n || s, key: "label-".concat(c) });
      });
    if (!i) return o;
    var l = YT(t.label, n || s);
    return [l].concat($T(o));
  };
Mt.parseViewBox = Mg;
Mt.renderCallByParent = JT;
function QT(e) {
  var t = e == null ? 0 : e.length;
  return t ? e[t - 1] : void 0;
}
var ZT = QT;
const e7 = ht(ZT);
function aa(e) {
  "@babel/helpers - typeof";
  return (
    (aa =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    aa(e)
  );
}
var t7 = ["valueAccessor"],
  r7 = ["data", "dataKey", "clockWise", "id", "textBreakAll"];
function n7(e) {
  return o7(e) || s7(e) || a7(e) || i7();
}
function i7() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function a7(e, t) {
  if (e) {
    if (typeof e == "string") return Hl(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if ((n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")) return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Hl(e, t);
  }
}
function s7(e) {
  if ((typeof Symbol < "u" && e[Symbol.iterator] != null) || e["@@iterator"] != null) return Array.from(e);
}
function o7(e) {
  if (Array.isArray(e)) return Hl(e);
}
function Hl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
  return i;
}
function ws() {
  return (
    (ws = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    ws.apply(this, arguments)
  );
}
function gh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function xh(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? gh(Object(n), !0).forEach(function (i) {
          l7(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : gh(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function l7(e, t, n) {
  return (
    (t = c7(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function c7(e) {
  var t = d7(e, "string");
  return aa(t) == "symbol" ? t : t + "";
}
function d7(e, t) {
  if (aa(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (aa(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function mh(e, t) {
  if (e == null) return {};
  var n = u7(e, t),
    i,
    a;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (a = 0; a < s.length; a++)
      (i = s[a]), !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i]);
  }
  return n;
}
function u7(e, t) {
  if (e == null) return {};
  var n = {};
  for (var i in e)
    if (Object.prototype.hasOwnProperty.call(e, i)) {
      if (t.indexOf(i) >= 0) continue;
      n[i] = e[i];
    }
  return n;
}
var h7 = function (t) {
  return Array.isArray(t.value) ? e7(t.value) : t.value;
};
function Xr(e) {
  var t = e.valueAccessor,
    n = t === void 0 ? h7 : t,
    i = mh(e, t7),
    a = i.data,
    s = i.dataKey,
    o = i.clockWise,
    l = i.id,
    d = i.textBreakAll,
    c = mh(i, r7);
  return !a || !a.length
    ? null
    : N.createElement(
        mt,
        { className: "recharts-label-list" },
        a.map(function (u, h) {
          var p = ze(s) ? n(u, h) : rr(u && u.payload, s),
            g = ze(l) ? {} : { id: "".concat(l, "-").concat(h) };
          return N.createElement(
            Mt,
            ws({}, Re(u, !0), c, g, {
              parentViewBox: u.parentViewBox,
              value: p,
              textBreakAll: d,
              viewBox: Mt.parseViewBox(ze(o) ? u : xh(xh({}, u), {}, { clockWise: o })),
              key: "label-".concat(h),
              index: h,
            }),
          );
        }),
      );
}
Xr.displayName = "LabelList";
function p7(e, t) {
  return e
    ? e === !0
      ? N.createElement(Xr, { key: "labelList-implicit", data: t })
      : N.isValidElement(e) || Te(e)
        ? N.createElement(Xr, { key: "labelList-implicit", data: t, content: e })
        : mi(e)
          ? N.createElement(Xr, ws({ data: t }, e, { key: "labelList-implicit" }))
          : null
    : null;
}
function f7(e, t) {
  var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0;
  if (!e || (!e.children && n && !e.label)) return null;
  var i = e.children,
    a = ar(i, Xr).map(function (o, l) {
      return f.cloneElement(o, { data: t, key: "labelList-".concat(l) });
    });
  if (!n) return a;
  var s = p7(e.label, t);
  return [s].concat(n7(a));
}
Xr.renderCallByParent = f7;
function sa(e) {
  "@babel/helpers - typeof";
  return (
    (sa =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    sa(e)
  );
}
function Gl() {
  return (
    (Gl = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    Gl.apply(this, arguments)
  );
}
function vh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function yh(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? vh(Object(n), !0).forEach(function (i) {
          g7(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : vh(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function g7(e, t, n) {
  return (
    (t = x7(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function x7(e) {
  var t = m7(e, "string");
  return sa(t) == "symbol" ? t : t + "";
}
function m7(e, t) {
  if (sa(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (sa(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var v7 = function (t, n) {
    var i = jr(n - t),
      a = Math.min(Math.abs(n - t), 359.999);
    return i * a;
  },
  Ga = function (t) {
    var n = t.cx,
      i = t.cy,
      a = t.radius,
      s = t.angle,
      o = t.sign,
      l = t.isExternal,
      d = t.cornerRadius,
      c = t.cornerIsExternal,
      u = d * (l ? 1 : -1) + a,
      h = Math.asin(d / u) / _s,
      p = c ? s : s + o * h,
      g = Tt(n, i, u, p),
      m = Tt(n, i, a, p),
      v = c ? s - o * h : s,
      x = Tt(n, i, u * Math.cos(h * _s), v);
    return { center: g, circleTangency: m, lineTangency: x, theta: h };
  },
  Ng = function (t) {
    var n = t.cx,
      i = t.cy,
      a = t.innerRadius,
      s = t.outerRadius,
      o = t.startAngle,
      l = t.endAngle,
      d = v7(o, l),
      c = o + d,
      u = Tt(n, i, s, o),
      h = Tt(n, i, s, c),
      p = "M "
        .concat(u.x, ",")
        .concat(
          u.y,
          `
    A `,
        )
        .concat(s, ",")
        .concat(
          s,
          `,0,
    `,
        )
        .concat(+(Math.abs(d) > 180), ",")
        .concat(
          +(o > c),
          `,
    `,
        )
        .concat(h.x, ",")
        .concat(
          h.y,
          `
  `,
        );
    if (a > 0) {
      var g = Tt(n, i, a, o),
        m = Tt(n, i, a, c);
      p += "L "
        .concat(m.x, ",")
        .concat(
          m.y,
          `
            A `,
        )
        .concat(a, ",")
        .concat(
          a,
          `,0,
            `,
        )
        .concat(+(Math.abs(d) > 180), ",")
        .concat(
          +(o <= c),
          `,
            `,
        )
        .concat(g.x, ",")
        .concat(g.y, " Z");
    } else p += "L ".concat(n, ",").concat(i, " Z");
    return p;
  },
  y7 = function (t) {
    var n = t.cx,
      i = t.cy,
      a = t.innerRadius,
      s = t.outerRadius,
      o = t.cornerRadius,
      l = t.forceCornerRadius,
      d = t.cornerIsExternal,
      c = t.startAngle,
      u = t.endAngle,
      h = jr(u - c),
      p = Ga({ cx: n, cy: i, radius: s, angle: c, sign: h, cornerRadius: o, cornerIsExternal: d }),
      g = p.circleTangency,
      m = p.lineTangency,
      v = p.theta,
      x = Ga({ cx: n, cy: i, radius: s, angle: u, sign: -h, cornerRadius: o, cornerIsExternal: d }),
      j = x.circleTangency,
      b = x.lineTangency,
      _ = x.theta,
      S = d ? Math.abs(c - u) : Math.abs(c - u) - v - _;
    if (S < 0)
      return l
        ? "M "
            .concat(m.x, ",")
            .concat(
              m.y,
              `
        a`,
            )
            .concat(o, ",")
            .concat(o, ",0,0,1,")
            .concat(
              o * 2,
              `,0
        a`,
            )
            .concat(o, ",")
            .concat(o, ",0,0,1,")
            .concat(
              -o * 2,
              `,0
      `,
            )
        : Ng({ cx: n, cy: i, innerRadius: a, outerRadius: s, startAngle: c, endAngle: u });
    var y = "M "
      .concat(m.x, ",")
      .concat(
        m.y,
        `
    A`,
      )
      .concat(o, ",")
      .concat(o, ",0,0,")
      .concat(+(h < 0), ",")
      .concat(g.x, ",")
      .concat(
        g.y,
        `
    A`,
      )
      .concat(s, ",")
      .concat(s, ",0,")
      .concat(+(S > 180), ",")
      .concat(+(h < 0), ",")
      .concat(j.x, ",")
      .concat(
        j.y,
        `
    A`,
      )
      .concat(o, ",")
      .concat(o, ",0,0,")
      .concat(+(h < 0), ",")
      .concat(b.x, ",")
      .concat(
        b.y,
        `
  `,
      );
    if (a > 0) {
      var w = Ga({ cx: n, cy: i, radius: a, angle: c, sign: h, isExternal: !0, cornerRadius: o, cornerIsExternal: d }),
        C = w.circleTangency,
        O = w.lineTangency,
        k = w.theta,
        D = Ga({ cx: n, cy: i, radius: a, angle: u, sign: -h, isExternal: !0, cornerRadius: o, cornerIsExternal: d }),
        E = D.circleTangency,
        I = D.lineTangency,
        z = D.theta,
        R = d ? Math.abs(c - u) : Math.abs(c - u) - k - z;
      if (R < 0 && o === 0) return "".concat(y, "L").concat(n, ",").concat(i, "Z");
      y += "L"
        .concat(I.x, ",")
        .concat(
          I.y,
          `
      A`,
        )
        .concat(o, ",")
        .concat(o, ",0,0,")
        .concat(+(h < 0), ",")
        .concat(E.x, ",")
        .concat(
          E.y,
          `
      A`,
        )
        .concat(a, ",")
        .concat(a, ",0,")
        .concat(+(R > 180), ",")
        .concat(+(h > 0), ",")
        .concat(C.x, ",")
        .concat(
          C.y,
          `
      A`,
        )
        .concat(o, ",")
        .concat(o, ",0,0,")
        .concat(+(h < 0), ",")
        .concat(O.x, ",")
        .concat(O.y, "Z");
    } else y += "L".concat(n, ",").concat(i, "Z");
    return y;
  },
  j7 = {
    cx: 0,
    cy: 0,
    innerRadius: 0,
    outerRadius: 0,
    startAngle: 0,
    endAngle: 0,
    cornerRadius: 0,
    forceCornerRadius: !1,
    cornerIsExternal: !1,
  },
  zg = function (t) {
    var n = yh(yh({}, j7), t),
      i = n.cx,
      a = n.cy,
      s = n.innerRadius,
      o = n.outerRadius,
      l = n.cornerRadius,
      d = n.forceCornerRadius,
      c = n.cornerIsExternal,
      u = n.startAngle,
      h = n.endAngle,
      p = n.className;
    if (o < s || u === h) return null;
    var g = Me("recharts-sector", p),
      m = o - s,
      v = Dn(l, m, 0, !0),
      x;
    return (
      v > 0 && Math.abs(u - h) < 360
        ? (x = y7({
            cx: i,
            cy: a,
            innerRadius: s,
            outerRadius: o,
            cornerRadius: Math.min(v, m / 2),
            forceCornerRadius: d,
            cornerIsExternal: c,
            startAngle: u,
            endAngle: h,
          }))
        : (x = Ng({ cx: i, cy: a, innerRadius: s, outerRadius: o, startAngle: u, endAngle: h })),
      N.createElement("path", Gl({}, Re(n, !0), { className: g, d: x, role: "img" }))
    );
  };
function oa(e) {
  "@babel/helpers - typeof";
  return (
    (oa =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    oa(e)
  );
}
function Xl() {
  return (
    (Xl = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    Xl.apply(this, arguments)
  );
}
function jh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function bh(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? jh(Object(n), !0).forEach(function (i) {
          b7(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : jh(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function b7(e, t, n) {
  return (
    (t = _7(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function _7(e) {
  var t = w7(e, "string");
  return oa(t) == "symbol" ? t : t + "";
}
function w7(e, t) {
  if (oa(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (oa(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var _h = {
    curveBasisClosed: hy,
    curveBasisOpen: py,
    curveBasis: fy,
    curveBumpX: gy,
    curveBumpY: xy,
    curveLinearClosed: my,
    curveLinear: af,
    curveMonotoneX: vy,
    curveMonotoneY: yy,
    curveNatural: jy,
    curveStep: by,
    curveStepAfter: _y,
    curveStepBefore: wy,
  },
  Xa = function (t) {
    return t.x === +t.x && t.y === +t.y;
  },
  Wi = function (t) {
    return t.x;
  },
  Mi = function (t) {
    return t.y;
  },
  S7 = function (t, n) {
    if (Te(t)) return t;
    var i = "curve".concat(ao(t));
    return (i === "curveMonotone" || i === "curveBump") && n
      ? _h["".concat(i).concat(n === "vertical" ? "Y" : "X")]
      : _h[i] || af;
  },
  C7 = function (t) {
    var n = t.type,
      i = n === void 0 ? "linear" : n,
      a = t.points,
      s = a === void 0 ? [] : a,
      o = t.baseLine,
      l = t.layout,
      d = t.connectNulls,
      c = d === void 0 ? !1 : d,
      u = S7(i, l),
      h = c
        ? s.filter(function (v) {
            return Xa(v);
          })
        : s,
      p;
    if (Array.isArray(o)) {
      var g = c
          ? o.filter(function (v) {
              return Xa(v);
            })
          : o,
        m = h.map(function (v, x) {
          return bh(bh({}, v), {}, { base: g[x] });
        });
      return (
        l === "vertical"
          ? (p = Fa()
              .y(Mi)
              .x1(Wi)
              .x0(function (v) {
                return v.base.x;
              }))
          : (p = Fa()
              .x(Wi)
              .y1(Mi)
              .y0(function (v) {
                return v.base.y;
              })),
        p.defined(Xa).curve(u),
        p(m)
      );
    }
    return (
      l === "vertical" && se(o)
        ? (p = Fa().y(Mi).x1(Wi).x0(o))
        : se(o)
          ? (p = Fa().x(Wi).y1(Mi).y0(o))
          : (p = uy().x(Wi).y(Mi)),
      p.defined(Xa).curve(u),
      p(h)
    );
  },
  Yl = function (t) {
    var n = t.className,
      i = t.points,
      a = t.path,
      s = t.pathRef;
    if ((!i || !i.length) && !a) return null;
    var o = i && i.length ? C7(t) : a;
    return N.createElement("path", Xl({}, Re(t, !1), os(t), { className: Me("recharts-curve", n), d: o, ref: s }));
  };
function la(e) {
  "@babel/helpers - typeof";
  return (
    (la =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    la(e)
  );
}
function Ss() {
  return (
    (Ss = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    Ss.apply(this, arguments)
  );
}
function P7(e, t) {
  return D7(e) || A7(e, t) || k7(e, t) || O7();
}
function O7() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function k7(e, t) {
  if (e) {
    if (typeof e == "string") return wh(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if ((n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")) return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return wh(e, t);
  }
}
function wh(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
  return i;
}
function A7(e, t) {
  var n = e == null ? null : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (n != null) {
    var i,
      a,
      s,
      o,
      l = [],
      d = !0,
      c = !1;
    try {
      if (((s = (n = n.call(e)).next), t !== 0))
        for (; !(d = (i = s.call(n)).done) && (l.push(i.value), l.length !== t); d = !0);
    } catch (u) {
      (c = !0), (a = u);
    } finally {
      try {
        if (!d && n.return != null && ((o = n.return()), Object(o) !== o)) return;
      } finally {
        if (c) throw a;
      }
    }
    return l;
  }
}
function D7(e) {
  if (Array.isArray(e)) return e;
}
function Sh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Ch(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Sh(Object(n), !0).forEach(function (i) {
          E7(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Sh(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function E7(e, t, n) {
  return (
    (t = I7(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function I7(e) {
  var t = T7(e, "string");
  return la(t) == "symbol" ? t : t + "";
}
function T7(e, t) {
  if (la(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (la(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var Ph = function (t, n, i, a, s) {
    var o = Math.min(Math.abs(i) / 2, Math.abs(a) / 2),
      l = a >= 0 ? 1 : -1,
      d = i >= 0 ? 1 : -1,
      c = (a >= 0 && i >= 0) || (a < 0 && i < 0) ? 1 : 0,
      u;
    if (o > 0 && s instanceof Array) {
      for (var h = [0, 0, 0, 0], p = 0, g = 4; p < g; p++) h[p] = s[p] > o ? o : s[p];
      (u = "M".concat(t, ",").concat(n + l * h[0])),
        h[0] > 0 &&
          (u += "A "
            .concat(h[0], ",")
            .concat(h[0], ",0,0,")
            .concat(c, ",")
            .concat(t + d * h[0], ",")
            .concat(n)),
        (u += "L ".concat(t + i - d * h[1], ",").concat(n)),
        h[1] > 0 &&
          (u += "A "
            .concat(h[1], ",")
            .concat(h[1], ",0,0,")
            .concat(
              c,
              `,
        `,
            )
            .concat(t + i, ",")
            .concat(n + l * h[1])),
        (u += "L ".concat(t + i, ",").concat(n + a - l * h[2])),
        h[2] > 0 &&
          (u += "A "
            .concat(h[2], ",")
            .concat(h[2], ",0,0,")
            .concat(
              c,
              `,
        `,
            )
            .concat(t + i - d * h[2], ",")
            .concat(n + a)),
        (u += "L ".concat(t + d * h[3], ",").concat(n + a)),
        h[3] > 0 &&
          (u += "A "
            .concat(h[3], ",")
            .concat(h[3], ",0,0,")
            .concat(
              c,
              `,
        `,
            )
            .concat(t, ",")
            .concat(n + a - l * h[3])),
        (u += "Z");
    } else if (o > 0 && s === +s && s > 0) {
      var m = Math.min(o, s);
      u = "M "
        .concat(t, ",")
        .concat(
          n + l * m,
          `
            A `,
        )
        .concat(m, ",")
        .concat(m, ",0,0,")
        .concat(c, ",")
        .concat(t + d * m, ",")
        .concat(
          n,
          `
            L `,
        )
        .concat(t + i - d * m, ",")
        .concat(
          n,
          `
            A `,
        )
        .concat(m, ",")
        .concat(m, ",0,0,")
        .concat(c, ",")
        .concat(t + i, ",")
        .concat(
          n + l * m,
          `
            L `,
        )
        .concat(t + i, ",")
        .concat(
          n + a - l * m,
          `
            A `,
        )
        .concat(m, ",")
        .concat(m, ",0,0,")
        .concat(c, ",")
        .concat(t + i - d * m, ",")
        .concat(
          n + a,
          `
            L `,
        )
        .concat(t + d * m, ",")
        .concat(
          n + a,
          `
            A `,
        )
        .concat(m, ",")
        .concat(m, ",0,0,")
        .concat(c, ",")
        .concat(t, ",")
        .concat(n + a - l * m, " Z");
    } else u = "M ".concat(t, ",").concat(n, " h ").concat(i, " v ").concat(a, " h ").concat(-i, " Z");
    return u;
  },
  $7 = function (t, n) {
    if (!t || !n) return !1;
    var i = t.x,
      a = t.y,
      s = n.x,
      o = n.y,
      l = n.width,
      d = n.height;
    if (Math.abs(l) > 0 && Math.abs(d) > 0) {
      var c = Math.min(s, s + l),
        u = Math.max(s, s + l),
        h = Math.min(o, o + d),
        p = Math.max(o, o + d);
      return i >= c && i <= u && a >= h && a <= p;
    }
    return !1;
  },
  W7 = {
    x: 0,
    y: 0,
    width: 0,
    height: 0,
    radius: 0,
    isAnimationActive: !1,
    isUpdateAnimationActive: !1,
    animationBegin: 0,
    animationDuration: 1500,
    animationEasing: "ease",
  },
  ed = function (t) {
    var n = Ch(Ch({}, W7), t),
      i = f.useRef(),
      a = f.useState(-1),
      s = P7(a, 2),
      o = s[0],
      l = s[1];
    f.useEffect(function () {
      if (i.current && i.current.getTotalLength)
        try {
          var S = i.current.getTotalLength();
          S && l(S);
        } catch {}
    }, []);
    var d = n.x,
      c = n.y,
      u = n.width,
      h = n.height,
      p = n.radius,
      g = n.className,
      m = n.animationEasing,
      v = n.animationDuration,
      x = n.animationBegin,
      j = n.isAnimationActive,
      b = n.isUpdateAnimationActive;
    if (d !== +d || c !== +c || u !== +u || h !== +h || u === 0 || h === 0) return null;
    var _ = Me("recharts-rectangle", g);
    return b
      ? N.createElement(
          Jn,
          {
            canBegin: o > 0,
            from: { width: u, height: h, x: d, y: c },
            to: { width: u, height: h, x: d, y: c },
            duration: v,
            animationEasing: m,
            isActive: b,
          },
          function (S) {
            var y = S.width,
              w = S.height,
              C = S.x,
              O = S.y;
            return N.createElement(
              Jn,
              {
                canBegin: o > 0,
                from: "0px ".concat(o === -1 ? 1 : o, "px"),
                to: "".concat(o, "px 0px"),
                attributeName: "strokeDasharray",
                begin: x,
                duration: v,
                isActive: j,
                easing: m,
              },
              N.createElement("path", Ss({}, Re(n, !0), { className: _, d: Ph(C, O, y, w, p), ref: i })),
            );
          },
        )
      : N.createElement("path", Ss({}, Re(n, !0), { className: _, d: Ph(d, c, u, h, p) }));
  };
function Jl() {
  return (
    (Jl = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    Jl.apply(this, arguments)
  );
}
var td = function (t) {
  var n = t.cx,
    i = t.cy,
    a = t.r,
    s = t.className,
    o = Me("recharts-dot", s);
  return n === +n && i === +i && a === +a
    ? N.createElement("circle", Jl({}, Re(t, !1), os(t), { className: o, cx: n, cy: i, r: a }))
    : null;
};
function ca(e) {
  "@babel/helpers - typeof";
  return (
    (ca =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ca(e)
  );
}
var M7 = ["x", "y", "top", "left", "width", "height", "className"];
function Ql() {
  return (
    (Ql = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    Ql.apply(this, arguments)
  );
}
function Oh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function N7(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Oh(Object(n), !0).forEach(function (i) {
          z7(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Oh(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function z7(e, t, n) {
  return (
    (t = L7(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function L7(e) {
  var t = B7(e, "string");
  return ca(t) == "symbol" ? t : t + "";
}
function B7(e, t) {
  if (ca(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (ca(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function R7(e, t) {
  if (e == null) return {};
  var n = F7(e, t),
    i,
    a;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (a = 0; a < s.length; a++)
      (i = s[a]), !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i]);
  }
  return n;
}
function F7(e, t) {
  if (e == null) return {};
  var n = {};
  for (var i in e)
    if (Object.prototype.hasOwnProperty.call(e, i)) {
      if (t.indexOf(i) >= 0) continue;
      n[i] = e[i];
    }
  return n;
}
var V7 = function (t, n, i, a, s, o) {
    return "M".concat(t, ",").concat(s, "v").concat(a, "M").concat(o, ",").concat(n, "h").concat(i);
  },
  q7 = function (t) {
    var n = t.x,
      i = n === void 0 ? 0 : n,
      a = t.y,
      s = a === void 0 ? 0 : a,
      o = t.top,
      l = o === void 0 ? 0 : o,
      d = t.left,
      c = d === void 0 ? 0 : d,
      u = t.width,
      h = u === void 0 ? 0 : u,
      p = t.height,
      g = p === void 0 ? 0 : p,
      m = t.className,
      v = R7(t, M7),
      x = N7({ x: i, y: s, top: l, left: c, width: h, height: g }, v);
    return !se(i) || !se(s) || !se(h) || !se(g) || !se(l) || !se(c)
      ? null
      : N.createElement("path", Ql({}, Re(x, !0), { className: Me("recharts-cross", m), d: V7(i, s, h, g, l, c) }));
  },
  U7 = Vf,
  K7 = U7(Object.getPrototypeOf, Object),
  H7 = K7,
  G7 = Jr,
  X7 = H7,
  Y7 = Zr,
  J7 = "[object Object]",
  Q7 = Function.prototype,
  Z7 = Object.prototype,
  Lg = Q7.toString,
  e$ = Z7.hasOwnProperty,
  t$ = Lg.call(Object);
function r$(e) {
  if (!Y7(e) || G7(e) != J7) return !1;
  var t = X7(e);
  if (t === null) return !0;
  var n = e$.call(t, "constructor") && t.constructor;
  return typeof n == "function" && n instanceof n && Lg.call(n) == t$;
}
var n$ = r$;
const i$ = ht(n$);
var a$ = Jr,
  s$ = Zr,
  o$ = "[object Boolean]";
function l$(e) {
  return e === !0 || e === !1 || (s$(e) && a$(e) == o$);
}
var c$ = l$;
const d$ = ht(c$);
function da(e) {
  "@babel/helpers - typeof";
  return (
    (da =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    da(e)
  );
}
function Cs() {
  return (
    (Cs = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    Cs.apply(this, arguments)
  );
}
function u$(e, t) {
  return g$(e) || f$(e, t) || p$(e, t) || h$();
}
function h$() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function p$(e, t) {
  if (e) {
    if (typeof e == "string") return kh(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if ((n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")) return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return kh(e, t);
  }
}
function kh(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
  return i;
}
function f$(e, t) {
  var n = e == null ? null : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (n != null) {
    var i,
      a,
      s,
      o,
      l = [],
      d = !0,
      c = !1;
    try {
      if (((s = (n = n.call(e)).next), t !== 0))
        for (; !(d = (i = s.call(n)).done) && (l.push(i.value), l.length !== t); d = !0);
    } catch (u) {
      (c = !0), (a = u);
    } finally {
      try {
        if (!d && n.return != null && ((o = n.return()), Object(o) !== o)) return;
      } finally {
        if (c) throw a;
      }
    }
    return l;
  }
}
function g$(e) {
  if (Array.isArray(e)) return e;
}
function Ah(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Dh(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Ah(Object(n), !0).forEach(function (i) {
          x$(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Ah(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function x$(e, t, n) {
  return (
    (t = m$(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function m$(e) {
  var t = v$(e, "string");
  return da(t) == "symbol" ? t : t + "";
}
function v$(e, t) {
  if (da(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (da(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var Eh = function (t, n, i, a, s) {
    var o = i - a,
      l;
    return (
      (l = "M ".concat(t, ",").concat(n)),
      (l += "L ".concat(t + i, ",").concat(n)),
      (l += "L ".concat(t + i - o / 2, ",").concat(n + s)),
      (l += "L ".concat(t + i - o / 2 - a, ",").concat(n + s)),
      (l += "L ".concat(t, ",").concat(n, " Z")),
      l
    );
  },
  y$ = {
    x: 0,
    y: 0,
    upperWidth: 0,
    lowerWidth: 0,
    height: 0,
    isUpdateAnimationActive: !1,
    animationBegin: 0,
    animationDuration: 1500,
    animationEasing: "ease",
  },
  j$ = function (t) {
    var n = Dh(Dh({}, y$), t),
      i = f.useRef(),
      a = f.useState(-1),
      s = u$(a, 2),
      o = s[0],
      l = s[1];
    f.useEffect(function () {
      if (i.current && i.current.getTotalLength)
        try {
          var _ = i.current.getTotalLength();
          _ && l(_);
        } catch {}
    }, []);
    var d = n.x,
      c = n.y,
      u = n.upperWidth,
      h = n.lowerWidth,
      p = n.height,
      g = n.className,
      m = n.animationEasing,
      v = n.animationDuration,
      x = n.animationBegin,
      j = n.isUpdateAnimationActive;
    if (d !== +d || c !== +c || u !== +u || h !== +h || p !== +p || (u === 0 && h === 0) || p === 0) return null;
    var b = Me("recharts-trapezoid", g);
    return j
      ? N.createElement(
          Jn,
          {
            canBegin: o > 0,
            from: { upperWidth: 0, lowerWidth: 0, height: p, x: d, y: c },
            to: { upperWidth: u, lowerWidth: h, height: p, x: d, y: c },
            duration: v,
            animationEasing: m,
            isActive: j,
          },
          function (_) {
            var S = _.upperWidth,
              y = _.lowerWidth,
              w = _.height,
              C = _.x,
              O = _.y;
            return N.createElement(
              Jn,
              {
                canBegin: o > 0,
                from: "0px ".concat(o === -1 ? 1 : o, "px"),
                to: "".concat(o, "px 0px"),
                attributeName: "strokeDasharray",
                begin: x,
                duration: v,
                easing: m,
              },
              N.createElement("path", Cs({}, Re(n, !0), { className: b, d: Eh(C, O, S, y, w), ref: i })),
            );
          },
        )
      : N.createElement("g", null, N.createElement("path", Cs({}, Re(n, !0), { className: b, d: Eh(d, c, u, h, p) })));
  },
  b$ = ["option", "shapeType", "propTransformer", "activeClassName", "isActive"];
function ua(e) {
  "@babel/helpers - typeof";
  return (
    (ua =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ua(e)
  );
}
function _$(e, t) {
  if (e == null) return {};
  var n = w$(e, t),
    i,
    a;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (a = 0; a < s.length; a++)
      (i = s[a]), !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i]);
  }
  return n;
}
function w$(e, t) {
  if (e == null) return {};
  var n = {};
  for (var i in e)
    if (Object.prototype.hasOwnProperty.call(e, i)) {
      if (t.indexOf(i) >= 0) continue;
      n[i] = e[i];
    }
  return n;
}
function Ih(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Ps(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Ih(Object(n), !0).forEach(function (i) {
          S$(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Ih(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function S$(e, t, n) {
  return (
    (t = C$(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function C$(e) {
  var t = P$(e, "string");
  return ua(t) == "symbol" ? t : t + "";
}
function P$(e, t) {
  if (ua(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (ua(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function O$(e, t) {
  return Ps(Ps({}, t), e);
}
function k$(e, t) {
  return e === "symbols";
}
function Th(e) {
  var t = e.shapeType,
    n = e.elementProps;
  switch (t) {
    case "rectangle":
      return N.createElement(ed, n);
    case "trapezoid":
      return N.createElement(j$, n);
    case "sector":
      return N.createElement(zg, n);
    case "symbols":
      if (k$(t)) return N.createElement(Rc, n);
      break;
    default:
      return null;
  }
}
function A$(e) {
  return f.isValidElement(e) ? e.props : e;
}
function D$(e) {
  var t = e.option,
    n = e.shapeType,
    i = e.propTransformer,
    a = i === void 0 ? O$ : i,
    s = e.activeClassName,
    o = s === void 0 ? "recharts-active-shape" : s,
    l = e.isActive,
    d = _$(e, b$),
    c;
  if (f.isValidElement(t)) c = f.cloneElement(t, Ps(Ps({}, d), A$(t)));
  else if (Te(t)) c = t(d);
  else if (i$(t) && !d$(t)) {
    var u = a(t, d);
    c = N.createElement(Th, { shapeType: n, elementProps: u });
  } else {
    var h = d;
    c = N.createElement(Th, { shapeType: n, elementProps: h });
  }
  return l ? N.createElement(mt, { className: o }, c) : c;
}
function go(e, t) {
  return t != null && "trapezoids" in e.props;
}
function xo(e, t) {
  return t != null && "sectors" in e.props;
}
function ha(e, t) {
  return t != null && "points" in e.props;
}
function E$(e, t) {
  var n,
    i,
    a = e.x === (t == null || (n = t.labelViewBox) === null || n === void 0 ? void 0 : n.x) || e.x === t.x,
    s = e.y === (t == null || (i = t.labelViewBox) === null || i === void 0 ? void 0 : i.y) || e.y === t.y;
  return a && s;
}
function I$(e, t) {
  var n = e.endAngle === t.endAngle,
    i = e.startAngle === t.startAngle;
  return n && i;
}
function T$(e, t) {
  var n = e.x === t.x,
    i = e.y === t.y,
    a = e.z === t.z;
  return n && i && a;
}
function $$(e, t) {
  var n;
  return go(e, t) ? (n = E$) : xo(e, t) ? (n = I$) : ha(e, t) && (n = T$), n;
}
function W$(e, t) {
  var n;
  return go(e, t) ? (n = "trapezoids") : xo(e, t) ? (n = "sectors") : ha(e, t) && (n = "points"), n;
}
function M$(e, t) {
  if (go(e, t)) {
    var n;
    return (n = t.tooltipPayload) === null ||
      n === void 0 ||
      (n = n[0]) === null ||
      n === void 0 ||
      (n = n.payload) === null ||
      n === void 0
      ? void 0
      : n.payload;
  }
  if (xo(e, t)) {
    var i;
    return (i = t.tooltipPayload) === null ||
      i === void 0 ||
      (i = i[0]) === null ||
      i === void 0 ||
      (i = i.payload) === null ||
      i === void 0
      ? void 0
      : i.payload;
  }
  return ha(e, t) ? t.payload : {};
}
function N$(e) {
  var t = e.activeTooltipItem,
    n = e.graphicalItem,
    i = e.itemData,
    a = W$(n, t),
    s = M$(n, t),
    o = i.filter(function (d, c) {
      var u = ho(s, d),
        h = n.props[a].filter(function (m) {
          var v = $$(n, t);
          return v(m, t);
        }),
        p = n.props[a].indexOf(h[h.length - 1]),
        g = c === p;
      return u && g;
    }),
    l = i.indexOf(o[o.length - 1]);
  return l;
}
var z$ = Math.ceil,
  L$ = Math.max;
function B$(e, t, n, i) {
  for (var a = -1, s = L$(z$((t - e) / (n || 1)), 0), o = Array(s); s--; ) (o[i ? s : ++a] = e), (e += n);
  return o;
}
var R$ = B$,
  F$ = Lx,
  $h = 1 / 0,
  V$ = 17976931348623157e292;
function q$(e) {
  if (!e) return e === 0 ? e : 0;
  if (((e = F$(e)), e === $h || e === -$h)) {
    var t = e < 0 ? -1 : 1;
    return t * V$;
  }
  return e === e ? e : 0;
}
var Bg = q$,
  U$ = R$,
  K$ = lo,
  Yo = Bg;
function H$(e) {
  return function (t, n, i) {
    return (
      i && typeof i != "number" && K$(t, n, i) && (n = i = void 0),
      (t = Yo(t)),
      n === void 0 ? ((n = t), (t = 0)) : (n = Yo(n)),
      (i = i === void 0 ? (t < n ? 1 : -1) : Yo(i)),
      U$(t, n, i, e)
    );
  };
}
var G$ = H$,
  X$ = G$,
  Y$ = X$(),
  J$ = Y$;
const Os = ht(J$);
function pa(e) {
  "@babel/helpers - typeof";
  return (
    (pa =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    pa(e)
  );
}
function Wh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Mh(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Wh(Object(n), !0).forEach(function (i) {
          Rg(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Wh(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function Rg(e, t, n) {
  return (
    (t = Q$(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function Q$(e) {
  var t = Z$(e, "string");
  return pa(t) == "symbol" ? t : t + "";
}
function Z$(e, t) {
  if (pa(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (pa(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var e3 = ["Webkit", "Moz", "O", "ms"],
  t3 = function (t, n) {
    var i = t.replace(/(\w)/, function (s) {
        return s.toUpperCase();
      }),
      a = e3.reduce(function (s, o) {
        return Mh(Mh({}, s), {}, Rg({}, o + i, n));
      }, {});
    return (a[t] = n), a;
  };
function ai(e) {
  "@babel/helpers - typeof";
  return (
    (ai =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ai(e)
  );
}
function ks() {
  return (
    (ks = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    ks.apply(this, arguments)
  );
}
function Nh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Jo(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Nh(Object(n), !0).forEach(function (i) {
          Jt(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Nh(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function r3(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function zh(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, Vg(i.key), i);
  }
}
function n3(e, t, n) {
  return t && zh(e.prototype, t), n && zh(e, n), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function i3(e, t, n) {
  return (t = As(t)), a3(e, Fg() ? Reflect.construct(t, n || [], As(e).constructor) : t.apply(e, n));
}
function a3(e, t) {
  if (t && (ai(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0) throw new TypeError("Derived constructors may only return object or undefined");
  return s3(e);
}
function s3(e) {
  if (e === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
function Fg() {
  try {
    var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch {}
  return (Fg = function () {
    return !!e;
  })();
}
function As(e) {
  return (
    (As = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (n) {
          return n.__proto__ || Object.getPrototypeOf(n);
        }),
    As(e)
  );
}
function o3(e, t) {
  if (typeof t != "function" && t !== null) throw new TypeError("Super expression must either be null or a function");
  (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Zl(e, t);
}
function Zl(e, t) {
  return (
    (Zl = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (i, a) {
          return (i.__proto__ = a), i;
        }),
    Zl(e, t)
  );
}
function Jt(e, t, n) {
  return (
    (t = Vg(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function Vg(e) {
  var t = l3(e, "string");
  return ai(t) == "symbol" ? t : t + "";
}
function l3(e, t) {
  if (ai(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (ai(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var c3 = function (t) {
    var n = t.data,
      i = t.startIndex,
      a = t.endIndex,
      s = t.x,
      o = t.width,
      l = t.travellerWidth;
    if (!n || !n.length) return {};
    var d = n.length,
      c = Li()
        .domain(Os(0, d))
        .range([s, s + o - l]),
      u = c.domain().map(function (h) {
        return c(h);
      });
    return {
      isTextActive: !1,
      isSlideMoving: !1,
      isTravellerMoving: !1,
      isTravellerFocused: !1,
      startX: c(i),
      endX: c(a),
      scale: c,
      scaleValues: u,
    };
  },
  Lh = function (t) {
    return t.changedTouches && !!t.changedTouches.length;
  },
  si = (function (e) {
    function t(n) {
      var i;
      return (
        r3(this, t),
        (i = i3(this, t, [n])),
        Jt(i, "handleDrag", function (a) {
          i.leaveTimer && (clearTimeout(i.leaveTimer), (i.leaveTimer = null)),
            i.state.isTravellerMoving ? i.handleTravellerMove(a) : i.state.isSlideMoving && i.handleSlideDrag(a);
        }),
        Jt(i, "handleTouchMove", function (a) {
          a.changedTouches != null && a.changedTouches.length > 0 && i.handleDrag(a.changedTouches[0]);
        }),
        Jt(i, "handleDragEnd", function () {
          i.setState({ isTravellerMoving: !1, isSlideMoving: !1 }, function () {
            var a = i.props,
              s = a.endIndex,
              o = a.onDragEnd,
              l = a.startIndex;
            o == null || o({ endIndex: s, startIndex: l });
          }),
            i.detachDragEndListener();
        }),
        Jt(i, "handleLeaveWrapper", function () {
          (i.state.isTravellerMoving || i.state.isSlideMoving) &&
            (i.leaveTimer = window.setTimeout(i.handleDragEnd, i.props.leaveTimeOut));
        }),
        Jt(i, "handleEnterSlideOrTraveller", function () {
          i.setState({ isTextActive: !0 });
        }),
        Jt(i, "handleLeaveSlideOrTraveller", function () {
          i.setState({ isTextActive: !1 });
        }),
        Jt(i, "handleSlideDragStart", function (a) {
          var s = Lh(a) ? a.changedTouches[0] : a;
          i.setState({ isTravellerMoving: !1, isSlideMoving: !0, slideMoveStartX: s.pageX }), i.attachDragEndListener();
        }),
        (i.travellerDragStartHandlers = {
          startX: i.handleTravellerDragStart.bind(i, "startX"),
          endX: i.handleTravellerDragStart.bind(i, "endX"),
        }),
        (i.state = {}),
        i
      );
    }
    return (
      o3(t, e),
      n3(
        t,
        [
          {
            key: "componentWillUnmount",
            value: function () {
              this.leaveTimer && (clearTimeout(this.leaveTimer), (this.leaveTimer = null)),
                this.detachDragEndListener();
            },
          },
          {
            key: "getIndex",
            value: function (i) {
              var a = i.startX,
                s = i.endX,
                o = this.state.scaleValues,
                l = this.props,
                d = l.gap,
                c = l.data,
                u = c.length - 1,
                h = Math.min(a, s),
                p = Math.max(a, s),
                g = t.getIndexInRange(o, h),
                m = t.getIndexInRange(o, p);
              return { startIndex: g - (g % d), endIndex: m === u ? u : m - (m % d) };
            },
          },
          {
            key: "getTextOfTick",
            value: function (i) {
              var a = this.props,
                s = a.data,
                o = a.tickFormatter,
                l = a.dataKey,
                d = rr(s[i], l, i);
              return Te(o) ? o(d, i) : d;
            },
          },
          {
            key: "attachDragEndListener",
            value: function () {
              window.addEventListener("mouseup", this.handleDragEnd, !0),
                window.addEventListener("touchend", this.handleDragEnd, !0),
                window.addEventListener("mousemove", this.handleDrag, !0);
            },
          },
          {
            key: "detachDragEndListener",
            value: function () {
              window.removeEventListener("mouseup", this.handleDragEnd, !0),
                window.removeEventListener("touchend", this.handleDragEnd, !0),
                window.removeEventListener("mousemove", this.handleDrag, !0);
            },
          },
          {
            key: "handleSlideDrag",
            value: function (i) {
              var a = this.state,
                s = a.slideMoveStartX,
                o = a.startX,
                l = a.endX,
                d = this.props,
                c = d.x,
                u = d.width,
                h = d.travellerWidth,
                p = d.startIndex,
                g = d.endIndex,
                m = d.onChange,
                v = i.pageX - s;
              v > 0 ? (v = Math.min(v, c + u - h - l, c + u - h - o)) : v < 0 && (v = Math.max(v, c - o, c - l));
              var x = this.getIndex({ startX: o + v, endX: l + v });
              (x.startIndex !== p || x.endIndex !== g) && m && m(x),
                this.setState({ startX: o + v, endX: l + v, slideMoveStartX: i.pageX });
            },
          },
          {
            key: "handleTravellerDragStart",
            value: function (i, a) {
              var s = Lh(a) ? a.changedTouches[0] : a;
              this.setState({
                isSlideMoving: !1,
                isTravellerMoving: !0,
                movingTravellerId: i,
                brushMoveStartX: s.pageX,
              }),
                this.attachDragEndListener();
            },
          },
          {
            key: "handleTravellerMove",
            value: function (i) {
              var a = this.state,
                s = a.brushMoveStartX,
                o = a.movingTravellerId,
                l = a.endX,
                d = a.startX,
                c = this.state[o],
                u = this.props,
                h = u.x,
                p = u.width,
                g = u.travellerWidth,
                m = u.onChange,
                v = u.gap,
                x = u.data,
                j = { startX: this.state.startX, endX: this.state.endX },
                b = i.pageX - s;
              b > 0 ? (b = Math.min(b, h + p - g - c)) : b < 0 && (b = Math.max(b, h - c)), (j[o] = c + b);
              var _ = this.getIndex(j),
                S = _.startIndex,
                y = _.endIndex,
                w = function () {
                  var O = x.length - 1;
                  return (
                    (o === "startX" && (l > d ? S % v === 0 : y % v === 0)) ||
                    (l < d && y === O) ||
                    (o === "endX" && (l > d ? y % v === 0 : S % v === 0)) ||
                    (l > d && y === O)
                  );
                };
              this.setState(Jt(Jt({}, o, c + b), "brushMoveStartX", i.pageX), function () {
                m && w() && m(_);
              });
            },
          },
          {
            key: "handleTravellerMoveKeyboard",
            value: function (i, a) {
              var s = this,
                o = this.state,
                l = o.scaleValues,
                d = o.startX,
                c = o.endX,
                u = this.state[a],
                h = l.indexOf(u);
              if (h !== -1) {
                var p = h + i;
                if (!(p === -1 || p >= l.length)) {
                  var g = l[p];
                  (a === "startX" && g >= c) ||
                    (a === "endX" && g <= d) ||
                    this.setState(Jt({}, a, g), function () {
                      s.props.onChange(s.getIndex({ startX: s.state.startX, endX: s.state.endX }));
                    });
                }
              }
            },
          },
          {
            key: "renderBackground",
            value: function () {
              var i = this.props,
                a = i.x,
                s = i.y,
                o = i.width,
                l = i.height,
                d = i.fill,
                c = i.stroke;
              return N.createElement("rect", { stroke: c, fill: d, x: a, y: s, width: o, height: l });
            },
          },
          {
            key: "renderPanorama",
            value: function () {
              var i = this.props,
                a = i.x,
                s = i.y,
                o = i.width,
                l = i.height,
                d = i.data,
                c = i.children,
                u = i.padding,
                h = f.Children.only(c);
              return h ? N.cloneElement(h, { x: a, y: s, width: o, height: l, margin: u, compact: !0, data: d }) : null;
            },
          },
          {
            key: "renderTravellerLayer",
            value: function (i, a) {
              var s,
                o,
                l = this,
                d = this.props,
                c = d.y,
                u = d.travellerWidth,
                h = d.height,
                p = d.traveller,
                g = d.ariaLabel,
                m = d.data,
                v = d.startIndex,
                x = d.endIndex,
                j = Math.max(i, this.props.x),
                b = Jo(Jo({}, Re(this.props, !1)), {}, { x: j, y: c, width: u, height: h }),
                _ =
                  g ||
                  "Min value: "
                    .concat((s = m[v]) === null || s === void 0 ? void 0 : s.name, ", Max value: ")
                    .concat((o = m[x]) === null || o === void 0 ? void 0 : o.name);
              return N.createElement(
                mt,
                {
                  tabIndex: 0,
                  role: "slider",
                  "aria-label": _,
                  "aria-valuenow": i,
                  className: "recharts-brush-traveller",
                  onMouseEnter: this.handleEnterSlideOrTraveller,
                  onMouseLeave: this.handleLeaveSlideOrTraveller,
                  onMouseDown: this.travellerDragStartHandlers[a],
                  onTouchStart: this.travellerDragStartHandlers[a],
                  onKeyDown: function (y) {
                    ["ArrowLeft", "ArrowRight"].includes(y.key) &&
                      (y.preventDefault(),
                      y.stopPropagation(),
                      l.handleTravellerMoveKeyboard(y.key === "ArrowRight" ? 1 : -1, a));
                  },
                  onFocus: function () {
                    l.setState({ isTravellerFocused: !0 });
                  },
                  onBlur: function () {
                    l.setState({ isTravellerFocused: !1 });
                  },
                  style: { cursor: "col-resize" },
                },
                t.renderTraveller(p, b),
              );
            },
          },
          {
            key: "renderSlide",
            value: function (i, a) {
              var s = this.props,
                o = s.y,
                l = s.height,
                d = s.stroke,
                c = s.travellerWidth,
                u = Math.min(i, a) + c,
                h = Math.max(Math.abs(a - i) - c, 0);
              return N.createElement("rect", {
                className: "recharts-brush-slide",
                onMouseEnter: this.handleEnterSlideOrTraveller,
                onMouseLeave: this.handleLeaveSlideOrTraveller,
                onMouseDown: this.handleSlideDragStart,
                onTouchStart: this.handleSlideDragStart,
                style: { cursor: "move" },
                stroke: "none",
                fill: d,
                fillOpacity: 0.2,
                x: u,
                y: o,
                width: h,
                height: l,
              });
            },
          },
          {
            key: "renderText",
            value: function () {
              var i = this.props,
                a = i.startIndex,
                s = i.endIndex,
                o = i.y,
                l = i.height,
                d = i.travellerWidth,
                c = i.stroke,
                u = this.state,
                h = u.startX,
                p = u.endX,
                g = 5,
                m = { pointerEvents: "none", fill: c };
              return N.createElement(
                mt,
                { className: "recharts-brush-texts" },
                N.createElement(
                  ms,
                  ks({ textAnchor: "end", verticalAnchor: "middle", x: Math.min(h, p) - g, y: o + l / 2 }, m),
                  this.getTextOfTick(a),
                ),
                N.createElement(
                  ms,
                  ks({ textAnchor: "start", verticalAnchor: "middle", x: Math.max(h, p) + d + g, y: o + l / 2 }, m),
                  this.getTextOfTick(s),
                ),
              );
            },
          },
          {
            key: "render",
            value: function () {
              var i = this.props,
                a = i.data,
                s = i.className,
                o = i.children,
                l = i.x,
                d = i.y,
                c = i.width,
                u = i.height,
                h = i.alwaysShowText,
                p = this.state,
                g = p.startX,
                m = p.endX,
                v = p.isTextActive,
                x = p.isSlideMoving,
                j = p.isTravellerMoving,
                b = p.isTravellerFocused;
              if (!a || !a.length || !se(l) || !se(d) || !se(c) || !se(u) || c <= 0 || u <= 0) return null;
              var _ = Me("recharts-brush", s),
                S = N.Children.count(o) === 1,
                y = t3("userSelect", "none");
              return N.createElement(
                mt,
                { className: _, onMouseLeave: this.handleLeaveWrapper, onTouchMove: this.handleTouchMove, style: y },
                this.renderBackground(),
                S && this.renderPanorama(),
                this.renderSlide(g, m),
                this.renderTravellerLayer(g, "startX"),
                this.renderTravellerLayer(m, "endX"),
                (v || x || j || b || h) && this.renderText(),
              );
            },
          },
        ],
        [
          {
            key: "renderDefaultTraveller",
            value: function (i) {
              var a = i.x,
                s = i.y,
                o = i.width,
                l = i.height,
                d = i.stroke,
                c = Math.floor(s + l / 2) - 1;
              return N.createElement(
                N.Fragment,
                null,
                N.createElement("rect", { x: a, y: s, width: o, height: l, fill: d, stroke: "none" }),
                N.createElement("line", { x1: a + 1, y1: c, x2: a + o - 1, y2: c, fill: "none", stroke: "#fff" }),
                N.createElement("line", {
                  x1: a + 1,
                  y1: c + 2,
                  x2: a + o - 1,
                  y2: c + 2,
                  fill: "none",
                  stroke: "#fff",
                }),
              );
            },
          },
          {
            key: "renderTraveller",
            value: function (i, a) {
              var s;
              return (
                N.isValidElement(i)
                  ? (s = N.cloneElement(i, a))
                  : Te(i)
                    ? (s = i(a))
                    : (s = t.renderDefaultTraveller(a)),
                s
              );
            },
          },
          {
            key: "getDerivedStateFromProps",
            value: function (i, a) {
              var s = i.data,
                o = i.width,
                l = i.x,
                d = i.travellerWidth,
                c = i.updateId,
                u = i.startIndex,
                h = i.endIndex;
              if (s !== a.prevData || c !== a.prevUpdateId)
                return Jo(
                  { prevData: s, prevTravellerWidth: d, prevUpdateId: c, prevX: l, prevWidth: o },
                  s && s.length
                    ? c3({ data: s, width: o, x: l, travellerWidth: d, startIndex: u, endIndex: h })
                    : { scale: null, scaleValues: null },
                );
              if (a.scale && (o !== a.prevWidth || l !== a.prevX || d !== a.prevTravellerWidth)) {
                a.scale.range([l, l + o - d]);
                var p = a.scale.domain().map(function (g) {
                  return a.scale(g);
                });
                return {
                  prevData: s,
                  prevTravellerWidth: d,
                  prevUpdateId: c,
                  prevX: l,
                  prevWidth: o,
                  startX: a.scale(i.startIndex),
                  endX: a.scale(i.endIndex),
                  scaleValues: p,
                };
              }
              return null;
            },
          },
          {
            key: "getIndexInRange",
            value: function (i, a) {
              for (var s = i.length, o = 0, l = s - 1; l - o > 1; ) {
                var d = Math.floor((o + l) / 2);
                i[d] > a ? (l = d) : (o = d);
              }
              return a >= i[l] ? l : o;
            },
          },
        ],
      )
    );
  })(f.PureComponent);
Jt(si, "displayName", "Brush");
Jt(si, "defaultProps", {
  height: 40,
  travellerWidth: 5,
  gap: 1,
  fill: "#fff",
  stroke: "#666",
  padding: { top: 1, right: 1, bottom: 1, left: 1 },
  leaveTimeOut: 1e3,
  alwaysShowText: !1,
});
var d3 = Gc;
function u3(e, t) {
  var n;
  return (
    d3(e, function (i, a, s) {
      return (n = t(i, a, s)), !n;
    }),
    !!n
  );
}
var h3 = u3,
  p3 = Wf,
  f3 = cn,
  g3 = h3,
  x3 = Xt,
  m3 = lo;
function v3(e, t, n) {
  var i = x3(e) ? p3 : g3;
  return n && m3(e, t, n) && (t = void 0), i(e, f3(t));
}
var y3 = v3;
const j3 = ht(y3);
var Or = function (t, n) {
    var i = t.alwaysShow,
      a = t.ifOverflow;
    return i && (a = "extendDomain"), a === n;
  },
  Bh = ng;
function b3(e, t, n) {
  t == "__proto__" && Bh ? Bh(e, t, { configurable: !0, enumerable: !0, value: n, writable: !0 }) : (e[t] = n);
}
var _3 = b3,
  w3 = _3,
  S3 = tg,
  C3 = cn;
function P3(e, t) {
  var n = {};
  return (
    (t = C3(t)),
    S3(e, function (i, a, s) {
      w3(n, a, t(i, a, s));
    }),
    n
  );
}
var O3 = P3;
const k3 = ht(O3);
function A3(e, t) {
  for (var n = -1, i = e == null ? 0 : e.length; ++n < i; ) if (!t(e[n], n, e)) return !1;
  return !0;
}
var D3 = A3,
  E3 = Gc;
function I3(e, t) {
  var n = !0;
  return (
    E3(e, function (i, a, s) {
      return (n = !!t(i, a, s)), n;
    }),
    n
  );
}
var T3 = I3,
  $3 = D3,
  W3 = T3,
  M3 = cn,
  N3 = Xt,
  z3 = lo;
function L3(e, t, n) {
  var i = N3(e) ? $3 : W3;
  return n && z3(e, t, n) && (t = void 0), i(e, M3(t));
}
var B3 = L3;
const qg = ht(B3);
var R3 = ["x", "y"];
function fa(e) {
  "@babel/helpers - typeof";
  return (
    (fa =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    fa(e)
  );
}
function ec() {
  return (
    (ec = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    ec.apply(this, arguments)
  );
}
function Rh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Ni(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Rh(Object(n), !0).forEach(function (i) {
          F3(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Rh(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function F3(e, t, n) {
  return (
    (t = V3(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function V3(e) {
  var t = q3(e, "string");
  return fa(t) == "symbol" ? t : t + "";
}
function q3(e, t) {
  if (fa(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (fa(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function U3(e, t) {
  if (e == null) return {};
  var n = K3(e, t),
    i,
    a;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (a = 0; a < s.length; a++)
      (i = s[a]), !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i]);
  }
  return n;
}
function K3(e, t) {
  if (e == null) return {};
  var n = {};
  for (var i in e)
    if (Object.prototype.hasOwnProperty.call(e, i)) {
      if (t.indexOf(i) >= 0) continue;
      n[i] = e[i];
    }
  return n;
}
function H3(e, t) {
  var n = e.x,
    i = e.y,
    a = U3(e, R3),
    s = "".concat(n),
    o = parseInt(s, 10),
    l = "".concat(i),
    d = parseInt(l, 10),
    c = "".concat(t.height || a.height),
    u = parseInt(c, 10),
    h = "".concat(t.width || a.width),
    p = parseInt(h, 10);
  return Ni(
    Ni(Ni(Ni(Ni({}, t), a), o ? { x: o } : {}), d ? { y: d } : {}),
    {},
    { height: u, width: p, name: t.name, radius: t.radius },
  );
}
function Fh(e) {
  return N.createElement(
    D$,
    ec({ shapeType: "rectangle", propTransformer: H3, activeClassName: "recharts-active-bar" }, e),
  );
}
var G3 = function (t) {
    var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    return function (i, a) {
      if (typeof t == "number") return t;
      var s = typeof i == "number";
      return s ? t(i, a) : (s || In(), n);
    };
  },
  X3 = ["value", "background"],
  Ug;
function oi(e) {
  "@babel/helpers - typeof";
  return (
    (oi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    oi(e)
  );
}
function Y3(e, t) {
  if (e == null) return {};
  var n = J3(e, t),
    i,
    a;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (a = 0; a < s.length; a++)
      (i = s[a]), !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i]);
  }
  return n;
}
function J3(e, t) {
  if (e == null) return {};
  var n = {};
  for (var i in e)
    if (Object.prototype.hasOwnProperty.call(e, i)) {
      if (t.indexOf(i) >= 0) continue;
      n[i] = e[i];
    }
  return n;
}
function Ds() {
  return (
    (Ds = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    Ds.apply(this, arguments)
  );
}
function Vh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function yt(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Vh(Object(n), !0).forEach(function (i) {
          Gr(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Vh(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function Q3(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function qh(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, Hg(i.key), i);
  }
}
function Z3(e, t, n) {
  return t && qh(e.prototype, t), n && qh(e, n), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function eW(e, t, n) {
  return (t = Es(t)), tW(e, Kg() ? Reflect.construct(t, n || [], Es(e).constructor) : t.apply(e, n));
}
function tW(e, t) {
  if (t && (oi(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0) throw new TypeError("Derived constructors may only return object or undefined");
  return rW(e);
}
function rW(e) {
  if (e === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
function Kg() {
  try {
    var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch {}
  return (Kg = function () {
    return !!e;
  })();
}
function Es(e) {
  return (
    (Es = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (n) {
          return n.__proto__ || Object.getPrototypeOf(n);
        }),
    Es(e)
  );
}
function nW(e, t) {
  if (typeof t != "function" && t !== null) throw new TypeError("Super expression must either be null or a function");
  (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && tc(e, t);
}
function tc(e, t) {
  return (
    (tc = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (i, a) {
          return (i.__proto__ = a), i;
        }),
    tc(e, t)
  );
}
function Gr(e, t, n) {
  return (
    (t = Hg(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function Hg(e) {
  var t = iW(e, "string");
  return oi(t) == "symbol" ? t : t + "";
}
function iW(e, t) {
  if (oi(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (oi(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var Na = (function (e) {
  function t() {
    var n;
    Q3(this, t);
    for (var i = arguments.length, a = new Array(i), s = 0; s < i; s++) a[s] = arguments[s];
    return (
      (n = eW(this, t, [].concat(a))),
      Gr(n, "state", { isAnimationFinished: !1 }),
      Gr(n, "id", $a("recharts-bar-")),
      Gr(n, "handleAnimationEnd", function () {
        var o = n.props.onAnimationEnd;
        n.setState({ isAnimationFinished: !0 }), o && o();
      }),
      Gr(n, "handleAnimationStart", function () {
        var o = n.props.onAnimationStart;
        n.setState({ isAnimationFinished: !1 }), o && o();
      }),
      n
    );
  }
  return (
    nW(t, e),
    Z3(
      t,
      [
        {
          key: "renderRectanglesStatically",
          value: function (i) {
            var a = this,
              s = this.props,
              o = s.shape,
              l = s.dataKey,
              d = s.activeIndex,
              c = s.activeBar,
              u = Re(this.props, !1);
            return (
              i &&
              i.map(function (h, p) {
                var g = p === d,
                  m = g ? c : o,
                  v = yt(
                    yt(yt({}, u), h),
                    {},
                    {
                      isActive: g,
                      option: m,
                      index: p,
                      dataKey: l,
                      onAnimationStart: a.handleAnimationStart,
                      onAnimationEnd: a.handleAnimationEnd,
                    },
                  );
                return N.createElement(
                  mt,
                  Ds({ className: "recharts-bar-rectangle" }, ls(a.props, h, p), {
                    key: "rectangle-"
                      .concat(h == null ? void 0 : h.x, "-")
                      .concat(h == null ? void 0 : h.y, "-")
                      .concat(h == null ? void 0 : h.value),
                  }),
                  N.createElement(Fh, v),
                );
              })
            );
          },
        },
        {
          key: "renderRectanglesWithAnimation",
          value: function () {
            var i = this,
              a = this.props,
              s = a.data,
              o = a.layout,
              l = a.isAnimationActive,
              d = a.animationBegin,
              c = a.animationDuration,
              u = a.animationEasing,
              h = a.animationId,
              p = this.state.prevData;
            return N.createElement(
              Jn,
              {
                begin: d,
                duration: c,
                isActive: l,
                easing: u,
                from: { t: 0 },
                to: { t: 1 },
                key: "bar-".concat(h),
                onAnimationEnd: this.handleAnimationEnd,
                onAnimationStart: this.handleAnimationStart,
              },
              function (g) {
                var m = g.t,
                  v = s.map(function (x, j) {
                    var b = p && p[j];
                    if (b) {
                      var _ = vr(b.x, x.x),
                        S = vr(b.y, x.y),
                        y = vr(b.width, x.width),
                        w = vr(b.height, x.height);
                      return yt(yt({}, x), {}, { x: _(m), y: S(m), width: y(m), height: w(m) });
                    }
                    if (o === "horizontal") {
                      var C = vr(0, x.height),
                        O = C(m);
                      return yt(yt({}, x), {}, { y: x.y + x.height - O, height: O });
                    }
                    var k = vr(0, x.width),
                      D = k(m);
                    return yt(yt({}, x), {}, { width: D });
                  });
                return N.createElement(mt, null, i.renderRectanglesStatically(v));
              },
            );
          },
        },
        {
          key: "renderRectangles",
          value: function () {
            var i = this.props,
              a = i.data,
              s = i.isAnimationActive,
              o = this.state.prevData;
            return s && a && a.length && (!o || !ho(o, a))
              ? this.renderRectanglesWithAnimation()
              : this.renderRectanglesStatically(a);
          },
        },
        {
          key: "renderBackground",
          value: function () {
            var i = this,
              a = this.props,
              s = a.data,
              o = a.dataKey,
              l = a.activeIndex,
              d = Re(this.props.background, !1);
            return s.map(function (c, u) {
              c.value;
              var h = c.background,
                p = Y3(c, X3);
              if (!h) return null;
              var g = yt(
                yt(yt(yt(yt({}, p), {}, { fill: "#eee" }, h), d), ls(i.props, c, u)),
                {},
                {
                  onAnimationStart: i.handleAnimationStart,
                  onAnimationEnd: i.handleAnimationEnd,
                  dataKey: o,
                  index: u,
                  className: "recharts-bar-background-rectangle",
                },
              );
              return N.createElement(
                Fh,
                Ds({ key: "background-bar-".concat(u), option: i.props.background, isActive: u === l }, g),
              );
            });
          },
        },
        {
          key: "renderErrorBar",
          value: function (i, a) {
            if (this.props.isAnimationActive && !this.state.isAnimationFinished) return null;
            var s = this.props,
              o = s.data,
              l = s.xAxis,
              d = s.yAxis,
              c = s.layout,
              u = s.children,
              h = ar(u, Ma);
            if (!h) return null;
            var p = c === "vertical" ? o[0].height / 2 : o[0].width / 2,
              g = function (x, j) {
                var b = Array.isArray(x.value) ? x.value[1] : x.value;
                return { x: x.x, y: x.y, value: b, errorVal: rr(x, j) };
              },
              m = { clipPath: i ? "url(#clipPath-".concat(a, ")") : null };
            return N.createElement(
              mt,
              m,
              h.map(function (v) {
                return N.cloneElement(v, {
                  key: "error-bar-".concat(a, "-").concat(v.props.dataKey),
                  data: o,
                  xAxis: l,
                  yAxis: d,
                  layout: c,
                  offset: p,
                  dataPointFormatter: g,
                });
              }),
            );
          },
        },
        {
          key: "render",
          value: function () {
            var i = this.props,
              a = i.hide,
              s = i.data,
              o = i.className,
              l = i.xAxis,
              d = i.yAxis,
              c = i.left,
              u = i.top,
              h = i.width,
              p = i.height,
              g = i.isAnimationActive,
              m = i.background,
              v = i.id;
            if (a || !s || !s.length) return null;
            var x = this.state.isAnimationFinished,
              j = Me("recharts-bar", o),
              b = l && l.allowDataOverflow,
              _ = d && d.allowDataOverflow,
              S = b || _,
              y = ze(v) ? this.id : v;
            return N.createElement(
              mt,
              { className: j },
              b || _
                ? N.createElement(
                    "defs",
                    null,
                    N.createElement(
                      "clipPath",
                      { id: "clipPath-".concat(y) },
                      N.createElement("rect", {
                        x: b ? c : c - h / 2,
                        y: _ ? u : u - p / 2,
                        width: b ? h : h * 2,
                        height: _ ? p : p * 2,
                      }),
                    ),
                  )
                : null,
              N.createElement(
                mt,
                { className: "recharts-bar-rectangles", clipPath: S ? "url(#clipPath-".concat(y, ")") : null },
                m ? this.renderBackground() : null,
                this.renderRectangles(),
              ),
              this.renderErrorBar(S, y),
              (!g || x) && Xr.renderCallByParent(this.props, s),
            );
          },
        },
      ],
      [
        {
          key: "getDerivedStateFromProps",
          value: function (i, a) {
            return i.animationId !== a.prevAnimationId
              ? { prevAnimationId: i.animationId, curData: i.data, prevData: a.curData }
              : i.data !== a.curData
                ? { curData: i.data }
                : null;
          },
        },
      ],
    )
  );
})(f.PureComponent);
Ug = Na;
Gr(Na, "displayName", "Bar");
Gr(Na, "defaultProps", {
  xAxisId: 0,
  yAxisId: 0,
  legendType: "rect",
  minPointSize: 0,
  hide: !1,
  data: [],
  layout: "vertical",
  activeBar: !1,
  isAnimationActive: !Nr.isSsr,
  animationBegin: 0,
  animationDuration: 400,
  animationEasing: "ease",
});
Gr(Na, "getComposedData", function (e) {
  var t = e.props,
    n = e.item,
    i = e.barPosition,
    a = e.bandSize,
    s = e.xAxis,
    o = e.yAxis,
    l = e.xAxisTicks,
    d = e.yAxisTicks,
    c = e.stackedData,
    u = e.dataStartIndex,
    h = e.displayedData,
    p = e.offset,
    g = fT(i, n);
  if (!g) return null;
  var m = t.layout,
    v = n.type.defaultProps,
    x = v !== void 0 ? yt(yt({}, v), n.props) : n.props,
    j = x.dataKey,
    b = x.children,
    _ = x.minPointSize,
    S = m === "horizontal" ? o : s,
    y = c ? S.scale.domain() : null,
    w = _T({ numericAxis: S }),
    C = ar(b, lg),
    O = h.map(function (k, D) {
      var E, I, z, R, B, V;
      c ? (E = gT(c[u + D], y)) : ((E = rr(k, j)), Array.isArray(E) || (E = [w, E]));
      var q = G3(_, Ug.defaultProps.minPointSize)(E[1], D);
      if (m === "horizontal") {
        var G,
          H = [o.scale(E[0]), o.scale(E[1])],
          Q = H[0],
          ne = H[1];
        (I = oh({ axis: s, ticks: l, bandSize: a, offset: g.offset, entry: k, index: D })),
          (z = (G = ne ?? Q) !== null && G !== void 0 ? G : void 0),
          (R = g.size);
        var Y = Q - ne;
        if (
          ((B = Number.isNaN(Y) ? 0 : Y),
          (V = { x: I, y: o.y, width: R, height: o.height }),
          Math.abs(q) > 0 && Math.abs(B) < Math.abs(q))
        ) {
          var ie = jr(B || q) * (Math.abs(q) - Math.abs(B));
          (z -= ie), (B += ie);
        }
      } else {
        var J = [s.scale(E[0]), s.scale(E[1])],
          ae = J[0],
          Ae = J[1];
        if (
          ((I = ae),
          (z = oh({ axis: o, ticks: d, bandSize: a, offset: g.offset, entry: k, index: D })),
          (R = Ae - ae),
          (B = g.size),
          (V = { x: s.x, y: z, width: s.width, height: B }),
          Math.abs(q) > 0 && Math.abs(R) < Math.abs(q))
        ) {
          var Xe = jr(R || q) * (Math.abs(q) - Math.abs(R));
          R += Xe;
        }
      }
      return yt(
        yt(
          yt({}, k),
          {},
          { x: I, y: z, width: R, height: B, value: c ? E : E[1], payload: k, background: V },
          C && C[D] && C[D].props,
        ),
        {},
        { tooltipPayload: [Wg(n, k)], tooltipPosition: { x: I + R / 2, y: z + B / 2 } },
      );
    });
  return yt({ data: O, layout: m }, p);
});
function ga(e) {
  "@babel/helpers - typeof";
  return (
    (ga =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ga(e)
  );
}
function aW(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function Uh(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, Gg(i.key), i);
  }
}
function sW(e, t, n) {
  return t && Uh(e.prototype, t), n && Uh(e, n), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function Kh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function xr(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Kh(Object(n), !0).forEach(function (i) {
          mo(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Kh(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function mo(e, t, n) {
  return (
    (t = Gg(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function Gg(e) {
  var t = oW(e, "string");
  return ga(t) == "symbol" ? t : t + "";
}
function oW(e, t) {
  if (ga(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (ga(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var lW = function (t, n, i, a, s) {
    var o = t.width,
      l = t.height,
      d = t.layout,
      c = t.children,
      u = Object.keys(n),
      h = {
        left: i.left,
        leftMirror: i.left,
        right: o - i.right,
        rightMirror: o - i.right,
        top: i.top,
        topMirror: i.top,
        bottom: l - i.bottom,
        bottomMirror: l - i.bottom,
      },
      p = !!Qt(c, Na);
    return u.reduce(function (g, m) {
      var v = n[m],
        x = v.orientation,
        j = v.domain,
        b = v.padding,
        _ = b === void 0 ? {} : b,
        S = v.mirror,
        y = v.reversed,
        w = "".concat(x).concat(S ? "Mirror" : ""),
        C,
        O,
        k,
        D,
        E;
      if (v.type === "number" && (v.padding === "gap" || v.padding === "no-gap")) {
        var I = j[1] - j[0],
          z = 1 / 0,
          R = v.categoricalDomain.sort();
        if (
          (R.forEach(function (J, ae) {
            ae > 0 && (z = Math.min((J || 0) - (R[ae - 1] || 0), z));
          }),
          Number.isFinite(z))
        ) {
          var B = z / I,
            V = v.layout === "vertical" ? i.height : i.width;
          if ((v.padding === "gap" && (C = (B * V) / 2), v.padding === "no-gap")) {
            var q = Dn(t.barCategoryGap, B * V),
              G = (B * V) / 2;
            C = G - q - ((G - q) / V) * q;
          }
        }
      }
      a === "xAxis"
        ? (O = [i.left + (_.left || 0) + (C || 0), i.left + i.width - (_.right || 0) - (C || 0)])
        : a === "yAxis"
          ? (O =
              d === "horizontal"
                ? [i.top + i.height - (_.bottom || 0), i.top + (_.top || 0)]
                : [i.top + (_.top || 0) + (C || 0), i.top + i.height - (_.bottom || 0) - (C || 0)])
          : (O = v.range),
        y && (O = [O[1], O[0]]);
      var H = hT(v, s, p),
        Q = H.scale,
        ne = H.realScaleType;
      Q.domain(j).range(O), pT(Q);
      var Y = bT(Q, xr(xr({}, v), {}, { realScaleType: ne }));
      a === "xAxis"
        ? ((E = (x === "top" && !S) || (x === "bottom" && S)), (k = i.left), (D = h[w] - E * v.height))
        : a === "yAxis" && ((E = (x === "left" && !S) || (x === "right" && S)), (k = h[w] - E * v.width), (D = i.top));
      var ie = xr(
        xr(xr({}, v), Y),
        {},
        {
          realScaleType: ne,
          x: k,
          y: D,
          scale: Q,
          width: a === "xAxis" ? i.width : v.width,
          height: a === "yAxis" ? i.height : v.height,
        },
      );
      return (
        (ie.bandSize = bs(ie, Y)),
        !v.hide && a === "xAxis" ? (h[w] += (E ? -1 : 1) * ie.height) : v.hide || (h[w] += (E ? -1 : 1) * ie.width),
        xr(xr({}, g), {}, mo({}, m, ie))
      );
    }, {});
  },
  Xg = function (t, n) {
    var i = t.x,
      a = t.y,
      s = n.x,
      o = n.y;
    return { x: Math.min(i, s), y: Math.min(a, o), width: Math.abs(s - i), height: Math.abs(o - a) };
  },
  cW = function (t) {
    var n = t.x1,
      i = t.y1,
      a = t.x2,
      s = t.y2;
    return Xg({ x: n, y: i }, { x: a, y: s });
  },
  Yg = (function () {
    function e(t) {
      aW(this, e), (this.scale = t);
    }
    return sW(
      e,
      [
        {
          key: "domain",
          get: function () {
            return this.scale.domain;
          },
        },
        {
          key: "range",
          get: function () {
            return this.scale.range;
          },
        },
        {
          key: "rangeMin",
          get: function () {
            return this.range()[0];
          },
        },
        {
          key: "rangeMax",
          get: function () {
            return this.range()[1];
          },
        },
        {
          key: "bandwidth",
          get: function () {
            return this.scale.bandwidth;
          },
        },
        {
          key: "apply",
          value: function (n) {
            var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
              a = i.bandAware,
              s = i.position;
            if (n !== void 0) {
              if (s)
                switch (s) {
                  case "start":
                    return this.scale(n);
                  case "middle": {
                    var o = this.bandwidth ? this.bandwidth() / 2 : 0;
                    return this.scale(n) + o;
                  }
                  case "end": {
                    var l = this.bandwidth ? this.bandwidth() : 0;
                    return this.scale(n) + l;
                  }
                  default:
                    return this.scale(n);
                }
              if (a) {
                var d = this.bandwidth ? this.bandwidth() / 2 : 0;
                return this.scale(n) + d;
              }
              return this.scale(n);
            }
          },
        },
        {
          key: "isInRange",
          value: function (n) {
            var i = this.range(),
              a = i[0],
              s = i[i.length - 1];
            return a <= s ? n >= a && n <= s : n >= s && n <= a;
          },
        },
      ],
      [
        {
          key: "create",
          value: function (n) {
            return new e(n);
          },
        },
      ],
    );
  })();
mo(Yg, "EPS", 1e-4);
var rd = function (t) {
  var n = Object.keys(t).reduce(function (i, a) {
    return xr(xr({}, i), {}, mo({}, a, Yg.create(t[a])));
  }, {});
  return xr(
    xr({}, n),
    {},
    {
      apply: function (a) {
        var s = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
          o = s.bandAware,
          l = s.position;
        return k3(a, function (d, c) {
          return n[c].apply(d, { bandAware: o, position: l });
        });
      },
      isInRange: function (a) {
        return qg(a, function (s, o) {
          return n[o].isInRange(s);
        });
      },
    },
  );
};
function dW(e) {
  return ((e % 180) + 180) % 180;
}
var uW = function (t) {
    var n = t.width,
      i = t.height,
      a = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0,
      s = dW(a),
      o = (s * Math.PI) / 180,
      l = Math.atan(i / n),
      d = o > l && o < Math.PI - l ? i / Math.sin(o) : n / Math.cos(o);
    return Math.abs(d);
  },
  hW = cn,
  pW = Wa,
  fW = so;
function gW(e) {
  return function (t, n, i) {
    var a = Object(t);
    if (!pW(t)) {
      var s = hW(n);
      (t = fW(t)),
        (n = function (l) {
          return s(a[l], l, a);
        });
    }
    var o = e(t, n, i);
    return o > -1 ? a[s ? t[o] : o] : void 0;
  };
}
var xW = gW,
  mW = Bg;
function vW(e) {
  var t = mW(e),
    n = t % 1;
  return t === t ? (n ? t - n : t) : 0;
}
var yW = vW,
  jW = Xf,
  bW = cn,
  _W = yW,
  wW = Math.max;
function SW(e, t, n) {
  var i = e == null ? 0 : e.length;
  if (!i) return -1;
  var a = n == null ? 0 : _W(n);
  return a < 0 && (a = wW(i + a, 0)), jW(e, bW(t), a);
}
var CW = SW,
  PW = xW,
  OW = CW,
  kW = PW(OW),
  AW = kW;
const DW = ht(AW);
var EW = T_(
    function (e) {
      return { x: e.left, y: e.top, width: e.width, height: e.height };
    },
    function (e) {
      return ["l", e.left, "t", e.top, "w", e.width, "h", e.height].join("");
    },
  ),
  nd = f.createContext(void 0),
  id = f.createContext(void 0),
  Jg = f.createContext(void 0),
  Qg = f.createContext({}),
  Zg = f.createContext(void 0),
  ex = f.createContext(0),
  tx = f.createContext(0),
  Hh = function (t) {
    var n = t.state,
      i = n.xAxisMap,
      a = n.yAxisMap,
      s = n.offset,
      o = t.clipPathId,
      l = t.children,
      d = t.width,
      c = t.height,
      u = EW(s);
    return N.createElement(
      nd.Provider,
      { value: i },
      N.createElement(
        id.Provider,
        { value: a },
        N.createElement(
          Qg.Provider,
          { value: s },
          N.createElement(
            Jg.Provider,
            { value: u },
            N.createElement(
              Zg.Provider,
              { value: o },
              N.createElement(ex.Provider, { value: c }, N.createElement(tx.Provider, { value: d }, l)),
            ),
          ),
        ),
      ),
    );
  },
  IW = function () {
    return f.useContext(Zg);
  },
  rx = function (t) {
    var n = f.useContext(nd);
    n == null && In();
    var i = n[t];
    return i == null && In(), i;
  },
  TW = function () {
    var t = f.useContext(nd);
    return Hr(t);
  },
  $W = function () {
    var t = f.useContext(id),
      n = DW(t, function (i) {
        return qg(i.domain, Number.isFinite);
      });
    return n || Hr(t);
  },
  nx = function (t) {
    var n = f.useContext(id);
    n == null && In();
    var i = n[t];
    return i == null && In(), i;
  },
  WW = function () {
    var t = f.useContext(Jg);
    return t;
  },
  MW = function () {
    return f.useContext(Qg);
  },
  ad = function () {
    return f.useContext(tx);
  },
  sd = function () {
    return f.useContext(ex);
  };
function li(e) {
  "@babel/helpers - typeof";
  return (
    (li =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    li(e)
  );
}
function NW(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function zW(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, ax(i.key), i);
  }
}
function LW(e, t, n) {
  return t && zW(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function BW(e, t, n) {
  return (t = Is(t)), RW(e, ix() ? Reflect.construct(t, n || [], Is(e).constructor) : t.apply(e, n));
}
function RW(e, t) {
  if (t && (li(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0) throw new TypeError("Derived constructors may only return object or undefined");
  return FW(e);
}
function FW(e) {
  if (e === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
function ix() {
  try {
    var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch {}
  return (ix = function () {
    return !!e;
  })();
}
function Is(e) {
  return (
    (Is = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (n) {
          return n.__proto__ || Object.getPrototypeOf(n);
        }),
    Is(e)
  );
}
function VW(e, t) {
  if (typeof t != "function" && t !== null) throw new TypeError("Super expression must either be null or a function");
  (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && rc(e, t);
}
function rc(e, t) {
  return (
    (rc = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (i, a) {
          return (i.__proto__ = a), i;
        }),
    rc(e, t)
  );
}
function Gh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Xh(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Gh(Object(n), !0).forEach(function (i) {
          od(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Gh(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function od(e, t, n) {
  return (
    (t = ax(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function ax(e) {
  var t = qW(e, "string");
  return li(t) == "symbol" ? t : t + "";
}
function qW(e, t) {
  if (li(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (li(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function UW(e, t) {
  return XW(e) || GW(e, t) || HW(e, t) || KW();
}
function KW() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function HW(e, t) {
  if (e) {
    if (typeof e == "string") return Yh(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if ((n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")) return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Yh(e, t);
  }
}
function Yh(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
  return i;
}
function GW(e, t) {
  var n = e == null ? null : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (n != null) {
    var i,
      a,
      s,
      o,
      l = [],
      d = !0,
      c = !1;
    try {
      if (((s = (n = n.call(e)).next), t !== 0))
        for (; !(d = (i = s.call(n)).done) && (l.push(i.value), l.length !== t); d = !0);
    } catch (u) {
      (c = !0), (a = u);
    } finally {
      try {
        if (!d && n.return != null && ((o = n.return()), Object(o) !== o)) return;
      } finally {
        if (c) throw a;
      }
    }
    return l;
  }
}
function XW(e) {
  if (Array.isArray(e)) return e;
}
function nc() {
  return (
    (nc = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    nc.apply(this, arguments)
  );
}
var YW = function (t, n) {
    var i;
    return (
      N.isValidElement(t)
        ? (i = N.cloneElement(t, n))
        : Te(t)
          ? (i = t(n))
          : (i = N.createElement("line", nc({}, n, { className: "recharts-reference-line-line" }))),
      i
    );
  },
  JW = function (t, n, i, a, s, o, l, d, c) {
    var u = s.x,
      h = s.y,
      p = s.width,
      g = s.height;
    if (i) {
      var m = c.y,
        v = t.y.apply(m, { position: o });
      if (Or(c, "discard") && !t.y.isInRange(v)) return null;
      var x = [
        { x: u + p, y: v },
        { x: u, y: v },
      ];
      return d === "left" ? x.reverse() : x;
    }
    if (n) {
      var j = c.x,
        b = t.x.apply(j, { position: o });
      if (Or(c, "discard") && !t.x.isInRange(b)) return null;
      var _ = [
        { x: b, y: h + g },
        { x: b, y: h },
      ];
      return l === "top" ? _.reverse() : _;
    }
    if (a) {
      var S = c.segment,
        y = S.map(function (w) {
          return t.apply(w, { position: o });
        });
      return Or(c, "discard") &&
        j3(y, function (w) {
          return !t.isInRange(w);
        })
        ? null
        : y;
    }
    return null;
  };
function QW(e) {
  var t = e.x,
    n = e.y,
    i = e.segment,
    a = e.xAxisId,
    s = e.yAxisId,
    o = e.shape,
    l = e.className,
    d = e.alwaysShow,
    c = IW(),
    u = rx(a),
    h = nx(s),
    p = WW();
  if (!c || !p) return null;
  Mr(d === void 0, 'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');
  var g = rd({ x: u.scale, y: h.scale }),
    m = kt(t),
    v = kt(n),
    x = i && i.length === 2,
    j = JW(g, m, v, x, p, e.position, u.orientation, h.orientation, e);
  if (!j) return null;
  var b = UW(j, 2),
    _ = b[0],
    S = _.x,
    y = _.y,
    w = b[1],
    C = w.x,
    O = w.y,
    k = Or(e, "hidden") ? "url(#".concat(c, ")") : void 0,
    D = Xh(Xh({ clipPath: k }, Re(e, !0)), {}, { x1: S, y1: y, x2: C, y2: O });
  return N.createElement(
    mt,
    { className: Me("recharts-reference-line", l) },
    YW(o, D),
    Mt.renderCallByParent(e, cW({ x1: S, y1: y, x2: C, y2: O })),
  );
}
var ld = (function (e) {
  function t() {
    return NW(this, t), BW(this, t, arguments);
  }
  return (
    VW(t, e),
    LW(t, [
      {
        key: "render",
        value: function () {
          return N.createElement(QW, this.props);
        },
      },
    ])
  );
})(N.Component);
od(ld, "displayName", "ReferenceLine");
od(ld, "defaultProps", {
  isFront: !1,
  ifOverflow: "discard",
  xAxisId: 0,
  yAxisId: 0,
  fill: "none",
  stroke: "#ccc",
  fillOpacity: 1,
  strokeWidth: 1,
  position: "middle",
});
function ic() {
  return (
    (ic = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    ic.apply(this, arguments)
  );
}
function ci(e) {
  "@babel/helpers - typeof";
  return (
    (ci =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ci(e)
  );
}
function Jh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Qh(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Jh(Object(n), !0).forEach(function (i) {
          vo(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Jh(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function ZW(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function e4(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, ox(i.key), i);
  }
}
function t4(e, t, n) {
  return t && e4(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function r4(e, t, n) {
  return (t = Ts(t)), n4(e, sx() ? Reflect.construct(t, n || [], Ts(e).constructor) : t.apply(e, n));
}
function n4(e, t) {
  if (t && (ci(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0) throw new TypeError("Derived constructors may only return object or undefined");
  return i4(e);
}
function i4(e) {
  if (e === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
function sx() {
  try {
    var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch {}
  return (sx = function () {
    return !!e;
  })();
}
function Ts(e) {
  return (
    (Ts = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (n) {
          return n.__proto__ || Object.getPrototypeOf(n);
        }),
    Ts(e)
  );
}
function a4(e, t) {
  if (typeof t != "function" && t !== null) throw new TypeError("Super expression must either be null or a function");
  (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && ac(e, t);
}
function ac(e, t) {
  return (
    (ac = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (i, a) {
          return (i.__proto__ = a), i;
        }),
    ac(e, t)
  );
}
function vo(e, t, n) {
  return (
    (t = ox(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function ox(e) {
  var t = s4(e, "string");
  return ci(t) == "symbol" ? t : t + "";
}
function s4(e, t) {
  if (ci(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (ci(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var o4 = function (t) {
    var n = t.x,
      i = t.y,
      a = t.xAxis,
      s = t.yAxis,
      o = rd({ x: a.scale, y: s.scale }),
      l = o.apply({ x: n, y: i }, { bandAware: !0 });
    return Or(t, "discard") && !o.isInRange(l) ? null : l;
  },
  yo = (function (e) {
    function t() {
      return ZW(this, t), r4(this, t, arguments);
    }
    return (
      a4(t, e),
      t4(t, [
        {
          key: "render",
          value: function () {
            var i = this.props,
              a = i.x,
              s = i.y,
              o = i.r,
              l = i.alwaysShow,
              d = i.clipPathId,
              c = kt(a),
              u = kt(s);
            if (
              (Mr(l === void 0, 'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),
              !c || !u)
            )
              return null;
            var h = o4(this.props);
            if (!h) return null;
            var p = h.x,
              g = h.y,
              m = this.props,
              v = m.shape,
              x = m.className,
              j = Or(this.props, "hidden") ? "url(#".concat(d, ")") : void 0,
              b = Qh(Qh({ clipPath: j }, Re(this.props, !0)), {}, { cx: p, cy: g });
            return N.createElement(
              mt,
              { className: Me("recharts-reference-dot", x) },
              t.renderDot(v, b),
              Mt.renderCallByParent(this.props, { x: p - o, y: g - o, width: 2 * o, height: 2 * o }),
            );
          },
        },
      ])
    );
  })(N.Component);
vo(yo, "displayName", "ReferenceDot");
vo(yo, "defaultProps", {
  isFront: !1,
  ifOverflow: "discard",
  xAxisId: 0,
  yAxisId: 0,
  r: 10,
  fill: "#fff",
  stroke: "#ccc",
  fillOpacity: 1,
  strokeWidth: 1,
});
vo(yo, "renderDot", function (e, t) {
  var n;
  return (
    N.isValidElement(e)
      ? (n = N.cloneElement(e, t))
      : Te(e)
        ? (n = e(t))
        : (n = N.createElement(td, ic({}, t, { cx: t.cx, cy: t.cy, className: "recharts-reference-dot-dot" }))),
    n
  );
});
function sc() {
  return (
    (sc = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    sc.apply(this, arguments)
  );
}
function di(e) {
  "@babel/helpers - typeof";
  return (
    (di =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    di(e)
  );
}
function Zh(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function ep(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Zh(Object(n), !0).forEach(function (i) {
          jo(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Zh(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function l4(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function c4(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, cx(i.key), i);
  }
}
function d4(e, t, n) {
  return t && c4(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function u4(e, t, n) {
  return (t = $s(t)), h4(e, lx() ? Reflect.construct(t, n || [], $s(e).constructor) : t.apply(e, n));
}
function h4(e, t) {
  if (t && (di(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0) throw new TypeError("Derived constructors may only return object or undefined");
  return p4(e);
}
function p4(e) {
  if (e === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
function lx() {
  try {
    var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch {}
  return (lx = function () {
    return !!e;
  })();
}
function $s(e) {
  return (
    ($s = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (n) {
          return n.__proto__ || Object.getPrototypeOf(n);
        }),
    $s(e)
  );
}
function f4(e, t) {
  if (typeof t != "function" && t !== null) throw new TypeError("Super expression must either be null or a function");
  (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && oc(e, t);
}
function oc(e, t) {
  return (
    (oc = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (i, a) {
          return (i.__proto__ = a), i;
        }),
    oc(e, t)
  );
}
function jo(e, t, n) {
  return (
    (t = cx(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function cx(e) {
  var t = g4(e, "string");
  return di(t) == "symbol" ? t : t + "";
}
function g4(e, t) {
  if (di(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (di(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var x4 = function (t, n, i, a, s) {
    var o = s.x1,
      l = s.x2,
      d = s.y1,
      c = s.y2,
      u = s.xAxis,
      h = s.yAxis;
    if (!u || !h) return null;
    var p = rd({ x: u.scale, y: h.scale }),
      g = {
        x: t ? p.x.apply(o, { position: "start" }) : p.x.rangeMin,
        y: i ? p.y.apply(d, { position: "start" }) : p.y.rangeMin,
      },
      m = {
        x: n ? p.x.apply(l, { position: "end" }) : p.x.rangeMax,
        y: a ? p.y.apply(c, { position: "end" }) : p.y.rangeMax,
      };
    return Or(s, "discard") && (!p.isInRange(g) || !p.isInRange(m)) ? null : Xg(g, m);
  },
  bo = (function (e) {
    function t() {
      return l4(this, t), u4(this, t, arguments);
    }
    return (
      f4(t, e),
      d4(t, [
        {
          key: "render",
          value: function () {
            var i = this.props,
              a = i.x1,
              s = i.x2,
              o = i.y1,
              l = i.y2,
              d = i.className,
              c = i.alwaysShow,
              u = i.clipPathId;
            Mr(c === void 0, 'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');
            var h = kt(a),
              p = kt(s),
              g = kt(o),
              m = kt(l),
              v = this.props.shape;
            if (!h && !p && !g && !m && !v) return null;
            var x = x4(h, p, g, m, this.props);
            if (!x && !v) return null;
            var j = Or(this.props, "hidden") ? "url(#".concat(u, ")") : void 0;
            return N.createElement(
              mt,
              { className: Me("recharts-reference-area", d) },
              t.renderRect(v, ep(ep({ clipPath: j }, Re(this.props, !0)), x)),
              Mt.renderCallByParent(this.props, x),
            );
          },
        },
      ])
    );
  })(N.Component);
jo(bo, "displayName", "ReferenceArea");
jo(bo, "defaultProps", {
  isFront: !1,
  ifOverflow: "discard",
  xAxisId: 0,
  yAxisId: 0,
  r: 10,
  fill: "#ccc",
  fillOpacity: 0.5,
  stroke: "none",
  strokeWidth: 1,
});
jo(bo, "renderRect", function (e, t) {
  var n;
  return (
    N.isValidElement(e)
      ? (n = N.cloneElement(e, t))
      : Te(e)
        ? (n = e(t))
        : (n = N.createElement(ed, sc({}, t, { className: "recharts-reference-area-rect" }))),
    n
  );
});
function dx(e, t, n) {
  if (t < 1) return [];
  if (t === 1 && n === void 0) return e;
  for (var i = [], a = 0; a < e.length; a += t) i.push(e[a]);
  return i;
}
function m4(e, t, n) {
  var i = { width: e.width + t.width, height: e.height + t.height };
  return uW(i, n);
}
function v4(e, t, n) {
  var i = n === "width",
    a = e.x,
    s = e.y,
    o = e.width,
    l = e.height;
  return t === 1 ? { start: i ? a : s, end: i ? a + o : s + l } : { start: i ? a + o : s + l, end: i ? a : s };
}
function Ws(e, t, n, i, a) {
  if (e * t < e * i || e * t > e * a) return !1;
  var s = n();
  return e * (t - (e * s) / 2 - i) >= 0 && e * (t + (e * s) / 2 - a) <= 0;
}
function y4(e, t) {
  return dx(e, t + 1);
}
function j4(e, t, n, i, a) {
  for (
    var s = (i || []).slice(),
      o = t.start,
      l = t.end,
      d = 0,
      c = 1,
      u = o,
      h = function () {
        var m = i == null ? void 0 : i[d];
        if (m === void 0) return { v: dx(i, c) };
        var v = d,
          x,
          j = function () {
            return x === void 0 && (x = n(m, v)), x;
          },
          b = m.coordinate,
          _ = d === 0 || Ws(e, b, j, u, l);
        _ || ((d = 0), (u = o), (c += 1)), _ && ((u = b + e * (j() / 2 + a)), (d += c));
      },
      p;
    c <= s.length;

  )
    if (((p = h()), p)) return p.v;
  return [];
}
function xa(e) {
  "@babel/helpers - typeof";
  return (
    (xa =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    xa(e)
  );
}
function tp(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Wt(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? tp(Object(n), !0).forEach(function (i) {
          b4(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : tp(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function b4(e, t, n) {
  return (
    (t = _4(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function _4(e) {
  var t = w4(e, "string");
  return xa(t) == "symbol" ? t : t + "";
}
function w4(e, t) {
  if (xa(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (xa(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function S4(e, t, n, i, a) {
  for (
    var s = (i || []).slice(),
      o = s.length,
      l = t.start,
      d = t.end,
      c = function (p) {
        var g = s[p],
          m,
          v = function () {
            return m === void 0 && (m = n(g, p)), m;
          };
        if (p === o - 1) {
          var x = e * (g.coordinate + (e * v()) / 2 - d);
          s[p] = g = Wt(Wt({}, g), {}, { tickCoord: x > 0 ? g.coordinate - x * e : g.coordinate });
        } else s[p] = g = Wt(Wt({}, g), {}, { tickCoord: g.coordinate });
        var j = Ws(e, g.tickCoord, v, l, d);
        j && ((d = g.tickCoord - e * (v() / 2 + a)), (s[p] = Wt(Wt({}, g), {}, { isShow: !0 })));
      },
      u = o - 1;
    u >= 0;
    u--
  )
    c(u);
  return s;
}
function C4(e, t, n, i, a, s) {
  var o = (i || []).slice(),
    l = o.length,
    d = t.start,
    c = t.end;
  if (s) {
    var u = i[l - 1],
      h = n(u, l - 1),
      p = e * (u.coordinate + (e * h) / 2 - c);
    o[l - 1] = u = Wt(Wt({}, u), {}, { tickCoord: p > 0 ? u.coordinate - p * e : u.coordinate });
    var g = Ws(
      e,
      u.tickCoord,
      function () {
        return h;
      },
      d,
      c,
    );
    g && ((c = u.tickCoord - e * (h / 2 + a)), (o[l - 1] = Wt(Wt({}, u), {}, { isShow: !0 })));
  }
  for (
    var m = s ? l - 1 : l,
      v = function (b) {
        var _ = o[b],
          S,
          y = function () {
            return S === void 0 && (S = n(_, b)), S;
          };
        if (b === 0) {
          var w = e * (_.coordinate - (e * y()) / 2 - d);
          o[b] = _ = Wt(Wt({}, _), {}, { tickCoord: w < 0 ? _.coordinate - w * e : _.coordinate });
        } else o[b] = _ = Wt(Wt({}, _), {}, { tickCoord: _.coordinate });
        var C = Ws(e, _.tickCoord, y, d, c);
        C && ((d = _.tickCoord + e * (y() / 2 + a)), (o[b] = Wt(Wt({}, _), {}, { isShow: !0 })));
      },
      x = 0;
    x < m;
    x++
  )
    v(x);
  return o;
}
function cd(e, t, n) {
  var i = e.tick,
    a = e.ticks,
    s = e.viewBox,
    o = e.minTickGap,
    l = e.orientation,
    d = e.interval,
    c = e.tickFormatter,
    u = e.unit,
    h = e.angle;
  if (!a || !a.length || !i) return [];
  if (se(d) || Nr.isSsr) return y4(a, typeof d == "number" && se(d) ? d : 0);
  var p = [],
    g = l === "top" || l === "bottom" ? "width" : "height",
    m = u && g === "width" ? Bi(u, { fontSize: t, letterSpacing: n }) : { width: 0, height: 0 },
    v = function (_, S) {
      var y = Te(c) ? c(_.value, S) : _.value;
      return g === "width"
        ? m4(Bi(y, { fontSize: t, letterSpacing: n }), m, h)
        : Bi(y, { fontSize: t, letterSpacing: n })[g];
    },
    x = a.length >= 2 ? jr(a[1].coordinate - a[0].coordinate) : 1,
    j = v4(s, x, g);
  return d === "equidistantPreserveStart"
    ? j4(x, j, v, a, o)
    : (d === "preserveStart" || d === "preserveStartEnd"
        ? (p = C4(x, j, v, a, o, d === "preserveStartEnd"))
        : (p = S4(x, j, v, a, o)),
      p.filter(function (b) {
        return b.isShow;
      }));
}
var P4 = ["viewBox"],
  O4 = ["viewBox"],
  k4 = ["ticks"];
function ui(e) {
  "@babel/helpers - typeof";
  return (
    (ui =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ui(e)
  );
}
function Un() {
  return (
    (Un = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    Un.apply(this, arguments)
  );
}
function rp(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Bt(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? rp(Object(n), !0).forEach(function (i) {
          dd(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : rp(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function Qo(e, t) {
  if (e == null) return {};
  var n = A4(e, t),
    i,
    a;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (a = 0; a < s.length; a++)
      (i = s[a]), !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i]);
  }
  return n;
}
function A4(e, t) {
  if (e == null) return {};
  var n = {};
  for (var i in e)
    if (Object.prototype.hasOwnProperty.call(e, i)) {
      if (t.indexOf(i) >= 0) continue;
      n[i] = e[i];
    }
  return n;
}
function D4(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function np(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, hx(i.key), i);
  }
}
function E4(e, t, n) {
  return t && np(e.prototype, t), n && np(e, n), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function I4(e, t, n) {
  return (t = Ms(t)), T4(e, ux() ? Reflect.construct(t, n || [], Ms(e).constructor) : t.apply(e, n));
}
function T4(e, t) {
  if (t && (ui(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0) throw new TypeError("Derived constructors may only return object or undefined");
  return $4(e);
}
function $4(e) {
  if (e === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
function ux() {
  try {
    var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch {}
  return (ux = function () {
    return !!e;
  })();
}
function Ms(e) {
  return (
    (Ms = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (n) {
          return n.__proto__ || Object.getPrototypeOf(n);
        }),
    Ms(e)
  );
}
function W4(e, t) {
  if (typeof t != "function" && t !== null) throw new TypeError("Super expression must either be null or a function");
  (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && lc(e, t);
}
function lc(e, t) {
  return (
    (lc = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (i, a) {
          return (i.__proto__ = a), i;
        }),
    lc(e, t)
  );
}
function dd(e, t, n) {
  return (
    (t = hx(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function hx(e) {
  var t = M4(e, "string");
  return ui(t) == "symbol" ? t : t + "";
}
function M4(e, t) {
  if (ui(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (ui(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var Ii = (function (e) {
  function t(n) {
    var i;
    return D4(this, t), (i = I4(this, t, [n])), (i.state = { fontSize: "", letterSpacing: "" }), i;
  }
  return (
    W4(t, e),
    E4(
      t,
      [
        {
          key: "shouldComponentUpdate",
          value: function (i, a) {
            var s = i.viewBox,
              o = Qo(i, P4),
              l = this.props,
              d = l.viewBox,
              c = Qo(l, O4);
            return !Xn(s, d) || !Xn(o, c) || !Xn(a, this.state);
          },
        },
        {
          key: "componentDidMount",
          value: function () {
            var i = this.layerReference;
            if (i) {
              var a = i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];
              a &&
                this.setState({
                  fontSize: window.getComputedStyle(a).fontSize,
                  letterSpacing: window.getComputedStyle(a).letterSpacing,
                });
            }
          },
        },
        {
          key: "getTickLineCoord",
          value: function (i) {
            var a = this.props,
              s = a.x,
              o = a.y,
              l = a.width,
              d = a.height,
              c = a.orientation,
              u = a.tickSize,
              h = a.mirror,
              p = a.tickMargin,
              g,
              m,
              v,
              x,
              j,
              b,
              _ = h ? -1 : 1,
              S = i.tickSize || u,
              y = se(i.tickCoord) ? i.tickCoord : i.coordinate;
            switch (c) {
              case "top":
                (g = m = i.coordinate), (x = o + +!h * d), (v = x - _ * S), (b = v - _ * p), (j = y);
                break;
              case "left":
                (v = x = i.coordinate), (m = s + +!h * l), (g = m - _ * S), (j = g - _ * p), (b = y);
                break;
              case "right":
                (v = x = i.coordinate), (m = s + +h * l), (g = m + _ * S), (j = g + _ * p), (b = y);
                break;
              default:
                (g = m = i.coordinate), (x = o + +h * d), (v = x + _ * S), (b = v + _ * p), (j = y);
                break;
            }
            return { line: { x1: g, y1: v, x2: m, y2: x }, tick: { x: j, y: b } };
          },
        },
        {
          key: "getTickTextAnchor",
          value: function () {
            var i = this.props,
              a = i.orientation,
              s = i.mirror,
              o;
            switch (a) {
              case "left":
                o = s ? "start" : "end";
                break;
              case "right":
                o = s ? "end" : "start";
                break;
              default:
                o = "middle";
                break;
            }
            return o;
          },
        },
        {
          key: "getTickVerticalAnchor",
          value: function () {
            var i = this.props,
              a = i.orientation,
              s = i.mirror,
              o = "end";
            switch (a) {
              case "left":
              case "right":
                o = "middle";
                break;
              case "top":
                o = s ? "start" : "end";
                break;
              default:
                o = s ? "end" : "start";
                break;
            }
            return o;
          },
        },
        {
          key: "renderAxisLine",
          value: function () {
            var i = this.props,
              a = i.x,
              s = i.y,
              o = i.width,
              l = i.height,
              d = i.orientation,
              c = i.mirror,
              u = i.axisLine,
              h = Bt(Bt(Bt({}, Re(this.props, !1)), Re(u, !1)), {}, { fill: "none" });
            if (d === "top" || d === "bottom") {
              var p = +((d === "top" && !c) || (d === "bottom" && c));
              h = Bt(Bt({}, h), {}, { x1: a, y1: s + p * l, x2: a + o, y2: s + p * l });
            } else {
              var g = +((d === "left" && !c) || (d === "right" && c));
              h = Bt(Bt({}, h), {}, { x1: a + g * o, y1: s, x2: a + g * o, y2: s + l });
            }
            return N.createElement(
              "line",
              Un({}, h, { className: Me("recharts-cartesian-axis-line", ir(u, "className")) }),
            );
          },
        },
        {
          key: "renderTicks",
          value: function (i, a, s) {
            var o = this,
              l = this.props,
              d = l.tickLine,
              c = l.stroke,
              u = l.tick,
              h = l.tickFormatter,
              p = l.unit,
              g = cd(Bt(Bt({}, this.props), {}, { ticks: i }), a, s),
              m = this.getTickTextAnchor(),
              v = this.getTickVerticalAnchor(),
              x = Re(this.props, !1),
              j = Re(u, !1),
              b = Bt(Bt({}, x), {}, { fill: "none" }, Re(d, !1)),
              _ = g.map(function (S, y) {
                var w = o.getTickLineCoord(S),
                  C = w.line,
                  O = w.tick,
                  k = Bt(
                    Bt(Bt(Bt({ textAnchor: m, verticalAnchor: v }, x), {}, { stroke: "none", fill: c }, j), O),
                    {},
                    { index: y, payload: S, visibleTicksCount: g.length, tickFormatter: h },
                  );
                return N.createElement(
                  mt,
                  Un(
                    {
                      className: "recharts-cartesian-axis-tick",
                      key: "tick-".concat(S.value, "-").concat(S.coordinate, "-").concat(S.tickCoord),
                    },
                    ls(o.props, S, y),
                  ),
                  d &&
                    N.createElement(
                      "line",
                      Un({}, b, C, { className: Me("recharts-cartesian-axis-tick-line", ir(d, "className")) }),
                    ),
                  u && t.renderTickItem(u, k, "".concat(Te(h) ? h(S.value, y) : S.value).concat(p || "")),
                );
              });
            return N.createElement("g", { className: "recharts-cartesian-axis-ticks" }, _);
          },
        },
        {
          key: "render",
          value: function () {
            var i = this,
              a = this.props,
              s = a.axisLine,
              o = a.width,
              l = a.height,
              d = a.ticksGenerator,
              c = a.className,
              u = a.hide;
            if (u) return null;
            var h = this.props,
              p = h.ticks,
              g = Qo(h, k4),
              m = p;
            return (
              Te(d) && (m = p && p.length > 0 ? d(this.props) : d(g)),
              o <= 0 || l <= 0 || !m || !m.length
                ? null
                : N.createElement(
                    mt,
                    {
                      className: Me("recharts-cartesian-axis", c),
                      ref: function (x) {
                        i.layerReference = x;
                      },
                    },
                    s && this.renderAxisLine(),
                    this.renderTicks(m, this.state.fontSize, this.state.letterSpacing),
                    Mt.renderCallByParent(this.props),
                  )
            );
          },
        },
      ],
      [
        {
          key: "renderTickItem",
          value: function (i, a, s) {
            var o;
            return (
              N.isValidElement(i)
                ? (o = N.cloneElement(i, a))
                : Te(i)
                  ? (o = i(a))
                  : (o = N.createElement(ms, Un({}, a, { className: "recharts-cartesian-axis-tick-value" }), s)),
              o
            );
          },
        },
      ],
    )
  );
})(f.Component);
dd(Ii, "displayName", "CartesianAxis");
dd(Ii, "defaultProps", {
  x: 0,
  y: 0,
  width: 0,
  height: 0,
  viewBox: { x: 0, y: 0, width: 0, height: 0 },
  orientation: "bottom",
  ticks: [],
  stroke: "#666",
  tickLine: !0,
  axisLine: !0,
  tick: !0,
  mirror: !1,
  minTickGap: 5,
  tickSize: 6,
  tickMargin: 2,
  interval: "preserveEnd",
});
var N4 = ["x1", "y1", "x2", "y2", "key"],
  z4 = ["offset"];
function Tn(e) {
  "@babel/helpers - typeof";
  return (
    (Tn =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Tn(e)
  );
}
function ip(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Nt(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? ip(Object(n), !0).forEach(function (i) {
          L4(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : ip(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function L4(e, t, n) {
  return (
    (t = B4(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function B4(e) {
  var t = R4(e, "string");
  return Tn(t) == "symbol" ? t : t + "";
}
function R4(e, t) {
  if (Tn(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (Tn(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function mn() {
  return (
    (mn = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    mn.apply(this, arguments)
  );
}
function ap(e, t) {
  if (e == null) return {};
  var n = F4(e, t),
    i,
    a;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (a = 0; a < s.length; a++)
      (i = s[a]), !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i]);
  }
  return n;
}
function F4(e, t) {
  if (e == null) return {};
  var n = {};
  for (var i in e)
    if (Object.prototype.hasOwnProperty.call(e, i)) {
      if (t.indexOf(i) >= 0) continue;
      n[i] = e[i];
    }
  return n;
}
var V4 = function (t) {
  var n = t.fill;
  if (!n || n === "none") return null;
  var i = t.fillOpacity,
    a = t.x,
    s = t.y,
    o = t.width,
    l = t.height,
    d = t.ry;
  return N.createElement("rect", {
    x: a,
    y: s,
    ry: d,
    width: o,
    height: l,
    stroke: "none",
    fill: n,
    fillOpacity: i,
    className: "recharts-cartesian-grid-bg",
  });
};
function px(e, t) {
  var n;
  if (N.isValidElement(e)) n = N.cloneElement(e, t);
  else if (Te(e)) n = e(t);
  else {
    var i = t.x1,
      a = t.y1,
      s = t.x2,
      o = t.y2,
      l = t.key,
      d = ap(t, N4),
      c = Re(d, !1);
    c.offset;
    var u = ap(c, z4);
    n = N.createElement("line", mn({}, u, { x1: i, y1: a, x2: s, y2: o, fill: "none", key: l }));
  }
  return n;
}
function q4(e) {
  var t = e.x,
    n = e.width,
    i = e.horizontal,
    a = i === void 0 ? !0 : i,
    s = e.horizontalPoints;
  if (!a || !s || !s.length) return null;
  var o = s.map(function (l, d) {
    var c = Nt(Nt({}, e), {}, { x1: t, y1: l, x2: t + n, y2: l, key: "line-".concat(d), index: d });
    return px(a, c);
  });
  return N.createElement("g", { className: "recharts-cartesian-grid-horizontal" }, o);
}
function U4(e) {
  var t = e.y,
    n = e.height,
    i = e.vertical,
    a = i === void 0 ? !0 : i,
    s = e.verticalPoints;
  if (!a || !s || !s.length) return null;
  var o = s.map(function (l, d) {
    var c = Nt(Nt({}, e), {}, { x1: l, y1: t, x2: l, y2: t + n, key: "line-".concat(d), index: d });
    return px(a, c);
  });
  return N.createElement("g", { className: "recharts-cartesian-grid-vertical" }, o);
}
function K4(e) {
  var t = e.horizontalFill,
    n = e.fillOpacity,
    i = e.x,
    a = e.y,
    s = e.width,
    o = e.height,
    l = e.horizontalPoints,
    d = e.horizontal,
    c = d === void 0 ? !0 : d;
  if (!c || !t || !t.length) return null;
  var u = l
    .map(function (p) {
      return Math.round(p + a - a);
    })
    .sort(function (p, g) {
      return p - g;
    });
  a !== u[0] && u.unshift(0);
  var h = u.map(function (p, g) {
    var m = !u[g + 1],
      v = m ? a + o - p : u[g + 1] - p;
    if (v <= 0) return null;
    var x = g % t.length;
    return N.createElement("rect", {
      key: "react-".concat(g),
      y: p,
      x: i,
      height: v,
      width: s,
      stroke: "none",
      fill: t[x],
      fillOpacity: n,
      className: "recharts-cartesian-grid-bg",
    });
  });
  return N.createElement("g", { className: "recharts-cartesian-gridstripes-horizontal" }, h);
}
function H4(e) {
  var t = e.vertical,
    n = t === void 0 ? !0 : t,
    i = e.verticalFill,
    a = e.fillOpacity,
    s = e.x,
    o = e.y,
    l = e.width,
    d = e.height,
    c = e.verticalPoints;
  if (!n || !i || !i.length) return null;
  var u = c
    .map(function (p) {
      return Math.round(p + s - s);
    })
    .sort(function (p, g) {
      return p - g;
    });
  s !== u[0] && u.unshift(0);
  var h = u.map(function (p, g) {
    var m = !u[g + 1],
      v = m ? s + l - p : u[g + 1] - p;
    if (v <= 0) return null;
    var x = g % i.length;
    return N.createElement("rect", {
      key: "react-".concat(g),
      x: p,
      y: o,
      width: v,
      height: d,
      stroke: "none",
      fill: i[x],
      fillOpacity: a,
      className: "recharts-cartesian-grid-bg",
    });
  });
  return N.createElement("g", { className: "recharts-cartesian-gridstripes-vertical" }, h);
}
var G4 = function (t, n) {
    var i = t.xAxis,
      a = t.width,
      s = t.height,
      o = t.offset;
    return Tg(
      cd(Nt(Nt(Nt({}, Ii.defaultProps), i), {}, { ticks: $r(i, !0), viewBox: { x: 0, y: 0, width: a, height: s } })),
      o.left,
      o.left + o.width,
      n,
    );
  },
  X4 = function (t, n) {
    var i = t.yAxis,
      a = t.width,
      s = t.height,
      o = t.offset;
    return Tg(
      cd(Nt(Nt(Nt({}, Ii.defaultProps), i), {}, { ticks: $r(i, !0), viewBox: { x: 0, y: 0, width: a, height: s } })),
      o.top,
      o.top + o.height,
      n,
    );
  },
  zn = {
    horizontal: !0,
    vertical: !0,
    horizontalPoints: [],
    verticalPoints: [],
    stroke: "#ccc",
    fill: "none",
    verticalFill: [],
    horizontalFill: [],
  };
function fx(e) {
  var t,
    n,
    i,
    a,
    s,
    o,
    l = ad(),
    d = sd(),
    c = MW(),
    u = Nt(
      Nt({}, e),
      {},
      {
        stroke: (t = e.stroke) !== null && t !== void 0 ? t : zn.stroke,
        fill: (n = e.fill) !== null && n !== void 0 ? n : zn.fill,
        horizontal: (i = e.horizontal) !== null && i !== void 0 ? i : zn.horizontal,
        horizontalFill: (a = e.horizontalFill) !== null && a !== void 0 ? a : zn.horizontalFill,
        vertical: (s = e.vertical) !== null && s !== void 0 ? s : zn.vertical,
        verticalFill: (o = e.verticalFill) !== null && o !== void 0 ? o : zn.verticalFill,
        x: se(e.x) ? e.x : c.left,
        y: se(e.y) ? e.y : c.top,
        width: se(e.width) ? e.width : c.width,
        height: se(e.height) ? e.height : c.height,
      },
    ),
    h = u.x,
    p = u.y,
    g = u.width,
    m = u.height,
    v = u.syncWithTicks,
    x = u.horizontalValues,
    j = u.verticalValues,
    b = TW(),
    _ = $W();
  if (!se(g) || g <= 0 || !se(m) || m <= 0 || !se(h) || h !== +h || !se(p) || p !== +p) return null;
  var S = u.verticalCoordinatesGenerator || G4,
    y = u.horizontalCoordinatesGenerator || X4,
    w = u.horizontalPoints,
    C = u.verticalPoints;
  if ((!w || !w.length) && Te(y)) {
    var O = x && x.length,
      k = y(
        { yAxis: _ ? Nt(Nt({}, _), {}, { ticks: O ? x : _.ticks }) : void 0, width: l, height: d, offset: c },
        O ? !0 : v,
      );
    Mr(
      Array.isArray(k),
      "horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Tn(k), "]"),
    ),
      Array.isArray(k) && (w = k);
  }
  if ((!C || !C.length) && Te(S)) {
    var D = j && j.length,
      E = S(
        { xAxis: b ? Nt(Nt({}, b), {}, { ticks: D ? j : b.ticks }) : void 0, width: l, height: d, offset: c },
        D ? !0 : v,
      );
    Mr(
      Array.isArray(E),
      "verticalCoordinatesGenerator should return Array but instead it returned [".concat(Tn(E), "]"),
    ),
      Array.isArray(E) && (C = E);
  }
  return N.createElement(
    "g",
    { className: "recharts-cartesian-grid" },
    N.createElement(V4, {
      fill: u.fill,
      fillOpacity: u.fillOpacity,
      x: u.x,
      y: u.y,
      width: u.width,
      height: u.height,
      ry: u.ry,
    }),
    N.createElement(q4, mn({}, u, { offset: c, horizontalPoints: w, xAxis: b, yAxis: _ })),
    N.createElement(U4, mn({}, u, { offset: c, verticalPoints: C, xAxis: b, yAxis: _ })),
    N.createElement(K4, mn({}, u, { horizontalPoints: w })),
    N.createElement(H4, mn({}, u, { verticalPoints: C })),
  );
}
fx.displayName = "CartesianGrid";
var Y4 = ["type", "layout", "connectNulls", "ref"],
  J4 = ["key"];
function hi(e) {
  "@babel/helpers - typeof";
  return (
    (hi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    hi(e)
  );
}
function sp(e, t) {
  if (e == null) return {};
  var n = Q4(e, t),
    i,
    a;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (a = 0; a < s.length; a++)
      (i = s[a]), !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i]);
  }
  return n;
}
function Q4(e, t) {
  if (e == null) return {};
  var n = {};
  for (var i in e)
    if (Object.prototype.hasOwnProperty.call(e, i)) {
      if (t.indexOf(i) >= 0) continue;
      n[i] = e[i];
    }
  return n;
}
function Fi() {
  return (
    (Fi = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    Fi.apply(this, arguments)
  );
}
function op(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Yt(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? op(Object(n), !0).forEach(function (i) {
          mr(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : op(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function Ln(e) {
  return rM(e) || tM(e) || eM(e) || Z4();
}
function Z4() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function eM(e, t) {
  if (e) {
    if (typeof e == "string") return cc(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if ((n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")) return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return cc(e, t);
  }
}
function tM(e) {
  if ((typeof Symbol < "u" && e[Symbol.iterator] != null) || e["@@iterator"] != null) return Array.from(e);
}
function rM(e) {
  if (Array.isArray(e)) return cc(e);
}
function cc(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
  return i;
}
function nM(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function lp(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, xx(i.key), i);
  }
}
function iM(e, t, n) {
  return t && lp(e.prototype, t), n && lp(e, n), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function aM(e, t, n) {
  return (t = Ns(t)), sM(e, gx() ? Reflect.construct(t, n || [], Ns(e).constructor) : t.apply(e, n));
}
function sM(e, t) {
  if (t && (hi(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0) throw new TypeError("Derived constructors may only return object or undefined");
  return oM(e);
}
function oM(e) {
  if (e === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
function gx() {
  try {
    var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch {}
  return (gx = function () {
    return !!e;
  })();
}
function Ns(e) {
  return (
    (Ns = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (n) {
          return n.__proto__ || Object.getPrototypeOf(n);
        }),
    Ns(e)
  );
}
function lM(e, t) {
  if (typeof t != "function" && t !== null) throw new TypeError("Super expression must either be null or a function");
  (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && dc(e, t);
}
function dc(e, t) {
  return (
    (dc = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (i, a) {
          return (i.__proto__ = a), i;
        }),
    dc(e, t)
  );
}
function mr(e, t, n) {
  return (
    (t = xx(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function xx(e) {
  var t = cM(e, "string");
  return hi(t) == "symbol" ? t : t + "";
}
function cM(e, t) {
  if (hi(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (hi(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var kn = (function (e) {
  function t() {
    var n;
    nM(this, t);
    for (var i = arguments.length, a = new Array(i), s = 0; s < i; s++) a[s] = arguments[s];
    return (
      (n = aM(this, t, [].concat(a))),
      mr(n, "state", { isAnimationFinished: !0, totalLength: 0 }),
      mr(n, "generateSimpleStrokeDasharray", function (o, l) {
        return "".concat(l, "px ").concat(o - l, "px");
      }),
      mr(n, "getStrokeDasharray", function (o, l, d) {
        var c = d.reduce(function (j, b) {
          return j + b;
        });
        if (!c) return n.generateSimpleStrokeDasharray(l, o);
        for (var u = Math.floor(o / c), h = o % c, p = l - o, g = [], m = 0, v = 0; m < d.length; v += d[m], ++m)
          if (v + d[m] > h) {
            g = [].concat(Ln(d.slice(0, m)), [h - v]);
            break;
          }
        var x = g.length % 2 === 0 ? [0, p] : [p];
        return []
          .concat(Ln(t.repeat(d, u)), Ln(g), x)
          .map(function (j) {
            return "".concat(j, "px");
          })
          .join(", ");
      }),
      mr(n, "id", $a("recharts-line-")),
      mr(n, "pathRef", function (o) {
        n.mainCurve = o;
      }),
      mr(n, "handleAnimationEnd", function () {
        n.setState({ isAnimationFinished: !0 }), n.props.onAnimationEnd && n.props.onAnimationEnd();
      }),
      mr(n, "handleAnimationStart", function () {
        n.setState({ isAnimationFinished: !1 }), n.props.onAnimationStart && n.props.onAnimationStart();
      }),
      n
    );
  }
  return (
    lM(t, e),
    iM(
      t,
      [
        {
          key: "componentDidMount",
          value: function () {
            if (this.props.isAnimationActive) {
              var i = this.getTotalLength();
              this.setState({ totalLength: i });
            }
          },
        },
        {
          key: "componentDidUpdate",
          value: function () {
            if (this.props.isAnimationActive) {
              var i = this.getTotalLength();
              i !== this.state.totalLength && this.setState({ totalLength: i });
            }
          },
        },
        {
          key: "getTotalLength",
          value: function () {
            var i = this.mainCurve;
            try {
              return (i && i.getTotalLength && i.getTotalLength()) || 0;
            } catch {
              return 0;
            }
          },
        },
        {
          key: "renderErrorBar",
          value: function (i, a) {
            if (this.props.isAnimationActive && !this.state.isAnimationFinished) return null;
            var s = this.props,
              o = s.points,
              l = s.xAxis,
              d = s.yAxis,
              c = s.layout,
              u = s.children,
              h = ar(u, Ma);
            if (!h) return null;
            var p = function (v, x) {
                return { x: v.x, y: v.y, value: v.value, errorVal: rr(v.payload, x) };
              },
              g = { clipPath: i ? "url(#clipPath-".concat(a, ")") : null };
            return N.createElement(
              mt,
              g,
              h.map(function (m) {
                return N.cloneElement(m, {
                  key: "bar-".concat(m.props.dataKey),
                  data: o,
                  xAxis: l,
                  yAxis: d,
                  layout: c,
                  dataPointFormatter: p,
                });
              }),
            );
          },
        },
        {
          key: "renderDots",
          value: function (i, a, s) {
            var o = this.props.isAnimationActive;
            if (o && !this.state.isAnimationFinished) return null;
            var l = this.props,
              d = l.dot,
              c = l.points,
              u = l.dataKey,
              h = Re(this.props, !1),
              p = Re(d, !0),
              g = c.map(function (v, x) {
                var j = Yt(
                  Yt(Yt({ key: "dot-".concat(x), r: 3 }, h), p),
                  {},
                  { value: v.value, dataKey: u, cx: v.x, cy: v.y, index: x, payload: v.payload },
                );
                return t.renderDotItem(d, j);
              }),
              m = { clipPath: i ? "url(#clipPath-".concat(a ? "" : "dots-").concat(s, ")") : null };
            return N.createElement(mt, Fi({ className: "recharts-line-dots", key: "dots" }, m), g);
          },
        },
        {
          key: "renderCurveStatically",
          value: function (i, a, s, o) {
            var l = this.props,
              d = l.type,
              c = l.layout,
              u = l.connectNulls;
            l.ref;
            var h = sp(l, Y4),
              p = Yt(
                Yt(
                  Yt({}, Re(h, !0)),
                  {},
                  {
                    fill: "none",
                    className: "recharts-line-curve",
                    clipPath: a ? "url(#clipPath-".concat(s, ")") : null,
                    points: i,
                  },
                  o,
                ),
                {},
                { type: d, layout: c, connectNulls: u },
              );
            return N.createElement(Yl, Fi({}, p, { pathRef: this.pathRef }));
          },
        },
        {
          key: "renderCurveWithAnimation",
          value: function (i, a) {
            var s = this,
              o = this.props,
              l = o.points,
              d = o.strokeDasharray,
              c = o.isAnimationActive,
              u = o.animationBegin,
              h = o.animationDuration,
              p = o.animationEasing,
              g = o.animationId,
              m = o.animateNewValues,
              v = o.width,
              x = o.height,
              j = this.state,
              b = j.prevPoints,
              _ = j.totalLength;
            return N.createElement(
              Jn,
              {
                begin: u,
                duration: h,
                isActive: c,
                easing: p,
                from: { t: 0 },
                to: { t: 1 },
                key: "line-".concat(g),
                onAnimationEnd: this.handleAnimationEnd,
                onAnimationStart: this.handleAnimationStart,
              },
              function (S) {
                var y = S.t;
                if (b) {
                  var w = b.length / l.length,
                    C = l.map(function (I, z) {
                      var R = Math.floor(z * w);
                      if (b[R]) {
                        var B = b[R],
                          V = vr(B.x, I.x),
                          q = vr(B.y, I.y);
                        return Yt(Yt({}, I), {}, { x: V(y), y: q(y) });
                      }
                      if (m) {
                        var G = vr(v * 2, I.x),
                          H = vr(x / 2, I.y);
                        return Yt(Yt({}, I), {}, { x: G(y), y: H(y) });
                      }
                      return Yt(Yt({}, I), {}, { x: I.x, y: I.y });
                    });
                  return s.renderCurveStatically(C, i, a);
                }
                var O = vr(0, _),
                  k = O(y),
                  D;
                if (d) {
                  var E = ""
                    .concat(d)
                    .split(/[,\s]+/gim)
                    .map(function (I) {
                      return parseFloat(I);
                    });
                  D = s.getStrokeDasharray(k, _, E);
                } else D = s.generateSimpleStrokeDasharray(_, k);
                return s.renderCurveStatically(l, i, a, { strokeDasharray: D });
              },
            );
          },
        },
        {
          key: "renderCurve",
          value: function (i, a) {
            var s = this.props,
              o = s.points,
              l = s.isAnimationActive,
              d = this.state,
              c = d.prevPoints,
              u = d.totalLength;
            return l && o && o.length && ((!c && u > 0) || !ho(c, o))
              ? this.renderCurveWithAnimation(i, a)
              : this.renderCurveStatically(o, i, a);
          },
        },
        {
          key: "render",
          value: function () {
            var i,
              a = this.props,
              s = a.hide,
              o = a.dot,
              l = a.points,
              d = a.className,
              c = a.xAxis,
              u = a.yAxis,
              h = a.top,
              p = a.left,
              g = a.width,
              m = a.height,
              v = a.isAnimationActive,
              x = a.id;
            if (s || !l || !l.length) return null;
            var j = this.state.isAnimationFinished,
              b = l.length === 1,
              _ = Me("recharts-line", d),
              S = c && c.allowDataOverflow,
              y = u && u.allowDataOverflow,
              w = S || y,
              C = ze(x) ? this.id : x,
              O = (i = Re(o, !1)) !== null && i !== void 0 ? i : { r: 3, strokeWidth: 2 },
              k = O.r,
              D = k === void 0 ? 3 : k,
              E = O.strokeWidth,
              I = E === void 0 ? 2 : E,
              z = Mw(o) ? o : {},
              R = z.clipDot,
              B = R === void 0 ? !0 : R,
              V = D * 2 + I;
            return N.createElement(
              mt,
              { className: _ },
              S || y
                ? N.createElement(
                    "defs",
                    null,
                    N.createElement(
                      "clipPath",
                      { id: "clipPath-".concat(C) },
                      N.createElement("rect", {
                        x: S ? p : p - g / 2,
                        y: y ? h : h - m / 2,
                        width: S ? g : g * 2,
                        height: y ? m : m * 2,
                      }),
                    ),
                    !B &&
                      N.createElement(
                        "clipPath",
                        { id: "clipPath-dots-".concat(C) },
                        N.createElement("rect", { x: p - V / 2, y: h - V / 2, width: g + V, height: m + V }),
                      ),
                  )
                : null,
              !b && this.renderCurve(w, C),
              this.renderErrorBar(w, C),
              (b || o) && this.renderDots(w, B, C),
              (!v || j) && Xr.renderCallByParent(this.props, l),
            );
          },
        },
      ],
      [
        {
          key: "getDerivedStateFromProps",
          value: function (i, a) {
            return i.animationId !== a.prevAnimationId
              ? { prevAnimationId: i.animationId, curPoints: i.points, prevPoints: a.curPoints }
              : i.points !== a.curPoints
                ? { curPoints: i.points }
                : null;
          },
        },
        {
          key: "repeat",
          value: function (i, a) {
            for (var s = i.length % 2 !== 0 ? [].concat(Ln(i), [0]) : i, o = [], l = 0; l < a; ++l)
              o = [].concat(Ln(o), Ln(s));
            return o;
          },
        },
        {
          key: "renderDotItem",
          value: function (i, a) {
            var s;
            if (N.isValidElement(i)) s = N.cloneElement(i, a);
            else if (Te(i)) s = i(a);
            else {
              var o = a.key,
                l = sp(a, J4),
                d = Me("recharts-line-dot", typeof i != "boolean" ? i.className : "");
              s = N.createElement(td, Fi({ key: o }, l, { className: d }));
            }
            return s;
          },
        },
      ],
    )
  );
})(f.PureComponent);
mr(kn, "displayName", "Line");
mr(kn, "defaultProps", {
  xAxisId: 0,
  yAxisId: 0,
  connectNulls: !1,
  activeDot: !0,
  dot: !0,
  legendType: "line",
  stroke: "#3182bd",
  strokeWidth: 1,
  fill: "#fff",
  points: [],
  isAnimationActive: !Nr.isSsr,
  animateNewValues: !0,
  animationBegin: 0,
  animationDuration: 1500,
  animationEasing: "ease",
  hide: !1,
  label: !1,
});
mr(kn, "getComposedData", function (e) {
  var t = e.props,
    n = e.xAxis,
    i = e.yAxis,
    a = e.xAxisTicks,
    s = e.yAxisTicks,
    o = e.dataKey,
    l = e.bandSize,
    d = e.displayedData,
    c = e.offset,
    u = t.layout,
    h = d.map(function (p, g) {
      var m = rr(p, o);
      return u === "horizontal"
        ? {
            x: sh({ axis: n, ticks: a, bandSize: l, entry: p, index: g }),
            y: ze(m) ? null : i.scale(m),
            value: m,
            payload: p,
          }
        : {
            x: ze(m) ? null : n.scale(m),
            y: sh({ axis: i, ticks: s, bandSize: l, entry: p, index: g }),
            value: m,
            payload: p,
          };
    });
  return Yt({ points: h, layout: u }, c);
});
function pi(e) {
  "@babel/helpers - typeof";
  return (
    (pi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    pi(e)
  );
}
function dM(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function uM(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, yx(i.key), i);
  }
}
function hM(e, t, n) {
  return t && uM(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function pM(e, t, n) {
  return (t = zs(t)), fM(e, mx() ? Reflect.construct(t, n || [], zs(e).constructor) : t.apply(e, n));
}
function fM(e, t) {
  if (t && (pi(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0) throw new TypeError("Derived constructors may only return object or undefined");
  return gM(e);
}
function gM(e) {
  if (e === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
function mx() {
  try {
    var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch {}
  return (mx = function () {
    return !!e;
  })();
}
function zs(e) {
  return (
    (zs = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (n) {
          return n.__proto__ || Object.getPrototypeOf(n);
        }),
    zs(e)
  );
}
function xM(e, t) {
  if (typeof t != "function" && t !== null) throw new TypeError("Super expression must either be null or a function");
  (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && uc(e, t);
}
function uc(e, t) {
  return (
    (uc = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (i, a) {
          return (i.__proto__ = a), i;
        }),
    uc(e, t)
  );
}
function vx(e, t, n) {
  return (
    (t = yx(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function yx(e) {
  var t = mM(e, "string");
  return pi(t) == "symbol" ? t : t + "";
}
function mM(e, t) {
  if (pi(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (pi(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function hc() {
  return (
    (hc = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    hc.apply(this, arguments)
  );
}
function vM(e) {
  var t = e.xAxisId,
    n = ad(),
    i = sd(),
    a = rx(t);
  return a == null
    ? null
    : N.createElement(
        Ii,
        hc({}, a, {
          className: Me("recharts-".concat(a.axisType, " ").concat(a.axisType), a.className),
          viewBox: { x: 0, y: 0, width: n, height: i },
          ticksGenerator: function (o) {
            return $r(o, !0);
          },
        }),
      );
}
var _o = (function (e) {
  function t() {
    return dM(this, t), pM(this, t, arguments);
  }
  return (
    xM(t, e),
    hM(t, [
      {
        key: "render",
        value: function () {
          return N.createElement(vM, this.props);
        },
      },
    ])
  );
})(N.Component);
vx(_o, "displayName", "XAxis");
vx(_o, "defaultProps", {
  allowDecimals: !0,
  hide: !1,
  orientation: "bottom",
  width: 0,
  height: 30,
  mirror: !1,
  xAxisId: 0,
  tickCount: 5,
  type: "category",
  padding: { left: 0, right: 0 },
  allowDataOverflow: !1,
  scale: "auto",
  reversed: !1,
  allowDuplicatedCategory: !0,
});
function fi(e) {
  "@babel/helpers - typeof";
  return (
    (fi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    fi(e)
  );
}
function yM(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function jM(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, _x(i.key), i);
  }
}
function bM(e, t, n) {
  return t && jM(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function _M(e, t, n) {
  return (t = Ls(t)), wM(e, jx() ? Reflect.construct(t, n || [], Ls(e).constructor) : t.apply(e, n));
}
function wM(e, t) {
  if (t && (fi(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0) throw new TypeError("Derived constructors may only return object or undefined");
  return SM(e);
}
function SM(e) {
  if (e === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
function jx() {
  try {
    var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch {}
  return (jx = function () {
    return !!e;
  })();
}
function Ls(e) {
  return (
    (Ls = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (n) {
          return n.__proto__ || Object.getPrototypeOf(n);
        }),
    Ls(e)
  );
}
function CM(e, t) {
  if (typeof t != "function" && t !== null) throw new TypeError("Super expression must either be null or a function");
  (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && pc(e, t);
}
function pc(e, t) {
  return (
    (pc = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (i, a) {
          return (i.__proto__ = a), i;
        }),
    pc(e, t)
  );
}
function bx(e, t, n) {
  return (
    (t = _x(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function _x(e) {
  var t = PM(e, "string");
  return fi(t) == "symbol" ? t : t + "";
}
function PM(e, t) {
  if (fi(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (fi(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function fc() {
  return (
    (fc = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    fc.apply(this, arguments)
  );
}
var OM = function (t) {
    var n = t.yAxisId,
      i = ad(),
      a = sd(),
      s = nx(n);
    return s == null
      ? null
      : N.createElement(
          Ii,
          fc({}, s, {
            className: Me("recharts-".concat(s.axisType, " ").concat(s.axisType), s.className),
            viewBox: { x: 0, y: 0, width: i, height: a },
            ticksGenerator: function (l) {
              return $r(l, !0);
            },
          }),
        );
  },
  wo = (function (e) {
    function t() {
      return yM(this, t), _M(this, t, arguments);
    }
    return (
      CM(t, e),
      bM(t, [
        {
          key: "render",
          value: function () {
            return N.createElement(OM, this.props);
          },
        },
      ])
    );
  })(N.Component);
bx(wo, "displayName", "YAxis");
bx(wo, "defaultProps", {
  allowDuplicatedCategory: !0,
  allowDecimals: !0,
  hide: !1,
  orientation: "left",
  width: 60,
  height: 0,
  mirror: !1,
  yAxisId: 0,
  tickCount: 5,
  type: "number",
  padding: { top: 0, bottom: 0 },
  allowDataOverflow: !1,
  scale: "auto",
  reversed: !1,
});
function cp(e) {
  return EM(e) || DM(e) || AM(e) || kM();
}
function kM() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function AM(e, t) {
  if (e) {
    if (typeof e == "string") return gc(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if ((n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")) return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return gc(e, t);
  }
}
function DM(e) {
  if ((typeof Symbol < "u" && e[Symbol.iterator] != null) || e["@@iterator"] != null) return Array.from(e);
}
function EM(e) {
  if (Array.isArray(e)) return gc(e);
}
function gc(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
  return i;
}
var xc = function (t, n, i, a, s) {
    var o = ar(t, ld),
      l = ar(t, yo),
      d = [].concat(cp(o), cp(l)),
      c = ar(t, bo),
      u = "".concat(a, "Id"),
      h = a[0],
      p = n;
    if (
      (d.length &&
        (p = d.reduce(function (v, x) {
          if (x.props[u] === i && Or(x.props, "extendDomain") && se(x.props[h])) {
            var j = x.props[h];
            return [Math.min(v[0], j), Math.max(v[1], j)];
          }
          return v;
        }, p)),
      c.length)
    ) {
      var g = "".concat(h, "1"),
        m = "".concat(h, "2");
      p = c.reduce(function (v, x) {
        if (x.props[u] === i && Or(x.props, "extendDomain") && se(x.props[g]) && se(x.props[m])) {
          var j = x.props[g],
            b = x.props[m];
          return [Math.min(v[0], j, b), Math.max(v[1], j, b)];
        }
        return v;
      }, p);
    }
    return (
      s &&
        s.length &&
        (p = s.reduce(function (v, x) {
          return se(x) ? [Math.min(v[0], x), Math.max(v[1], x)] : v;
        }, p)),
      p
    );
  },
  wx = { exports: {} };
(function (e) {
  var t = Object.prototype.hasOwnProperty,
    n = "~";
  function i() {}
  Object.create && ((i.prototype = Object.create(null)), new i().__proto__ || (n = !1));
  function a(d, c, u) {
    (this.fn = d), (this.context = c), (this.once = u || !1);
  }
  function s(d, c, u, h, p) {
    if (typeof u != "function") throw new TypeError("The listener must be a function");
    var g = new a(u, h || d, p),
      m = n ? n + c : c;
    return (
      d._events[m]
        ? d._events[m].fn
          ? (d._events[m] = [d._events[m], g])
          : d._events[m].push(g)
        : ((d._events[m] = g), d._eventsCount++),
      d
    );
  }
  function o(d, c) {
    --d._eventsCount === 0 ? (d._events = new i()) : delete d._events[c];
  }
  function l() {
    (this._events = new i()), (this._eventsCount = 0);
  }
  (l.prototype.eventNames = function () {
    var c = [],
      u,
      h;
    if (this._eventsCount === 0) return c;
    for (h in (u = this._events)) t.call(u, h) && c.push(n ? h.slice(1) : h);
    return Object.getOwnPropertySymbols ? c.concat(Object.getOwnPropertySymbols(u)) : c;
  }),
    (l.prototype.listeners = function (c) {
      var u = n ? n + c : c,
        h = this._events[u];
      if (!h) return [];
      if (h.fn) return [h.fn];
      for (var p = 0, g = h.length, m = new Array(g); p < g; p++) m[p] = h[p].fn;
      return m;
    }),
    (l.prototype.listenerCount = function (c) {
      var u = n ? n + c : c,
        h = this._events[u];
      return h ? (h.fn ? 1 : h.length) : 0;
    }),
    (l.prototype.emit = function (c, u, h, p, g, m) {
      var v = n ? n + c : c;
      if (!this._events[v]) return !1;
      var x = this._events[v],
        j = arguments.length,
        b,
        _;
      if (x.fn) {
        switch ((x.once && this.removeListener(c, x.fn, void 0, !0), j)) {
          case 1:
            return x.fn.call(x.context), !0;
          case 2:
            return x.fn.call(x.context, u), !0;
          case 3:
            return x.fn.call(x.context, u, h), !0;
          case 4:
            return x.fn.call(x.context, u, h, p), !0;
          case 5:
            return x.fn.call(x.context, u, h, p, g), !0;
          case 6:
            return x.fn.call(x.context, u, h, p, g, m), !0;
        }
        for (_ = 1, b = new Array(j - 1); _ < j; _++) b[_ - 1] = arguments[_];
        x.fn.apply(x.context, b);
      } else {
        var S = x.length,
          y;
        for (_ = 0; _ < S; _++)
          switch ((x[_].once && this.removeListener(c, x[_].fn, void 0, !0), j)) {
            case 1:
              x[_].fn.call(x[_].context);
              break;
            case 2:
              x[_].fn.call(x[_].context, u);
              break;
            case 3:
              x[_].fn.call(x[_].context, u, h);
              break;
            case 4:
              x[_].fn.call(x[_].context, u, h, p);
              break;
            default:
              if (!b) for (y = 1, b = new Array(j - 1); y < j; y++) b[y - 1] = arguments[y];
              x[_].fn.apply(x[_].context, b);
          }
      }
      return !0;
    }),
    (l.prototype.on = function (c, u, h) {
      return s(this, c, u, h, !1);
    }),
    (l.prototype.once = function (c, u, h) {
      return s(this, c, u, h, !0);
    }),
    (l.prototype.removeListener = function (c, u, h, p) {
      var g = n ? n + c : c;
      if (!this._events[g]) return this;
      if (!u) return o(this, g), this;
      var m = this._events[g];
      if (m.fn) m.fn === u && (!p || m.once) && (!h || m.context === h) && o(this, g);
      else {
        for (var v = 0, x = [], j = m.length; v < j; v++)
          (m[v].fn !== u || (p && !m[v].once) || (h && m[v].context !== h)) && x.push(m[v]);
        x.length ? (this._events[g] = x.length === 1 ? x[0] : x) : o(this, g);
      }
      return this;
    }),
    (l.prototype.removeAllListeners = function (c) {
      var u;
      return (
        c ? ((u = n ? n + c : c), this._events[u] && o(this, u)) : ((this._events = new i()), (this._eventsCount = 0)),
        this
      );
    }),
    (l.prototype.off = l.prototype.removeListener),
    (l.prototype.addListener = l.prototype.on),
    (l.prefixed = n),
    (l.EventEmitter = l),
    (e.exports = l);
})(wx);
var IM = wx.exports;
const TM = ht(IM);
var Zo = new TM(),
  el = "recharts.syncMouseEvents";
function ma(e) {
  "@babel/helpers - typeof";
  return (
    (ma =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ma(e)
  );
}
function $M(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function WM(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, Sx(i.key), i);
  }
}
function MM(e, t, n) {
  return t && WM(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function tl(e, t, n) {
  return (
    (t = Sx(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function Sx(e) {
  var t = NM(e, "string");
  return ma(t) == "symbol" ? t : t + "";
}
function NM(e, t) {
  if (ma(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t);
    if (ma(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
var zM = (function () {
  function e() {
    $M(this, e), tl(this, "activeIndex", 0), tl(this, "coordinateList", []), tl(this, "layout", "horizontal");
  }
  return MM(e, [
    {
      key: "setDetails",
      value: function (n) {
        var i,
          a = n.coordinateList,
          s = a === void 0 ? null : a,
          o = n.container,
          l = o === void 0 ? null : o,
          d = n.layout,
          c = d === void 0 ? null : d,
          u = n.offset,
          h = u === void 0 ? null : u,
          p = n.mouseHandlerCallback,
          g = p === void 0 ? null : p;
        (this.coordinateList = (i = s ?? this.coordinateList) !== null && i !== void 0 ? i : []),
          (this.container = l ?? this.container),
          (this.layout = c ?? this.layout),
          (this.offset = h ?? this.offset),
          (this.mouseHandlerCallback = g ?? this.mouseHandlerCallback),
          (this.activeIndex = Math.min(Math.max(this.activeIndex, 0), this.coordinateList.length - 1));
      },
    },
    {
      key: "focus",
      value: function () {
        this.spoofMouse();
      },
    },
    {
      key: "keyboardEvent",
      value: function (n) {
        if (this.coordinateList.length !== 0)
          switch (n.key) {
            case "ArrowRight": {
              if (this.layout !== "horizontal") return;
              (this.activeIndex = Math.min(this.activeIndex + 1, this.coordinateList.length - 1)), this.spoofMouse();
              break;
            }
            case "ArrowLeft": {
              if (this.layout !== "horizontal") return;
              (this.activeIndex = Math.max(this.activeIndex - 1, 0)), this.spoofMouse();
              break;
            }
          }
      },
    },
    {
      key: "setIndex",
      value: function (n) {
        this.activeIndex = n;
      },
    },
    {
      key: "spoofMouse",
      value: function () {
        var n, i;
        if (this.layout === "horizontal" && this.coordinateList.length !== 0) {
          var a = this.container.getBoundingClientRect(),
            s = a.x,
            o = a.y,
            l = a.height,
            d = this.coordinateList[this.activeIndex].coordinate,
            c = ((n = window) === null || n === void 0 ? void 0 : n.scrollX) || 0,
            u = ((i = window) === null || i === void 0 ? void 0 : i.scrollY) || 0,
            h = s + d + c,
            p = o + this.offset.top + l / 2 + u;
          this.mouseHandlerCallback({ pageX: h, pageY: p });
        }
      },
    },
  ]);
})();
function LM(e, t, n) {
  if (n === "number" && t === !0 && Array.isArray(e)) {
    var i = e == null ? void 0 : e[0],
      a = e == null ? void 0 : e[1];
    if (i && a && se(i) && se(a)) return !0;
  }
  return !1;
}
function BM(e, t, n, i) {
  var a = i / 2;
  return {
    stroke: "none",
    fill: "#ccc",
    x: e === "horizontal" ? t.x - a : n.left + 0.5,
    y: e === "horizontal" ? n.top + 0.5 : t.y - a,
    width: e === "horizontal" ? i : n.width - 1,
    height: e === "horizontal" ? n.height - 1 : i,
  };
}
function Cx(e) {
  var t = e.cx,
    n = e.cy,
    i = e.radius,
    a = e.startAngle,
    s = e.endAngle,
    o = Tt(t, n, i, a),
    l = Tt(t, n, i, s);
  return { points: [o, l], cx: t, cy: n, radius: i, startAngle: a, endAngle: s };
}
function RM(e, t, n) {
  var i, a, s, o;
  if (e === "horizontal") (i = t.x), (s = i), (a = n.top), (o = n.top + n.height);
  else if (e === "vertical") (a = t.y), (o = a), (i = n.left), (s = n.left + n.width);
  else if (t.cx != null && t.cy != null)
    if (e === "centric") {
      var l = t.cx,
        d = t.cy,
        c = t.innerRadius,
        u = t.outerRadius,
        h = t.angle,
        p = Tt(l, d, c, h),
        g = Tt(l, d, u, h);
      (i = p.x), (a = p.y), (s = g.x), (o = g.y);
    } else return Cx(t);
  return [
    { x: i, y: a },
    { x: s, y: o },
  ];
}
function va(e) {
  "@babel/helpers - typeof";
  return (
    (va =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    va(e)
  );
}
function dp(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function Ya(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? dp(Object(n), !0).forEach(function (i) {
          FM(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : dp(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function FM(e, t, n) {
  return (
    (t = VM(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function VM(e) {
  var t = qM(e, "string");
  return va(t) == "symbol" ? t : t + "";
}
function qM(e, t) {
  if (va(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (va(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function UM(e) {
  var t,
    n,
    i = e.element,
    a = e.tooltipEventType,
    s = e.isActive,
    o = e.activeCoordinate,
    l = e.activePayload,
    d = e.offset,
    c = e.activeTooltipIndex,
    u = e.tooltipAxisBandSize,
    h = e.layout,
    p = e.chartName,
    g =
      (t = i.props.cursor) !== null && t !== void 0
        ? t
        : (n = i.type.defaultProps) === null || n === void 0
          ? void 0
          : n.cursor;
  if (!i || !g || !s || !o || (p !== "ScatterChart" && a !== "axis")) return null;
  var m,
    v = Yl;
  if (p === "ScatterChart") (m = o), (v = q7);
  else if (p === "BarChart") (m = BM(h, o, d, u)), (v = ed);
  else if (h === "radial") {
    var x = Cx(o),
      j = x.cx,
      b = x.cy,
      _ = x.radius,
      S = x.startAngle,
      y = x.endAngle;
    (m = { cx: j, cy: b, startAngle: S, endAngle: y, innerRadius: _, outerRadius: _ }), (v = zg);
  } else (m = { points: RM(h, o, d) }), (v = Yl);
  var w = Ya(
    Ya(Ya(Ya({ stroke: "#ccc", pointerEvents: "none" }, d), m), Re(g, !1)),
    {},
    { payload: l, payloadIndex: c, className: Me("recharts-tooltip-cursor", g.className) },
  );
  return f.isValidElement(g) ? f.cloneElement(g, w) : f.createElement(v, w);
}
var KM = ["item"],
  HM = ["children", "className", "width", "height", "style", "compact", "title", "desc"];
function gi(e) {
  "@babel/helpers - typeof";
  return (
    (gi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    gi(e)
  );
}
function Kn() {
  return (
    (Kn = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);
          }
          return e;
        }),
    Kn.apply(this, arguments)
  );
}
function up(e, t) {
  return YM(e) || XM(e, t) || Ox(e, t) || GM();
}
function GM() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function XM(e, t) {
  var n = e == null ? null : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (n != null) {
    var i,
      a,
      s,
      o,
      l = [],
      d = !0,
      c = !1;
    try {
      if (((s = (n = n.call(e)).next), t !== 0))
        for (; !(d = (i = s.call(n)).done) && (l.push(i.value), l.length !== t); d = !0);
    } catch (u) {
      (c = !0), (a = u);
    } finally {
      try {
        if (!d && n.return != null && ((o = n.return()), Object(o) !== o)) return;
      } finally {
        if (c) throw a;
      }
    }
    return l;
  }
}
function YM(e) {
  if (Array.isArray(e)) return e;
}
function hp(e, t) {
  if (e == null) return {};
  var n = JM(e, t),
    i,
    a;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (a = 0; a < s.length; a++)
      (i = s[a]), !(t.indexOf(i) >= 0) && Object.prototype.propertyIsEnumerable.call(e, i) && (n[i] = e[i]);
  }
  return n;
}
function JM(e, t) {
  if (e == null) return {};
  var n = {};
  for (var i in e)
    if (Object.prototype.hasOwnProperty.call(e, i)) {
      if (t.indexOf(i) >= 0) continue;
      n[i] = e[i];
    }
  return n;
}
function QM(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
}
function ZM(e, t) {
  for (var n = 0; n < t.length; n++) {
    var i = t[n];
    (i.enumerable = i.enumerable || !1),
      (i.configurable = !0),
      "value" in i && (i.writable = !0),
      Object.defineProperty(e, kx(i.key), i);
  }
}
function e6(e, t, n) {
  return t && ZM(e.prototype, t), Object.defineProperty(e, "prototype", { writable: !1 }), e;
}
function t6(e, t, n) {
  return (t = Bs(t)), r6(e, Px() ? Reflect.construct(t, n || [], Bs(e).constructor) : t.apply(e, n));
}
function r6(e, t) {
  if (t && (gi(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0) throw new TypeError("Derived constructors may only return object or undefined");
  return n6(e);
}
function n6(e) {
  if (e === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
function Px() {
  try {
    var e = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
  } catch {}
  return (Px = function () {
    return !!e;
  })();
}
function Bs(e) {
  return (
    (Bs = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (n) {
          return n.__proto__ || Object.getPrototypeOf(n);
        }),
    Bs(e)
  );
}
function i6(e, t) {
  if (typeof t != "function" && t !== null) throw new TypeError("Super expression must either be null or a function");
  (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && mc(e, t);
}
function mc(e, t) {
  return (
    (mc = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (i, a) {
          return (i.__proto__ = a), i;
        }),
    mc(e, t)
  );
}
function xi(e) {
  return o6(e) || s6(e) || Ox(e) || a6();
}
function a6() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function Ox(e, t) {
  if (e) {
    if (typeof e == "string") return vc(e, t);
    var n = Object.prototype.toString.call(e).slice(8, -1);
    if ((n === "Object" && e.constructor && (n = e.constructor.name), n === "Map" || n === "Set")) return Array.from(e);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return vc(e, t);
  }
}
function s6(e) {
  if ((typeof Symbol < "u" && e[Symbol.iterator] != null) || e["@@iterator"] != null) return Array.from(e);
}
function o6(e) {
  if (Array.isArray(e)) return vc(e);
}
function vc(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];
  return i;
}
function pp(e, t) {
  var n = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var i = Object.getOwnPropertySymbols(e);
    t &&
      (i = i.filter(function (a) {
        return Object.getOwnPropertyDescriptor(e, a).enumerable;
      })),
      n.push.apply(n, i);
  }
  return n;
}
function U(e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? pp(Object(n), !0).forEach(function (i) {
          Ce(e, i, n[i]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : pp(Object(n)).forEach(function (i) {
            Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(n, i));
          });
  }
  return e;
}
function Ce(e, t, n) {
  return (
    (t = kx(t)),
    t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
    e
  );
}
function kx(e) {
  var t = l6(e, "string");
  return gi(t) == "symbol" ? t : t + "";
}
function l6(e, t) {
  if (gi(e) != "object" || !e) return e;
  var n = e[Symbol.toPrimitive];
  if (n !== void 0) {
    var i = n.call(e, t || "default");
    if (gi(i) != "object") return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var c6 = { xAxis: ["bottom", "top"], yAxis: ["left", "right"] },
  d6 = { width: "100%", height: "100%" },
  Ax = { x: 0, y: 0 };
function Ja(e) {
  return e;
}
var u6 = function (t, n) {
    return n === "horizontal" ? t.x : n === "vertical" ? t.y : n === "centric" ? t.angle : t.radius;
  },
  h6 = function (t, n, i, a) {
    var s = n.find(function (u) {
      return u && u.index === i;
    });
    if (s) {
      if (t === "horizontal") return { x: s.coordinate, y: a.y };
      if (t === "vertical") return { x: a.x, y: s.coordinate };
      if (t === "centric") {
        var o = s.coordinate,
          l = a.radius;
        return U(U(U({}, a), Tt(a.cx, a.cy, l, o)), {}, { angle: o, radius: l });
      }
      var d = s.coordinate,
        c = a.angle;
      return U(U(U({}, a), Tt(a.cx, a.cy, d, c)), {}, { angle: c, radius: d });
    }
    return Ax;
  },
  So = function (t, n) {
    var i = n.graphicalItems,
      a = n.dataStartIndex,
      s = n.dataEndIndex,
      o = (i ?? []).reduce(function (l, d) {
        var c = d.props.data;
        return c && c.length ? [].concat(xi(l), xi(c)) : l;
      }, []);
    return o.length > 0 ? o : t && t.length && se(a) && se(s) ? t.slice(a, s + 1) : [];
  };
function Dx(e) {
  return e === "number" ? [0, "auto"] : void 0;
}
var yc = function (t, n, i, a) {
    var s = t.graphicalItems,
      o = t.tooltipAxis,
      l = So(n, t);
    return i < 0 || !s || !s.length || i >= l.length
      ? null
      : s.reduce(function (d, c) {
          var u,
            h = (u = c.props.data) !== null && u !== void 0 ? u : n;
          h &&
            t.dataStartIndex + t.dataEndIndex !== 0 &&
            t.dataEndIndex - t.dataStartIndex >= i &&
            (h = h.slice(t.dataStartIndex, t.dataEndIndex + 1));
          var p;
          if (o.dataKey && !o.allowDuplicatedCategory) {
            var g = h === void 0 ? l : h;
            p = ss(g, o.dataKey, a);
          } else p = (h && h[i]) || l[i];
          return p ? [].concat(xi(d), [Wg(c, p)]) : d;
        }, []);
  },
  fp = function (t, n, i, a) {
    var s = a || { x: t.chartX, y: t.chartY },
      o = u6(s, i),
      l = t.orderedTooltipTicks,
      d = t.tooltipAxis,
      c = t.tooltipTicks,
      u = sT(o, l, c, d);
    if (u >= 0 && c) {
      var h = c[u] && c[u].value,
        p = yc(t, n, u, h),
        g = h6(i, l, u, s);
      return { activeTooltipIndex: u, activeLabel: h, activePayload: p, activeCoordinate: g };
    }
    return null;
  },
  p6 = function (t, n) {
    var i = n.axes,
      a = n.graphicalItems,
      s = n.axisType,
      o = n.axisIdKey,
      l = n.stackGroups,
      d = n.dataStartIndex,
      c = n.dataEndIndex,
      u = t.layout,
      h = t.children,
      p = t.stackOffset,
      g = Ig(u, s);
    return i.reduce(function (m, v) {
      var x,
        j = v.type.defaultProps !== void 0 ? U(U({}, v.type.defaultProps), v.props) : v.props,
        b = j.type,
        _ = j.dataKey,
        S = j.allowDataOverflow,
        y = j.allowDuplicatedCategory,
        w = j.scale,
        C = j.ticks,
        O = j.includeHidden,
        k = j[o];
      if (m[k]) return m;
      var D = So(t.data, {
          graphicalItems: a.filter(function (Y) {
            var ie,
              J = o in Y.props ? Y.props[o] : (ie = Y.type.defaultProps) === null || ie === void 0 ? void 0 : ie[o];
            return J === k;
          }),
          dataStartIndex: d,
          dataEndIndex: c,
        }),
        E = D.length,
        I,
        z,
        R;
      LM(j.domain, S, b) &&
        ((I = Ul(j.domain, null, S)), g && (b === "number" || w !== "auto") && (R = Ri(D, _, "category")));
      var B = Dx(b);
      if (!I || I.length === 0) {
        var V,
          q = (V = j.domain) !== null && V !== void 0 ? V : B;
        if (_) {
          if (((I = Ri(D, _, b)), b === "category" && g)) {
            var G = Ow(I);
            y && G
              ? ((z = I), (I = Os(0, E)))
              : y ||
                (I = dh(q, I, v).reduce(function (Y, ie) {
                  return Y.indexOf(ie) >= 0 ? Y : [].concat(xi(Y), [ie]);
                }, []));
          } else if (b === "category")
            y
              ? (I = I.filter(function (Y) {
                  return Y !== "" && !ze(Y);
                }))
              : (I = dh(q, I, v).reduce(function (Y, ie) {
                  return Y.indexOf(ie) >= 0 || ie === "" || ze(ie) ? Y : [].concat(xi(Y), [ie]);
                }, []));
          else if (b === "number") {
            var H = uT(
              D,
              a.filter(function (Y) {
                var ie,
                  J,
                  ae =
                    o in Y.props ? Y.props[o] : (ie = Y.type.defaultProps) === null || ie === void 0 ? void 0 : ie[o],
                  Ae =
                    "hide" in Y.props
                      ? Y.props.hide
                      : (J = Y.type.defaultProps) === null || J === void 0
                        ? void 0
                        : J.hide;
                return ae === k && (O || !Ae);
              }),
              _,
              s,
              u,
            );
            H && (I = H);
          }
          g && (b === "number" || w !== "auto") && (R = Ri(D, _, "category"));
        } else
          g
            ? (I = Os(0, E))
            : l && l[k] && l[k].hasStack && b === "number"
              ? (I = p === "expand" ? [0, 1] : $g(l[k].stackGroups, d, c))
              : (I = Eg(
                  D,
                  a.filter(function (Y) {
                    var ie = o in Y.props ? Y.props[o] : Y.type.defaultProps[o],
                      J = "hide" in Y.props ? Y.props.hide : Y.type.defaultProps.hide;
                    return ie === k && (O || !J);
                  }),
                  b,
                  u,
                  !0,
                ));
        if (b === "number") (I = xc(h, I, k, s, C)), q && (I = Ul(q, I, S));
        else if (b === "category" && q) {
          var Q = q,
            ne = I.every(function (Y) {
              return Q.indexOf(Y) >= 0;
            });
          ne && (I = Q);
        }
      }
      return U(
        U({}, m),
        {},
        Ce(
          {},
          k,
          U(
            U({}, j),
            {},
            {
              axisType: s,
              domain: I,
              categoricalDomain: R,
              duplicateDomain: z,
              originalDomain: (x = j.domain) !== null && x !== void 0 ? x : B,
              isCategorical: g,
              layout: u,
            },
          ),
        ),
      );
    }, {});
  },
  f6 = function (t, n) {
    var i = n.graphicalItems,
      a = n.Axis,
      s = n.axisType,
      o = n.axisIdKey,
      l = n.stackGroups,
      d = n.dataStartIndex,
      c = n.dataEndIndex,
      u = t.layout,
      h = t.children,
      p = So(t.data, { graphicalItems: i, dataStartIndex: d, dataEndIndex: c }),
      g = p.length,
      m = Ig(u, s),
      v = -1;
    return i.reduce(function (x, j) {
      var b = j.type.defaultProps !== void 0 ? U(U({}, j.type.defaultProps), j.props) : j.props,
        _ = b[o],
        S = Dx("number");
      if (!x[_]) {
        v++;
        var y;
        return (
          m
            ? (y = Os(0, g))
            : l && l[_] && l[_].hasStack
              ? ((y = $g(l[_].stackGroups, d, c)), (y = xc(h, y, _, s)))
              : ((y = Ul(
                  S,
                  Eg(
                    p,
                    i.filter(function (w) {
                      var C,
                        O,
                        k =
                          o in w.props
                            ? w.props[o]
                            : (C = w.type.defaultProps) === null || C === void 0
                              ? void 0
                              : C[o],
                        D =
                          "hide" in w.props
                            ? w.props.hide
                            : (O = w.type.defaultProps) === null || O === void 0
                              ? void 0
                              : O.hide;
                      return k === _ && !D;
                    }),
                    "number",
                    u,
                  ),
                  a.defaultProps.allowDataOverflow,
                )),
                (y = xc(h, y, _, s))),
          U(
            U({}, x),
            {},
            Ce(
              {},
              _,
              U(
                U({ axisType: s }, a.defaultProps),
                {},
                {
                  hide: !0,
                  orientation: ir(c6, "".concat(s, ".").concat(v % 2), null),
                  domain: y,
                  originalDomain: S,
                  isCategorical: m,
                  layout: u,
                },
              ),
            ),
          )
        );
      }
      return x;
    }, {});
  },
  g6 = function (t, n) {
    var i = n.axisType,
      a = i === void 0 ? "xAxis" : i,
      s = n.AxisComp,
      o = n.graphicalItems,
      l = n.stackGroups,
      d = n.dataStartIndex,
      c = n.dataEndIndex,
      u = t.children,
      h = "".concat(a, "Id"),
      p = ar(u, s),
      g = {};
    return (
      p && p.length
        ? (g = p6(t, {
            axes: p,
            graphicalItems: o,
            axisType: a,
            axisIdKey: h,
            stackGroups: l,
            dataStartIndex: d,
            dataEndIndex: c,
          }))
        : o &&
          o.length &&
          (g = f6(t, {
            Axis: s,
            graphicalItems: o,
            axisType: a,
            axisIdKey: h,
            stackGroups: l,
            dataStartIndex: d,
            dataEndIndex: c,
          })),
      g
    );
  },
  x6 = function (t) {
    var n = Hr(t),
      i = $r(n, !1, !0);
    return {
      tooltipTicks: i,
      orderedTooltipTicks: Xc(i, function (a) {
        return a.coordinate;
      }),
      tooltipAxis: n,
      tooltipAxisBandSize: bs(n, i),
    };
  },
  gp = function (t) {
    var n = t.children,
      i = t.defaultShowTooltip,
      a = Qt(n, si),
      s = 0,
      o = 0;
    return (
      t.data && t.data.length !== 0 && (o = t.data.length - 1),
      a &&
        a.props &&
        (a.props.startIndex >= 0 && (s = a.props.startIndex), a.props.endIndex >= 0 && (o = a.props.endIndex)),
      { chartX: 0, chartY: 0, dataStartIndex: s, dataEndIndex: o, activeTooltipIndex: -1, isTooltipActive: !!i }
    );
  },
  m6 = function (t) {
    return !t || !t.length
      ? !1
      : t.some(function (n) {
          var i = Wr(n && n.type);
          return i && i.indexOf("Bar") >= 0;
        });
  },
  xp = function (t) {
    return t === "horizontal"
      ? { numericAxisName: "yAxis", cateAxisName: "xAxis" }
      : t === "vertical"
        ? { numericAxisName: "xAxis", cateAxisName: "yAxis" }
        : t === "centric"
          ? { numericAxisName: "radiusAxis", cateAxisName: "angleAxis" }
          : { numericAxisName: "angleAxis", cateAxisName: "radiusAxis" };
  },
  v6 = function (t, n) {
    var i = t.props,
      a = t.graphicalItems,
      s = t.xAxisMap,
      o = s === void 0 ? {} : s,
      l = t.yAxisMap,
      d = l === void 0 ? {} : l,
      c = i.width,
      u = i.height,
      h = i.children,
      p = i.margin || {},
      g = Qt(h, si),
      m = Qt(h, Pn),
      v = Object.keys(d).reduce(
        function (y, w) {
          var C = d[w],
            O = C.orientation;
          return !C.mirror && !C.hide ? U(U({}, y), {}, Ce({}, O, y[O] + C.width)) : y;
        },
        { left: p.left || 0, right: p.right || 0 },
      ),
      x = Object.keys(o).reduce(
        function (y, w) {
          var C = o[w],
            O = C.orientation;
          return !C.mirror && !C.hide ? U(U({}, y), {}, Ce({}, O, ir(y, "".concat(O)) + C.height)) : y;
        },
        { top: p.top || 0, bottom: p.bottom || 0 },
      ),
      j = U(U({}, x), v),
      b = j.bottom;
    g && (j.bottom += g.props.height || si.defaultProps.height), m && n && (j = cT(j, a, i, n));
    var _ = c - j.left - j.right,
      S = u - j.top - j.bottom;
    return U(U({ brushBottom: b }, j), {}, { width: Math.max(_, 0), height: Math.max(S, 0) });
  },
  y6 = function (t, n) {
    if (n === "xAxis") return t[n].width;
    if (n === "yAxis") return t[n].height;
  },
  j6 = function (t) {
    var n = t.chartName,
      i = t.GraphicalChild,
      a = t.defaultTooltipEventType,
      s = a === void 0 ? "axis" : a,
      o = t.validateTooltipEventTypes,
      l = o === void 0 ? ["axis"] : o,
      d = t.axisComponents,
      c = t.legendContent,
      u = t.formatAxisMap,
      h = t.defaultProps,
      p = function (j, b) {
        var _ = b.graphicalItems,
          S = b.stackGroups,
          y = b.offset,
          w = b.updateId,
          C = b.dataStartIndex,
          O = b.dataEndIndex,
          k = j.barSize,
          D = j.layout,
          E = j.barGap,
          I = j.barCategoryGap,
          z = j.maxBarSize,
          R = xp(D),
          B = R.numericAxisName,
          V = R.cateAxisName,
          q = m6(_),
          G = [];
        return (
          _.forEach(function (H, Q) {
            var ne = So(j.data, { graphicalItems: [H], dataStartIndex: C, dataEndIndex: O }),
              Y = H.type.defaultProps !== void 0 ? U(U({}, H.type.defaultProps), H.props) : H.props,
              ie = Y.dataKey,
              J = Y.maxBarSize,
              ae = Y["".concat(B, "Id")],
              Ae = Y["".concat(V, "Id")],
              Xe = {},
              We = d.reduce(function (qt, De) {
                var ee = b["".concat(De.axisType, "Map")],
                  re = Y["".concat(De.axisType, "Id")];
                (ee && ee[re]) || De.axisType === "zAxis" || In();
                var me = ee[re];
                return U(U({}, qt), {}, Ce(Ce({}, De.axisType, me), "".concat(De.axisType, "Ticks"), $r(me)));
              }, Xe),
              qe = We[V],
              Ke = We["".concat(V, "Ticks")],
              Fe = S && S[ae] && S[ae].hasStack && wT(H, S[ae].stackGroups),
              Le = Wr(H.type).indexOf("Bar") >= 0,
              Se = bs(qe, Ke),
              Be = [],
              He = q && oT({ barSize: k, stackGroups: S, totalSize: y6(We, V) });
            if (Le) {
              var ue,
                K,
                ve = ze(J) ? z : J,
                Ne = (ue = (K = bs(qe, Ke, !0)) !== null && K !== void 0 ? K : ve) !== null && ue !== void 0 ? ue : 0;
              (Be = lT({
                barGap: E,
                barCategoryGap: I,
                bandSize: Ne !== Se ? Ne : Se,
                sizeList: He[Ae],
                maxBarSize: ve,
              })),
                Ne !== Se &&
                  (Be = Be.map(function (qt) {
                    return U(
                      U({}, qt),
                      {},
                      { position: U(U({}, qt.position), {}, { offset: qt.position.offset - Ne / 2 }) },
                    );
                  }));
            }
            var pr = H && H.type && H.type.getComposedData;
            pr &&
              G.push({
                props: U(
                  U(
                    {},
                    pr(
                      U(
                        U({}, We),
                        {},
                        {
                          displayedData: ne,
                          props: j,
                          dataKey: ie,
                          item: H,
                          bandSize: Se,
                          barPosition: Be,
                          offset: y,
                          stackedData: Fe,
                          layout: D,
                          dataStartIndex: C,
                          dataEndIndex: O,
                        },
                      ),
                    ),
                  ),
                  {},
                  Ce(Ce(Ce({ key: H.key || "item-".concat(Q) }, B, We[B]), V, We[V]), "animationId", w),
                ),
                childIndex: Lw(H, j.children),
                item: H,
              });
          }),
          G
        );
      },
      g = function (j, b) {
        var _ = j.props,
          S = j.dataStartIndex,
          y = j.dataEndIndex,
          w = j.updateId;
        if (!Hd({ props: _ })) return null;
        var C = _.children,
          O = _.layout,
          k = _.stackOffset,
          D = _.data,
          E = _.reverseStackOrder,
          I = xp(O),
          z = I.numericAxisName,
          R = I.cateAxisName,
          B = ar(C, i),
          V = jT(D, B, "".concat(z, "Id"), "".concat(R, "Id"), k, E),
          q = d.reduce(function (Y, ie) {
            var J = "".concat(ie.axisType, "Map");
            return U(
              U({}, Y),
              {},
              Ce(
                {},
                J,
                g6(
                  _,
                  U(
                    U({}, ie),
                    {},
                    { graphicalItems: B, stackGroups: ie.axisType === z && V, dataStartIndex: S, dataEndIndex: y },
                  ),
                ),
              ),
            );
          }, {}),
          G = v6(U(U({}, q), {}, { props: _, graphicalItems: B }), b == null ? void 0 : b.legendBBox);
        Object.keys(q).forEach(function (Y) {
          q[Y] = u(_, q[Y], G, Y.replace("Map", ""), n);
        });
        var H = q["".concat(R, "Map")],
          Q = x6(H),
          ne = p(
            _,
            U(
              U({}, q),
              {},
              { dataStartIndex: S, dataEndIndex: y, updateId: w, graphicalItems: B, stackGroups: V, offset: G },
            ),
          );
        return U(U({ formattedGraphicalItems: ne, graphicalItems: B, offset: G, stackGroups: V }, Q), q);
      },
      m = (function (x) {
        function j(b) {
          var _, S, y;
          return (
            QM(this, j),
            (y = t6(this, j, [b])),
            Ce(y, "eventEmitterSymbol", Symbol("rechartsEventEmitter")),
            Ce(y, "accessibilityManager", new zM()),
            Ce(y, "handleLegendBBoxUpdate", function (w) {
              if (w) {
                var C = y.state,
                  O = C.dataStartIndex,
                  k = C.dataEndIndex,
                  D = C.updateId;
                y.setState(
                  U(
                    { legendBBox: w },
                    g(
                      { props: y.props, dataStartIndex: O, dataEndIndex: k, updateId: D },
                      U(U({}, y.state), {}, { legendBBox: w }),
                    ),
                  ),
                );
              }
            }),
            Ce(y, "handleReceiveSyncEvent", function (w, C, O) {
              if (y.props.syncId === w) {
                if (O === y.eventEmitterSymbol && typeof y.props.syncMethod != "function") return;
                y.applySyncEvent(C);
              }
            }),
            Ce(y, "handleBrushChange", function (w) {
              var C = w.startIndex,
                O = w.endIndex;
              if (C !== y.state.dataStartIndex || O !== y.state.dataEndIndex) {
                var k = y.state.updateId;
                y.setState(function () {
                  return U(
                    { dataStartIndex: C, dataEndIndex: O },
                    g({ props: y.props, dataStartIndex: C, dataEndIndex: O, updateId: k }, y.state),
                  );
                }),
                  y.triggerSyncEvent({ dataStartIndex: C, dataEndIndex: O });
              }
            }),
            Ce(y, "handleMouseEnter", function (w) {
              var C = y.getMouseInfo(w);
              if (C) {
                var O = U(U({}, C), {}, { isTooltipActive: !0 });
                y.setState(O), y.triggerSyncEvent(O);
                var k = y.props.onMouseEnter;
                Te(k) && k(O, w);
              }
            }),
            Ce(y, "triggeredAfterMouseMove", function (w) {
              var C = y.getMouseInfo(w),
                O = C ? U(U({}, C), {}, { isTooltipActive: !0 }) : { isTooltipActive: !1 };
              y.setState(O), y.triggerSyncEvent(O);
              var k = y.props.onMouseMove;
              Te(k) && k(O, w);
            }),
            Ce(y, "handleItemMouseEnter", function (w) {
              y.setState(function () {
                return {
                  isTooltipActive: !0,
                  activeItem: w,
                  activePayload: w.tooltipPayload,
                  activeCoordinate: w.tooltipPosition || { x: w.cx, y: w.cy },
                };
              });
            }),
            Ce(y, "handleItemMouseLeave", function () {
              y.setState(function () {
                return { isTooltipActive: !1 };
              });
            }),
            Ce(y, "handleMouseMove", function (w) {
              w.persist(), y.throttleTriggeredAfterMouseMove(w);
            }),
            Ce(y, "handleMouseLeave", function (w) {
              y.throttleTriggeredAfterMouseMove.cancel();
              var C = { isTooltipActive: !1 };
              y.setState(C), y.triggerSyncEvent(C);
              var O = y.props.onMouseLeave;
              Te(O) && O(C, w);
            }),
            Ce(y, "handleOuterEvent", function (w) {
              var C = zw(w),
                O = ir(y.props, "".concat(C));
              if (C && Te(O)) {
                var k, D;
                /.*touch.*/i.test(C) ? (D = y.getMouseInfo(w.changedTouches[0])) : (D = y.getMouseInfo(w)),
                  O((k = D) !== null && k !== void 0 ? k : {}, w);
              }
            }),
            Ce(y, "handleClick", function (w) {
              var C = y.getMouseInfo(w);
              if (C) {
                var O = U(U({}, C), {}, { isTooltipActive: !0 });
                y.setState(O), y.triggerSyncEvent(O);
                var k = y.props.onClick;
                Te(k) && k(O, w);
              }
            }),
            Ce(y, "handleMouseDown", function (w) {
              var C = y.props.onMouseDown;
              if (Te(C)) {
                var O = y.getMouseInfo(w);
                C(O, w);
              }
            }),
            Ce(y, "handleMouseUp", function (w) {
              var C = y.props.onMouseUp;
              if (Te(C)) {
                var O = y.getMouseInfo(w);
                C(O, w);
              }
            }),
            Ce(y, "handleTouchMove", function (w) {
              w.changedTouches != null &&
                w.changedTouches.length > 0 &&
                y.throttleTriggeredAfterMouseMove(w.changedTouches[0]);
            }),
            Ce(y, "handleTouchStart", function (w) {
              w.changedTouches != null && w.changedTouches.length > 0 && y.handleMouseDown(w.changedTouches[0]);
            }),
            Ce(y, "handleTouchEnd", function (w) {
              w.changedTouches != null && w.changedTouches.length > 0 && y.handleMouseUp(w.changedTouches[0]);
            }),
            Ce(y, "handleDoubleClick", function (w) {
              var C = y.props.onDoubleClick;
              if (Te(C)) {
                var O = y.getMouseInfo(w);
                C(O, w);
              }
            }),
            Ce(y, "handleContextMenu", function (w) {
              var C = y.props.onContextMenu;
              if (Te(C)) {
                var O = y.getMouseInfo(w);
                C(O, w);
              }
            }),
            Ce(y, "triggerSyncEvent", function (w) {
              y.props.syncId !== void 0 && Zo.emit(el, y.props.syncId, w, y.eventEmitterSymbol);
            }),
            Ce(y, "applySyncEvent", function (w) {
              var C = y.props,
                O = C.layout,
                k = C.syncMethod,
                D = y.state.updateId,
                E = w.dataStartIndex,
                I = w.dataEndIndex;
              if (w.dataStartIndex !== void 0 || w.dataEndIndex !== void 0)
                y.setState(
                  U(
                    { dataStartIndex: E, dataEndIndex: I },
                    g({ props: y.props, dataStartIndex: E, dataEndIndex: I, updateId: D }, y.state),
                  ),
                );
              else if (w.activeTooltipIndex !== void 0) {
                var z = w.chartX,
                  R = w.chartY,
                  B = w.activeTooltipIndex,
                  V = y.state,
                  q = V.offset,
                  G = V.tooltipTicks;
                if (!q) return;
                if (typeof k == "function") B = k(G, w);
                else if (k === "value") {
                  B = -1;
                  for (var H = 0; H < G.length; H++)
                    if (G[H].value === w.activeLabel) {
                      B = H;
                      break;
                    }
                }
                var Q = U(U({}, q), {}, { x: q.left, y: q.top }),
                  ne = Math.min(z, Q.x + Q.width),
                  Y = Math.min(R, Q.y + Q.height),
                  ie = G[B] && G[B].value,
                  J = yc(y.state, y.props.data, B),
                  ae = G[B]
                    ? { x: O === "horizontal" ? G[B].coordinate : ne, y: O === "horizontal" ? Y : G[B].coordinate }
                    : Ax;
                y.setState(
                  U(U({}, w), {}, { activeLabel: ie, activeCoordinate: ae, activePayload: J, activeTooltipIndex: B }),
                );
              } else y.setState(w);
            }),
            Ce(y, "renderCursor", function (w) {
              var C,
                O = y.state,
                k = O.isTooltipActive,
                D = O.activeCoordinate,
                E = O.activePayload,
                I = O.offset,
                z = O.activeTooltipIndex,
                R = O.tooltipAxisBandSize,
                B = y.getTooltipEventType(),
                V = (C = w.props.active) !== null && C !== void 0 ? C : k,
                q = y.props.layout,
                G = w.key || "_recharts-cursor";
              return N.createElement(UM, {
                key: G,
                activeCoordinate: D,
                activePayload: E,
                activeTooltipIndex: z,
                chartName: n,
                element: w,
                isActive: V,
                layout: q,
                offset: I,
                tooltipAxisBandSize: R,
                tooltipEventType: B,
              });
            }),
            Ce(y, "renderPolarAxis", function (w, C, O) {
              var k = ir(w, "type.axisType"),
                D = ir(y.state, "".concat(k, "Map")),
                E = w.type.defaultProps,
                I = E !== void 0 ? U(U({}, E), w.props) : w.props,
                z = D && D[I["".concat(k, "Id")]];
              return f.cloneElement(
                w,
                U(
                  U({}, z),
                  {},
                  { className: Me(k, z.className), key: w.key || "".concat(C, "-").concat(O), ticks: $r(z, !0) },
                ),
              );
            }),
            Ce(y, "renderPolarGrid", function (w) {
              var C = w.props,
                O = C.radialLines,
                k = C.polarAngles,
                D = C.polarRadius,
                E = y.state,
                I = E.radiusAxisMap,
                z = E.angleAxisMap,
                R = Hr(I),
                B = Hr(z),
                V = B.cx,
                q = B.cy,
                G = B.innerRadius,
                H = B.outerRadius;
              return f.cloneElement(w, {
                polarAngles: Array.isArray(k)
                  ? k
                  : $r(B, !0).map(function (Q) {
                      return Q.coordinate;
                    }),
                polarRadius: Array.isArray(D)
                  ? D
                  : $r(R, !0).map(function (Q) {
                      return Q.coordinate;
                    }),
                cx: V,
                cy: q,
                innerRadius: G,
                outerRadius: H,
                key: w.key || "polar-grid",
                radialLines: O,
              });
            }),
            Ce(y, "renderLegend", function () {
              var w = y.state.formattedGraphicalItems,
                C = y.props,
                O = C.children,
                k = C.width,
                D = C.height,
                E = y.props.margin || {},
                I = k - (E.left || 0) - (E.right || 0),
                z = Ag({ children: O, formattedGraphicalItems: w, legendWidth: I, legendContent: c });
              if (!z) return null;
              var R = z.item,
                B = hp(z, KM);
              return f.cloneElement(
                R,
                U(U({}, B), {}, { chartWidth: k, chartHeight: D, margin: E, onBBoxUpdate: y.handleLegendBBoxUpdate }),
              );
            }),
            Ce(y, "renderTooltip", function () {
              var w,
                C = y.props,
                O = C.children,
                k = C.accessibilityLayer,
                D = Qt(O, Cr);
              if (!D) return null;
              var E = y.state,
                I = E.isTooltipActive,
                z = E.activeCoordinate,
                R = E.activePayload,
                B = E.activeLabel,
                V = E.offset,
                q = (w = D.props.active) !== null && w !== void 0 ? w : I;
              return f.cloneElement(D, {
                viewBox: U(U({}, V), {}, { x: V.left, y: V.top }),
                active: q,
                label: B,
                payload: q ? R : [],
                coordinate: z,
                accessibilityLayer: k,
              });
            }),
            Ce(y, "renderBrush", function (w) {
              var C = y.props,
                O = C.margin,
                k = C.data,
                D = y.state,
                E = D.offset,
                I = D.dataStartIndex,
                z = D.dataEndIndex,
                R = D.updateId;
              return f.cloneElement(w, {
                key: w.key || "_recharts-brush",
                onChange: Ha(y.handleBrushChange, w.props.onChange),
                data: k,
                x: se(w.props.x) ? w.props.x : E.left,
                y: se(w.props.y) ? w.props.y : E.top + E.height + E.brushBottom - (O.bottom || 0),
                width: se(w.props.width) ? w.props.width : E.width,
                startIndex: I,
                endIndex: z,
                updateId: "brush-".concat(R),
              });
            }),
            Ce(y, "renderReferenceElement", function (w, C, O) {
              if (!w) return null;
              var k = y,
                D = k.clipPathId,
                E = y.state,
                I = E.xAxisMap,
                z = E.yAxisMap,
                R = E.offset,
                B = w.type.defaultProps || {},
                V = w.props,
                q = V.xAxisId,
                G = q === void 0 ? B.xAxisId : q,
                H = V.yAxisId,
                Q = H === void 0 ? B.yAxisId : H;
              return f.cloneElement(w, {
                key: w.key || "".concat(C, "-").concat(O),
                xAxis: I[G],
                yAxis: z[Q],
                viewBox: { x: R.left, y: R.top, width: R.width, height: R.height },
                clipPathId: D,
              });
            }),
            Ce(y, "renderActivePoints", function (w) {
              var C = w.item,
                O = w.activePoint,
                k = w.basePoint,
                D = w.childIndex,
                E = w.isRange,
                I = [],
                z = C.props.key,
                R =
                  C.item.type.defaultProps !== void 0 ? U(U({}, C.item.type.defaultProps), C.item.props) : C.item.props,
                B = R.activeDot,
                V = R.dataKey,
                q = U(
                  U(
                    {
                      index: D,
                      dataKey: V,
                      cx: O.x,
                      cy: O.y,
                      r: 4,
                      fill: Zc(C.item),
                      strokeWidth: 2,
                      stroke: "#fff",
                      payload: O.payload,
                      value: O.value,
                    },
                    Re(B, !1),
                  ),
                  os(B),
                );
              return (
                I.push(j.renderActiveDot(B, q, "".concat(z, "-activePoint-").concat(D))),
                k
                  ? I.push(
                      j.renderActiveDot(
                        B,
                        U(U({}, q), {}, { cx: k.x, cy: k.y }),
                        "".concat(z, "-basePoint-").concat(D),
                      ),
                    )
                  : E && I.push(null),
                I
              );
            }),
            Ce(y, "renderGraphicChild", function (w, C, O) {
              var k = y.filterFormatItem(w, C, O);
              if (!k) return null;
              var D = y.getTooltipEventType(),
                E = y.state,
                I = E.isTooltipActive,
                z = E.tooltipAxis,
                R = E.activeTooltipIndex,
                B = E.activeLabel,
                V = y.props.children,
                q = Qt(V, Cr),
                G = k.props,
                H = G.points,
                Q = G.isRange,
                ne = G.baseLine,
                Y =
                  k.item.type.defaultProps !== void 0 ? U(U({}, k.item.type.defaultProps), k.item.props) : k.item.props,
                ie = Y.activeDot,
                J = Y.hide,
                ae = Y.activeBar,
                Ae = Y.activeShape,
                Xe = !!(!J && I && q && (ie || ae || Ae)),
                We = {};
              D !== "axis" && q && q.props.trigger === "click"
                ? (We = { onClick: Ha(y.handleItemMouseEnter, w.props.onClick) })
                : D !== "axis" &&
                  (We = {
                    onMouseLeave: Ha(y.handleItemMouseLeave, w.props.onMouseLeave),
                    onMouseEnter: Ha(y.handleItemMouseEnter, w.props.onMouseEnter),
                  });
              var qe = f.cloneElement(w, U(U({}, k.props), We));
              function Ke(De) {
                return typeof z.dataKey == "function" ? z.dataKey(De.payload) : null;
              }
              if (Xe)
                if (R >= 0) {
                  var Fe, Le;
                  if (z.dataKey && !z.allowDuplicatedCategory) {
                    var Se = typeof z.dataKey == "function" ? Ke : "payload.".concat(z.dataKey.toString());
                    (Fe = ss(H, Se, B)), (Le = Q && ne && ss(ne, Se, B));
                  } else (Fe = H == null ? void 0 : H[R]), (Le = Q && ne && ne[R]);
                  if (Ae || ae) {
                    var Be = w.props.activeIndex !== void 0 ? w.props.activeIndex : R;
                    return [f.cloneElement(w, U(U(U({}, k.props), We), {}, { activeIndex: Be })), null, null];
                  }
                  if (!ze(Fe))
                    return [qe].concat(
                      xi(y.renderActivePoints({ item: k, activePoint: Fe, basePoint: Le, childIndex: R, isRange: Q })),
                    );
                } else {
                  var He,
                    ue =
                      (He = y.getItemByXY(y.state.activeCoordinate)) !== null && He !== void 0
                        ? He
                        : { graphicalItem: qe },
                    K = ue.graphicalItem,
                    ve = K.item,
                    Ne = ve === void 0 ? w : ve,
                    pr = K.childIndex,
                    qt = U(U(U({}, k.props), We), {}, { activeIndex: pr });
                  return [f.cloneElement(Ne, qt), null, null];
                }
              return Q ? [qe, null, null] : [qe, null];
            }),
            Ce(y, "renderCustomized", function (w, C, O) {
              return f.cloneElement(w, U(U({ key: "recharts-customized-".concat(O) }, y.props), y.state));
            }),
            Ce(y, "renderMap", {
              CartesianGrid: { handler: Ja, once: !0 },
              ReferenceArea: { handler: y.renderReferenceElement },
              ReferenceLine: { handler: Ja },
              ReferenceDot: { handler: y.renderReferenceElement },
              XAxis: { handler: Ja },
              YAxis: { handler: Ja },
              Brush: { handler: y.renderBrush, once: !0 },
              Bar: { handler: y.renderGraphicChild },
              Line: { handler: y.renderGraphicChild },
              Area: { handler: y.renderGraphicChild },
              Radar: { handler: y.renderGraphicChild },
              RadialBar: { handler: y.renderGraphicChild },
              Scatter: { handler: y.renderGraphicChild },
              Pie: { handler: y.renderGraphicChild },
              Funnel: { handler: y.renderGraphicChild },
              Tooltip: { handler: y.renderCursor, once: !0 },
              PolarGrid: { handler: y.renderPolarGrid, once: !0 },
              PolarAngleAxis: { handler: y.renderPolarAxis },
              PolarRadiusAxis: { handler: y.renderPolarAxis },
              Customized: { handler: y.renderCustomized },
            }),
            (y.clipPathId = "".concat((_ = b.id) !== null && _ !== void 0 ? _ : $a("recharts"), "-clip")),
            (y.throttleTriggeredAfterMouseMove = jp(
              y.triggeredAfterMouseMove,
              (S = b.throttleDelay) !== null && S !== void 0 ? S : 1e3 / 60,
            )),
            (y.state = {}),
            y
          );
        }
        return (
          i6(j, x),
          e6(j, [
            {
              key: "componentDidMount",
              value: function () {
                var _, S;
                this.addListener(),
                  this.accessibilityManager.setDetails({
                    container: this.container,
                    offset: {
                      left: (_ = this.props.margin.left) !== null && _ !== void 0 ? _ : 0,
                      top: (S = this.props.margin.top) !== null && S !== void 0 ? S : 0,
                    },
                    coordinateList: this.state.tooltipTicks,
                    mouseHandlerCallback: this.triggeredAfterMouseMove,
                    layout: this.props.layout,
                  }),
                  this.displayDefaultTooltip();
              },
            },
            {
              key: "displayDefaultTooltip",
              value: function () {
                var _ = this.props,
                  S = _.children,
                  y = _.data,
                  w = _.height,
                  C = _.layout,
                  O = Qt(S, Cr);
                if (O) {
                  var k = O.props.defaultIndex;
                  if (!(typeof k != "number" || k < 0 || k > this.state.tooltipTicks.length - 1)) {
                    var D = this.state.tooltipTicks[k] && this.state.tooltipTicks[k].value,
                      E = yc(this.state, y, k, D),
                      I = this.state.tooltipTicks[k].coordinate,
                      z = (this.state.offset.top + w) / 2,
                      R = C === "horizontal",
                      B = R ? { x: I, y: z } : { y: I, x: z },
                      V = this.state.formattedGraphicalItems.find(function (G) {
                        var H = G.item;
                        return H.type.name === "Scatter";
                      });
                    V && ((B = U(U({}, B), V.props.points[k].tooltipPosition)), (E = V.props.points[k].tooltipPayload));
                    var q = {
                      activeTooltipIndex: k,
                      isTooltipActive: !0,
                      activeLabel: D,
                      activePayload: E,
                      activeCoordinate: B,
                    };
                    this.setState(q), this.renderCursor(O), this.accessibilityManager.setIndex(k);
                  }
                }
              },
            },
            {
              key: "getSnapshotBeforeUpdate",
              value: function (_, S) {
                if (!this.props.accessibilityLayer) return null;
                if (
                  (this.state.tooltipTicks !== S.tooltipTicks &&
                    this.accessibilityManager.setDetails({ coordinateList: this.state.tooltipTicks }),
                  this.props.layout !== _.layout && this.accessibilityManager.setDetails({ layout: this.props.layout }),
                  this.props.margin !== _.margin)
                ) {
                  var y, w;
                  this.accessibilityManager.setDetails({
                    offset: {
                      left: (y = this.props.margin.left) !== null && y !== void 0 ? y : 0,
                      top: (w = this.props.margin.top) !== null && w !== void 0 ? w : 0,
                    },
                  });
                }
                return null;
              },
            },
            {
              key: "componentDidUpdate",
              value: function (_) {
                ml([Qt(_.children, Cr)], [Qt(this.props.children, Cr)]) || this.displayDefaultTooltip();
              },
            },
            {
              key: "componentWillUnmount",
              value: function () {
                this.removeListener(), this.throttleTriggeredAfterMouseMove.cancel();
              },
            },
            {
              key: "getTooltipEventType",
              value: function () {
                var _ = Qt(this.props.children, Cr);
                if (_ && typeof _.props.shared == "boolean") {
                  var S = _.props.shared ? "axis" : "item";
                  return l.indexOf(S) >= 0 ? S : s;
                }
                return s;
              },
            },
            {
              key: "getMouseInfo",
              value: function (_) {
                if (!this.container) return null;
                var S = this.container,
                  y = S.getBoundingClientRect(),
                  w = aE(y),
                  C = { chartX: Math.round(_.pageX - w.left), chartY: Math.round(_.pageY - w.top) },
                  O = y.width / S.offsetWidth || 1,
                  k = this.inRange(C.chartX, C.chartY, O);
                if (!k) return null;
                var D = this.state,
                  E = D.xAxisMap,
                  I = D.yAxisMap,
                  z = this.getTooltipEventType();
                if (z !== "axis" && E && I) {
                  var R = Hr(E).scale,
                    B = Hr(I).scale,
                    V = R && R.invert ? R.invert(C.chartX) : null,
                    q = B && B.invert ? B.invert(C.chartY) : null;
                  return U(U({}, C), {}, { xValue: V, yValue: q });
                }
                var G = fp(this.state, this.props.data, this.props.layout, k);
                return G ? U(U({}, C), G) : null;
              },
            },
            {
              key: "inRange",
              value: function (_, S) {
                var y = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1,
                  w = this.props.layout,
                  C = _ / y,
                  O = S / y;
                if (w === "horizontal" || w === "vertical") {
                  var k = this.state.offset,
                    D = C >= k.left && C <= k.left + k.width && O >= k.top && O <= k.top + k.height;
                  return D ? { x: C, y: O } : null;
                }
                var E = this.state,
                  I = E.angleAxisMap,
                  z = E.radiusAxisMap;
                if (I && z) {
                  var R = Hr(I);
                  return ph({ x: C, y: O }, R);
                }
                return null;
              },
            },
            {
              key: "parseEventsOfWrapper",
              value: function () {
                var _ = this.props.children,
                  S = this.getTooltipEventType(),
                  y = Qt(_, Cr),
                  w = {};
                y &&
                  S === "axis" &&
                  (y.props.trigger === "click"
                    ? (w = { onClick: this.handleClick })
                    : (w = {
                        onMouseEnter: this.handleMouseEnter,
                        onDoubleClick: this.handleDoubleClick,
                        onMouseMove: this.handleMouseMove,
                        onMouseLeave: this.handleMouseLeave,
                        onTouchMove: this.handleTouchMove,
                        onTouchStart: this.handleTouchStart,
                        onTouchEnd: this.handleTouchEnd,
                        onContextMenu: this.handleContextMenu,
                      }));
                var C = os(this.props, this.handleOuterEvent);
                return U(U({}, C), w);
              },
            },
            {
              key: "addListener",
              value: function () {
                Zo.on(el, this.handleReceiveSyncEvent);
              },
            },
            {
              key: "removeListener",
              value: function () {
                Zo.removeListener(el, this.handleReceiveSyncEvent);
              },
            },
            {
              key: "filterFormatItem",
              value: function (_, S, y) {
                for (var w = this.state.formattedGraphicalItems, C = 0, O = w.length; C < O; C++) {
                  var k = w[C];
                  if (k.item === _ || k.props.key === _.key || (S === Wr(k.item.type) && y === k.childIndex)) return k;
                }
                return null;
              },
            },
            {
              key: "renderClipPath",
              value: function () {
                var _ = this.clipPathId,
                  S = this.state.offset,
                  y = S.left,
                  w = S.top,
                  C = S.height,
                  O = S.width;
                return N.createElement(
                  "defs",
                  null,
                  N.createElement("clipPath", { id: _ }, N.createElement("rect", { x: y, y: w, height: C, width: O })),
                );
              },
            },
            {
              key: "getXScales",
              value: function () {
                var _ = this.state.xAxisMap;
                return _
                  ? Object.entries(_).reduce(function (S, y) {
                      var w = up(y, 2),
                        C = w[0],
                        O = w[1];
                      return U(U({}, S), {}, Ce({}, C, O.scale));
                    }, {})
                  : null;
              },
            },
            {
              key: "getYScales",
              value: function () {
                var _ = this.state.yAxisMap;
                return _
                  ? Object.entries(_).reduce(function (S, y) {
                      var w = up(y, 2),
                        C = w[0],
                        O = w[1];
                      return U(U({}, S), {}, Ce({}, C, O.scale));
                    }, {})
                  : null;
              },
            },
            {
              key: "getXScaleByAxisId",
              value: function (_) {
                var S;
                return (S = this.state.xAxisMap) === null || S === void 0 || (S = S[_]) === null || S === void 0
                  ? void 0
                  : S.scale;
              },
            },
            {
              key: "getYScaleByAxisId",
              value: function (_) {
                var S;
                return (S = this.state.yAxisMap) === null || S === void 0 || (S = S[_]) === null || S === void 0
                  ? void 0
                  : S.scale;
              },
            },
            {
              key: "getItemByXY",
              value: function (_) {
                var S = this.state,
                  y = S.formattedGraphicalItems,
                  w = S.activeItem;
                if (y && y.length)
                  for (var C = 0, O = y.length; C < O; C++) {
                    var k = y[C],
                      D = k.props,
                      E = k.item,
                      I = E.type.defaultProps !== void 0 ? U(U({}, E.type.defaultProps), E.props) : E.props,
                      z = Wr(E.type);
                    if (z === "Bar") {
                      var R = (D.data || []).find(function (G) {
                        return $7(_, G);
                      });
                      if (R) return { graphicalItem: k, payload: R };
                    } else if (z === "RadialBar") {
                      var B = (D.data || []).find(function (G) {
                        return ph(_, G);
                      });
                      if (B) return { graphicalItem: k, payload: B };
                    } else if (go(k, w) || xo(k, w) || ha(k, w)) {
                      var V = N$({ graphicalItem: k, activeTooltipItem: w, itemData: I.data }),
                        q = I.activeIndex === void 0 ? V : I.activeIndex;
                      return {
                        graphicalItem: U(U({}, k), {}, { childIndex: q }),
                        payload: ha(k, w) ? I.data[V] : k.props.data[V],
                      };
                    }
                  }
                return null;
              },
            },
            {
              key: "render",
              value: function () {
                var _ = this;
                if (!Hd(this)) return null;
                var S = this.props,
                  y = S.children,
                  w = S.className,
                  C = S.width,
                  O = S.height,
                  k = S.style,
                  D = S.compact,
                  E = S.title,
                  I = S.desc,
                  z = hp(S, HM),
                  R = Re(z, !1);
                if (D)
                  return N.createElement(
                    Hh,
                    {
                      state: this.state,
                      width: this.props.width,
                      height: this.props.height,
                      clipPathId: this.clipPathId,
                    },
                    N.createElement(
                      yl,
                      Kn({}, R, { width: C, height: O, title: E, desc: I }),
                      this.renderClipPath(),
                      Xd(y, this.renderMap),
                    ),
                  );
                if (this.props.accessibilityLayer) {
                  var B, V;
                  (R.tabIndex = (B = this.props.tabIndex) !== null && B !== void 0 ? B : 0),
                    (R.role = (V = this.props.role) !== null && V !== void 0 ? V : "application"),
                    (R.onKeyDown = function (G) {
                      _.accessibilityManager.keyboardEvent(G);
                    }),
                    (R.onFocus = function () {
                      _.accessibilityManager.focus();
                    });
                }
                var q = this.parseEventsOfWrapper();
                return N.createElement(
                  Hh,
                  {
                    state: this.state,
                    width: this.props.width,
                    height: this.props.height,
                    clipPathId: this.clipPathId,
                  },
                  N.createElement(
                    "div",
                    Kn(
                      {
                        className: Me("recharts-wrapper", w),
                        style: U({ position: "relative", cursor: "default", width: C, height: O }, k),
                      },
                      q,
                      {
                        ref: function (H) {
                          _.container = H;
                        },
                      },
                    ),
                    N.createElement(
                      yl,
                      Kn({}, R, { width: C, height: O, title: E, desc: I, style: d6 }),
                      this.renderClipPath(),
                      Xd(y, this.renderMap),
                    ),
                    this.renderLegend(),
                    this.renderTooltip(),
                  ),
                );
              },
            },
          ])
        );
      })(f.Component);
    Ce(m, "displayName", n),
      Ce(
        m,
        "defaultProps",
        U(
          {
            layout: "horizontal",
            stackOffset: "none",
            barCategoryGap: "10%",
            barGap: 4,
            margin: { top: 5, right: 5, bottom: 5, left: 5 },
            reverseStackOrder: !1,
            syncMethod: "index",
          },
          h,
        ),
      ),
      Ce(m, "getDerivedStateFromProps", function (x, j) {
        var b = x.dataKey,
          _ = x.data,
          S = x.children,
          y = x.width,
          w = x.height,
          C = x.layout,
          O = x.stackOffset,
          k = x.margin,
          D = j.dataStartIndex,
          E = j.dataEndIndex;
        if (j.updateId === void 0) {
          var I = gp(x);
          return U(
            U(U({}, I), {}, { updateId: 0 }, g(U(U({ props: x }, I), {}, { updateId: 0 }), j)),
            {},
            {
              prevDataKey: b,
              prevData: _,
              prevWidth: y,
              prevHeight: w,
              prevLayout: C,
              prevStackOffset: O,
              prevMargin: k,
              prevChildren: S,
            },
          );
        }
        if (
          b !== j.prevDataKey ||
          _ !== j.prevData ||
          y !== j.prevWidth ||
          w !== j.prevHeight ||
          C !== j.prevLayout ||
          O !== j.prevStackOffset ||
          !Xn(k, j.prevMargin)
        ) {
          var z = gp(x),
            R = { chartX: j.chartX, chartY: j.chartY, isTooltipActive: j.isTooltipActive },
            B = U(U({}, fp(j, _, C)), {}, { updateId: j.updateId + 1 }),
            V = U(U(U({}, z), R), B);
          return U(
            U(U({}, V), g(U({ props: x }, V), j)),
            {},
            {
              prevDataKey: b,
              prevData: _,
              prevWidth: y,
              prevHeight: w,
              prevLayout: C,
              prevStackOffset: O,
              prevMargin: k,
              prevChildren: S,
            },
          );
        }
        if (!ml(S, j.prevChildren)) {
          var q,
            G,
            H,
            Q,
            ne = Qt(S, si),
            Y =
              ne && (q = (G = ne.props) === null || G === void 0 ? void 0 : G.startIndex) !== null && q !== void 0
                ? q
                : D,
            ie =
              ne && (H = (Q = ne.props) === null || Q === void 0 ? void 0 : Q.endIndex) !== null && H !== void 0
                ? H
                : E,
            J = Y !== D || ie !== E,
            ae = !ze(_),
            Ae = ae && !J ? j.updateId : j.updateId + 1;
          return U(
            U({ updateId: Ae }, g(U(U({ props: x }, j), {}, { updateId: Ae, dataStartIndex: Y, dataEndIndex: ie }), j)),
            {},
            { prevChildren: S, dataStartIndex: Y, dataEndIndex: ie },
          );
        }
        return null;
      }),
      Ce(m, "renderActiveDot", function (x, j, b) {
        var _;
        return (
          f.isValidElement(x) ? (_ = f.cloneElement(x, j)) : Te(x) ? (_ = x(j)) : (_ = N.createElement(td, j)),
          N.createElement(mt, { className: "recharts-active-dot", key: b }, _)
        );
      });
    var v = f.forwardRef(function (j, b) {
      return N.createElement(m, Kn({}, j, { ref: b }));
    });
    return (v.displayName = m.displayName), v;
  },
  b6 = j6({
    chartName: "LineChart",
    GraphicalChild: kn,
    axisComponents: [
      { axisType: "xAxis", AxisComp: _o },
      { axisType: "yAxis", AxisComp: wo },
    ],
    formatAxisMap: lW,
  });
function _6(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M19.27 5.33C17.94 4.71 16.5 4.26 15 4a.1.1 0 0 0-.07.03c-.18.33-.39.76-.53 1.09a16.1 16.1 0 0 0-4.8 0c-.14-.34-.35-.76-.54-1.09c-.01-.02-.04-.03-.07-.03c-1.5.26-2.93.71-4.27 1.33c-.01 0-.02.01-.03.02c-2.72 4.07-3.47 8.03-3.1 11.95c0 .02.01.04.03.05c1.8 1.32 3.53 2.12 5.24 2.65c.03.01.06 0 .07-.02c.4-.55.76-1.13 1.07-1.74c.02-.04 0-.08-.04-.09c-.57-.22-1.11-.48-1.64-.78c-.04-.02-.04-.08-.01-.11c.11-.08.22-.17.33-.25c.02-.02.05-.02.07-.01c3.44 1.57 7.15 1.57 10.55 0c.02-.01.05-.01.07.01c.11.09.22.17.33.26c.04.03.04.09-.01.11c-.52.31-1.07.56-1.64.78c-.04.01-.05.06-.04.09c.32.61.68 1.19 1.07 1.74c.03.01.06.02.09.01c1.72-.53 3.45-1.33 5.25-2.65c.02-.01.03-.03.03-.05c.44-4.53-.73-8.46-3.1-11.95c-.01-.01-.02-.02-.04-.02M8.52 14.91c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.84 2.12-1.89 2.12m6.97 0c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.83 2.12-1.89 2.12",
    }),
  });
}
function w6(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M13 6.75V2H8.75A2.25 2.25 0 0 0 6.5 4.25v13a2.25 2.25 0 0 0 2.25 2.25h9A2.25 2.25 0 0 0 20 17.25V9h-4.75A2.25 2.25 0 0 1 13 6.75m1.5 0V2.5l5 5h-4.25a.75.75 0 0 1-.75-.75M5.503 4.627A2.251 2.251 0 0 0 4 6.75v10.504a4.75 4.75 0 0 0 4.75 4.75h6.494a2.25 2.25 0 0 0 2.122-1.5H8.75a3.25 3.25 0 0 1-3.25-3.25z",
    }),
  });
}
function Bn(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M6.25 5C5.56 5 5 5.56 5 6.25v11.5c0 .69.56 1.25 1.25 1.25h11.5c.69 0 1.25-.56 1.25-1.25V14a1 1 0 1 1 2 0v3.75A3.25 3.25 0 0 1 17.75 21H6.25A3.25 3.25 0 0 1 3 17.75V6.25A3.25 3.25 0 0 1 6.25 3H10a1 1 0 1 1 0 2zM14 5a1 1 0 1 1 0-2h6a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0V6.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L17.586 5z",
    }),
  });
}
function S6(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M6.747 4h3.464a.75.75 0 0 1 .102 1.493l-.102.007H6.747a2.25 2.25 0 0 0-2.245 2.095l-.005.155v9.5a2.25 2.25 0 0 0 2.096 2.244l.154.006h9.5a2.25 2.25 0 0 0 2.246-2.096l.005-.154v-.498a.75.75 0 0 1 1.493-.102l.007.102v.498a3.75 3.75 0 0 1-3.551 3.744l-.2.006h-9.5a3.75 3.75 0 0 1-3.745-3.551l-.005-.2v-9.5a3.75 3.75 0 0 1 3.55-3.744zh3.464zm7.754 2.544V3.75a.75.75 0 0 1 1.187-.61l.082.068l5.995 5.75c.28.269.305.7.076.998l-.076.085l-5.995 5.752a.75.75 0 0 1-1.262-.435l-.007-.107V12.45l-.32-.007c-2.658-.008-4.93 1.084-6.866 3.302c-.495.567-1.425.131-1.305-.613c.827-5.14 3.599-8.044 8.19-8.558zV3.75z",
    }),
  });
}
function C6(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M8.665 15.735c.245.173.537.265.836.264v-.004a1.441 1.441 0 0 0 1.327-.872l.613-1.864a2.87 2.87 0 0 1 1.817-1.812l1.778-.578a1.442 1.442 0 0 0-.052-2.74l-1.755-.57a2.877 2.877 0 0 1-1.822-1.823l-.578-1.777a1.446 1.446 0 0 0-2.732.022l-.583 1.792a2.877 2.877 0 0 1-1.77 1.786l-1.777.57a1.444 1.444 0 0 0 .017 2.735l1.754.569a2.887 2.887 0 0 1 1.822 1.826l.578 1.775c.099.283.283.527.527.7m7.667 5.047a1.123 1.123 0 0 1-.41-.55l-.328-1.006a1.292 1.292 0 0 0-.821-.823l-.991-.323a1.148 1.148 0 0 1-.781-1.083a1.142 1.142 0 0 1 .771-1.08l1.006-.326a1.3 1.3 0 0 0 .8-.82l.324-.991a1.143 1.143 0 0 1 2.157-.021l.329 1.014a1.299 1.299 0 0 0 .82.816l.992.323a1.141 1.141 0 0 1 .039 2.165l-1.014.329a1.3 1.3 0 0 0-.818.822l-.322.989c-.078.23-.226.43-.425.57a1.14 1.14 0 0 1-1.328-.005",
    }),
  });
}
function P6(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19c-.14.75-.42 1-.68 1.03c-.58.05-1.02-.38-1.58-.75c-.88-.58-1.38-.94-2.23-1.5c-.99-.65-.35-1.01.22-1.59c.15-.15 2.71-2.48 2.76-2.69a.2.2 0 0 0-.05-.18c-.06-.05-.14-.03-.21-.02c-.09.02-1.49.95-4.22 2.79c-.4.27-.76.41-1.08.4c-.36-.01-1.04-.2-1.55-.37c-.63-.2-1.12-.31-1.08-.66c.02-.18.27-.36.74-.55c2.92-1.27 4.86-2.11 5.83-2.51c2.78-1.16 3.35-1.36 3.73-1.36c.08 0 .27.02.39.12c.1.08.13.19.14.27c-.01.06.01.24 0 .38",
    }),
  });
}
const O6 = ({ open: e, onClose: t, existingUrls: n }) => {
  const { t: i } = F("dashboard"),
    a = ge(),
    s = (o) => () => {
      const l = [...n];
      o ? l.unshift(window.location.origin) : l.push(window.location.origin),
        t(),
        a(Cp({ settings: { siteURL: l.join(",") } }));
    };
  return r.jsx(r.Fragment, {
    children: r.jsx(st, {
      dialogProps: { open: e, onClose: t, maxWidth: "sm", fullWidth: !0 },
      title: i("summary.confirmSiteURLTitle"),
      children: r.jsx(gt, {
        children: r.jsxs(le, {
          spacing: 1,
          children: [
            r.jsx(L, {
              variant: "body2",
              color: "textSecondary",
              children: i("summary.siteURLNotMatch", { current: window.location.origin }),
            }),
            r.jsxs(cl, {
              dense: !0,
              children: [
                r.jsx(Tr, {
                  onClick: s(!0),
                  children: r.jsx(yd, {
                    primary: i("summary.setAsPrimary"),
                    secondary: i("summary.setAsPrimaryDes", { current: window.location.origin }),
                  }),
                }),
                r.jsx(Tr, {
                  onClick: s(!1),
                  children: r.jsx(yd, {
                    primary: i("summary.setAsSecondary"),
                    secondary: i("summary.setAsSecondaryDes", { current: window.location.origin }),
                  }),
                }),
              ],
            }),
            r.jsx(L, { variant: "body2", color: "textSecondary", children: i("summary.siteURLDescription") }),
          ],
        }),
      }),
    }),
  });
};
function k6(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M5.25 5a4.32 4.32 0 0 0-.244.007A3.248 3.248 0 0 1 7.75 3.5h8a5.75 5.75 0 0 1 5.75 5.75v4a3.248 3.248 0 0 1-1.507 2.743c.005-.08.007-.161.007-.243v-6.5A4.25 4.25 0 0 0 15.75 5zM2 9.25A3.25 3.25 0 0 1 5.25 6h10.5A3.25 3.25 0 0 1 19 9.25v6.5A3.25 3.25 0 0 1 15.75 19h-5.002L6.99 21.76A1.25 1.25 0 0 1 5 20.752v-1.761a3.25 3.25 0 0 1-3-3.241z",
    }),
  });
}
const Qa = et(Vi)(({ theme: e }) => ({
    padding: e.spacing(3),
    boxShadow: "initial",
    border: "1px solid " + e.palette.divider,
  })),
  Rn = et(gr)(() => ({ minWidth: 0 })),
  MN = () => {
    var p, g, m, v;
    const { t: e } = F("dashboard"),
      t = Ge(),
      n = ge(),
      [i, a] = f.useState(),
      [s, o] = f.useState(!1),
      [l, d] = f.useState(!1),
      [c, u] = f.useState(!1);
    f.useEffect(() => {
      h(!1);
    }, []);
    const h = f.useCallback((x) => {
      x && o(!0),
        n(Tm(x))
          .then((j) => {
            a(j), x || j.site_urls.find((_) => _ == window.location.origin) || d(!0);
          })
          .finally(() => {
            o(!1);
          });
    }, []);
    return r.jsxs(Ft, {
      children: [
        r.jsx(Er, { open: c, onClose: () => u(!1) }),
        r.jsx(O6, { open: l, onClose: () => d(!1), existingUrls: (i == null ? void 0 : i.site_urls) ?? [] }),
        r.jsxs(Lt, {
          maxWidth: "xl",
          children: [
            r.jsx(Vt, { title: e("nav.summary") }),
            r.jsxs(Dt, {
              container: !0,
              spacing: 3,
              children: [
                r.jsx(Dt, {
                  alignContent: "stretch",
                  item: !0,
                  xs: 12,
                  md: 8,
                  lg: 9,
                  children: r.jsxs(Qa, {
                    children: [
                      r.jsxs(L, {
                        variant: "subtitle1",
                        fontWeight: 500,
                        sx: { display: "flex", justifyContent: "space-between", alignItems: "center" },
                        children: [
                          e("summary.trend"),
                          r.jsx(L, {
                            variant: "body2",
                            color: "text.secondary",
                            children:
                              ((p = i == null ? void 0 : i.metrics_summary) == null ? void 0 : p.generated_at) &&
                              r.jsx(X, {
                                i18nKey: "summary.generatedAt",
                                ns: "dashboard",
                                components: [
                                  r.jsx(sr, {
                                    datetime:
                                      (g = i == null ? void 0 : i.metrics_summary) == null ? void 0 : g.generated_at,
                                    variant: "inherit",
                                  }),
                                ],
                              }),
                          }),
                        ],
                      }),
                      r.jsx(bt, { sx: { mb: 2, mt: 1 } }),
                      r.jsx(Kt, {
                        children: r.jsx(
                          Ht,
                          {
                            addEndListener: (x, j) => x.addEventListener("transitionend", j, !1),
                            classNames: "fade",
                            children: r.jsxs(T, {
                              children: [
                                (i == null ? void 0 : i.metrics_summary) &&
                                  r.jsx(QD, {
                                    width: "100%",
                                    height: 300,
                                    children: r.jsxs(b6, {
                                      height: 350,
                                      data:
                                        i == null
                                          ? void 0
                                          : i.metrics_summary.dates.map((x, j) => {
                                              var b, _, S;
                                              return {
                                                name: Ac(x).format("MM-DD"),
                                                user:
                                                  ((b = i == null ? void 0 : i.metrics_summary) == null
                                                    ? void 0
                                                    : b.users[j]) ?? 0,
                                                file:
                                                  ((_ = i == null ? void 0 : i.metrics_summary) == null
                                                    ? void 0
                                                    : _.files[j]) ?? 0,
                                                share:
                                                  ((S = i == null ? void 0 : i.metrics_summary) == null
                                                    ? void 0
                                                    : S.shares[j]) ?? 0,
                                              };
                                            }),
                                      children: [
                                        r.jsx(fx, { strokeDasharray: "3 3" }),
                                        r.jsx(_o, { dataKey: "name" }),
                                        r.jsx(wo, {
                                          allowDecimals: !1,
                                          width: (() => {
                                            var _, S, y;
                                            const x = [
                                                ...(((_ = i == null ? void 0 : i.metrics_summary) == null
                                                  ? void 0
                                                  : _.users) ?? []),
                                                ...(((S = i == null ? void 0 : i.metrics_summary) == null
                                                  ? void 0
                                                  : S.files) ?? []),
                                                ...(((y = i == null ? void 0 : i.metrics_summary) == null
                                                  ? void 0
                                                  : y.shares) ?? []),
                                              ],
                                              j = x.length ? Math.max(...x) / 0.8 - 1 : 0;
                                            return 3 + (j > 1 ? Math.floor(Math.log10(j)) + 1 : 1) * 9;
                                          })(),
                                        }),
                                        r.jsx(Cr, {}),
                                        r.jsx(Pn, {}),
                                        r.jsx(kn, {
                                          name: e("nav.users"),
                                          type: "monotone",
                                          dataKey: "user",
                                          stroke: Po[600],
                                        }),
                                        r.jsx(kn, {
                                          name: e("nav.files"),
                                          type: "monotone",
                                          dataKey: "file",
                                          stroke: Do[800],
                                        }),
                                        r.jsx(kn, {
                                          name: e("nav.shares"),
                                          type: "monotone",
                                          dataKey: "share",
                                          stroke: Oo[800],
                                        }),
                                      ],
                                    }),
                                  }),
                                s &&
                                  r.jsx(T, {
                                    sx: {
                                      height: "300px",
                                      display: "flex",
                                      alignItems: "center",
                                      justifyContent: "center",
                                    },
                                    children: r.jsx(St, {}),
                                  }),
                                !((m = i == null ? void 0 : i.metrics_summary) != null && m.generated_at) &&
                                  !s &&
                                  r.jsx(T, {
                                    sx: {
                                      height: "300px",
                                      display: "flex",
                                      alignItems: "center",
                                      justifyContent: "center",
                                    },
                                    children: r.jsx(ke, {
                                      onClick: () => h(!0),
                                      children: e("application:fileManager.calculate"),
                                    }),
                                  }),
                              ],
                            }),
                          },
                          `${!!(i != null && i.metrics_summary)}-${!!s}`,
                        ),
                      }),
                    ],
                  }),
                }),
                r.jsx(Dt, {
                  item: !0,
                  xs: 12,
                  md: 4,
                  lg: 3,
                  children: r.jsxs(Qa, {
                    children: [
                      r.jsx(L, { variant: "subtitle1", fontWeight: 500, children: e("summary.summary") }),
                      r.jsx(bt, { sx: { mb: 2, mt: 1 } }),
                      r.jsx(Kt, {
                        children: r.jsx(
                          Ht,
                          {
                            addEndListener: (x, j) => x.addEventListener("transitionend", j, !1),
                            classNames: "fade",
                            children: r.jsxs(T, {
                              children: [
                                (i == null ? void 0 : i.metrics_summary) &&
                                  r.jsxs(cl, {
                                    disablePadding: !0,
                                    sx: { minHeight: "300px" },
                                    children: [
                                      r.jsxs(za, {
                                        children: [
                                          r.jsx(La, {
                                            children: r.jsx(Ba, {
                                              sx: { backgroundColor: Po[100], color: Po[600] },
                                              children: r.jsx(Sv, {}),
                                            }),
                                          }),
                                          r.jsx(de, {
                                            secondary: e("summary.totalUsers"),
                                            primary: i.metrics_summary.user_total.toLocaleString(),
                                          }),
                                        ],
                                      }),
                                      r.jsxs(za, {
                                        children: [
                                          r.jsx(La, {
                                            children: r.jsx(Ba, {
                                              sx: { backgroundColor: Do[100], color: Do[800] },
                                              children: r.jsx(w6, {}),
                                            }),
                                          }),
                                          r.jsx(de, {
                                            secondary: e("summary.totalFilesAndFolders"),
                                            primary: i.metrics_summary.file_total.toLocaleString(),
                                          }),
                                        ],
                                      }),
                                      r.jsxs(za, {
                                        children: [
                                          r.jsx(La, {
                                            children: r.jsx(Ba, {
                                              sx: { backgroundColor: Oo[100], color: Oo[800] },
                                              children: r.jsx(S6, {}),
                                            }),
                                          }),
                                          r.jsx(de, {
                                            secondary: e("summary.shareLinks"),
                                            primary: i.metrics_summary.share_total.toLocaleString(),
                                          }),
                                        ],
                                      }),
                                      r.jsxs(za, {
                                        children: [
                                          r.jsx(La, {
                                            children: r.jsx(Ba, {
                                              sx: { backgroundColor: jd[100], color: jd[800] },
                                              children: r.jsx(Cv, {}),
                                            }),
                                          }),
                                          r.jsx(de, {
                                            secondary: e("summary.totalBlobs"),
                                            primary: i.metrics_summary.entities_total.toLocaleString(),
                                          }),
                                        ],
                                      }),
                                    ],
                                  }),
                                s &&
                                  r.jsx(T, {
                                    sx: {
                                      height: "300px",
                                      display: "flex",
                                      alignItems: "center",
                                      justifyContent: "center",
                                    },
                                    children: r.jsx(St, {}),
                                  }),
                                !((v = i == null ? void 0 : i.metrics_summary) != null && v.generated_at) &&
                                  !s &&
                                  r.jsx(T, {
                                    sx: {
                                      height: "300px",
                                      display: "flex",
                                      alignItems: "center",
                                      justifyContent: "center",
                                    },
                                    children: r.jsx(ke, {
                                      onClick: () => h(!0),
                                      children: e("application:fileManager.calculate"),
                                    }),
                                  }),
                              ],
                            }),
                          },
                          `${!!(i != null && i.metrics_summary)}-${s}`,
                        ),
                      }),
                    ],
                  }),
                }),
                r.jsx(Dt, {
                  item: !0,
                  xs: 12,
                  md: 5,
                  lg: 4,
                  children: r.jsxs(Qa, {
                    sx: { p: 0 },
                    children: [
                      r.jsxs(T, {
                        sx: { p: 3, display: "flex", alignItems: "center" },
                        children: [
                          r.jsx(T, {
                            component: "img",
                            sx: { width: 70 },
                            alt: "cloudreve",
                            src: "/static/img/cloudreve.svg",
                          }),
                          r.jsxs(T, {
                            sx: { ml: 2 },
                            children: [
                              r.jsxs(L, {
                                variant: "h5",
                                fontWeight: 600,
                                children: [
                                  "Cloudreve",
                                  i &&
                                    i.version.pro &&
                                    r.jsx(br, {
                                      sx: { ml: 1, height: "initial" },
                                      size: "small",
                                      color: "primary",
                                      label: "Pro",
                                    }),
                                ],
                              }),
                              r.jsxs(L, {
                                variant: "subtitle2",
                                color: "text.secondary",
                                children: [
                                  i ? i.version.version : r.jsx(ce, { variant: "text", width: 70 }),
                                  i &&
                                    r.jsxs(T, {
                                      component: "span",
                                      sx: { ml: 1, color: (x) => x.palette.action.disabled },
                                      children: ["#", i.version.commit],
                                    }),
                                ],
                              }),
                            ],
                          }),
                        ],
                      }),
                      r.jsx(bt, {}),
                      r.jsxs(cl, {
                        component: "nav",
                        "aria-label": "main mailbox folders",
                        sx: { mx: 2 },
                        children: [
                          r.jsxs(Tr, {
                            onClick: () => window.open("https://cloudreve.org"),
                            children: [
                              r.jsx(gr, { children: r.jsx(Up, {}) }),
                              r.jsx(de, { primary: e("summary.homepage") }),
                              r.jsx(Rn, { children: r.jsx(Bn, {}) }),
                            ],
                          }),
                          r.jsxs(Tr, {
                            onClick: () => window.open("https://github.com/cloudreve/cloudreve"),
                            children: [
                              r.jsx(gr, { children: r.jsx(Xy, {}) }),
                              r.jsx(de, { primary: e("summary.github") }),
                              r.jsx(Rn, { children: r.jsx(Bn, {}) }),
                            ],
                          }),
                          r.jsxs(Tr, {
                            onClick: () => window.open("https://docs.cloudreve.org/"),
                            children: [
                              r.jsx(gr, { children: r.jsx($m, {}) }),
                              r.jsx(de, { primary: e("summary.documents") }),
                              r.jsx(Rn, { children: r.jsx(Bn, {}) }),
                            ],
                          }),
                          r.jsxs(Tr, {
                            onClick: () => window.open("https://discord.gg/WTpMFpZT76"),
                            children: [
                              r.jsx(gr, { children: r.jsx(_6, {}) }),
                              r.jsx(de, { primary: e("summary.discordCommunity") }),
                              r.jsx(Rn, { children: r.jsx(Bn, {}) }),
                            ],
                          }),
                          r.jsxs(Tr, {
                            onClick: () => window.open("https://t.me/cloudreve_official"),
                            children: [
                              r.jsx(gr, { children: r.jsx(P6, {}) }),
                              r.jsx(de, { primary: e("summary.telegram") }),
                              r.jsx(Rn, { children: r.jsx(Bn, {}) }),
                            ],
                          }),
                          r.jsxs(Tr, {
                            onClick: () => window.open("https://github.com/cloudreve/cloudreve/discussions"),
                            children: [
                              r.jsx(gr, { children: r.jsx(k6, {}) }),
                              r.jsx(de, { primary: e("summary.forum") }),
                              r.jsx(Rn, { children: r.jsx(Bn, {}) }),
                            ],
                          }),
                          i &&
                            !i.version.pro &&
                            r.jsxs(Tr, {
                              onClick: () => u(!0),
                              children: [
                                r.jsx(gr, { children: r.jsx(C6, { color: "primary" }) }),
                                r.jsx(de, { primary: e("summary.buyPro") }),
                              ],
                            }),
                        ],
                      }),
                      r.jsx(bt, {}),
                    ],
                  }),
                }),
                r.jsx(Dt, {
                  item: !0,
                  xs: 12,
                  md: 7,
                  lg: 8,
                  children: r.jsxs(Qa, {
                    children: [
                      r.jsx(L, { variant: "subtitle1", fontWeight: 500, children: "" }),
                      r.jsx(bt, { sx: { mb: 2, mt: 1 } }),
                      r.jsx(b0, {
                        id: "comments",
                        repo: "cloudreve/cloudreve",
                        repoId: "MDEwOlJlcG9zaXRvcnkxMjAxNTYwNzY=",
                        mapping: "number",
                        term: bd.language == "zh-CN" ? "2170" : "2169",
                        reactionsEnabled: "1",
                        emitMetadata: "0",
                        inputPosition: "bottom",
                        theme: t.palette.mode === "dark" ? "dark" : "light",
                        lang: bd.language == "zh-CN" ? "zh-CN" : "en",
                        loading: "lazy",
                      }),
                    ],
                  }),
                }),
              ],
            }),
          ],
        }),
      ],
    });
  },
  jc = {
    id: 0,
    name: "",
    status: void 0,
    type: void 0,
    server: "",
    slave_key: "",
    capabilities: "",
    weight: 1,
    settings: {},
    edges: { storage_policy: [] },
  },
  Co = f.createContext({ values: { ...jc }, setNode: () => {} }),
  Fn = (e) => {
    var t;
    return {
      ...e,
      edges: { storage_policy: (t = e.edges.storage_policy) == null ? void 0 : t.map((n) => ({ id: n.id })) },
    };
  },
  A6 = ({ nodeID: e, children: t, onNodeChange: n }) => {
    const i = ge();
    F("dashboard");
    const [a, s] = f.useState({ ...jc }),
      [o, l] = f.useState({ ...jc }),
      [d, c] = f.useState(!0),
      [u, h] = f.useState(!1),
      p = f.useRef(null),
      g = f.useMemo(() => JSON.stringify(o) !== JSON.stringify(a), [o, a]);
    f.useEffect(() => {
      c(!0),
        i(Wm(e))
          .then((x) => {
            s(Fn(x)), l(Fn(x)), n(Fn(x));
          })
          .finally(() => {
            c(!1);
          });
    }, [e]);
    const m = () => {
        l(a);
      },
      v = () => {
        if (p.current && !p.current.checkValidity()) {
          p.current.reportValidity();
          return;
        }
        h(!0),
          i(Kp({ node: { ...o } }))
            .then((x) => {
              s(Fn(x)), l(Fn(x)), n(Fn(x));
            })
            .finally(() => {
              h(!1);
            });
      };
    return r.jsx(Co.Provider, {
      value: { values: o, setNode: l, formRef: p },
      children: r.jsx(Kt, {
        children: r.jsx(
          Ht,
          {
            addEndListener: (x, j) => x.addEventListener("transitionend", j, !1),
            classNames: "fade",
            children: r.jsxs(T, {
              sx: { mt: 3 },
              children: [
                d &&
                  r.jsx(T, {
                    sx: { pt: 20, height: "100%", display: "flex", justifyContent: "center", alignItems: "center" },
                    children: r.jsx(St, {}),
                  }),
                !d && r.jsxs(T, { children: [t, r.jsx(Xs, { in: g, submitting: u, revert: m, submit: v })] }),
              ],
            }),
          },
          `${d}`,
        ),
      }),
    });
  },
  D6 = () => {
    const { t: e } = F("dashboard"),
      t = ge(),
      { enqueueSnackbar: n } = ut(),
      { values: i, setNode: a } = f.useContext(Co),
      [s, o] = f.useState(!1),
      l = f.useCallback(
        (v) => {
          a((x) => ({ ...x, name: v.target.value }));
        },
        [a],
      ),
      d = f.useCallback(
        (v) => {
          a((x) => ({ ...x, server: v.target.value }));
        },
        [a],
      ),
      c = f.useCallback(
        (v) => {
          a((x) => ({ ...x, slave_key: v.target.value }));
        },
        [a],
      ),
      u = f.useCallback(
        (v) => {
          const x = parseInt(v.target.value);
          a((j) => ({ ...j, weight: isNaN(x) ? 1 : x }));
        },
        [a],
      ),
      h = f.useCallback(
        (v) => {
          a((x) => ({ ...x, status: v.target.checked ? _n.active : _n.suspended }));
        },
        [a],
      ),
      p = f.useMemo(() => i.status === _n.active, [i.status]),
      g = f.useMemo(() => (i.type === yr.master ? e("node.master") : e("node.slave")), [i.type, e]),
      m = f.useCallback(() => {
        o(!0),
          t(Hp({ node: i }))
            .then((v) => {
              n(e("node.testNodeSuccess"), { variant: "success", action: nt });
            })
            .finally(() => {
              o(!1);
            });
      }, [t, i]);
    return r.jsxs(Ee, {
      children: [
        r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("policy.basicInfo") }),
        r.jsxs(Ie, {
          children: [
            i.type === yr.master &&
              r.jsx(P, {
                lgWidth: 5,
                children: r.jsx(Br, { severity: "info", children: e("node.thisIsMasterNodes") }),
              }),
            r.jsx(P, {
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(xe, {
                    disabled: i.type === yr.master,
                    control: r.jsx(Oe, { checked: p, onChange: h }),
                    label: e("node.enableNode"),
                  }),
                  r.jsx(A, { children: e("node.enableNodeDes") }),
                ],
              }),
            }),
            r.jsx(P, {
              title: e("node.name"),
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, { required: !0, value: i.name, onChange: l }),
                  r.jsx(A, { children: e("node.nameNode") }),
                ],
              }),
            }),
            r.jsx(P, {
              title: e("node.type"),
              lgWidth: 5,
              children: r.jsx($, { fullWidth: !0, children: r.jsx(W, { disabled: !0, value: g }) }),
            }),
            i.type === yr.slave &&
              r.jsxs(r.Fragment, {
                children: [
                  r.jsx(P, {
                    title: e("node.server"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(lr, {
                          fullWidth: !0,
                          enforceProtocol: !0,
                          required: !0,
                          value: i.server,
                          onChange: d,
                          variant: "outlined",
                        }),
                        r.jsx(A, { children: e("node.serverDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("node.slaveSecret"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, { required: !0, value: i.slave_key, onChange: c }),
                        r.jsx(A, {
                          children: r.jsx(X, {
                            i18nKey: "node.slaveSecretDes",
                            ns: "dashboard",
                            components: [r.jsx(oe, {}), r.jsx(oe, {})],
                          }),
                        }),
                      ],
                    }),
                  }),
                ],
              }),
            r.jsx(P, {
              title: e("node.loadBalancerRank"),
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, {
                    type: "number",
                    slotProps: { htmlInput: { inputProps: { min: 1 } } },
                    required: !0,
                    value: i.weight,
                    onChange: u,
                  }),
                  r.jsx(A, { children: e("node.loadBalancerRankDes") }),
                ],
              }),
            }),
            i.type === yr.slave &&
              r.jsx(P, {
                lgWidth: 5,
                children: r.jsx(ke, { loading: s, variant: "contained", onClick: m, children: e("node.testNode") }),
              }),
          ],
        }),
      ],
    });
  };
function ud(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M12 2c5.523 0 10 4.478 10 10s-4.477 10-10 10S2 17.522 2 12S6.477 2 12 2m0 1.667c-4.595 0-8.333 3.738-8.333 8.333c0 4.595 3.738 8.333 8.333 8.333c4.595 0 8.333-3.738 8.333-8.333c0-4.595-3.738-8.333-8.333-8.333M12 15.5a1 1 0 1 1 0 2a1 1 0 0 1 0-2m0-8.75a2.75 2.75 0 0 1 2.75 2.75c0 1.01-.297 1.574-1.051 2.359l-.169.171c-.622.622-.78.886-.78 1.47a.75.75 0 0 1-1.5 0c0-1.01.297-1.574 1.051-2.359l.169-.171c.622-.622.78-.886.78-1.47a1.25 1.25 0 0 0-2.493-.128l-.007.128a.75.75 0 0 1-1.5 0A2.75 2.75 0 0 1 12 6.75",
    }),
  });
}
const E6 = ({ open: e, onClose: t }) => {
    const { t: n } = F("dashboard");
    return r.jsx(st, {
      dialogProps: { open: e, onClose: t, fullWidth: !0, maxWidth: "sm" },
      title: n("node.storeFiles"),
      children: r.jsx(gt, {
        children: r.jsx(L, {
          variant: "body2",
          children: r.jsx(X, {
            i18nKey: "node.storeFilesHint",
            ns: "dashboard",
            components: [r.jsx(Z, { component: zt, to: "/admin/policy" })],
          }),
        }),
      }),
    });
  },
  mp = f.lazy(() => rn(() => import("./MonacoEditor-BnsLKTuc.js"), __vite__mapDeps([0, 1, 2, 3, 4, 5, 6, 7]))),
  I6 = () => {
    var B, V, q, G, H, Q, ne, Y, ie, J, ae, Ae, Xe, We, qe, Ke, Fe, Le, Se, Be, He, ue, K, ve, Ne, pr, qt, De;
    const { t: e } = F("dashboard"),
      { values: t, setNode: n } = f.useContext(Co),
      i = Ge(),
      a = ge(),
      { enqueueSnackbar: s } = ut(),
      [o, l] = f.useState(""),
      [d, c] = f.useState(""),
      [u, h] = f.useState(!1),
      [p, g] = f.useState(!1),
      m = f.useMemo(() => new Pt(t.capabilities ?? ""), [t.capabilities]),
      v = f.useMemo(() => m.enabled(Zt.remote_download), [m]);
    f.useEffect(() => {
      var ee, re, me, fr;
      l(
        (re = (ee = t.settings) == null ? void 0 : ee.aria2) != null && re.options
          ? JSON.stringify((fr = (me = t.settings) == null ? void 0 : me.aria2) == null ? void 0 : fr.options, null, 2)
          : "",
      );
    }, [(V = (B = t.settings) == null ? void 0 : B.aria2) == null ? void 0 : V.options]),
      f.useEffect(() => {
        var ee, re, me, fr;
        c(
          (re = (ee = t.settings) == null ? void 0 : ee.qbittorrent) != null && re.options
            ? JSON.stringify(
                (fr = (me = t.settings) == null ? void 0 : me.qbittorrent) == null ? void 0 : fr.options,
                null,
                2,
              )
            : "",
        );
      }, [(G = (q = t.settings) == null ? void 0 : q.qbittorrent) == null ? void 0 : G.options]);
    const x = f.useCallback(
        (ee) => (re) => {
          n((me) => ({ ...me, capabilities: new Pt(me.capabilities).set(ee, re.target.checked).toString() }));
        },
        [n],
      ),
      j = f.useCallback(
        (ee) => {
          const re = ee.target.value;
          n((me) => ({ ...me, settings: { ...me.settings, provider: re } }));
        },
        [n],
      ),
      b = f.useCallback(
        (ee) => {
          n((re) => {
            var me;
            return {
              ...re,
              settings: {
                ...re.settings,
                aria2: { ...((me = re.settings) == null ? void 0 : me.aria2), server: ee.target.value },
              },
            };
          });
        },
        [n],
      ),
      _ = f.useCallback(
        (ee) => {
          n((re) => {
            var me;
            return {
              ...re,
              settings: {
                ...re.settings,
                aria2: { ...((me = re.settings) == null ? void 0 : me.aria2), token: ee.target.value },
              },
            };
          });
        },
        [n],
      ),
      S = f.useCallback(
        (ee) => {
          n((re) => {
            var me;
            return {
              ...re,
              settings: {
                ...re.settings,
                aria2: {
                  ...((me = re.settings) == null ? void 0 : me.aria2),
                  temp_path: ee.target.value ? ee.target.value : void 0,
                },
              },
            };
          });
        },
        [n],
      ),
      y = f.useCallback(
        (ee) => {
          n((re) => {
            var me;
            return {
              ...re,
              settings: {
                ...re.settings,
                qbittorrent: { ...((me = re.settings) == null ? void 0 : me.qbittorrent), server: ee.target.value },
              },
            };
          });
        },
        [n],
      ),
      w = f.useCallback(
        (ee) => {
          n((re) => {
            var me;
            return {
              ...re,
              settings: {
                ...re.settings,
                qbittorrent: {
                  ...((me = re.settings) == null ? void 0 : me.qbittorrent),
                  user: ee.target.value ? ee.target.value : void 0,
                },
              },
            };
          });
        },
        [n],
      ),
      C = f.useCallback(
        (ee) => {
          n((re) => {
            var me;
            return {
              ...re,
              settings: {
                ...re.settings,
                qbittorrent: {
                  ...((me = re.settings) == null ? void 0 : me.qbittorrent),
                  password: ee.target.value ? ee.target.value : void 0,
                },
              },
            };
          });
        },
        [n],
      ),
      O = f.useCallback(
        (ee) => {
          n((re) => {
            var me;
            return {
              ...re,
              settings: {
                ...re.settings,
                qbittorrent: {
                  ...((me = re.settings) == null ? void 0 : me.qbittorrent),
                  temp_path: ee.target.value ? ee.target.value : void 0,
                },
              },
            };
          });
        },
        [n],
      ),
      k = f.useCallback(
        (ee) => {
          const re = parseInt(ee.target.value);
          n((me) => ({ ...me, settings: { ...me.settings, interval: isNaN(re) ? void 0 : re } }));
        },
        [n],
      ),
      D = f.useCallback(
        (ee) => {
          n((re) => ({ ...re, settings: { ...re.settings, wait_for_seeding: ee.target.checked ? !0 : void 0 } }));
        },
        [n],
      ),
      E = f.useCallback(
        (ee) => {
          var re = void 0;
          if (ee)
            try {
              re = JSON.parse(ee);
            } catch (me) {
              console.error(me);
            }
          n((me) => {
            var fr;
            return {
              ...me,
              settings: { ...me.settings, aria2: { ...((fr = me.settings) == null ? void 0 : fr.aria2), options: re } },
            };
          });
        },
        [o, n],
      ),
      I = f.useCallback(
        (ee) => {
          var re = void 0;
          if (ee)
            try {
              re = JSON.parse(ee);
            } catch (me) {
              console.error(me);
            }
          n((me) => {
            var fr;
            return {
              ...me,
              settings: {
                ...me.settings,
                qbittorrent: { ...((fr = me.settings) == null ? void 0 : fr.qbittorrent), options: re },
              },
            };
          });
        },
        [d, n],
      ),
      z = f.useCallback(() => {
        h(!0),
          a(Mm({ node: t }))
            .then((ee) => {
              s({ variant: "success", message: e("node.downloaderTestPass", { version: ee }), action: nt });
            })
            .finally(() => {
              h(!1);
            });
      }, [t]),
      R = f.useCallback(() => {
        g(!0);
      }, []);
    return r.jsxs(r.Fragment, {
      children: [
        r.jsx(E6, { open: p, onClose: () => g(!1) }),
        r.jsxs(Ee, {
          children: [
            r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("node.features") }),
            r.jsxs(Ie, {
              children: [
                r.jsx(P, {
                  lgWidth: 5,
                  children: r.jsxs($, {
                    fullWidth: !0,
                    children: [
                      r.jsx(xe, {
                        control: r.jsx(Oe, { checked: m.enabled(Zt.create_archive), onChange: x(Zt.create_archive) }),
                        label: e("application:fileManager.createArchive"),
                      }),
                      r.jsx(A, { children: e("node.createArchiveDes") }),
                    ],
                  }),
                }),
                r.jsx(P, {
                  lgWidth: 5,
                  children: r.jsxs($, {
                    fullWidth: !0,
                    children: [
                      r.jsx(xe, {
                        control: r.jsx(Oe, { checked: m.enabled(Zt.extract_archive), onChange: x(Zt.extract_archive) }),
                        label: e("application:fileManager.extractArchive"),
                      }),
                      r.jsx(A, { children: e("node.extractArchiveDes") }),
                    ],
                  }),
                }),
                r.jsx(P, {
                  lgWidth: 5,
                  children: r.jsxs($, {
                    fullWidth: !0,
                    children: [
                      r.jsx(xe, {
                        control: r.jsx(Oe, { checked: m.enabled(Zt.remote_download), onChange: x(Zt.remote_download) }),
                        label: e("application:navbar.remoteDownload"),
                      }),
                      r.jsx(A, { children: e("node.remoteDownloadDes") }),
                    ],
                  }),
                }),
                t.type === yr.slave &&
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(xe, {
                          control: r.jsx(Oe, {
                            onChange: R,
                            disabled:
                              (((Q = (H = t.edges) == null ? void 0 : H.storage_policy) == null ? void 0 : Q.length) ??
                                0) > 0,
                            checked:
                              (((Y = (ne = t.edges) == null ? void 0 : ne.storage_policy) == null
                                ? void 0
                                : Y.length) ?? 0) > 0,
                          }),
                          label: e("node.storeFiles"),
                        }),
                        r.jsx(A, { children: e("node.storeFilesDes") }),
                      ],
                    }),
                  }),
              ],
            }),
          ],
        }),
        r.jsx(Ve, {
          in: v,
          unmountOnExit: !0,
          children: r.jsxs(Ee, {
            children: [
              r.jsxs(L, {
                variant: "h6",
                gutterBottom: !0,
                sx: { display: "flex", alignItems: "center", gap: 0.5 },
                children: [
                  e("node.remoteDownload"),
                  r.jsx($e, {
                    onClick: () => {
                      window.open("https://docs.cloudreve.org/usage/remote-download", "_blank");
                    },
                    children: r.jsx(ud, {}),
                  }),
                ],
              }),
              r.jsxs(Ie, {
                children: [
                  r.jsx(P, {
                    title: e("node.downloader"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsxs(Ue, {
                          value: ((ie = t.settings) == null ? void 0 : ie.provider) || Ur.aria2,
                          onChange: j,
                          children: [
                            r.jsx(he, {
                              value: Ur.aria2,
                              children: r.jsx(de, { primary: "Aria2", slotProps: { primary: { variant: "body2" } } }),
                            }),
                            r.jsx(he, {
                              value: Ur.qbittorrent,
                              children: r.jsx(de, {
                                primary: "qBittorrent",
                                slotProps: { primary: { variant: "body2" } },
                              }),
                            }),
                          ],
                        }),
                        r.jsx(A, {
                          children:
                            ((J = t.settings) == null ? void 0 : J.provider) === Ur.qbittorrent
                              ? e("node.qbittorrentDes")
                              : e("node.aria2Des"),
                        }),
                      ],
                    }),
                  }),
                  ((ae = t.settings) == null ? void 0 : ae.provider) === Ur.aria2 &&
                    r.jsxs(r.Fragment, {
                      children: [
                        r.jsx(P, {
                          title: e("node.rpcServer"),
                          lgWidth: 5,
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(lr, {
                                fullWidth: !0,
                                required: !0,
                                value:
                                  ((Xe = (Ae = t.settings) == null ? void 0 : Ae.aria2) == null ? void 0 : Xe.server) ||
                                  "",
                                onChange: b,
                                variant: "outlined",
                              }),
                              r.jsx(A, {
                                children: r.jsx(X, {
                                  i18nKey: "node.rpcServerHelpDes",
                                  ns: "dashboard",
                                  components: [r.jsx(oe, {})],
                                }),
                              }),
                            ],
                          }),
                        }),
                        r.jsx(P, {
                          title: e("node.rpcToken"),
                          lgWidth: 5,
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(W, {
                                value:
                                  ((qe = (We = t.settings) == null ? void 0 : We.aria2) == null ? void 0 : qe.token) ||
                                  "",
                                onChange: _,
                              }),
                              r.jsx(A, {
                                children: r.jsx(X, {
                                  i18nKey: "node.rpcTokenDes",
                                  ns: "dashboard",
                                  components: [r.jsx(oe, {})],
                                }),
                              }),
                            ],
                          }),
                        }),
                        r.jsx(P, {
                          title: e("group.aria2Options"),
                          lgWidth: 5,
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(f.Suspense, {
                                fallback: r.jsx(vn, {}),
                                children: r.jsx(mp, {
                                  theme: i.palette.mode === "dark" ? "vs-dark" : "vs",
                                  language: "json",
                                  value: o,
                                  onChange: (ee) => l(ee || ""),
                                  onBlur: E,
                                  height: "200px",
                                  minHeight: "200px",
                                  options: { wordWrap: "on", minimap: { enabled: !1 }, scrollBeyondLastLine: !1 },
                                }),
                              }),
                              r.jsx(A, {
                                children: r.jsx(X, {
                                  i18nKey: "node.downloaderOptionDes",
                                  ns: "dashboard",
                                  components: [
                                    r.jsx(Z, {
                                      href: "https://aria2.github.io/manual/en/html/aria2c.html#id2",
                                      target: "_blank",
                                    }),
                                  ],
                                }),
                              }),
                            ],
                          }),
                        }),
                        r.jsx(P, {
                          title: e("node.tempPath"),
                          lgWidth: 5,
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(W, {
                                value:
                                  ((Fe = (Ke = t.settings) == null ? void 0 : Ke.aria2) == null
                                    ? void 0
                                    : Fe.temp_path) || "",
                                onChange: S,
                              }),
                              r.jsx(A, { children: e("node.tempPathDes") }),
                            ],
                          }),
                        }),
                      ],
                    }),
                  ((Le = t.settings) == null ? void 0 : Le.provider) === Ur.qbittorrent &&
                    r.jsxs(r.Fragment, {
                      children: [
                        r.jsx(P, {
                          title: e("node.webUIEndpoint"),
                          lgWidth: 5,
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(lr, {
                                fullWidth: !0,
                                required: !0,
                                value:
                                  ((Be = (Se = t.settings) == null ? void 0 : Se.qbittorrent) == null
                                    ? void 0
                                    : Be.server) || "",
                                onChange: y,
                                variant: "outlined",
                              }),
                              r.jsx(A, {
                                children: r.jsx(X, {
                                  i18nKey: "node.webUIEndpointDes",
                                  ns: "dashboard",
                                  components: [r.jsx(oe, {})],
                                }),
                              }),
                            ],
                          }),
                        }),
                        r.jsx(P, {
                          title: e("policy.accessCredential"),
                          lgWidth: 5,
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(W, {
                                placeholder: e("node.webUIUsername"),
                                value:
                                  ((ue = (He = t.settings) == null ? void 0 : He.qbittorrent) == null
                                    ? void 0
                                    : ue.user) || "",
                                onChange: w,
                              }),
                              r.jsx(W, {
                                placeholder: e("node.webUIPassword"),
                                type: "password",
                                sx: { mt: 1 },
                                value:
                                  ((ve = (K = t.settings) == null ? void 0 : K.qbittorrent) == null
                                    ? void 0
                                    : ve.password) || "",
                                onChange: C,
                              }),
                              r.jsx(A, { children: e("node.webUICredDes") }),
                            ],
                          }),
                        }),
                        r.jsx(P, {
                          title: e("group.aria2Options"),
                          lgWidth: 5,
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(f.Suspense, {
                                fallback: r.jsx(vn, {}),
                                children: r.jsx(mp, {
                                  theme: i.palette.mode === "dark" ? "vs-dark" : "vs",
                                  language: "json",
                                  value: d,
                                  onChange: (ee) => c(ee || ""),
                                  onBlur: I,
                                  height: "200px",
                                  minHeight: "200px",
                                  options: { wordWrap: "on", minimap: { enabled: !1 }, scrollBeyondLastLine: !1 },
                                }),
                              }),
                              r.jsx(A, {
                                children: r.jsx(X, {
                                  i18nKey: "node.downloaderOptionDes",
                                  ns: "dashboard",
                                  components: [
                                    r.jsx(Z, {
                                      href: "https://github.com/qbittorrent/qBittorrent/wiki/WebUI-API-(qBittorrent-4.1)#add-new-torrent",
                                      target: "_blank",
                                    }),
                                  ],
                                }),
                              }),
                            ],
                          }),
                        }),
                        r.jsx(P, {
                          title: e("node.tempPath"),
                          lgWidth: 5,
                          children: r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(W, {
                                value:
                                  ((pr = (Ne = t.settings) == null ? void 0 : Ne.qbittorrent) == null
                                    ? void 0
                                    : pr.temp_path) || "",
                                onChange: O,
                              }),
                              r.jsx(A, { children: e("node.tempPathDes") }),
                            ],
                          }),
                        }),
                      ],
                    }),
                  r.jsx(P, {
                    title: e("node.refreshInterval"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          type: "number",
                          slotProps: { htmlInput: { min: 1 } },
                          required: !0,
                          value: ((qt = t.settings) == null ? void 0 : qt.interval) || "",
                          onChange: k,
                        }),
                        r.jsx(A, { children: e("node.refreshIntervalDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(xe, {
                          control: r.jsx(Oe, {
                            checked: ((De = t.settings) == null ? void 0 : De.wait_for_seeding) || !1,
                            onChange: D,
                          }),
                          label: e("node.waitForSeeding"),
                        }),
                        r.jsx(A, { children: e("node.waitForSeedingDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsx(ke, {
                      onClick: z,
                      variant: "contained",
                      loading: u,
                      children: e("node.testDownloader"),
                    }),
                  }),
                ],
              }),
            ],
          }),
        }),
      ],
    });
  },
  T6 = ({ children: e }) => {
    const { formRef: t } = f.useContext(Co);
    return r.jsx(T, { component: "form", ref: t, noValidate: !0, children: r.jsx(le, { spacing: 5, children: e }) });
  },
  NN = () => {
    const { t: e } = F("dashboard"),
      { id: t } = _c(),
      [n, i] = f.useState(null),
      a = parseInt(t ?? "0");
    return r.jsx(Ft, {
      children: r.jsxs(Lt, {
        maxWidth: "xl",
        children: [
          r.jsx(Vt, { title: e("node.editNode", { node: n == null ? void 0 : n.name }) }),
          r.jsx(A6, { nodeID: a, onNodeChange: i, children: r.jsxs(T6, { children: [r.jsx(D6, {}), r.jsx(I6, {})] }) }),
        ],
      }),
    });
  },
  $6 = f.lazy(() => rn(() => import("./MonacoEditor-BnsLKTuc.js"), __vite__mapDeps([0, 1, 2, 3, 4, 5, 6, 7]))),
  vp = {
    id: 0,
    name: "",
    type: yr.slave,
    status: _n.active,
    server: "",
    slave_key: "",
    capabilities: "",
    weight: 1,
    settings: { provider: Ur.aria2, qbittorrent: {}, aria2: {}, interval: 5 },
    edges: { storage_policy: [] },
  },
  Za = ({ step: e, children: t }) =>
    r.jsxs(T, {
      sx: {
        display: "flex",
        padding: "10px",
        transition: (n) =>
          n.transitions.create("background-color", {
            easing: n.transitions.easing.sharp,
            duration: n.transitions.duration.leavingScreen,
          }),
        "&:focus-within": { backgroundColor: (n) => (n.palette.mode == "dark" ? _d[900] : _d[100]) },
      },
      children: [
        r.jsx(T, {
          sx: { ml: "20px" },
          children: r.jsx(T, {
            sx: {
              width: "20px",
              fontSize: (n) => n.typography.body2.fontSize,
              height: "20px",
              backgroundColor: (n) => n.palette.primary.light,
              color: (n) => n.palette.primary.contrastText,
              textAlign: "center",
              borderRadius: " 50%",
            },
            children: e,
          }),
        }),
        r.jsx(T, { sx: { ml: "10px", mr: "20px", flexGrow: 1 }, children: t }),
      ],
    }),
  W6 = ({ open: e, onClose: t }) => {
    const { t: n } = F("dashboard"),
      i = Ge(),
      a = ge(),
      s = dr(),
      { enqueueSnackbar: o } = ut(),
      [l, d] = f.useState(!1),
      [c, u] = f.useState({ ...vp }),
      h = f.useRef(null);
    f.useEffect(() => {
      e && u({ ...vp, slave_key: Nm(64) });
    }, [e]);
    const p = () => {
        var v, x;
        if (!((v = h.current) != null && v.checkValidity())) {
          (x = h.current) == null || x.reportValidity();
          return;
        }
        d(!0),
          a(Kp({ node: c }))
            .then((j) => {
              s(`/admin/node/${j.id}`), t();
            })
            .finally(() => {
              d(!1);
            });
      },
      g = f.useMemo(
        () => `[System]
Mode = slave
Listen = :5212

[Slave]
Secret = ${c.slave_key}

; ${n("node.keepIfUpload")}
[CORS]
AllowOrigins = *
AllowMethods = OPTIONS,GET,POST
AllowHeaders = *
`,
        [n, c.slave_key],
      ),
      m = () => {
        var v, x;
        if (!((v = h.current) != null && v.checkValidity())) {
          (x = h.current) == null || x.reportValidity();
          return;
        }
        d(!0),
          a(Hp({ node: c }))
            .then(() => {
              d(!1), o(n("node.testNodeSuccess"), { variant: "success", action: nt });
            })
            .finally(() => d(!1));
      };
    return r.jsx(st, {
      onAccept: p,
      loading: l,
      title: n("node.addNewNode"),
      showActions: !0,
      showCancel: !0,
      dialogProps: { open: e, onClose: t, fullWidth: !0, maxWidth: "sm" },
      children: r.jsx("form", {
        ref: h,
        onSubmit: p,
        children: r.jsxs(le, {
          spacing: 1,
          children: [
            r.jsx(Za, {
              step: 1,
              children: r.jsxs(P, {
                lgWidth: 12,
                children: [
                  r.jsx(L, { variant: "body2", sx: { mb: 1 }, children: n("node.nameTheNode") }),
                  r.jsx(W, {
                    fullWidth: !0,
                    required: !0,
                    value: c.name,
                    onChange: (v) => u({ ...c, name: v.target.value }),
                  }),
                  r.jsx(A, { children: n("node.nameNode") }),
                ],
              }),
            }),
            r.jsx(Za, {
              step: 2,
              children: r.jsxs(P, {
                lgWidth: 12,
                children: [
                  r.jsx(L, { variant: "body2", sx: { mb: 1 }, children: n("node.runCrSlave") }),
                  r.jsx(f.Suspense, {
                    fallback: r.jsx(St, {}),
                    children: r.jsx($6, {
                      theme: i.palette.mode === "dark" ? "vs-dark" : "vs",
                      language: "ini",
                      value: g,
                      height: "200px",
                      minHeight: "200px",
                      options: { wordWrap: "on", minimap: { enabled: !1 }, scrollBeyondLastLine: !1, readOnly: !0 },
                    }),
                  }),
                  r.jsx(A, {
                    sx: { mt: 1 },
                    children: r.jsx(X, {
                      i18nKey: "node.runCrWithConfig",
                      ns: "dashboard",
                      components: [r.jsx(oe, {})],
                    }),
                  }),
                ],
              }),
            }),
            r.jsx(Za, {
              step: 3,
              children: r.jsxs(P, {
                lgWidth: 12,
                children: [
                  r.jsx(L, { variant: "body2", sx: { mb: 1 }, children: n("node.inputServer") }),
                  r.jsx(lr, {
                    variant: "outlined",
                    fullWidth: !0,
                    required: !0,
                    enforceProtocol: !0,
                    value: c.server,
                    onChange: (v) => u({ ...c, server: v.target.value }),
                  }),
                  r.jsx(A, { children: n("node.serverDes") }),
                ],
              }),
            }),
            r.jsx(Za, {
              step: 4,
              children: r.jsxs(P, {
                lgWidth: 12,
                children: [
                  r.jsx(L, { variant: "body2", sx: { mb: 1 }, children: n("node.testButton") }),
                  r.jsx(ke, { loading: l, variant: "contained", onClick: m, children: n("node.testNode") }),
                  r.jsx(A, {
                    sx: { mt: 1 },
                    children: r.jsx(X, {
                      i18nKey: "node.hostHeaderHint",
                      ns: "dashboard",
                      components: [r.jsx(oe, {})],
                    }),
                  }),
                ],
              }),
            }),
          ],
        }),
      }),
    });
  };
function M6(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M10.788 3.102c.495-1.003 1.926-1.003 2.421 0l2.358 4.778l5.273.766c1.107.16 1.549 1.522.748 2.303l-3.816 3.719l.901 5.25c.19 1.104-.968 1.945-1.959 1.424l-4.716-2.48l-4.715 2.48c-.99.52-2.148-.32-1.96-1.423l.901-5.251l-3.815-3.72c-.801-.78-.359-2.141.748-2.302L8.43 7.88z",
    }),
  });
}
const rl = ({ node: e, onRefresh: t, loading: n }) => {
    const { t: i } = F("dashboard"),
      a = ge(),
      s = dr(),
      [o, l] = f.useState(!1),
      d = f.useCallback(
        (p) => {
          p.stopPropagation(),
            a(wr(i("node.deleteNodeConfirmation", { name: (e == null ? void 0 : e.name) ?? "" }))).then(() => {
              l(!0),
                a(zm((e == null ? void 0 : e.id) ?? 0))
                  .then(() => {
                    t == null || t();
                  })
                  .finally(() => {
                    l(!1);
                  });
            });
        },
        [e, a, t],
      ),
      c = f.useCallback(
        (p) => {
          p.stopPropagation(), s(`/admin/node/${e == null ? void 0 : e.id}`);
        },
        [e, s],
      ),
      u = f.useCallback(() => {
        if (!(e != null && e.capabilities)) return [];
        const p = new Pt(e.capabilities),
          g = [];
        return (
          p.enabled(Zt.create_archive) &&
            g.push({ id: Zt.create_archive, name: i("application:fileManager.createArchive") }),
          p.enabled(Zt.extract_archive) &&
            g.push({ id: Zt.extract_archive, name: i("application:fileManager.extractArchive") }),
          p.enabled(Zt.remote_download) &&
            g.push({ id: Zt.remote_download, name: i("application:navbar.remoteDownload") }),
          g
        );
      }, [e, i]);
    if (n)
      return r.jsx(_t, {
        size: { xs: 12, md: 6, lg: 4 },
        children: r.jsxs(qi, {
          children: [
            r.jsxs(T, {
              sx: { display: "flex", justifyContent: "space-between", alignItems: "center" },
              children: [
                r.jsx(L, {
                  variant: "subtitle1",
                  fontWeight: 600,
                  children: r.jsx(ce, { variant: "text", width: 100 }),
                }),
                r.jsx(L, {
                  variant: "body2",
                  color: "text.secondary",
                  children: r.jsx(ce, { variant: "text", width: 60 }),
                }),
              ],
            }),
            r.jsx(Qn, {
              sx: { mt: 1, mb: 2 },
              children: r.jsx(T, {
                sx: { display: "flex", alignItems: "center", minHeight: "25px" },
                children: r.jsx(ce, { width: 60, height: 25, sx: { mr: 1 } }),
              }),
            }),
            r.jsx(bt, { sx: { my: 1 } }),
            r.jsxs(T, {
              sx: { display: "flex", justifyContent: "space-between", alignItems: "center" },
              children: [
                r.jsx(ce, { variant: "text", width: "40%", height: 20 }),
                r.jsx(ce, { variant: "circular", width: 30, height: 30 }),
              ],
            }),
          ],
        }),
      });
    const h = u();
    return r.jsx(_t, {
      size: { xs: 12, md: 6, lg: 4 },
      children: r.jsxs(qi, {
        onClick: c,
        children: [
          r.jsxs(T, {
            sx: { display: "flex", justifyContent: "space-between", alignItems: "center" },
            children: [
              r.jsx(L, { variant: "subtitle1", fontWeight: 600, children: e == null ? void 0 : e.name }),
              r.jsxs(T, {
                sx: { display: "flex", alignItems: "center" },
                children: [
                  (e == null ? void 0 : e.type) === yr.master &&
                    r.jsx(M6, { sx: { mr: 0.5, fontSize: 16, color: "primary.main" } }),
                  r.jsx(L, {
                    variant: "body2",
                    color: "text.secondary",
                    children: (e == null ? void 0 : e.type) === yr.master ? i("node.master") : i("node.slave"),
                  }),
                ],
              }),
            ],
          }),
          r.jsx(Qn, {
            sx: { mt: 1, mb: 2 },
            children:
              h.length > 0
                ? h.map((p) => r.jsx(br, { sx: { mr: 1 }, label: p.name, size: "small" }, p.id))
                : r.jsxs(T, {
                    sx: { display: "flex", alignItems: "center", minHeight: "25px" },
                    color: "text.secondary",
                    children: [
                      r.jsx(Sp, { sx: { mr: 0.5, fontSize: 20 } }),
                      r.jsx(L, { variant: "caption", children: i("node.noCapabilities") }),
                    ],
                  }),
          }),
          r.jsx(bt, { sx: { my: 1 } }),
          r.jsxs(T, {
            sx: { display: "flex", justifyContent: "space-between", alignItems: "center" },
            children: [
              r.jsx(T, {
                sx: { display: "flex", alignItems: "center" },
                children:
                  (e == null ? void 0 : e.status) === _n.active
                    ? r.jsxs(r.Fragment, {
                        children: [
                          r.jsx(ef, { sx: { mr: 0.5, fontSize: 20, color: "success.main" } }),
                          r.jsx(L, { variant: "body2", color: "success.main", children: i("node.active") }),
                        ],
                      })
                    : r.jsxs(r.Fragment, {
                        children: [
                          r.jsx(Gp, { sx: { mr: 0.5, fontSize: 20, color: "text.secondary" } }),
                          r.jsx(L, { variant: "body2", color: "text.secondary", children: i("node.suspended") }),
                        ],
                      }),
              }),
              r.jsx(T, {
                children: r.jsx($e, {
                  size: "small",
                  onClick: d,
                  disabled: o,
                  children: r.jsx(ur, { fontSize: "small" }),
                }),
              }),
            ],
          }),
        ],
      }),
    });
  },
  zN = () => {
    const { t: e } = F("dashboard"),
      t = ge(),
      [n, i] = f.useState(!0),
      [a, s] = f.useState([]),
      [o, l] = _e(an, { defaultValue: "1" }),
      [d, c] = _e(sn, { defaultValue: "11" }),
      [u, h] = _e(on, { defaultValue: "" }),
      [p, g] = _e(ln, { defaultValue: "desc" }),
      [m, v] = f.useState(0);
    f.useState(!1);
    const [x, j] = f.useState(!1),
      b = parseInt(o) ?? 1,
      _ = parseInt(d) ?? 11;
    f.useEffect(() => {
      S();
    }, [o, d, u, p]);
    const S = () => {
      i(!0),
        t(Ip({ page: b, page_size: _, order_by: u ?? "", order_direction: p ?? "desc", conditions: {} }))
          .then((y) => {
            s(y.nodes),
              l((y.pagination.page + 1).toString()),
              c(y.pagination.page_size.toString()),
              v(y.pagination.total_items ?? 0),
              i(!1);
          })
          .finally(() => {
            i(!1);
          });
    };
    return r.jsxs(Ft, {
      children: [
        r.jsx(W6, { open: x, onClose: () => j(!1) }),
        r.jsxs(Lt, {
          maxWidth: "xl",
          children: [
            r.jsx(Vt, {
              title: e("dashboard:nav.nodes"),
              secondaryAction: r.jsx($e, {
                onClick: () => window.open("https://docs.cloudreve.org/usage/slave-node", "_blank"),
                children: r.jsx(ud, {}),
              }),
            }),
            r.jsx(le, {
              direction: "row",
              spacing: 1,
              sx: { mb: 2 },
              children: r.jsx(ke, {
                onClick: S,
                disabled: n,
                variant: "contained",
                startIcon: r.jsx(Dr, {}),
                children: e("node.refresh"),
              }),
            }),
            r.jsxs(_t, {
              container: !0,
              spacing: 2,
              children: [
                r.jsx(_t, {
                  size: { xs: 12, md: 6, lg: 4 },
                  children: r.jsxs(qi, {
                    onClick: () => j(!0),
                    sx: {
                      height: "100%",
                      borderStyle: "dashed",
                      display: "flex",
                      alignItems: "center",
                      gap: 1,
                      justifyContent: "center",
                      color: (y) => y.palette.text.secondary,
                    },
                    children: [r.jsx(Dp, {}), r.jsx(L, { variant: "h6", children: e("node.addNewNode") })],
                  }),
                }),
                !n && a.map((y) => r.jsx(rl, { node: y, onRefresh: S }, y.id)),
                n && a.length > 0 && a.map((y) => r.jsx(rl, { loading: !0 }, `loading-${y.id}`)),
                n &&
                  a.length === 0 &&
                  Array.from(Array(5)).map((y, w) => r.jsx(rl, { loading: !0 }, `loading-placeholder-${w}`)),
              ],
            }),
            m > 0 &&
              r.jsx(T, {
                sx: { mt: 1 },
                children: r.jsx(Rr, {
                  page: b,
                  totalItems: m,
                  rowsPerPage: _,
                  rowsPerPageOptions: [11, 25, 50, 100, 200, 500, 1e3],
                  onRowsPerPageChange: (y) => c(y.toString()),
                  onChange: (y, w) => l(w.toString()),
                }),
              }),
          ],
        }),
      ],
    });
  },
  N6 = ({ values: e }) => {
    var m, v, x, j, b, _, S, y, w, C, O, k, D;
    const t = Ge(),
      n = $t(t.breakpoints.down("md")),
      { t: i } = F("dashboard"),
      [a, s] = f.useState(!1),
      [o, l] = f.useState(0),
      [d, c] = f.useState(!1),
      [u, h] = f.useState(0),
      p = (E) => {
        var I, z;
        E.preventDefault(),
          s(!0),
          l(((z = (I = e == null ? void 0 : e.edges) == null ? void 0 : I.user) == null ? void 0 : z.id) ?? 0);
      },
      g = (E) => {
        var I, z;
        E.preventDefault(),
          c(!0),
          h(((z = (I = e == null ? void 0 : e.edges) == null ? void 0 : I.file) == null ? void 0 : z.id) ?? 0);
      };
    return r.jsxs(r.Fragment, {
      children: [
        r.jsx(Sr, { open: a, onClose: () => s(!1), userID: o }),
        r.jsx(Qs, { open: d, onClose: () => c(!1), fileID: u }),
        r.jsx(T, {
          children: r.jsxs(_t, {
            container: !0,
            spacing: n ? 2 : 3,
            alignItems: "stretch",
            children: [
              r.jsx(P, {
                title: i("file.id"),
                noContainer: !0,
                lgWidth: 2,
                children: r.jsx(L, { variant: "body2", color: "textSecondary", children: e.id }),
              }),
              r.jsx(P, {
                title: i("share.shareLink"),
                noContainer: !0,
                lgWidth: 4,
                children: r.jsx(L, {
                  variant: "body2",
                  color: "textSecondary",
                  children: r.jsx(Z, {
                    href: e.share_link,
                    target: "_blank",
                    underline: "hover",
                    sx: { wordBreak: "break-all" },
                    children: e.share_link,
                  }),
                }),
              }),
              r.jsx(P, {
                title: i("file.creator"),
                noContainer: !0,
                lgWidth: 4,
                children: r.jsx(be, {
                  variant: "body2",
                  color: "textSecondary",
                  children: r.jsxs(T, {
                    sx: { display: "flex", alignItems: "center", gap: 1 },
                    children: [
                      r.jsx(hr, {
                        sx: { width: 24, height: 24 },
                        overwriteTextSize: !0,
                        user: {
                          id: (e == null ? void 0 : e.user_hash_id) ?? "",
                          nickname:
                            ((v = (m = e == null ? void 0 : e.edges) == null ? void 0 : m.user) == null
                              ? void 0
                              : v.nick) ?? "",
                          created_at:
                            ((j = (x = e == null ? void 0 : e.edges) == null ? void 0 : x.user) == null
                              ? void 0
                              : j.created_at) ?? "",
                        },
                      }),
                      r.jsx(be, {
                        variant: "inherit",
                        children: r.jsx(Z, {
                          sx: { whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis" },
                          onClick: p,
                          underline: "hover",
                          href: "#/",
                          children:
                            (_ = (b = e == null ? void 0 : e.edges) == null ? void 0 : b.user) == null
                              ? void 0
                              : _.nick,
                        }),
                      }),
                    ],
                  }),
                }),
              }),
              r.jsx(P, {
                title: i("share.views"),
                noContainer: !0,
                lgWidth: 2,
                children: r.jsx(L, { variant: "body2", color: "textSecondary", children: e.views ?? 0 }),
              }),
              r.jsx(P, {
                title: i("share.downloads"),
                noContainer: !0,
                lgWidth: 2,
                children: r.jsx(L, { variant: "body2", color: "textSecondary", children: e.downloads ?? 0 }),
              }),
              r.jsx(P, {
                title: i("share.srcFileName"),
                noContainer: !0,
                lgWidth: 4,
                children: r.jsx(L, {
                  variant: "body2",
                  color: "textSecondary",
                  children:
                    (S = e == null ? void 0 : e.edges) != null && S.file
                      ? r.jsxs(T, {
                          sx: { display: "flex", alignItems: "center", gap: 1 },
                          children: [
                            r.jsx(Gs, {
                              name:
                                ((w = (y = e == null ? void 0 : e.edges) == null ? void 0 : y.file) == null
                                  ? void 0
                                  : w.name) ?? "",
                              fileType:
                                ((O = (C = e == null ? void 0 : e.edges) == null ? void 0 : C.file) == null
                                  ? void 0
                                  : O.type) ?? 0,
                            }),
                            r.jsx(be, {
                              variant: "inherit",
                              children: r.jsx(Z, {
                                href: "#/",
                                onClick: g,
                                underline: "hover",
                                children:
                                  (D = (k = e == null ? void 0 : e.edges) == null ? void 0 : k.file) == null
                                    ? void 0
                                    : D.name,
                              }),
                            }),
                          ],
                        })
                      : r.jsx("em", { children: i("share.deleted") }),
                }),
              }),
              r.jsx(P, {
                title: i("share.createdAt"),
                noContainer: !0,
                lgWidth: 4,
                children: r.jsx(L, {
                  variant: "body2",
                  color: "textSecondary",
                  children: r.jsx(sr, { datetime: e.created_at ?? "", timeAgoThreshold: 0, variant: "inherit" }),
                }),
              }),
            ],
          }),
        }),
      ],
    });
  },
  z6 = ({ open: e, onClose: t, shareID: n }) => {
    const i = ge(),
      { t: a } = F("dashboard"),
      [s, o] = f.useState({ edges: {}, id: 0 }),
      [l, d] = f.useState(!0);
    return (
      f.useEffect(() => {
        !n ||
          !e ||
          (d(!0),
          i(Lm(n))
            .then((c) => {
              o(c);
            })
            .catch(() => {
              t();
            })
            .finally(() => {
              d(!1);
            }));
      }, [e]),
      r.jsx(st, {
        title: a("share.shareDialogTitle"),
        dialogProps: { fullWidth: !0, maxWidth: "md", open: e, onClose: t },
        children: r.jsx(gt, {
          children: r.jsx(yi, {
            children: r.jsx(Kt, {
              children: r.jsx(
                Ht,
                {
                  addEndListener: (c, u) => c.addEventListener("transitionend", u, !1),
                  classNames: "fade",
                  children: r.jsxs(T, {
                    children: [
                      l &&
                        r.jsx(T, {
                          sx: {
                            py: 15,
                            height: "100%",
                            display: "flex",
                            justifyContent: "center",
                            alignItems: "center",
                          },
                          children: r.jsx(St, {}),
                        }),
                      !l && r.jsx(N6, { values: s }),
                    ],
                  }),
                },
                `${l}`,
              ),
            }),
          }),
        }),
      })
    );
  },
  L6 = ({ user: e, setUser: t, file: n, setFile: i, clearFilters: a, onClose: s, open: o, ...l }) => {
    const { t: d } = F("dashboard"),
      [c, u] = f.useState(e),
      [h, p] = f.useState(n);
    f.useEffect(() => {
      o && (u(e), p(n));
    }, [o]);
    const g = () => {
        t(c), i(h), s == null || s({}, "backdropClick");
      },
      m = () => {
        u(""), p(""), a(), s == null || s({}, "backdropClick");
      };
    return r.jsx(ka, {
      anchorOrigin: { vertical: "bottom", horizontal: "left" },
      transformOrigin: { vertical: "top", horizontal: "left" },
      slotProps: { paper: { sx: { p: 2, width: 300, maxWidth: "100%" } } },
      onClose: s,
      open: o,
      ...l,
      children: r.jsxs(le, {
        spacing: 2,
        children: [
          r.jsx(P, {
            title: d("event.userID"),
            noContainer: !0,
            lgWidth: 12,
            children: r.jsx(W, {
              fullWidth: !0,
              value: c,
              onChange: (v) => u(v.target.value),
              placeholder: d("user.emptyNoFilter"),
              size: "small",
            }),
          }),
          r.jsx(P, {
            title: d("event.fileID"),
            noContainer: !0,
            lgWidth: 12,
            children: r.jsx(W, {
              fullWidth: !0,
              value: h,
              onChange: (v) => p(v.target.value),
              placeholder: d("user.emptyNoFilter"),
              size: "small",
            }),
          }),
          r.jsxs(T, {
            display: "flex",
            justifyContent: "space-between",
            children: [
              r.jsx(Pe, { variant: "outlined", size: "small", onClick: m, children: d("user.reset") }),
              r.jsx(Pe, { variant: "contained", size: "small", onClick: g, children: d("user.apply") }),
            ],
          }),
        ],
      }),
    });
  },
  nl = ({
    share: e,
    loading: t,
    deleting: n,
    selected: i,
    onDelete: a,
    onDetails: s,
    onSelect: o,
    openUserDialog: l,
    openFileDialog: d,
  }) => {
    var _, S, y, w, C, O, k, D, E, I, z, R, B, V;
    dr();
    const { t: c } = F("dashboard"),
      u = ge(),
      [h, p] = f.useState(!1);
    f.useState(!1);
    const g = () => {
        s == null || s((e == null ? void 0 : e.id) ?? 0);
      },
      m = (q) => {
        q.stopPropagation(),
          q.preventDefault(),
          u(wr(c("share.confirmDelete"))).then(() => {
            e != null &&
              e.id &&
              (p(!0),
              u(Xp({ ids: [e.id] }))
                .then(() => {
                  a == null || a();
                })
                .finally(() => {
                  p(!1);
                }));
          });
      },
      v = (q) => {
        q.stopPropagation(), q.preventDefault(), o == null || o((e == null ? void 0 : e.id) ?? 0);
      };
    if (t)
      return r.jsxs(je, {
        sx: { height: "43px" },
        children: [
          r.jsx(M, { children: r.jsx(ce, { variant: "circular", width: 24, height: 24 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 30 }) }),
          r.jsx(M, {
            children: r.jsxs(T, {
              sx: { display: "flex", alignItems: "center", gap: 1 },
              children: [
                r.jsx(ce, { variant: "circular", width: 24, height: 24 }),
                r.jsx(ce, { variant: "text", width: 200 }),
              ],
            }),
          }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 50 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 50 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 50 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 130 }) }),
          r.jsx(M, {
            children: r.jsxs(T, {
              sx: { display: "flex", alignItems: "center", gap: 1 },
              children: [
                r.jsx(ce, { variant: "circular", width: 24, height: 24 }),
                r.jsx(ce, { variant: "text", width: 50 }),
              ],
            }),
          }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 70 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "circular", width: 24, height: 24 }) }),
        ],
      });
    const x = (q) => {
        var G, H;
        q.stopPropagation(),
          q.preventDefault(),
          l == null ||
            l(((H = (G = e == null ? void 0 : e.edges) == null ? void 0 : G.user) == null ? void 0 : H.id) ?? 0);
      },
      j = (q) => {
        var G, H;
        q.stopPropagation(),
          q.preventDefault(),
          d == null ||
            d(((H = (G = e == null ? void 0 : e.edges) == null ? void 0 : G.file) == null ? void 0 : H.id) ?? 0);
      },
      b = (q) => {
        q.stopPropagation(), q.preventDefault(), window.open((e == null ? void 0 : e.share_link) ?? "", "_blank");
      };
    return r.jsxs(
      je,
      {
        hover: !0,
        sx: { cursor: "pointer" },
        onClick: g,
        selected: i,
        children: [
          r.jsx(pe, {
            padding: "checkbox",
            children: r.jsx(it, {
              disabled: n,
              size: "small",
              disableRipple: !0,
              color: "primary",
              onClick: v,
              checked: i,
            }),
          }),
          r.jsx(M, { children: r.jsx(be, { variant: "inherit", children: e == null ? void 0 : e.id }) }),
          r.jsx(pe, {
            children:
              (_ = e == null ? void 0 : e.edges) != null && _.file
                ? r.jsxs(T, {
                    sx: { display: "flex", alignItems: "center", gap: 1 },
                    children: [
                      r.jsx(Gs, {
                        name:
                          ((y = (S = e == null ? void 0 : e.edges) == null ? void 0 : S.file) == null
                            ? void 0
                            : y.name) ?? "",
                        fileType:
                          ((C = (w = e == null ? void 0 : e.edges) == null ? void 0 : w.file) == null
                            ? void 0
                            : C.type) ?? 0,
                      }),
                      r.jsx(be, {
                        variant: "inherit",
                        children: r.jsx(Z, {
                          href: "#/",
                          onClick: j,
                          underline: "hover",
                          children:
                            (k = (O = e == null ? void 0 : e.edges) == null ? void 0 : O.file) == null
                              ? void 0
                              : k.name,
                        }),
                      }),
                    ],
                  })
                : r.jsx("em", { children: c("share.deleted") }),
          }),
          r.jsx(M, { children: r.jsx(be, { variant: "inherit", children: (e == null ? void 0 : e.views) ?? 0 }) }),
          r.jsx(M, { children: r.jsx(be, { variant: "inherit", children: (e == null ? void 0 : e.downloads) ?? 0 }) }),
          r.jsx(M, { children: r.jsx(be, { variant: "inherit", children: e == null ? void 0 : e.price }) }),
          r.jsx(pe, {
            children: r.jsx(Bm, {
              expires: e == null ? void 0 : e.expires,
              remain_downloads: e == null ? void 0 : e.remain_downloads,
            }),
          }),
          r.jsx(M, {
            children:
              ((D = e == null ? void 0 : e.edges) == null ? void 0 : D.user) &&
              r.jsxs(T, {
                sx: { display: "flex", alignItems: "center", gap: 1 },
                children: [
                  r.jsx(hr, {
                    sx: { width: 24, height: 24 },
                    overwriteTextSize: !0,
                    user: {
                      id: (e == null ? void 0 : e.user_hash_id) ?? "",
                      nickname:
                        ((I = (E = e == null ? void 0 : e.edges) == null ? void 0 : E.user) == null
                          ? void 0
                          : I.nick) ?? "",
                      created_at:
                        ((R = (z = e == null ? void 0 : e.edges) == null ? void 0 : z.user) == null
                          ? void 0
                          : R.created_at) ?? "",
                    },
                  }),
                  r.jsx(be, {
                    variant: "inherit",
                    children: r.jsx(Z, {
                      sx: { whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis" },
                      onClick: x,
                      underline: "hover",
                      href: "#/",
                      children:
                        (V = (B = e == null ? void 0 : e.edges) == null ? void 0 : B.user) == null ? void 0 : V.nick,
                    }),
                  }),
                ],
              }),
          }),
          r.jsx(M, {
            children: r.jsx(sr, {
              datetime: (e == null ? void 0 : e.created_at) ?? "",
              variant: "inherit",
              timeAgoThreshold: 0,
            }),
          }),
          r.jsx(M, {
            children: r.jsxs(T, {
              sx: { display: "flex", alignItems: "center", gap: 1 },
              children: [
                r.jsx($e, { size: "small", onClick: b, disabled: h || n, children: r.jsx(qs, { fontSize: "small" }) }),
                r.jsx($e, { size: "small", onClick: m, disabled: h || n, children: r.jsx(ur, { fontSize: "small" }) }),
              ],
            }),
          }),
        ],
      },
      e == null ? void 0 : e.id,
    );
  },
  B6 = "user",
  R6 = "file",
  LN = () => {
    const { t: e } = F("dashboard"),
      t = Ge(),
      n = $t(t.breakpoints.down("sm")),
      i = ge(),
      [a, s] = f.useState(!0),
      [o, l] = f.useState([]),
      [d, c] = _e(an, { defaultValue: "1" }),
      [u, h] = _e(sn, { defaultValue: "10" }),
      [p, g] = _e(on, { defaultValue: "" }),
      [m, v] = _e(ln, { defaultValue: "desc" }),
      [x, j] = _e(B6, { defaultValue: "" }),
      [b, _] = _e(R6, { defaultValue: "" }),
      [S, y] = f.useState(0),
      [w, C] = f.useState([]),
      O = en({ variant: "popover", popupId: "shareFilterPopover" }),
      [k, D] = f.useState(!1),
      [E, I] = f.useState(void 0),
      [z, R] = f.useState(void 0),
      [B, V] = f.useState(!1),
      [q, G] = f.useState(void 0),
      [H, Q] = f.useState(!1),
      [ne, Y] = f.useState(!1),
      ie = parseInt(d) ?? 1,
      J = parseInt(u) ?? 10,
      ae = f.useCallback(() => {
        j(""), _("");
      }, [j, _]);
    f.useEffect(() => {
      Ae();
    }, [d, u, p, m, x, b]);
    const Ae = () => {
        s(!0),
          C([]),
          i(
            Rm({
              page: ie,
              page_size: J,
              order_by: p ?? "",
              order_direction: m ?? "desc",
              conditions: { share_file_id: b, share_user_id: x },
            }),
          )
            .then((ve) => {
              l(ve.shares), h(ve.pagination.page_size.toString()), y(ve.pagination.total_items ?? 0), s(!1);
            })
            .finally(() => {
              s(!1);
            });
      },
      Xe = () => {
        Y(!0),
          i(wr(e("share.confirmBatchDelete", { num: w.length })))
            .then(() => {
              i(Xp({ ids: Array.from(w) }))
                .then(() => {
                  Ae();
                })
                .finally(() => {
                  Y(!1);
                }),
                Y(!1);
            })
            .finally(() => {
              Y(!1);
            });
      },
      We = (K) => {
        if (K.target.checked) {
          const ve = o.map((Ne) => Ne.id);
          C(ve);
          return;
        }
        C([]);
      },
      qe = f.useCallback(
        (K) => {
          const ve = w.indexOf(K);
          let Ne = [];
          ve === -1
            ? (Ne = Ne.concat(w, K))
            : ve === 0
              ? (Ne = Ne.concat(w.slice(1)))
              : ve === w.length - 1
                ? (Ne = Ne.concat(w.slice(0, -1)))
                : ve > 0 && (Ne = Ne.concat(w.slice(0, ve), w.slice(ve + 1))),
            C(Ne);
        },
        [w],
      ),
      Ke = p === "id" || p === "",
      Fe = m,
      Le = (K) => () => {
        const ve = p === K || (K === "id" && Ke);
        g(K), v(ve && Fe === "asc" ? "desc" : "asc");
      },
      Se = f.useMemo(() => !!(x || b), [x, b]),
      Be = (K) => {
        I(K), D(!0);
      },
      He = (K) => {
        R(K), V(!0);
      },
      ue = (K) => {
        G(K), Q(!0);
      };
    return r.jsxs(Ft, {
      children: [
        r.jsx(Sr, { open: k, onClose: () => D(!1), userID: E }),
        r.jsx(Qs, { open: B, onClose: () => V(!1), fileID: z }),
        r.jsx(z6, { open: H, onClose: () => Q(!1), shareID: q }),
        r.jsxs(Lt, {
          maxWidth: "xl",
          children: [
            r.jsx(Vt, { title: e("dashboard:nav.shares") }),
            r.jsxs(le, {
              direction: "row",
              spacing: 1,
              sx: { mb: 2 },
              children: [
                r.jsx(L6, { ...Aa(O), user: x, setUser: j, file: b, setFile: _, clearFilters: ae }),
                r.jsx(ke, {
                  onClick: Ae,
                  disabled: a,
                  variant: "contained",
                  startIcon: r.jsx(Dr, {}),
                  children: e("node.refresh"),
                }),
                r.jsx(An, {
                  color: "primary",
                  variant: "dot",
                  invisible: !Se,
                  children: r.jsx(ke, {
                    startIcon: r.jsx(Da, {}),
                    variant: "contained",
                    ...tn(O),
                    children: e("user.filter"),
                  }),
                }),
                w.length > 0 &&
                  !n &&
                  r.jsxs(r.Fragment, {
                    children: [
                      r.jsx(bt, { orientation: "vertical", flexItem: !0 }),
                      r.jsx(Pe, {
                        startIcon: r.jsx(or, {}),
                        variant: "contained",
                        color: "error",
                        onClick: Xe,
                        children: e("share.deleteXShares", { num: w.length }),
                      }),
                    ],
                  }),
              ],
            }),
            n &&
              w.length > 0 &&
              r.jsx(le, {
                direction: "row",
                spacing: 1,
                sx: { mb: 2 },
                children: r.jsx(Pe, {
                  startIcon: r.jsx(or, {}),
                  variant: "contained",
                  color: "error",
                  onClick: Xe,
                  children: e("share.deleteXShares", { num: w.length }),
                }),
              }),
            r.jsx(ot, {
              component: xt,
              sx: { mt: 2 },
              children: r.jsxs(lt, {
                size: "small",
                stickyHeader: !0,
                sx: { width: "100%", tableLayout: "fixed" },
                children: [
                  r.jsx(ct, {
                    children: r.jsxs(je, {
                      children: [
                        r.jsx(pe, {
                          padding: "checkbox",
                          sx: { width: "36px!important" },
                          width: 50,
                          children: r.jsx(it, {
                            size: "small",
                            indeterminate: w.length > 0 && w.length < o.length,
                            checked: o.length > 0 && w.length === o.length,
                            onChange: We,
                          }),
                        }),
                        r.jsx(M, {
                          width: 80,
                          children: r.jsx(ft, {
                            active: Ke,
                            direction: Ke ? Fe : "asc",
                            onClick: Le("id"),
                            children: e("group.#"),
                          }),
                        }),
                        r.jsx(M, { width: 400, children: e("share.srcFileName") }),
                        r.jsx(M, {
                          width: 100,
                          children: r.jsx(ft, {
                            active: p === "views",
                            direction: p === "views" ? Fe : "asc",
                            onClick: Le("views"),
                            children: e("share.views"),
                          }),
                        }),
                        r.jsx(M, {
                          width: 100,
                          children: r.jsx(ft, {
                            active: p === "downloads",
                            direction: p === "downloads" ? Fe : "asc",
                            onClick: Le("downloads"),
                            children: e("share.downloads"),
                          }),
                        }),
                        r.jsx(M, {
                          width: 100,
                          children: r.jsx(ft, {
                            active: p === "price",
                            direction: p === "price" ? Fe : "asc",
                            onClick: Le("price"),
                            children: e("share.price"),
                          }),
                        }),
                        r.jsx(M, { width: 150, children: e("share.autoExpire") }),
                        r.jsx(M, { width: 150, children: e("share.owner") }),
                        r.jsx(M, {
                          width: 180,
                          children: r.jsx(ft, {
                            active: p === "created_at",
                            direction: p === "created_at" ? Fe : "asc",
                            onClick: Le("created_at"),
                            children: e("share.createdAt"),
                          }),
                        }),
                        r.jsx(M, { width: 80 }),
                      ],
                    }),
                  }),
                  r.jsxs(dt, {
                    children: [
                      !a &&
                        o.map((K) =>
                          r.jsx(
                            nl,
                            {
                              deleting: ne,
                              share: K,
                              onDelete: Ae,
                              selected: w.indexOf(K.id) !== -1,
                              onSelect: qe,
                              openUserDialog: Be,
                              openFileDialog: He,
                              onDetails: ue,
                            },
                            K.id,
                          ),
                        ),
                      a && o.length > 0 && o.slice(0, 10).map((K) => r.jsx(nl, { loading: !0 }, `loading-${K.id}`)),
                      a &&
                        o.length === 0 &&
                        Array.from(Array(10)).map((K, ve) => r.jsx(nl, { loading: !0 }, `loading-${ve}`)),
                    ],
                  }),
                ],
              }),
            }),
            S > 0 &&
              r.jsx(T, {
                sx: { mt: 1 },
                children: r.jsx(Rr, {
                  page: ie,
                  totalItems: S,
                  rowsPerPage: J,
                  rowsPerPageOptions: [10, 25, 50, 100, 200, 500],
                  onRowsPerPageChange: (K) => h(K.toString()),
                  onChange: (K, ve) => c(ve.toString()),
                }),
              }),
          ],
        }),
      ],
    });
  },
  bc = { id: 0, type: te.local, name: "", edges: {} },
  Fr = f.createContext({ values: { ...bc }, setPolicy: () => {} }),
  F6 = ({ policyID: e, children: t, onPolicyChange: n }) => {
    var x;
    const i = ge();
    F("dashboard");
    const [a, s] = f.useState({ ...bc }),
      [o, l] = f.useState({ ...bc }),
      [d, c] = f.useState(!0),
      [u, h] = f.useState(!1),
      p = f.useRef(null),
      g = f.useMemo(() => JSON.stringify(o) !== JSON.stringify(a), [o, a]);
    f.useEffect(() => {
      c(!0),
        i(wp(e))
          .then((j) => {
            s(j), l(j), n(j);
          })
          .finally(() => {
            c(!1);
          });
    }, [e]);
    const m = () => {
        l(a);
      },
      v = () => {
        if (p.current && !p.current.checkValidity()) {
          p.current.reportValidity();
          return;
        }
        h(!0),
          i(_p({ policy: { ...o, edges: {} } }))
            .then((j) => {
              s(j), l(j), n(j);
            })
            .finally(() => {
              h(!1);
            });
      };
    return r.jsx(Fr.Provider, {
      value: { values: o, setPolicy: l, formRef: p },
      children: r.jsx(Kt, {
        children: r.jsx(
          Ht,
          {
            addEndListener: (j, b) => j.addEventListener("transitionend", b, !1),
            classNames: "fade",
            children: r.jsxs(T, {
              sx: { mt: 3 },
              children: [
                d &&
                  r.jsx(T, {
                    sx: { pt: 20, height: "100%", display: "flex", justifyContent: "center", alignItems: "center" },
                    children: r.jsx(St, {}),
                  }),
                !d &&
                  r.jsxs(T, {
                    children: [
                      t,
                      r.jsx(Xs, {
                        in: g,
                        disabled: ((x = o == null ? void 0 : o.settings) == null ? void 0 : x.od_driver) === Ex,
                        submitting: u,
                        revert: m,
                        submit: v,
                      }),
                    ],
                  }),
              ],
            }),
          },
          `${d}`,
        ),
      }),
    });
  },
  V6 = ({ open: e, onClose: t, onConfirm: n, initialAppId: i = "", initialAppSecret: a = "" }) => {
    const { t: s } = F("dashboard"),
      o = ge(),
      [l, d] = f.useState(!1),
      [c, u] = f.useState(""),
      [h, p] = f.useState(i),
      [g, m] = f.useState(a),
      v = window.location.protocol === "https:";
    f.useEffect(() => {
      e &&
        (d(!0),
        o(Ep()).then((j) => {
          u(j), d(!1);
        }));
    }, [e, o]);
    const x = () => {
      n(h, g), t();
    };
    return r.jsxs(st, {
      title: s("policy.authorizeOneDrive"),
      dialogProps: { open: e, onClose: t, maxWidth: "sm", fullWidth: !0 },
      children: [
        r.jsx(gt, {
          children: r.jsxs(le, {
            spacing: 3,
            sx: { mt: 1 },
            children: [
              r.jsx(L, { variant: "body2", gutterBottom: !0, children: s("policy.authorizeOneDriveDes") }),
              r.jsxs(T, {
                children: [
                  r.jsx(L, { variant: "subtitle2", gutterBottom: !0, children: s("policy.redirectUrl") }),
                  r.jsx(L, { component: "div", variant: "body2", color: "textPrimary", children: c }),
                  r.jsx(L, {
                    component: "div",
                    variant: "caption",
                    color: "textSecondary",
                    children: s("policy.redirectUrlDes"),
                  }),
                ],
              }),
              r.jsxs(T, {
                children: [
                  r.jsx(L, { variant: "subtitle2", gutterBottom: !0, children: s("policy.aadAppID") }),
                  r.jsx(W, { fullWidth: !0, required: !0, value: h, onChange: (j) => p(j.target.value) }),
                  r.jsx(A, {
                    children: r.jsx(X, {
                      i18nKey: "policy.aadAppIDDes",
                      ns: "dashboard",
                      components: [r.jsx(oe, {}), r.jsx(oe, {})],
                    }),
                  }),
                ],
              }),
              r.jsxs(T, {
                children: [
                  r.jsx(L, { variant: "subtitle2", gutterBottom: !0, children: s("policy.aadAppSecret") }),
                  r.jsx(W, { fullWidth: !0, required: !0, value: g, onChange: (j) => m(j.target.value) }),
                  r.jsx(A, {
                    children: r.jsx(X, {
                      i18nKey: "policy.addAppSecretDes",
                      ns: "dashboard",
                      components: [r.jsx(oe, {}), r.jsx(oe, {}), r.jsx(oe, {})],
                    }),
                  }),
                ],
              }),
              !v && r.jsx(Br, { severity: "warning", children: s("policy.httpsRequired") }),
            ],
          }),
        }),
        r.jsxs(Vs, {
          children: [
            r.jsx(Pe, { onClick: t, children: s("common:cancel") }),
            r.jsx(Pe, {
              variant: "contained",
              color: "primary",
              onClick: x,
              disabled: !h || !g,
              children: s("policy.authorizeMicrosoft"),
            }),
          ],
        }),
      ],
    });
  },
  q6 = () => {
    const { t: e } = F("dashboard"),
      { values: t, setPolicy: n } = f.useContext(Fr),
      i = ge(),
      [a, s] = f.useState(void 0),
      [o, l] = f.useState(!1),
      [d, c] = f.useState(!1),
      [u, h] = f.useState(!1);
    f.useEffect(() => {
      if (!t.access_key) {
        s({ valid: !1, last_refresh_time: "" });
        return;
      }
      l(!0),
        i(Fm(t.id.toString()))
          .then((x) => {
            s(x);
          })
          .finally(() => {
            l(!1);
          });
    }, [t.id, t.secret_key]);
    const p = !o && a && !!a.last_refresh_time,
      g = () => {
        h(!0);
      },
      m = () => {
        h(!1);
      },
      v = (x, j) => {
        c(!0),
          i(Vm({ id: t.id, secret: j, app_id: x }))
            .then((b) => {
              window.location.href = b;
            })
            .catch(() => {
              c(!1);
            });
      };
    return r.jsxs(T, {
      sx: { mt: 1 },
      children: [
        o && r.jsx(St, { size: 30 }),
        !o &&
          r.jsxs(r.Fragment, {
            children: [
              !p &&
                r.jsxs(L, {
                  variant: "body2",
                  color: "warning",
                  sx: { display: "flex", alignItems: "center", gap: 1 },
                  children: [r.jsx(Gp, {}), e("policy.notGranted")],
                }),
              p &&
                r.jsxs(L, {
                  variant: "body2",
                  color: "success",
                  sx: { display: "flex", alignItems: "center", gap: 1 },
                  children: [
                    r.jsx(ef, {}),
                    r.jsx(X, {
                      i18nKey: "policy.granted",
                      ns: "dashboard",
                      components: [r.jsx(sr, { datetime: a.last_refresh_time, variant: "inherit" })],
                    }),
                  ],
                }),
              r.jsx(ke, {
                sx: { mt: 1 },
                variant: "contained",
                onClick: g,
                loading: d,
                children: e(p ? "policy.authorizeAgain" : "policy.authorizeNow"),
              }),
            ],
          }),
        r.jsx(V6, { open: u, onClose: m, onConfirm: v, initialAppId: t.bucket_name, initialAppSecret: t.secret_key }),
      ],
    });
  },
  Ex = "sharepoint_pending",
  U6 = () => {
    var Q, ne, Y, ie, J, ae, Ae, Xe, We, qe, Ke, Fe, Le, Se, Be, He;
    const { t: e } = F("dashboard"),
      { values: t, setPolicy: n } = f.useContext(Fr),
      [i, a] = f.useState(!1),
      { enqueueSnackbar: s } = ut(),
      o = ge(),
      l = f.useMemo(() => {
        var ue;
        return (ue = t.settings) != null && ue.od_driver && t.settings.od_driver !== "me/drive"
          ? t.settings.od_driver
          : "";
      }, [(Q = t.settings) == null ? void 0 : Q.od_driver]),
      [d, c] = f.useState(l),
      [u, h] = f.useState(!1),
      p = f.useCallback(
        (ue) => {
          n((K) => ({ ...K, name: ue.target.value }));
        },
        [n],
      ),
      g = f.useCallback(
        (ue) => {
          n((K) => ({ ...K, node_id: ue > 0 ? ue : void 0 }));
        },
        [n],
      ),
      m = f.useCallback(
        (ue) => {
          n((K) => ({ ...K, bucket_name: ue.target.value }));
        },
        [n],
      ),
      v = f.useMemo(
        () =>
          t.type === te.oss ||
          t.type === te.cos ||
          t.type === te.obs ||
          t.type === te.qiniu ||
          t.type === te.s3 ||
          t.type === te.ks3 ||
          t.type === te.upyun,
        [t.type],
      ),
      x = f.useMemo(() => t.type === te.cos || t.type === te.obs || t.type === te.s3, [t.type]),
      j = f.useMemo(
        () => t.type === te.oss || t.type === te.cos || t.type === te.obs || t.type === te.s3 || t.type === te.ks3,
        [t.type],
      ),
      b = f.useMemo(() => Et[t.type], [t.type]),
      _ = f.useCallback(
        (ue) => {
          n((K) => ({ ...K, is_private: ue ? !0 : void 0 }));
        },
        [n],
      ),
      S = f.useCallback(
        (ue) => {
          n((K) => ({ ...K, server: ue.target.value }));
        },
        [n],
      ),
      y = f.useCallback(
        (ue) => {
          n((K) => ({
            ...K,
            settings: { ...K.settings, server_side_endpoint: ue.target.value ? ue.target.value : void 0 },
          }));
        },
        [n],
      ),
      w = f.useCallback(
        (ue) => {
          n((K) => ({ ...K, settings: { ...K.settings, use_cname: ue.target.checked ? !0 : void 0 } }));
        },
        [n],
      ),
      C = f.useCallback(
        (ue) => {
          n((K) => ({ ...K, access_key: ue.target.value }));
        },
        [n],
      ),
      O = f.useCallback(
        (ue) => {
          n((K) => ({ ...K, secret_key: ue.target.value }));
        },
        [n],
      ),
      k = f.useCallback(
        (ue) => {
          n((K) => ({ ...K, settings: { ...K.settings, s3_path_style: ue.target.checked ? !0 : void 0 } }));
        },
        [n],
      ),
      D = f.useCallback(
        (ue) => {
          n((K) => ({ ...K, settings: { ...K.settings, region: ue.target.value } }));
        },
        [n],
      ),
      E = f.useCallback(
        (ue) => {
          n((K) => ({
            ...K,
            settings: {
              ...K.settings,
              s3_delete_batch_size: parseInt(ue.target.value) ? parseInt(ue.target.value) : void 0,
            },
          }));
        },
        [n],
      ),
      I = f.useCallback(
        (ue) => {
          n((K) => ({ ...K, server: ue }));
        },
        [n],
      ),
      z = f.useCallback(
        (ue) => {
          ue.target.value === "default"
            ? n((ve) => ({ ...ve, settings: { ...ve.settings, od_driver: "me/drive" } }))
            : (c(""), n((ve) => ({ ...ve, settings: { ...ve.settings, od_driver: Ex } })));
        },
        [n, c],
      ),
      R = f.useCallback((ue) => {
        c(ue.target.value);
      }, []),
      B = f.useCallback(() => {
        !d ||
          d.startsWith("sites/") ||
          (h(!0),
          o(qm(t.id, d))
            .then((ue) => {
              n((K) => ({ ...K, settings: { ...K.settings, od_driver: ue } })), c(ue);
            })
            .finally(() => {
              h(!1);
            }));
      }, [d, n]),
      V = f.useCallback(() => {
        a(!0),
          o(bi({ policy: t }))
            .then(() => {
              s(e("policy.corsPolicyAdded"), { variant: "success", action: nt });
            })
            .finally(() => {
              a(!1);
            });
      }, [o, t, e]),
      q = f.useCallback(
        (ue) => {
          n((K) => ({
            ...K,
            settings: { ...K.settings, tps_limit: parseFloat(ue.target.value) ? parseFloat(ue.target.value) : void 0 },
          }));
        },
        [n],
      ),
      G = f.useCallback(
        (ue) => {
          n((K) => ({
            ...K,
            settings: {
              ...K.settings,
              tps_limit_burst: parseInt(ue.target.value) ? parseInt(ue.target.value) : void 0,
            },
          }));
        },
        [n],
      ),
      H = f.useCallback(
        (ue) => {
          n((K) => ({ ...K, settings: { ...K.settings, token: ue.target.value ? ue.target.value : void 0 } }));
        },
        [n],
      );
    return r.jsxs(Ee, {
      children: [
        r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("policy.basicInfo") }),
        r.jsxs(Ie, {
          children: [
            r.jsx(P, {
              title: e("policy.name"),
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, { required: !0, value: t.name, onChange: p }),
                  r.jsx(A, { children: e("policy.policyName") }),
                ],
              }),
            }),
            v &&
              r.jsxs(r.Fragment, {
                children: [
                  r.jsxs(P, {
                    title: e(b.bucketName ?? ""),
                    lgWidth: 5,
                    children: [
                      r.jsx(W, { fullWidth: !0, required: !0, value: t.bucket_name, onChange: m }),
                      r.jsx(A, { children: b.bucketNameDes }),
                    ],
                  }),
                  r.jsx(P, {
                    title: e(b.bucketType ?? ""),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(nn, { phraseVariant: t.type, value: t.is_private ?? !1, onChange: _ }),
                        r.jsx(A, { children: e("policy.bucketTypeDes") }),
                      ],
                    }),
                  }),
                  t.type === te.upyun &&
                    r.jsx(Ve, {
                      in: t.is_private,
                      children: r.jsxs(P, {
                        title: e("policy.upyunTokenSecret"),
                        lgWidth: 5,
                        children: [
                          r.jsx(W, {
                            fullWidth: !0,
                            required: !0,
                            value: (ne = t.settings) == null ? void 0 : ne.token,
                            onChange: H,
                          }),
                          r.jsx(A, { children: e("policy.upyunTokenSecretDes") }),
                        ],
                      }),
                    }),
                  x &&
                    r.jsxs(P, {
                      title: e(b.endpointName ?? ""),
                      lgWidth: 5,
                      children: [
                        r.jsx(lr, {
                          fullWidth: !0,
                          enforceProtocol: !0,
                          required: !0,
                          value: t.server,
                          onChange: S,
                          variant: "outlined",
                          enforcePrefix: !b.endpointNotEnforcePrefix,
                        }),
                        r.jsx(A, { children: b.endpointDes }),
                        t.type == te.obs &&
                          r.jsxs(r.Fragment, {
                            children: [
                              r.jsx(xe, {
                                slotProps: { typography: { variant: "body2" } },
                                control: r.jsx(it, {
                                  size: "small",
                                  checked: ((Y = t.settings) == null ? void 0 : Y.use_cname) ?? !1,
                                  onChange: w,
                                }),
                                label: e("policy.thisIsACustomDomain"),
                              }),
                              r.jsx(A, { children: e("policy.thisIsACustomDomainDes") }),
                            ],
                          }),
                        (t.type === te.s3 || t.type === te.ks3) &&
                          r.jsxs(r.Fragment, {
                            children: [
                              r.jsx(xe, {
                                sx: { mt: 1, mb: -1 },
                                slotProps: { typography: { variant: "body2" } },
                                control: r.jsx(it, {
                                  size: "small",
                                  checked: ((ie = t.settings) == null ? void 0 : ie.s3_path_style) ?? !1,
                                  onChange: k,
                                }),
                                label: e("policy.usePathEndpoint"),
                              }),
                              r.jsx(A, {
                                children: r.jsx(X, {
                                  i18nKey:
                                    t.type === te.s3 ? "policy.s3EndpointPathStyle" : "policy.ks3EndpointPathStyle",
                                  ns: "dashboard",
                                  components: [r.jsx(oe, {})],
                                }),
                              }),
                            ],
                          }),
                      ],
                    }),
                  t.type === te.oss &&
                    r.jsxs(r.Fragment, {
                      children: [
                        r.jsxs(P, {
                          title: e("policy.endpoint"),
                          lgWidth: 5,
                          children: [
                            r.jsx(W, { fullWidth: !0, required: !0, value: t.server, onChange: S }),
                            r.jsx(A, {
                              children: r.jsx(X, {
                                i18nKey: "policy.ossEndpointDes",
                                ns: "dashboard",
                                components: [r.jsx(oe, {}), r.jsx(oe, {}), r.jsx(oe, {})],
                              }),
                            }),
                            r.jsx(xe, {
                              sx: { mt: 1, mb: -1 },
                              slotProps: { typography: { variant: "body2" } },
                              control: r.jsx(it, {
                                size: "small",
                                checked: ((J = t.settings) == null ? void 0 : J.use_cname) ?? !1,
                                onChange: w,
                              }),
                              label: e("policy.thisIsACustomDomain"),
                            }),
                            r.jsx(A, { children: e("policy.thisIsACustomDomainDes") }),
                          ],
                        }),
                        r.jsxs(P, {
                          title: e("policy.intranetEndPoint"),
                          lgWidth: 5,
                          children: [
                            r.jsx(W, {
                              fullWidth: !0,
                              value: (ae = t.settings) == null ? void 0 : ae.server_side_endpoint,
                              onChange: y,
                            }),
                            r.jsx(A, { children: e("policy.ossLANEndpointDes") }),
                          ],
                        }),
                      ],
                    }),
                  b.regionCode &&
                    r.jsxs(P, {
                      title: e(b.regionCode ?? ""),
                      lgWidth: 5,
                      children: [
                        r.jsx(W, {
                          fullWidth: !0,
                          required: !0,
                          value: (Ae = t.settings) == null ? void 0 : Ae.region,
                          onChange: D,
                        }),
                        r.jsx(A, { children: b.regionCodeDes }),
                      ],
                    }),
                  r.jsx(P, {
                    title: e("policy.accessCredential"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          placeholder: e(b.akName ?? ""),
                          fullWidth: !0,
                          required: !0,
                          value: t.access_key,
                          onChange: C,
                        }),
                        r.jsx(W, {
                          placeholder: e(b.skName ?? ""),
                          sx: { mt: 1 },
                          fullWidth: !0,
                          required: !0,
                          value: t.secret_key,
                          onChange: O,
                        }),
                        r.jsx(A, { children: b.credentialDes }),
                      ],
                    }),
                  }),
                ],
              }),
            t.type === te.remote &&
              r.jsxs(P, {
                title: e("policy.node"),
                lgWidth: 5,
                children: [
                  r.jsx(uf, { fullWidth: !0, required: !0, value: t.node_id ?? 0, onChange: g }),
                  r.jsx(A, {
                    children: r.jsx(X, {
                      i18nKey: "policy.nodeDes",
                      ns: "dashboard",
                      components: [r.jsx(Z, { component: zt, to: "/admin/node" })],
                    }),
                  }),
                ],
              }),
            j &&
              r.jsxs(P, {
                title: e("policy.corsSettingStep"),
                lgWidth: 5,
                children: [
                  r.jsxs($, {
                    fullWidth: !0,
                    children: [
                      r.jsx(_i, { exposedHeaders: b.corsExposedHeaders }),
                      r.jsx(A, { children: e("policy.ossCORSDes") }),
                    ],
                  }),
                  r.jsx(ke, {
                    loading: i,
                    variant: "contained",
                    color: "primary",
                    sx: { mt: 1 },
                    onClick: V,
                    children: e("policy.letCloudreveHelpMe"),
                  }),
                ],
              }),
            (t.type === te.s3 || t.type === te.ks3) &&
              r.jsxs(P, {
                title: e("policy.batchDeleteSize"),
                lgWidth: 5,
                children: [
                  r.jsx(W, {
                    fullWidth: !0,
                    slotProps: { htmlInput: { min: 0 } },
                    value: (Xe = t.settings) == null ? void 0 : Xe.s3_delete_batch_size,
                    onChange: E,
                    type: "number",
                  }),
                  r.jsx(A, {
                    children: r.jsx(X, {
                      i18nKey: "policy.batchDeleteSizeDes",
                      ns: "dashboard",
                      components: [r.jsx(oe, {})],
                    }),
                  }),
                ],
              }),
            t.type == te.onedrive &&
              r.jsxs(r.Fragment, {
                children: [
                  r.jsxs(P, {
                    title: e("policy.aadAccountCloud"),
                    lgWidth: 5,
                    children: [
                      r.jsx(df, { fullWidth: !0, value: t.server ?? "", required: !0, onChange: I }),
                      r.jsx(A, { children: e("policy.aadAccountCloudDes") }),
                    ],
                  }),
                  r.jsx(P, { title: e("policy.grantAccess"), lgWidth: 5, children: r.jsx(q6, {}) }),
                  r.jsxs(P, {
                    title: e("policy.driverRoot"),
                    lgWidth: 5,
                    children: [
                      r.jsxs($, {
                        fullWidth: !0,
                        children: [
                          r.jsxs(Ue, {
                            value:
                              ((We = t.settings) == null ? void 0 : We.od_driver) === void 0 ||
                              ((qe = t.settings) == null ? void 0 : qe.od_driver) === "" ||
                              ((Ke = t.settings) == null ? void 0 : Ke.od_driver) === "me/drive"
                                ? "default"
                                : "sharepoint",
                            onChange: z,
                            children: [
                              r.jsx(he, {
                                value: "default",
                                children: r.jsx(de, {
                                  slotProps: { primary: { variant: "body2" } },
                                  children: e("policy.saveToDefaultOneDrive"),
                                }),
                              }),
                              r.jsx(he, {
                                value: "sharepoint",
                                children: r.jsx(de, {
                                  slotProps: { primary: { variant: "body2" } },
                                  children: e("policy.saveToSharePoint"),
                                }),
                              }),
                            ],
                          }),
                          r.jsx(A, { children: e("policy.driverRootDes") }),
                        ],
                      }),
                      r.jsx(Ve, {
                        in:
                          ((Fe = t.settings) == null ? void 0 : Fe.od_driver) !== void 0 &&
                          ((Le = t.settings) == null ? void 0 : Le.od_driver) !== "" &&
                          ((Se = t.settings) == null ? void 0 : Se.od_driver) !== "me/drive",
                        children: r.jsxs($, {
                          fullWidth: !0,
                          sx: { mt: 2 },
                          children: [
                            r.jsx(W, {
                              fullWidth: !0,
                              placeholder: "https://example.sharepoint.com/sites/yoursite",
                              value: d,
                              onChange: R,
                              onBlur: B,
                              disabled: u,
                              slotProps: {
                                input: { endAdornment: u ? r.jsx(vn, { size: 20, color: "inherit" }) : null },
                              },
                            }),
                            r.jsx(A, { children: e("policy.sharePointUrlDes") }),
                          ],
                        }),
                      }),
                    ],
                  }),
                  r.jsx(P, {
                    title: e("policy.limitOdTPSDes"),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          placeholder: e("policy.tps"),
                          slotProps: { htmlInput: { min: 0, step: 0.1 } },
                          fullWidth: !0,
                          value: (Be = t.settings) == null ? void 0 : Be.tps_limit,
                          onChange: q,
                        }),
                        r.jsx(A, { children: e("policy.tpsDes") }),
                        r.jsx(W, {
                          sx: { mt: 1 },
                          placeholder: e("policy.tpsBurst"),
                          slotProps: { htmlInput: { min: 0, step: 0.1 } },
                          fullWidth: !0,
                          value: (He = t.settings) == null ? void 0 : He.tps_limit_burst,
                          onChange: G,
                        }),
                        r.jsx(A, { children: e("policy.tpsBurstDes") }),
                      ],
                    }),
                  }),
                ],
              }),
          ],
        }),
      ],
    });
  };
function K6(e) {
  return r.jsx(Ye, {
    ...e,
    children: r.jsx("path", {
      d: "M8.904 16.5h6.192C14.476 19.773 13.235 22 12 22c-1.197 0-2.4-2.094-3.038-5.204zh6.192zm-5.838.001h4.306c.364 2.082.983 3.854 1.792 5.093a10.029 10.029 0 0 1-5.952-4.814zm13.563 0h4.305a10.028 10.028 0 0 1-6.097 5.093c.755-1.158 1.344-2.778 1.715-4.681zh4.305zm.302-6.5h4.87a10.047 10.047 0 0 1-.257 5H16.84a28.676 28.676 0 0 0 .13-4.344zh4.87zM2.2 10h4.87a28.211 28.211 0 0 0 .033 4.42l.057.58H2.456a10.047 10.047 0 0 1-.258-5m6.377 0h6.849a25.838 25.838 0 0 1-.037 4.425l-.062.575H8.674a25.987 25.987 0 0 1-.132-4.512zh6.849zm6.368-7.424l-.108-.17A10.027 10.027 0 0 1 21.373 8.5h-4.59c-.316-2.416-.957-4.492-1.838-5.923l-.108-.17zm-5.902-.133l.122-.037c-.88 1.351-1.535 3.33-1.883 5.654l-.062.44H2.63a10.028 10.028 0 0 1 6.413-6.057l.122-.037zM12 2.002c1.319 0 2.646 2.542 3.214 6.183l.047.315H8.739C9.28 4.691 10.644 2.002 12 2.002",
    }),
  });
}
const H6 = f.forwardRef(({ type: e, size: t = 40, storageNodeTitle: n, proxyNodeTitle: i, variant: a }, s) => {
    const { t: o } = F("dashboard"),
      l = Ge(),
      d = $t(l.breakpoints.down("sm")),
      c = f.useMemo(() => {
        switch (e) {
          case "cloudreve":
            return r.jsx(Up, { sx: { width: t, height: t, color: (h) => h.palette.action.active } });
          case "proxy":
            return r.jsx(K6, { sx: { width: t, height: t, color: (h) => h.palette.action.active } });
          case "storage_node":
          case "storage_node_internal":
            return r.jsx(Pv, { sx: { width: t, height: t, color: (h) => h.palette.action.active } });
          case "user":
            return r.jsx(Hm, { sx: { width: t, height: t, color: (h) => h.palette.action.active } });
          case "wopi":
            return r.jsx(Km, { sx: { width: t, height: t, color: (h) => h.palette.action.active } });
          case "arrow":
            return r.jsx(Um, {
              sx: {
                width: t - 10,
                mx: 1,
                height: t - 10,
                color: (h) => h.palette.action.disabled,
                transform:
                  a == "upload" ? (d ? "rotate(-90deg)" : "rotate(180deg)") : d ? "rotate(90deg)" : "rotate(0deg)",
              },
            });
        }
      }, [e, d]),
      u = f.useMemo(() => {
        switch (e) {
          case "cloudreve":
            return "Cloudreve";
          case "proxy":
            return i ?? o("policy.customProxy");
          case "storage_node":
            return n ?? o("policy.storageNode");
          case "storage_node_internal":
            return o("policy.storageNodeInternal");
          case "user":
            return o("nav.users");
          case "wopi":
            return o("settings.wopiViewer");
        }
      }, [e]);
    return r.jsxs(T, {
      sx: { display: "flex", flexDirection: "column", alignItems: "center", gap: 1 },
      ref: s,
      children: [c, u && r.jsx(be, { color: "text.secondary", variant: "body2", children: u })],
    });
  }),
  Ix = ({ variant: e, cdn: t, proxyed: n, internalEndpoint: i, storageNodeTitle: a, proxyNodeTitle: s }) => {
    const { t: o } = F("dashboard"),
      l = Ge(),
      d = $t(l.breakpoints.down("sm")),
      [c, u] = f.useState("web"),
      h = f.useMemo(() => {
        const p = [];
        c == "wopi" ? p.push("wopi") : p.push("user"),
          e == "upload"
            ? (n || c == "dav" || c == "web_edit") && p.push("cloudreve")
            : ((n || c == "wopi" || c == "encrypted_file") && p.push("cloudreve"), t && p.push("proxy")),
          (e == "upload" && i && (c == "dav" || c == "web_edit" || n)) ||
          (e == "download" && i && (c == "wopi" || n || c == "encrypted_file") && !t)
            ? p.push("storage_node_internal")
            : p.push("storage_node");
        const g = [];
        for (const m of p) g.push(m), g.push("arrow");
        return g.slice(0, -1);
      }, [n, c, t, e, i]);
    return r.jsxs(ns, {
      sx: { overflow: "auto" },
      children: [
        r.jsxs(Ue, {
          variant: "filled",
          value: c,
          onChange: (p) => u(p.target.value),
          children: [
            r.jsx(he, {
              value: "web",
              children: r.jsx(de, { slotProps: { primary: { variant: "body2" } }, children: o("policy.sourceWeb") }),
            }),
            r.jsx(he, {
              value: "dav",
              children: r.jsx(de, { slotProps: { primary: { variant: "body2" } }, children: o("policy.sourceDav") }),
            }),
            e == "upload" &&
              r.jsx(he, {
                value: "web_edit",
                children: r.jsx(de, {
                  slotProps: { primary: { variant: "body2" } },
                  children: o("policy.sourceWebEdit"),
                }),
              }),
            e == "download" &&
              r.jsx(he, {
                value: "wopi",
                children: r.jsx(de, {
                  slotProps: { primary: { variant: "body2" } },
                  children: o("settings.wopiViewer"),
                }),
              }),
            e == "download" &&
              r.jsx(he, {
                value: "encrypted_file",
                children: r.jsx(de, {
                  slotProps: { primary: { variant: "body2" } },
                  children: o("policy.encryptedFile"),
                }),
              }),
          ],
        }),
        r.jsx(T, {
          sx: {
            mt: 2,
            display: "flex",
            justifyContent: "safe center",
            alignItems: "center",
            flexDirection: d ? "column" : "row",
            gap: 2,
          },
          children: h.map((p) => r.jsx(H6, { variant: e, type: p, storageNodeTitle: a, proxyNodeTitle: s })),
        }),
      ],
    });
  },
  G6 = () => {
    var d, c, u, h, p, g, m, v, x;
    const { t: e } = F("dashboard"),
      { values: t, setPolicy: n } = f.useContext(Fr),
      i = f.useCallback(
        (j) => {
          n((b) => ({ ...b, settings: { ...b.settings, custom_proxy: j.target.checked ? !0 : void 0 } }));
        },
        [n],
      ),
      a = f.useCallback(
        (j) => {
          n((b) => ({ ...b, settings: { ...b.settings, proxy_server: j.target.value } }));
        },
        [n],
      ),
      s = f.useCallback(
        (j) => {
          n((b) => ({ ...b, settings: { ...b.settings, internal_proxy: j.target.checked ? !0 : void 0 } }));
        },
        [n],
      ),
      o = f.useCallback(
        (j) => {
          n((b) => ({ ...b, settings: { ...b.settings, stream_saver: j.target.checked ? !0 : void 0 } }));
        },
        [n],
      ),
      l = f.useCallback(
        (j) => {
          n((b) => ({ ...b, settings: { ...b.settings, source_auth: j.target.checked ? !0 : void 0 } }));
        },
        [n],
      );
    return r.jsxs(Ee, {
      children: [
        r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("policy.download") }),
        r.jsxs(Ie, {
          children: [
            r.jsx(P, {
              title: e("policy.downloadCdn"),
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(xe, {
                    slotProps: { typography: { variant: "body2" } },
                    control: r.jsx(it, {
                      disabled: t.type === te.upyun || t.type === te.qiniu,
                      size: "small",
                      checked: ((d = t.settings) == null ? void 0 : d.custom_proxy) ?? !1,
                      onChange: i,
                    }),
                    label: e("policy.useDownloadCdn"),
                  }),
                  r.jsx(Ve, {
                    in: (c = t.settings) == null ? void 0 : c.custom_proxy,
                    unmountOnExit: !0,
                    children: r.jsxs(T, {
                      children: [
                        r.jsx(lr, {
                          fullWidth: !0,
                          required: !0,
                          enforceProtocol: !0,
                          variant: "outlined",
                          value: ((u = t.settings) == null ? void 0 : u.proxy_server) ?? "",
                          onChange: a,
                        }),
                        r.jsx(A, { children: e("policy.downloadCdnDes") }),
                        t.type == te.cos &&
                          t.is_private &&
                          r.jsxs($, {
                            fullWidth: !0,
                            children: [
                              r.jsx(xe, {
                                slotProps: { typography: { variant: "body2" } },
                                control: r.jsx(it, {
                                  size: "small",
                                  checked: ((h = t.settings) == null ? void 0 : h.source_auth) ?? !1,
                                  onChange: l,
                                }),
                                label: e("policy.skipSign"),
                              }),
                              r.jsx(A, { children: e("policy.skipSignDes") }),
                            ],
                          }),
                      ],
                    }),
                  }),
                ],
              }),
            }),
            t.type !== te.local &&
              r.jsx(P, {
                lgWidth: 5,
                children: r.jsxs($, {
                  fullWidth: !0,
                  children: [
                    r.jsx(xe, {
                      control: r.jsx(Oe, {
                        checked: ((p = t.settings) == null ? void 0 : p.internal_proxy) ?? !1,
                        onChange: s,
                      }),
                      label: e("policy.downloadRelay"),
                    }),
                    r.jsx(A, { children: r.jsx(X, { i18nKey: "policy.downloadRelayDes", ns: "dashboard" }) }),
                  ],
                }),
              }),
            t.type === te.onedrive &&
              r.jsx(P, {
                lgWidth: 5,
                children: r.jsxs($, {
                  fullWidth: !0,
                  children: [
                    r.jsx(xe, {
                      control: r.jsx(Oe, {
                        checked: ((g = t.settings) == null ? void 0 : g.stream_saver) ?? !1,
                        onChange: o,
                      }),
                      label: e("policy.streamSaver"),
                    }),
                    r.jsx(A, { children: r.jsx(X, { i18nKey: "policy.streamSaverDes", ns: "dashboard" }) }),
                  ],
                }),
              }),
            t.type !== te.local &&
              r.jsx(P, {
                lgWidth: 5,
                title: e("policy.downloadTrafficDiagram"),
                children: r.jsx(Ix, {
                  variant: "download",
                  internalEndpoint: !!((m = t.settings) != null && m.server_side_endpoint),
                  cdn: (v = t.settings) == null ? void 0 : v.custom_proxy,
                  proxyed: (x = t.settings) == null ? void 0 : x.internal_proxy,
                  proxyNodeTitle: t.type === te.qiniu ? e("policy.cdnOrCustomDomain") : void 0,
                  storageNodeTitle: e("policy.node"),
                }),
              }),
          ],
        }),
      ],
    });
  },
  X6 = () => {
    var a;
    const { t: e } = F("dashboard"),
      { values: t, setPolicy: n } = f.useContext(Fr),
      i = f.useCallback(
        (s) => {
          n((o) => ({ ...o, settings: { ...o.settings, encryption: s.target.checked ? !0 : void 0 } }));
        },
        [n],
      );
    return r.jsxs(Ee, {
      children: [
        r.jsxs(T, {
          display: "flex",
          alignItems: "center",
          gap: 1,
          children: [
            r.jsx(L, { variant: "h6", children: e("policy.fileEncryption") }),
            r.jsx($e, {
              onClick: () => window.open("https://docs.cloudreve.org/usage/file-encryption", "_blank"),
              children: r.jsx(ud, {}),
            }),
          ],
        }),
        r.jsx(Ie, {
          children: r.jsx(P, {
            lgWidth: 5,
            children: r.jsxs($, {
              fullWidth: !0,
              children: [
                r.jsx(xe, {
                  control: r.jsx(Oe, {
                    checked: ((a = t.settings) == null ? void 0 : a.encryption) ?? !1,
                    onChange: i,
                  }),
                  label: e("policy.enableFileEncryption"),
                }),
                r.jsx(A, { children: r.jsx(X, { i18nKey: "policy.enableFileEncryptionDes", ns: "dashboard" }) }),
              ],
            }),
          }),
        }),
      ],
    });
  },
  Y6 = () => {
    var l, d, c;
    const { t: e } = F("dashboard"),
      { values: t, setPolicy: n } = f.useContext(Fr),
      i = f.useMemo(() => Et[t.type], [t.type]),
      a = f.useCallback(
        (u) => {
          n((h) => ({
            ...h,
            settings: {
              ...h.settings,
              media_meta_exts: u.target.value === "" ? void 0 : u.target.value.split(",").map((p) => p.trim()),
            },
          }));
        },
        [n],
      ),
      s = f.useCallback(
        (u) => {
          n((h) => ({ ...h, settings: { ...h.settings, media_meta_generator_proxy: u.target.checked ? !0 : void 0 } }));
        },
        [n],
      ),
      o = f.useMemo(() => t.type === te.s3 || t.type === te.ks3 || t.type === te.onedrive, [t.type]);
    return t.type === te.local
      ? null
      : r.jsxs(Ee, {
          children: [
            r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("settings.extractMediaMeta") }),
            r.jsxs(Ie, {
              children: [
                !o &&
                  r.jsx(P, {
                    title: r.jsx(X, {
                      i18nKey: "policy.nativeMediaMetaExts",
                      ns: "dashboard",
                      values: { name: e(i.nativeExtractorName ?? "") },
                      components: [r.jsx("span", {})],
                    }),
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(W, {
                          multiline: !0,
                          fullWidth: !0,
                          value:
                            (d = (l = t.settings) == null ? void 0 : l.media_meta_exts) == null ? void 0 : d.join(","),
                          onChange: a,
                        }),
                        r.jsxs(A, {
                          children: [
                            r.jsx(X, {
                              i18nKey: "policy.nativeMediaMetaExtsGeneralDes",
                              values: { name: e(i.nativeExtractorName ?? "") },
                              ns: "dashboard",
                              components: i.nativeExtractorDoc
                                ? [r.jsx(Z, { target: "_blank", href: i.nativeExtractorDoc })]
                                : [],
                            }),
                            i.nativeExtractorDes &&
                              r.jsx(X, {
                                i18nKey: i.nativeExtractorDes,
                                ns: "dashboard",
                                components: [r.jsx(Z, { target: "_blank", href: i.nativeExtractorDesDoc })],
                              }),
                          ],
                        }),
                      ],
                    }),
                  }),
                r.jsx(P, {
                  lgWidth: 5,
                  children: r.jsxs($, {
                    fullWidth: !0,
                    children: [
                      r.jsx(xe, {
                        control: r.jsx(Oe, {
                          checked: ((c = t.settings) == null ? void 0 : c.media_meta_generator_proxy) ?? !1,
                          onChange: s,
                        }),
                        label: e("policy.mediaExtractorProxy"),
                      }),
                      r.jsx(A, {
                        children: r.jsx(X, {
                          i18nKey: "policy.mediaExtractorProxyDes",
                          ns: "dashboard",
                          components: [r.jsx(Z, { component: zt, to: "/admin/settings?tab=mediaProcessing" })],
                        }),
                      }),
                    ],
                  }),
                }),
              ],
            }),
          ],
        });
  },
  J6 = () => {
    var I, z, R, B, V, q, G, H, Q, ne, Y, ie;
    const { t: e } = F("dashboard"),
      { values: t, setPolicy: n, formRef: i } = f.useContext(Fr),
      [a, s] = f.useState(!1),
      [o, l] = f.useState("path"),
      d = f.useRef(null),
      c = f.useMemo(() => Et[t.type], [t.type]),
      u = f.useMemo(() => t.type === te.local || t.type === te.remote, [t.type]),
      h = f.useMemo(
        () =>
          t.type === te.s3 ||
          t.type === te.local ||
          t.type === te.remote ||
          t.type === te.ks3 ||
          t.type === te.cos ||
          t.type === te.obs ||
          t.type === te.oss ||
          t.type === te.qiniu,
        [t.type],
      ),
      p = f.useCallback(
        (J) => {
          n((ae) => ({ ...ae, dir_name_rule: J.target.value }));
        },
        [n],
      ),
      g = f.useCallback(
        (J) => {
          n((ae) => ({ ...ae, file_name_rule: J.target.value }));
        },
        [n],
      );
    f.useEffect(() => {
      if (!(i != null && i.current) || !d.current) return;
      const J = i.current,
        ae = J.checkValidity.bind(J),
        Ae = (Xe) => /(\{randomkey8\}|\{randomkey16\}|\{uuid\})/.test(Xe);
      return (
        (J.checkValidity = () => {
          const Xe = Ae(t.dir_name_rule || ""),
            We = Ae(t.file_name_rule || "");
          return (
            d.current.setCustomValidity(""),
            !Xe &&
              !We &&
              (t.dir_name_rule || t.file_name_rule) &&
              d.current.setCustomValidity(e("policy.uniqueVarRequired")),
            ae()
          );
        }),
        () => {
          J.checkValidity = ae;
        }
      );
    }, [i, t.dir_name_rule, t.file_name_rule, e]);
    const m = f.useCallback((J) => {
        J.preventDefault(), l("path"), s(!0);
      }, []),
      v = f.useCallback((J) => {
        J.preventDefault(), l("file"), s(!0);
      }, []),
      x = f.useCallback(
        (J) => {
          n((ae) => ({ ...ae, max_size: J || void 0 }));
        },
        [n],
      ),
      j = f.useMemo(() => {
        var J, ae;
        return ((ae = (J = t.settings) == null ? void 0 : J.file_type) == null ? void 0 : ae.join()) ?? "";
      }, [(I = t.settings) == null ? void 0 : I.file_type]),
      b = f.useCallback(
        (J) => {
          n((ae) => ({
            ...ae,
            settings: {
              ...(ae.settings ?? {}),
              file_type: J.target.value === "" ? void 0 : J.target.value.split(",").map((Ae) => Ae.trim()),
            },
          }));
        },
        [n],
      ),
      _ = f.useCallback(
        (J) => {
          n((ae) => ({ ...ae, settings: { ...(ae.settings ?? {}), is_file_type_deny_list: J } }));
        },
        [n],
      ),
      S = f.useMemo(() => {
        var J;
        return ((J = t.settings) == null ? void 0 : J.file_regexp) ?? "";
      }, [(z = t.settings) == null ? void 0 : z.file_regexp]),
      y = f.useCallback(
        (J) => {
          n((ae) => ({
            ...ae,
            settings: { ...(ae.settings ?? {}), file_regexp: J.target.value === "" ? void 0 : J.target.value },
          }));
        },
        [n],
      ),
      w = f.useCallback(
        (J) => {
          n((ae) => ({ ...ae, settings: { ...(ae.settings ?? {}), is_name_regexp_deny_list: J } }));
        },
        [n],
      ),
      C = f.useCallback(
        (J) => {
          n((ae) => ({ ...ae, settings: { ...ae.settings, chunk_size: J === 0 ? void 0 : J } }));
        },
        [n],
      ),
      O = f.useCallback(
        (J) => {
          n((ae) => ({ ...ae, settings: { ...ae.settings, pre_allocate: J.target.checked ? !0 : void 0 } }));
        },
        [n],
      ),
      k = f.useCallback(
        (J) => {
          n((ae) => ({ ...ae, settings: { ...ae.settings, relay: J.target.checked ? !0 : void 0 } }));
        },
        [n],
      ),
      D = f.useCallback(
        (J) => {
          n((ae) => ({ ...ae, settings: { ...ae.settings, qiniu_upload_cdn: J.target.checked ? !0 : void 0 } }));
        },
        [n],
      ),
      E = f.useCallback(
        (J) => {
          let ae = parseInt(J.target.value) ?? 1;
          ae <= 1 && (ae = void 0), n((Ae) => ({ ...Ae, settings: { ...Ae.settings, chunk_concurrency: ae } }));
        },
        [n],
      );
    return r.jsxs(Ee, {
      children: [
        r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("policy.storageAndUpload") }),
        r.jsxs(Ie, {
          children: [
            r.jsx(P, {
              title: e("policy.blobFolderNaming"),
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, { required: !0, value: t.dir_name_rule, onChange: p }),
                  r.jsxs(A, {
                    children: [
                      r.jsx(X, {
                        i18nKey: "policy.blobFolderNamingDes",
                        ns: "dashboard",
                        components: [r.jsx(Z, { href: "#", onClick: m })],
                      }),
                      e("policy.nameRuleImmutable"),
                    ],
                  }),
                ],
              }),
            }),
            r.jsx(P, {
              title: e("policy.blobName"),
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, { required: !0, value: t.file_name_rule, onChange: g, inputRef: d }),
                  r.jsxs(A, {
                    children: [
                      r.jsx(X, {
                        i18nKey: "policy.blobNameDes",
                        ns: "dashboard",
                        components: [r.jsx(Z, { href: "#", onClick: v })],
                      }),
                      e("policy.nameRuleImmutable"),
                    ],
                  }),
                ],
              }),
            }),
            r.jsx(P, {
              title: e("policy.maxSizeOfSingleFile"),
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(tr, { variant: "outlined", required: !0, value: t.max_size ?? 0, onChange: x }),
                  r.jsx(A, { children: e("policy.maxSizeOfSingleFileDes") }),
                ],
              }),
            }),
            r.jsx(P, {
              title: e("policy.extList"),
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, {
                    placeholder: e("policy.noLimit"),
                    multiline: !0,
                    maxRows: 4,
                    value: j,
                    onChange: b,
                    InputProps: {
                      startAdornment: r.jsx(Lr, {
                        position: "start",
                        children: r.jsxs(wd, {
                          size: "small",
                          variant: "filled",
                          value:
                            ((R = t.settings) == null ? void 0 : R.is_file_type_deny_list) === !0
                              ? "blacklist"
                              : "whitelist",
                          onChange: (J) => _(J.target.value === "blacklist" ? !0 : void 0),
                          sx: { minWidth: 80, mr: 1 },
                          children: [
                            r.jsx(Ra, { dense: !0, value: "whitelist", children: e("policy.whitelist") }),
                            r.jsx(Ra, { dense: !0, value: "blacklist", children: e("policy.blacklist") }),
                          ],
                        }),
                      }),
                    },
                  }),
                  r.jsx(A, { children: e("policy.enterFileExt") }),
                ],
              }),
            }),
            r.jsx(P, {
              title: e("policy.fileNameRegex"),
              lgWidth: 5,
              children: r.jsxs($, {
                fullWidth: !0,
                children: [
                  r.jsx(W, {
                    placeholder: e("policy.noLimit"),
                    value: S,
                    onChange: y,
                    InputProps: {
                      startAdornment: r.jsx(Lr, {
                        position: "start",
                        children: r.jsxs(wd, {
                          size: "small",
                          variant: "filled",
                          value:
                            ((B = t.settings) == null ? void 0 : B.is_name_regexp_deny_list) === !0
                              ? "blacklist"
                              : "whitelist",
                          onChange: (J) => w(J.target.value === "blacklist" ? !0 : void 0),
                          sx: { minWidth: 80, mr: 1 },
                          children: [
                            r.jsx(Ra, { dense: !0, value: "whitelist", children: e("policy.whitelist") }),
                            r.jsx(Ra, { dense: !0, value: "blacklist", children: e("policy.blacklist") }),
                          ],
                        }),
                      }),
                    },
                  }),
                  r.jsx(A, { children: e("policy.fileNameRegexDes") }),
                ],
              }),
            }),
            t.type !== te.upyun &&
              r.jsx(P, {
                title: e("policy.chunkSize"),
                lgWidth: 5,
                children: r.jsxs($, {
                  fullWidth: !0,
                  children: [
                    r.jsx(tr, {
                      min: c.chunkSizeMin ?? 0,
                      max: c.chunkSizeMax ?? 0,
                      allowZero: !c.chunkSizeMin,
                      variant: "outlined",
                      value: ((V = t.settings) == null ? void 0 : V.chunk_size) ?? 0,
                      onChange: C,
                    }),
                    r.jsx(A, { children: e("policy.chunkSizeDesSuffix", { prefix: e(c.chunkSizeDes ?? "") }) }),
                  ],
                }),
              }),
            u &&
              r.jsx(P, {
                lgWidth: 5,
                children: r.jsxs($, {
                  fullWidth: !0,
                  children: [
                    r.jsx(xe, {
                      control: r.jsx(Oe, {
                        checked: ((q = t.settings) == null ? void 0 : q.pre_allocate) ?? !1,
                        onChange: O,
                      }),
                      label: e("policy.preallocate"),
                    }),
                    r.jsx(A, { children: e("policy.preallocateDes") }),
                  ],
                }),
              }),
            t.type === te.qiniu &&
              r.jsx(P, {
                lgWidth: 5,
                children: r.jsxs($, {
                  fullWidth: !0,
                  children: [
                    r.jsx(xe, {
                      control: r.jsx(Oe, {
                        checked: ((G = t.settings) == null ? void 0 : G.qiniu_upload_cdn) ?? !1,
                        onChange: D,
                      }),
                      label: e("policy.acceleratedDomainUpload"),
                    }),
                    r.jsx(A, {
                      children: r.jsx(X, {
                        i18nKey: "policy.acceleratedDomainUploadDes",
                        ns: "dashboard",
                        components: [
                          r.jsx(Z, {
                            target: "_blank",
                            href: "https://developer.qiniu.com/kodo/12656/transfer-acceleration",
                          }),
                        ],
                      }),
                    }),
                  ],
                }),
              }),
            r.jsx(Ve, {
              in: (!u || ((H = t.settings) == null ? void 0 : H.pre_allocate)) && h,
              unmountOnExit: !0,
              children:
                h &&
                r.jsx(P, {
                  lgWidth: 5,
                  title: e("policy.chunkConcurrency"),
                  children: r.jsxs($, {
                    fullWidth: !0,
                    children: [
                      r.jsx(W, {
                        value: ((Q = t.settings) == null ? void 0 : Q.chunk_concurrency) ?? 1,
                        onChange: E,
                        slotProps: { htmlInput: { type: "number", min: 1, mac: 10 } },
                      }),
                      r.jsx(A, { children: e("policy.chunkConcurrencyDes") }),
                    ],
                  }),
                }),
            }),
            t.type !== te.local &&
              r.jsxs(r.Fragment, {
                children: [
                  r.jsx(P, {
                    lgWidth: 5,
                    children: r.jsxs($, {
                      fullWidth: !0,
                      children: [
                        r.jsx(xe, {
                          control: r.jsx(Oe, {
                            checked: ((ne = t.settings) == null ? void 0 : ne.relay) ?? !1,
                            onChange: k,
                          }),
                          label: e("policy.uploadRelay"),
                        }),
                        r.jsx(A, { children: e("policy.uploadRelayDes") }),
                      ],
                    }),
                  }),
                  r.jsx(P, {
                    title: e("policy.uploadTrafficDiagram"),
                    lgWidth: 5,
                    children: r.jsx(Ix, {
                      internalEndpoint: !!((Y = t.settings) != null && Y.server_side_endpoint),
                      variant: "upload",
                      storageNodeTitle: e("policy.node"),
                      proxyed: (ie = t.settings) == null ? void 0 : ie.relay,
                    }),
                  }),
                ],
              }),
          ],
        }),
        r.jsx(Ys, { open: a, onClose: () => s(!1), vars: o === "path" ? lf : Ej }),
      ],
    });
  },
  Q6 = () => {
    var c, u, h, p, g, m;
    const { t: e } = F("dashboard"),
      { values: t, setPolicy: n } = f.useContext(Fr),
      i = f.useMemo(() => Et[t.type], [t.type]),
      a = f.useMemo(() => t.type === te.local || t.type === te.s3, [t.type]),
      s = f.useCallback(
        (v) => {
          n((x) => ({
            ...x,
            settings: {
              ...x.settings,
              thumb_exts: v.target.value === "" ? void 0 : v.target.value.split(",").map((j) => j.trim()),
            },
          }));
        },
        [n],
      ),
      o = f.useCallback(
        (v) => {
          n((x) => ({ ...x, settings: { ...x.settings, thumb_support_all_exts: v.target.checked ? !0 : void 0 } }));
        },
        [n],
      ),
      l = f.useCallback(
        (v) => {
          n((x) => ({ ...x, settings: { ...x.settings, thumb_max_size: v === 0 ? void 0 : v } }));
        },
        [n],
      ),
      d = f.useCallback(
        (v) => {
          n((x) => ({ ...x, settings: { ...x.settings, thumb_generator_proxy: v.target.checked ? !0 : void 0 } }));
        },
        [n],
      );
    return t.type === te.local
      ? null
      : r.jsxs(Ee, {
          children: [
            r.jsx(L, { variant: "h6", gutterBottom: !0, children: e("settings.thumbnails") }),
            r.jsxs(Ie, {
              children: [
                !a &&
                  r.jsxs(r.Fragment, {
                    children: [
                      r.jsx(P, {
                        title: e("policy.nativeThumbNails"),
                        lgWidth: 5,
                        children: r.jsxs($, {
                          fullWidth: !0,
                          children: [
                            r.jsx(W, {
                              multiline: !0,
                              fullWidth: !0,
                              disabled: (c = t.settings) == null ? void 0 : c.thumb_support_all_exts,
                              maxRows: 4,
                              value:
                                (h = (u = t.settings) == null ? void 0 : u.thumb_exts) == null ? void 0 : h.join(","),
                              onChange: s,
                            }),
                            r.jsx(xe, {
                              slotProps: { typography: { variant: "body2" } },
                              control: r.jsx(it, {
                                size: "small",
                                checked: ((p = t.settings) == null ? void 0 : p.thumb_support_all_exts) ?? !1,
                                onChange: o,
                              }),
                              label: e("policy.nativeThumbNailsSupportAllExts"),
                            }),
                            r.jsxs(A, {
                              children: [
                                e("policy.nativeThumbNailsGeneralDes"),
                                i.nativeThumbDes &&
                                  r.jsx(X, {
                                    i18nKey: i.nativeThumbDes,
                                    ns: "dashboard",
                                    components: i.nativeThumbDoc
                                      ? [r.jsx(Z, { href: i.nativeThumbDoc, target: "_blank" })]
                                      : [],
                                  }),
                              ],
                            }),
                          ],
                        }),
                      }),
                      r.jsx(P, {
                        title: e("policy.nativeThumbnailMaxSize"),
                        lgWidth: 5,
                        children: r.jsxs($, {
                          fullWidth: !0,
                          children: [
                            r.jsx(tr, {
                              variant: "outlined",
                              value: ((g = t.settings) == null ? void 0 : g.thumb_max_size) ?? 0,
                              onChange: l,
                            }),
                            r.jsx(A, { children: e("policy.nativeThumbnailMaxSizeDes") }),
                          ],
                        }),
                      }),
                    ],
                  }),
                r.jsx(P, {
                  lgWidth: 5,
                  children: r.jsxs($, {
                    fullWidth: !0,
                    children: [
                      r.jsx(xe, {
                        control: r.jsx(Oe, {
                          checked: ((m = t.settings) == null ? void 0 : m.thumb_generator_proxy) ?? !1,
                          onChange: d,
                        }),
                        label: e("policy.thumbProxy"),
                      }),
                      r.jsx(A, {
                        children: r.jsx(X, {
                          i18nKey: "policy.thumbProxyDes",
                          ns: "dashboard",
                          components: [r.jsx(Z, { component: zt, to: "/admin/settings?tab=mediaProcessing" })],
                        }),
                      }),
                    ],
                  }),
                }),
              ],
            }),
          ],
        });
  },
  Z6 = () => {
    var n, i;
    F("dashboard");
    const { formRef: e, values: t } = f.useContext(Fr);
    return r.jsxs(T, {
      component: "form",
      ref: e,
      onSubmit: (a) => a.preventDefault(),
      children: [
        !((i = (n = t.edges) == null ? void 0 : n.groups) != null && i.length) &&
          r.jsx(Br, {
            severity: "warning",
            sx: { mb: 3 },
            children: r.jsx(X, {
              i18nKey: "policy.noBindedGroupWarning",
              ns: "dashboard",
              components: [r.jsx(Z, { component: zt, to: "/admin/group" })],
            }),
          }),
        r.jsxs(le, {
          spacing: 5,
          children: [r.jsx(U6, {}), r.jsx(J6, {}), r.jsx(G6, {}), r.jsx(Q6, {}), r.jsx(Y6, {}), r.jsx(X6, {})],
        }),
      ],
    });
  },
  BN = () => {
    const { t: e } = F("dashboard"),
      { id: t } = _c(),
      [n, i] = f.useState("");
    return r.jsx(Ft, {
      children: r.jsxs(Lt, {
        maxWidth: "xl",
        children: [
          r.jsx(Vt, { title: e("policy.editX", { name: n }) }),
          r.jsx(F6, { policyID: parseInt(t ?? "1") ?? 1, onPolicyChange: (a) => i(a.name), children: r.jsx(Z6, {}) }),
        ],
      }),
    });
  },
  RN = () => {
    const { t: e } = F("dashboard"),
      t = ge(),
      { enqueueSnackbar: n } = ut(),
      i = dr(),
      a = Gm();
    return (
      f.useEffect(() => {
        const s = a.get("code"),
          o = a.get("state");
        s && o
          ? t(Xm({ code: s, state: o })).finally(() => {
              i(`/admin/policy/${o}`);
            })
          : n(e("policy.oauthCallbackFailed"), { variant: "error", action: nt });
      }, []),
      r.jsxs(Ft, {
        children: [
          r.jsx(Lt, { maxWidth: "xl", children: r.jsx(Vt, { title: e("dashboard:nav.storagePolicy") }) }),
          r.jsx(T, {
            sx: { pt: 15, display: "flex", justifyContent: "center", alignItems: "center" },
            children: r.jsx(St, {}),
          }),
        ],
      })
    );
  },
  eN = vi(
    r.jsx("path", {
      d: "M22.453 1.923a.75.75 0 0 1 0 1.06l-6.928 6.929a5.751 5.751 0 0 1-.496 7.567l-.832.832l-2.787 4.18a.75.75 0 0 1-1.154.115L1.77 14.12a.75.75 0 0 1 .115-1.154l4.18-2.787l.832-.832a5.751 5.751 0 0 1 7.567-.496l6.929-6.928a.75.75 0 0 1 1.06 0M7.604 10.762l6.01 6.01l.354-.353a4.25 4.25 0 0 0-6.01-6.01zm-1.156.965l-2.97 1.98l7.192 7.191l1.98-2.97z",
    }),
    "Broom",
  ),
  tN = ({
    value: e,
    onChange: t,
    renderValue: n,
    helperText: i,
    showAllOption: a = !1,
    allOptionText: s,
    fullWidth: o = !0,
    displayEmpty: l = !1,
  }) => {
    const { t: d } = F("dashboard"),
      c = (u) => {
        const h = Array.isArray(u) ? u : [];
        return r.jsx(T, {
          display: "flex",
          flexWrap: "wrap",
          gap: 0.5,
          children: h.map((p) => r.jsx(br, { label: rs(p, d), size: "small" }, p)),
        });
      };
    return r.jsxs(r.Fragment, {
      children: [
        r.jsxs(Ue, {
          fullWidth: o,
          multiple: !0,
          value: e,
          onChange: t,
          renderValue: n || c,
          displayEmpty: l,
          children: [
            a &&
              r.jsx(he, {
                value: [],
                disabled: !0,
                children: r.jsx(de, {
                  primary: s || d("task.allTaskStatuses"),
                  slotProps: { primary: { variant: "body2", style: { fontStyle: "italic" } } },
                }),
              }),
            Object.values(pn).map((u) =>
              r.jsx(
                he,
                { value: u, children: r.jsx(de, { primary: rs(u, d), slotProps: { primary: { variant: "body2" } } }) },
                u,
              ),
            ),
          ],
        }),
        i && r.jsx(Ks, { children: i }),
      ],
    });
  },
  rN = ({
    value: e,
    onChange: t,
    renderValue: n,
    helperText: i,
    showAllOption: a = !1,
    allOptionText: s,
    fullWidth: o = !0,
    displayEmpty: l = !1,
  }) => {
    const { t: d } = F("dashboard"),
      c = (u) => {
        const h = Array.isArray(u) ? u : [];
        return r.jsx(T, {
          display: "flex",
          flexWrap: "wrap",
          gap: 0.5,
          children: h.map((p) => r.jsx(br, { label: d(`task.${p}`), size: "small" }, p)),
        });
      };
    return r.jsxs(r.Fragment, {
      children: [
        r.jsxs(Ue, {
          fullWidth: o,
          multiple: !0,
          value: e,
          onChange: t,
          renderValue: n || c,
          displayEmpty: l,
          children: [
            a &&
              r.jsx(he, {
                value: [],
                disabled: !0,
                children: r.jsx(de, {
                  primary: s || d("task.allTaskTypes"),
                  slotProps: { primary: { variant: "body2", style: { fontStyle: "italic" } } },
                }),
              }),
            Object.values(jt).map((u) =>
              r.jsx(
                he,
                {
                  value: u,
                  children: r.jsx(de, { primary: d(`task.${u}`), slotProps: { primary: { variant: "body2" } } }),
                },
                u,
              ),
            ),
          ],
        }),
        i && r.jsx(Ks, { children: i }),
      ],
    });
  },
  nN = ({ open: e, onClose: t, onCleanupComplete: n }) => {
    const { t: i } = F("dashboard"),
      a = ge(),
      [s, o] = f.useState(null),
      [l, d] = f.useState([]),
      [c, u] = f.useState([]),
      [h, p] = f.useState(!1),
      g = async () => {
        if (s) {
          p(!0);
          try {
            const v = {
              not_after: s.toISOString(),
              types: l.length > 0 ? l : void 0,
              status: c.length > 0 ? c : void 0,
            };
            await a(Zm(v)), n == null || n(), t();
          } finally {
            p(!1);
          }
        }
      },
      m = () => {
        o(null), d([]), u([]);
      };
    return r.jsx(st, {
      title: i("task.cleanupTasks"),
      dialogProps: { open: e, onClose: t, maxWidth: "sm", fullWidth: !0 },
      showActions: !0,
      showCancel: !0,
      onAccept: g,
      loading: h,
      disabled: !s,
      okText: i("event.cleanup"),
      secondaryAction: r.jsx(Pe, { onClick: m, disabled: h, children: i("user.reset") }),
      children: r.jsx(gt, {
        children: r.jsxs(le, {
          spacing: 3,
          children: [
            r.jsx(L, { variant: "body2", color: "text.secondary", children: i("task.cleanupTasksDescription") }),
            r.jsx(P, {
              title: i("task.cleanupNotAfter"),
              noContainer: !0,
              lgWidth: 12,
              children: r.jsx(Ym, {
                dateAdapter: Jm,
                children: r.jsx(Qm, {
                  value: s,
                  onChange: (v) => o(v),
                  slotProps: { textField: { fullWidth: !0, size: "small" } },
                }),
              }),
            }),
            r.jsx(P, {
              title: i("task.type"),
              noContainer: !0,
              lgWidth: 12,
              children: r.jsx(rN, {
                value: l,
                onChange: (v) => d(v.target.value),
                helperText: i("task.cleanupTaskTypesDes"),
                showAllOption: !1,
                displayEmpty: !0,
              }),
            }),
            r.jsx(P, {
              title: i("task.status"),
              noContainer: !0,
              lgWidth: 12,
              children: r.jsx(tN, {
                value: c,
                onChange: (v) => u(v.target.value),
                helperText: i("task.cleanupTaskStatusesDes"),
                showAllOption: !1,
                displayEmpty: !0,
              }),
            }),
          ],
        }),
      }),
    });
  },
  Tx = [jt.relocate, jt.create_archive, jt.extract_archive, jt.remote_download, jt.import],
  il = (e, t) => {
    const n = new $p(e);
    return n.fs() == ev.my && !n.id() && n.setUsername(t), n.toString();
  },
  $x = (e, t) => {
    var n, i, a;
    return (
      (n = e.props) != null && n.src && (e.props.src = il(e.props.src, t)),
      (i = e.props) != null && i.dst && (e.props.dst = il(e.props.dst, t)),
      (a = e.props) != null && a.src_multiple && (e.props.src_multiple = e.props.src_multiple.map((s) => il(s, t))),
      e
    );
  },
  iN = f.memo(({ task: e, openEntity: t }) => {
    var s;
    const { t: n } = F("dashboard");
    if (Tx.includes(e.type ?? "")) {
      const o = $x({ ...e.summary }, (e == null ? void 0 : e.user_hash_id) ?? "");
      return r.jsx(L, {
        variant: "body2",
        children: r.jsx(lv, {
          type: ((s = e.type) == null ? void 0 : s.toString()) ?? "",
          summary: o,
          isInDashboard: !0,
        }),
      });
    }
    const i = f.useCallback(
        (o) => (l) => {
          l.preventDefault(), l.stopPropagation(), t && t(o);
        },
        [t],
      ),
      a = f.useMemo(() => {
        var l, d, c;
        var o = {};
        try {
          o = JSON.parse(e.private_state ?? "{}");
        } catch (u) {
          console.error(u);
        }
        switch (e.type) {
          case jt.upload_sentinel_check:
            return n("task.uploadSentinelCheck", {
              uploadSessionID:
                (d = (l = o == null ? void 0 : o.session) == null ? void 0 : l.Props) == null
                  ? void 0
                  : d.UploadSessionID,
            });
          case jt.media_metadata:
            return r.jsx(X, {
              ns: "dashboard",
              values: { entityID: (o == null ? void 0 : o.entity_id) ?? 0 },
              i18nKey: "task.mediaMetadata",
              components: [r.jsx(Z, { href: "#/", onClick: i((o == null ? void 0 : o.entity_id) ?? 0) }, 0)],
            });
          case jt.entity_recycle_routine:
            return n("task.entityRecycleRoutine");
          case jt.explicit_entity_recycle:
            return n("task.explicitEntityRecycle", {
              blobs: (c = o == null ? void 0 : o.entity_ids) == null ? void 0 : c.map((u) => `#${u}`).join(", "),
            });
          default:
            return "";
        }
      }, [e, n]);
    return r.jsx(L, { variant: "body2", children: a });
  }),
  aN = ({ privateState: e }) => {
    var l;
    const { t } = F("dashboard"),
      [n, i] = f.useState(!1),
      [a, s] = f.useState(void 0),
      o = (d) => (c) => {
        c.stopPropagation(), c.preventDefault(), i(!0), s(d);
      };
    return r.jsxs(ot, {
      component: xt,
      sx: { maxHeight: 300 },
      children: [
        r.jsx(Zs, { open: n, onClose: () => i(!1), entityID: a }),
        r.jsxs(lt, {
          sx: { width: "100%", tableLayout: "fixed" },
          size: "small",
          children: [
            r.jsx(ct, {
              children: r.jsxs(je, {
                children: [
                  r.jsx(pe, { width: 70, children: t("task.blobID") }),
                  r.jsx(pe, { width: 60, children: t("task.retryIndex") }),
                  r.jsx(pe, { width: 400, children: t("common:error") }),
                ],
              }),
            }),
            r.jsx(dt, {
              children:
                (l = e == null ? void 0 : e.errors) == null
                  ? void 0
                  : l.map((d, c) => [
                      ...d.map((u, h) => [
                        r.jsxs(
                          je,
                          {
                            hover: !0,
                            sx: { "&:last-child td, &:last-child th": { border: 0 } },
                            children: [
                              r.jsx(pe, {
                                component: "th",
                                scope: "row",
                                children: r.jsx(L, {
                                  variant: "body2",
                                  color: "textSecondary",
                                  children: r.jsxs(Z, { href: "#/", onClick: o(u.id), children: ["#", u.id] }),
                                }),
                              }),
                              r.jsx(pe, {
                                component: "th",
                                scope: "row",
                                children: r.jsx(L, { variant: "body2", color: "textSecondary", children: c }),
                              }),
                              r.jsx(pe, {
                                component: "th",
                                scope: "row",
                                children: r.jsx(L, { variant: "body2", color: "textSecondary", children: u.error }),
                              }),
                            ],
                          },
                          h,
                        ),
                      ]),
                    ]),
            }),
          ],
        }),
      ],
    });
  };
Ac.extend(tv);
const sN = f.lazy(() => rn(() => import("./MonacoEditor-BnsLKTuc.js"), __vite__mapDeps([0, 1, 2, 3, 4, 5, 6, 7]))),
  oN = ({ values: e }) => {
    var p, g, m, v, x, j, b, _, S, y, w, C, O, k, D, E, I, z, R, B, V, q;
    const t = Ge(),
      n = $t(t.breakpoints.down("md")),
      { t: i } = F("dashboard"),
      [a, s] = f.useState(!1),
      [o, l] = f.useState(0),
      d = (G) => {
        var H, Q;
        G.preventDefault(),
          s(!0),
          l(((Q = (H = e == null ? void 0 : e.edges) == null ? void 0 : H.user) == null ? void 0 : Q.id) ?? 0);
      },
      c = f.useMemo(() => $x({ ...e.summary }, (e == null ? void 0 : e.user_hash_id) ?? ""), [e]),
      u = f.useMemo(() => {
        let G = {};
        if (e.private_state)
          try {
            G = JSON.parse(e.private_state);
          } catch (H) {
            console.error(H);
          }
        return G;
      }, [e]),
      h = f.useMemo(() => Tx.includes(e.type ?? ""), [e]);
    return r.jsxs(r.Fragment, {
      children: [
        r.jsx(Sr, { open: a, onClose: () => s(!1), userID: o }),
        r.jsx(T, {
          children: r.jsxs(_t, {
            container: !0,
            spacing: n ? 2 : 3,
            alignItems: "stretch",
            children: [
              r.jsx(P, {
                title: i("file.id"),
                noContainer: !0,
                lgWidth: 2,
                children: r.jsx(L, { variant: "body2", color: "textSecondary", children: e.id }),
              }),
              r.jsx(P, {
                title: i("task.type"),
                noContainer: !0,
                lgWidth: 2,
                children: r.jsx(L, { variant: "body2", color: "textSecondary", children: i(`task.${e.type}`) }),
              }),
              r.jsx(P, {
                title: i("task.status"),
                noContainer: !0,
                lgWidth: 2,
                children: r.jsx(L, {
                  variant: "body2",
                  color: "textSecondary",
                  children: rs((e == null ? void 0 : e.status) ?? pn.queued, i),
                }),
              }),
              r.jsx(P, {
                title: i("task.node"),
                noContainer: !0,
                lgWidth: 2,
                children: r.jsx(be, {
                  variant: "body2",
                  color: "textSecondary",
                  children:
                    (p = e == null ? void 0 : e.node) != null && p.name
                      ? r.jsx(Z, {
                          component: zt,
                          to: `/admin/node/${(g = e == null ? void 0 : e.node) == null ? void 0 : g.id}`,
                          underline: "hover",
                          children: (m = e == null ? void 0 : e.node) == null ? void 0 : m.name,
                        })
                      : "-",
                }),
              }),
              r.jsx(P, {
                title: i("file.creator"),
                noContainer: !0,
                lgWidth: 4,
                children: r.jsx(be, {
                  variant: "body2",
                  color: "textSecondary",
                  children:
                    (v = e == null ? void 0 : e.edges) != null && v.user
                      ? r.jsxs(T, {
                          sx: { display: "flex", alignItems: "center", gap: 1 },
                          children: [
                            r.jsx(hr, {
                              sx: { width: 24, height: 24 },
                              overwriteTextSize: !0,
                              user: {
                                id: (e == null ? void 0 : e.user_hash_id) ?? "",
                                nickname:
                                  ((j = (x = e == null ? void 0 : e.edges) == null ? void 0 : x.user) == null
                                    ? void 0
                                    : j.nick) ?? "",
                                created_at:
                                  ((_ = (b = e == null ? void 0 : e.edges) == null ? void 0 : b.user) == null
                                    ? void 0
                                    : _.created_at) ?? "",
                              },
                            }),
                            r.jsx(be, {
                              variant: "inherit",
                              children: r.jsx(Z, {
                                sx: { whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis" },
                                onClick: d,
                                underline: "hover",
                                href: "#/",
                                children:
                                  (y = (S = e == null ? void 0 : e.edges) == null ? void 0 : S.user) == null
                                    ? void 0
                                    : y.nick,
                              }),
                            }),
                          ],
                        })
                      : "-",
                }),
              }),
              r.jsx(P, {
                title: i("user.createdAt"),
                noContainer: !0,
                lgWidth: 4,
                children: r.jsx(L, {
                  variant: "body2",
                  color: "textSecondary",
                  children: r.jsx(sr, {
                    datetime: (e == null ? void 0 : e.created_at) ?? "",
                    variant: "inherit",
                    timeAgoThreshold: 0,
                  }),
                }),
              }),
              r.jsx(P, {
                title: i("task.updatedAt"),
                noContainer: !0,
                lgWidth: 4,
                children: r.jsx(L, {
                  variant: "body2",
                  color: "textSecondary",
                  children: r.jsx(sr, {
                    datetime: (e == null ? void 0 : e.updated_at) ?? "",
                    variant: "inherit",
                    timeAgoThreshold: 0,
                  }),
                }),
              }),
              r.jsx(P, {
                title: i("event.correlationId"),
                noContainer: !0,
                lgWidth: 4,
                children: r.jsx(L, {
                  variant: "body2",
                  color: "textSecondary",
                  children: (e == null ? void 0 : e.correlation_id) ?? "-",
                }),
              }),
              r.jsx(P, {
                title: i("application:setting.executeDuration"),
                noContainer: !0,
                lgWidth: 2,
                children: r.jsx(L, {
                  variant: "body2",
                  color: "textSecondary",
                  children: rv(
                    Ac.duration(
                      (((w = e == null ? void 0 : e.public_state) == null ? void 0 : w.executed_duration) ?? 0) / 1e6,
                    ),
                  ),
                }),
              }),
              r.jsx(P, {
                title: i("application:setting.retryCount"),
                noContainer: !0,
                lgWidth: 2,
                children: r.jsx(L, {
                  variant: "body2",
                  color: "textSecondary",
                  children: ((C = e == null ? void 0 : e.public_state) == null ? void 0 : C.retry_count) ?? "-",
                }),
              }),
              ((O = c == null ? void 0 : c.props) == null ? void 0 : O.src) &&
                r.jsx(P, {
                  title: i("application:setting.input"),
                  noContainer: !0,
                  lgWidth: 4,
                  children: r.jsx(es, {
                    variant: "outlined",
                    simplifiedFile: { path: c == null ? void 0 : c.props.src, type: gn.file },
                  }),
                }),
              ((k = c == null ? void 0 : c.props) == null ? void 0 : k.src_multiple) &&
                r.jsx(P, {
                  title: i("application:setting.input"),
                  noContainer: !0,
                  lgWidth: 4,
                  children: r.jsx(le, {
                    spacing: 0.5,
                    sx: { maxHeight: 150, overflowY: "scroll" },
                    children:
                      c == null
                        ? void 0
                        : c.props.src_multiple.map((G, H) =>
                            r.jsx(es, { variant: "outlined", simplifiedFile: { path: G, type: gn.file } }, H),
                          ),
                  }),
                }),
              ((D = c == null ? void 0 : c.props) == null ? void 0 : D.dst) &&
                r.jsx(P, {
                  title: i("application:setting.output"),
                  noContainer: !0,
                  lgWidth: 4,
                  children: r.jsx(es, {
                    variant: "outlined",
                    simplifiedFile: {
                      path: c == null ? void 0 : c.props.dst,
                      type: (e == null ? void 0 : e.type) == jt.extract_archive ? gn.folder : gn.file,
                    },
                  }),
                }),
              ((E = e == null ? void 0 : e.public_state) == null ? void 0 : E.error) &&
                r.jsx(P, {
                  title: i("task.errorMsg"),
                  noContainer: !0,
                  lgWidth: 12,
                  children: r.jsx(L, {
                    variant: "body2",
                    color: "textSecondary",
                    children: (I = e == null ? void 0 : e.public_state) == null ? void 0 : I.error,
                  }),
                }),
              ((z = c == null ? void 0 : c.props) == null ? void 0 : z.download) &&
                r.jsx(P, {
                  title: i("application:setting.fileList"),
                  noContainer: !0,
                  lgWidth: 12,
                  children: r.jsx(cv, { taskId: "", summary: c, readonly: !0 }),
                }),
              h &&
                r.jsx(P, {
                  title: i("application:setting.taskProgress"),
                  noContainer: !0,
                  lgWidth: 12,
                  children: r.jsx(dv, {
                    taskId: e.task_hash_id ?? "",
                    taskStatus: ((R = e.status) == null ? void 0 : R.toString()) ?? "",
                    taskType: e.type ?? "",
                    summary: e.summary,
                    node: e.node ? { type: ((B = e.node.type) == null ? void 0 : B.toString()) ?? "" } : void 0,
                  }),
                }),
              ((V = e == null ? void 0 : e.public_state) == null ? void 0 : V.error_history) &&
                r.jsx(P, {
                  title: i("application:setting.retryErrorHistory"),
                  noContainer: !0,
                  lgWidth: 12,
                  children: r.jsx(ot, {
                    component: xt,
                    children: r.jsxs(lt, {
                      sx: { width: "100%" },
                      size: "small",
                      children: [
                        r.jsx(ct, {
                          children: r.jsxs(je, {
                            children: [r.jsx(pe, { children: "#" }), r.jsx(pe, { children: i("common:error") })],
                          }),
                        }),
                        r.jsx(dt, {
                          children:
                            (q = e == null ? void 0 : e.public_state) == null
                              ? void 0
                              : q.error_history.map((G, H) =>
                                  r.jsxs(
                                    je,
                                    {
                                      hover: !0,
                                      sx: { "&:last-child td, &:last-child th": { border: 0 } },
                                      children: [
                                        r.jsx(pe, { component: "th", scope: "row", children: H + 1 }),
                                        r.jsx(pe, { children: G }),
                                      ],
                                    },
                                    H,
                                  ),
                                ),
                        }),
                      ],
                    }),
                  }),
                }),
              e.type == jt.entity_recycle_routine &&
                (u == null ? void 0 : u.errors) &&
                r.jsx(P, {
                  title: i("task.entityError"),
                  noContainer: !0,
                  lgWidth: 12,
                  children: r.jsx(aN, { privateState: u }),
                }),
              r.jsx(P, {
                title: i("event.rawContent"),
                noContainer: !0,
                lgWidth: 12,
                children: r.jsx(f.Suspense, {
                  fallback: r.jsx(St, {}),
                  children: r.jsx(sN, {
                    theme: t.palette.mode === "dark" ? "vs-dark" : "vs",
                    language: "json",
                    value: JSON.stringify(e, null, 4),
                    height: "300px",
                    minHeight: "300px",
                    options: { wordWrap: "on", minimap: { enabled: !1 }, scrollBeyondLastLine: !1, readOnly: !0 },
                  }),
                }),
              }),
            ],
          }),
        }),
      ],
    });
  },
  lN = ({ open: e, onClose: t, taskID: n }) => {
    const i = ge(),
      { t: a } = F("dashboard"),
      [s, o] = f.useState({ edges: {}, id: 0 }),
      [l, d] = f.useState(!0);
    return (
      f.useEffect(() => {
        !n ||
          !e ||
          (d(!0),
          i(nv(n))
            .then((c) => {
              o(c);
            })
            .catch(() => {
              t();
            })
            .finally(() => {
              d(!1);
            }));
      }, [e]),
      r.jsx(st, {
        title: a("task.taskDialogTitle"),
        dialogProps: { fullWidth: !0, maxWidth: "md", open: e, onClose: t },
        children: r.jsx(gt, {
          children: r.jsx(yi, {
            children: r.jsx(Kt, {
              children: r.jsx(
                Ht,
                {
                  addEndListener: (c, u) => c.addEventListener("transitionend", u, !1),
                  classNames: "fade",
                  children: r.jsxs(T, {
                    children: [
                      l &&
                        r.jsx(T, {
                          sx: {
                            py: 15,
                            height: "100%",
                            display: "flex",
                            justifyContent: "center",
                            alignItems: "center",
                          },
                          children: r.jsx(St, {}),
                        }),
                      !l && r.jsx(oN, { values: s }),
                    ],
                  }),
                },
                `${l}`,
              ),
            }),
          }),
        }),
      })
    );
  },
  cN = ({
    status: e,
    setStatus: t,
    user: n,
    setUser: i,
    correlationID: a,
    setCorrelationID: s,
    type: o,
    setType: l,
    clearFilters: d,
    onClose: c,
    open: u,
    ...h
  }) => {
    const { t: p } = F("dashboard"),
      [g, m] = f.useState(e),
      [v, x] = f.useState(n),
      [j, b] = f.useState(a),
      [_, S] = f.useState(o);
    f.useEffect(() => {
      u && (m(e), x(n), b(a), S(o));
    }, [u]);
    const y = () => {
        t(g), i(v), s(j), l(_), c == null || c({}, "backdropClick");
      },
      w = () => {
        m(""), x(""), b(""), S(""), d(), c == null || c({}, "backdropClick");
      };
    return r.jsx(ka, {
      anchorOrigin: { vertical: "bottom", horizontal: "left" },
      transformOrigin: { vertical: "top", horizontal: "left" },
      slotProps: { paper: { sx: { p: 2, width: 300, maxWidth: "100%" } } },
      onClose: c,
      open: u,
      ...h,
      children: r.jsxs(le, {
        spacing: 2,
        children: [
          r.jsx(P, {
            title: p("event.userID"),
            noContainer: !0,
            lgWidth: 12,
            children: r.jsx(W, {
              fullWidth: !0,
              value: v,
              onChange: (C) => x(C.target.value),
              placeholder: p("user.emptyNoFilter"),
              size: "small",
            }),
          }),
          r.jsx(P, {
            title: p("event.correlationId"),
            noContainer: !0,
            lgWidth: 12,
            children: r.jsx(W, {
              fullWidth: !0,
              value: j,
              onChange: (C) => b(C.target.value),
              placeholder: p("user.emptyNoFilter"),
              size: "small",
            }),
          }),
          r.jsx(P, {
            title: p("task.type"),
            noContainer: !0,
            lgWidth: 12,
            children: r.jsxs(Ue, {
              fullWidth: !0,
              displayEmpty: !0,
              value: _ != "" ? _ : " ",
              onChange: (C) => S(C.target.value === " " ? "" : C.target.value),
              children: [
                [
                  jt.create_archive,
                  jt.extract_archive,
                  jt.remote_download,
                  jt.media_metadata,
                  jt.entity_recycle_routine,
                  jt.explicit_entity_recycle,
                  jt.upload_sentinel_check,
                  jt.import,
                ].map((C) =>
                  r.jsx(
                    he,
                    {
                      value: C,
                      children: r.jsx(de, { primary: p(`task.${C}`), slotProps: { primary: { variant: "body2" } } }),
                    },
                    C,
                  ),
                ),
                r.jsx(he, {
                  value: " ",
                  children: r.jsx(de, {
                    primary: r.jsx("em", { children: p("user.all") }),
                    slotProps: { primary: { variant: "body2" } },
                  }),
                }),
              ],
            }),
          }),
          r.jsx(P, {
            title: p("task.status"),
            noContainer: !0,
            lgWidth: 12,
            children: r.jsxs(Ue, {
              fullWidth: !0,
              displayEmpty: !0,
              value: g == "" ? " " : g,
              onChange: (C) => m(C.target.value === " " ? "" : C.target.value),
              children: [
                [pn.queued, pn.processing, pn.suspending, pn.error, pn.completed].map((C) =>
                  r.jsx(
                    he,
                    {
                      value: C,
                      children: r.jsx(de, { primary: rs(C, p), slotProps: { primary: { variant: "body2" } } }),
                    },
                    C,
                  ),
                ),
                r.jsx(he, {
                  value: " ",
                  children: r.jsx(de, {
                    primary: r.jsx("em", { children: p("user.all") }),
                    slotProps: { primary: { variant: "body2" } },
                  }),
                }),
              ],
            }),
          }),
          r.jsxs(T, {
            display: "flex",
            justifyContent: "space-between",
            children: [
              r.jsx(Pe, { variant: "outlined", size: "small", onClick: w, children: p("user.reset") }),
              r.jsx(Pe, { variant: "contained", size: "small", onClick: y, children: p("user.apply") }),
            ],
          }),
        ],
      }),
    });
  },
  al = ({
    task: e,
    loading: t,
    deleting: n,
    selected: i,
    onDelete: a,
    onDetails: s,
    onSelect: o,
    openUserDialog: l,
    openEntity: d,
  }) => {
    var j, b, _, S, y, w, C, O, k, D, E;
    dr();
    const { t: c } = F("dashboard"),
      u = ge(),
      [h, p] = f.useState(!1);
    f.useState(!1);
    const g = () => {
        s == null || s((e == null ? void 0 : e.id) ?? 0);
      },
      m = (I) => {
        I.stopPropagation(),
          I.preventDefault(),
          u(wr(c("task.confirmDelete"))).then(() => {
            e != null &&
              e.id &&
              (p(!0),
              u(Yp({ ids: [e.id] }))
                .then(() => {
                  a == null || a();
                })
                .finally(() => {
                  p(!1);
                }));
          });
      },
      v = (I) => {
        I.stopPropagation(), I.preventDefault(), o == null || o((e == null ? void 0 : e.id) ?? 0);
      };
    if (t)
      return r.jsxs(je, {
        sx: { height: "44px" },
        children: [
          r.jsx(M, { children: r.jsx(ce, { variant: "circular", width: 24, height: 24 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 30 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 200 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 50 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 50 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 100 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 100 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "circular", width: 24, height: 24 }) }),
        ],
      });
    const x = (I) => {
      var z, R;
      I.stopPropagation(),
        I.preventDefault(),
        l == null ||
          l(((R = (z = e == null ? void 0 : e.edges) == null ? void 0 : z.user) == null ? void 0 : R.id) ?? 0);
    };
    return r.jsxs(
      je,
      {
        hover: !0,
        sx: { cursor: "pointer" },
        onClick: g,
        selected: i,
        children: [
          r.jsx(pe, {
            padding: "checkbox",
            children: r.jsx(it, {
              disabled: n,
              size: "small",
              disableRipple: !0,
              color: "primary",
              onClick: v,
              checked: i,
            }),
          }),
          r.jsx(M, { children: r.jsx(be, { variant: "inherit", children: e == null ? void 0 : e.id }) }),
          r.jsx(pe, { children: e && r.jsx(iN, { task: e, openEntity: d }) }),
          r.jsx(M, {
            children: r.jsx(uv, {
              simplified: !0,
              type: (e == null ? void 0 : e.type) ?? "",
              status: (e == null ? void 0 : e.status) ?? "",
              summary: e == null ? void 0 : e.summary,
              error: (j = e == null ? void 0 : e.public_state) == null ? void 0 : j.error,
            }),
          }),
          r.jsx(M, {
            children:
              ((b = e == null ? void 0 : e.edges) == null ? void 0 : b.user) &&
              r.jsxs(T, {
                sx: { display: "flex", alignItems: "center", gap: 1 },
                children: [
                  r.jsx(hr, {
                    sx: { width: 24, height: 24 },
                    overwriteTextSize: !0,
                    user: {
                      id: (e == null ? void 0 : e.user_hash_id) ?? "",
                      nickname:
                        ((S = (_ = e == null ? void 0 : e.edges) == null ? void 0 : _.user) == null
                          ? void 0
                          : S.nick) ?? "",
                      created_at:
                        ((w = (y = e == null ? void 0 : e.edges) == null ? void 0 : y.user) == null
                          ? void 0
                          : w.created_at) ?? "",
                    },
                  }),
                  r.jsx(be, {
                    variant: "inherit",
                    children: r.jsx(Z, {
                      sx: { whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis" },
                      onClick: x,
                      underline: "hover",
                      href: "#/",
                      children:
                        (O = (C = e == null ? void 0 : e.edges) == null ? void 0 : C.user) == null ? void 0 : O.nick,
                    }),
                  }),
                ],
              }),
          }),
          r.jsx(M, {
            children: r.jsx(be, {
              variant: "inherit",
              children:
                (k = e == null ? void 0 : e.node) != null && k.name
                  ? r.jsx(Z, {
                      component: zt,
                      to: `/admin/node/${(D = e == null ? void 0 : e.node) == null ? void 0 : D.id}`,
                      underline: "hover",
                      children: (E = e == null ? void 0 : e.node) == null ? void 0 : E.name,
                    })
                  : "-",
            }),
          }),
          r.jsx(M, {
            children: r.jsx(sr, {
              datetime: (e == null ? void 0 : e.created_at) ?? "",
              variant: "inherit",
              timeAgoThreshold: 0,
            }),
          }),
          r.jsx(M, {
            children: r.jsx(T, {
              sx: { display: "flex", alignItems: "center", gap: 1 },
              children: r.jsx($e, {
                size: "small",
                onClick: m,
                disabled: h || n,
                children: r.jsx(ur, { fontSize: "small" }),
              }),
            }),
          }),
        ],
      },
      e == null ? void 0 : e.id,
    );
  },
  dN = "user",
  uN = "type",
  hN = "status",
  pN = "correlation_id",
  FN = () => {
    const { t: e } = F("dashboard"),
      t = Ge(),
      n = $t(t.breakpoints.down("sm")),
      i = ge(),
      [a, s] = f.useState(!0),
      [o, l] = f.useState([]),
      [d, c] = _e(an, { defaultValue: "1" }),
      [u, h] = _e(sn, { defaultValue: "10" }),
      [p, g] = _e(on, { defaultValue: "" }),
      [m, v] = _e(ln, { defaultValue: "desc" }),
      [x, j] = _e(dN, { defaultValue: "" }),
      [b, _] = _e(uN, { defaultValue: "" }),
      [S, y] = _e(hN, { defaultValue: "" }),
      [w, C] = _e(pN, { defaultValue: "" }),
      [O, k] = f.useState(0),
      [D, E] = f.useState([]),
      I = en({ variant: "popover", popupId: "taskFilterPopover" }),
      [z, R] = f.useState(!1),
      [B, V] = f.useState(void 0),
      [q, G] = f.useState(void 0),
      [H, Q] = f.useState(!1),
      [ne, Y] = f.useState(void 0),
      [ie, J] = f.useState(!1),
      [ae, Ae] = f.useState(!1),
      [Xe, We] = f.useState(!1),
      qe = parseInt(d) ?? 1,
      Ke = parseInt(u) ?? 10,
      Fe = f.useCallback(() => {
        j(""), _(""), y(""), C("");
      }, [j, _, y, C]);
    f.useEffect(() => {
      Le();
    }, [d, u, p, m, x, b, S, w]);
    const Le = () => {
        s(!0),
          E([]),
          i(
            iv({
              page: qe,
              page_size: Ke,
              order_by: p ?? "",
              order_direction: m ?? "desc",
              conditions: { task_status: S, task_user_id: x, task_type: b, task_correlation_id: w },
            }),
          )
            .then((re) => {
              l(re.tasks), h(re.pagination.page_size.toString()), k(re.pagination.total_items ?? 0), s(!1);
            })
            .finally(() => {
              s(!1);
            });
      },
      Se = () => {
        Ae(!0),
          i(wr(e("task.confirmBatchDelete", { num: D.length })))
            .then(() => {
              i(Yp({ ids: Array.from(D) }))
                .then(() => {
                  Le();
                })
                .finally(() => {
                  Ae(!1);
                }),
                Ae(!1);
            })
            .finally(() => {
              Ae(!1);
            });
      },
      Be = (ee) => {
        if (ee.target.checked) {
          const re = o.map((me) => me.id);
          E(re);
          return;
        }
        E([]);
      },
      He = f.useCallback(
        (ee) => {
          const re = D.indexOf(ee);
          let me = [];
          re === -1
            ? (me = me.concat(D, ee))
            : re === 0
              ? (me = me.concat(D.slice(1)))
              : re === D.length - 1
                ? (me = me.concat(D.slice(0, -1)))
                : re > 0 && (me = me.concat(D.slice(0, re), D.slice(re + 1))),
            E(me);
        },
        [D],
      ),
      ue = p === "id" || p === "",
      K = m,
      ve = (ee) => () => {
        const re = p === ee || (ee === "id" && ue);
        g(ee), v(re && K === "asc" ? "desc" : "asc");
      },
      Ne = f.useMemo(() => !!(S || x || b), [S, x, b]),
      pr = (ee) => {
        V(ee), R(!0);
      },
      qt = (ee) => {
        G(ee), Q(!0);
      },
      De = (ee) => {
        Y(ee), J(!0);
      };
    return r.jsxs(Ft, {
      children: [
        r.jsx(Sr, { open: z, onClose: () => R(!1), userID: B }),
        r.jsx(Zs, { open: H, onClose: () => Q(!1), entityID: q }),
        r.jsx(lN, { open: ie, onClose: () => J(!1), taskID: ne }),
        r.jsx(nN, { open: Xe, onClose: () => We(!1), onCleanupComplete: Le }),
        r.jsxs(Lt, {
          maxWidth: "xl",
          children: [
            r.jsx(Vt, { title: e("dashboard:nav.tasks") }),
            r.jsxs(le, {
              direction: "row",
              spacing: 1,
              sx: { mb: 2 },
              children: [
                r.jsx(cN, {
                  ...Aa(I),
                  status: S,
                  setStatus: y,
                  user: x,
                  setUser: j,
                  correlationID: w,
                  setCorrelationID: C,
                  type: b,
                  setType: _,
                  clearFilters: Fe,
                }),
                r.jsx(ke, {
                  onClick: Le,
                  disabled: a,
                  variant: "contained",
                  startIcon: r.jsx(Dr, {}),
                  children: e("node.refresh"),
                }),
                r.jsx(An, {
                  color: "primary",
                  variant: "dot",
                  invisible: !Ne,
                  children: r.jsx(ke, {
                    startIcon: r.jsx(Da, {}),
                    variant: "contained",
                    ...tn(I),
                    children: e("user.filter"),
                  }),
                }),
                r.jsx(ke, {
                  startIcon: r.jsx(eN, {}),
                  variant: "contained",
                  onClick: () => We(!0),
                  children: e("event.cleanup"),
                }),
                D.length > 0 &&
                  !n &&
                  r.jsxs(r.Fragment, {
                    children: [
                      r.jsx(bt, { orientation: "vertical", flexItem: !0 }),
                      r.jsx(Pe, {
                        startIcon: r.jsx(or, {}),
                        variant: "contained",
                        color: "error",
                        onClick: Se,
                        children: e("task.deleteXTasks", { num: D.length }),
                      }),
                    ],
                  }),
              ],
            }),
            n &&
              D.length > 0 &&
              r.jsx(le, {
                direction: "row",
                spacing: 1,
                sx: { mb: 2 },
                children: r.jsx(Pe, {
                  startIcon: r.jsx(or, {}),
                  variant: "contained",
                  color: "error",
                  onClick: Se,
                  children: e("task.deleteXTasks", { num: D.length }),
                }),
              }),
            r.jsx(ot, {
              component: xt,
              sx: { mt: 2 },
              children: r.jsxs(lt, {
                size: "small",
                stickyHeader: !0,
                sx: { width: "100%", tableLayout: "fixed" },
                children: [
                  r.jsx(ct, {
                    children: r.jsxs(je, {
                      children: [
                        r.jsx(pe, {
                          padding: "checkbox",
                          sx: { width: "36px!important" },
                          width: 50,
                          children: r.jsx(it, {
                            size: "small",
                            indeterminate: D.length > 0 && D.length < o.length,
                            checked: o.length > 0 && D.length === o.length,
                            onChange: Be,
                          }),
                        }),
                        r.jsx(M, {
                          width: 80,
                          children: r.jsx(ft, {
                            active: ue,
                            direction: ue ? K : "asc",
                            onClick: ve("id"),
                            children: e("group.#"),
                          }),
                        }),
                        r.jsx(M, { width: 400, children: e("task.content") }),
                        r.jsx(M, { width: 120, children: e("task.status") }),
                        r.jsx(M, { width: 150, children: e("file.creator") }),
                        r.jsx(M, { width: 100, children: e("task.node") }),
                        r.jsx(M, {
                          width: 180,
                          children: r.jsx(ft, {
                            active: p === "created_at",
                            direction: p === "created_at" ? K : "asc",
                            onClick: ve("created_at"),
                            children: e("file.createdAt"),
                          }),
                        }),
                        r.jsx(M, { width: 50 }),
                      ],
                    }),
                  }),
                  r.jsxs(dt, {
                    children: [
                      !a &&
                        o.map((ee) =>
                          r.jsx(
                            al,
                            {
                              deleting: ae,
                              task: ee,
                              onDelete: Le,
                              selected: D.indexOf(ee.id) !== -1,
                              onSelect: He,
                              openUserDialog: pr,
                              openEntity: qt,
                              onDetails: De,
                            },
                            ee.id,
                          ),
                        ),
                      a && o.length > 0 && o.slice(0, 10).map((ee) => r.jsx(al, { loading: !0 }, `loading-${ee.id}`)),
                      a &&
                        o.length === 0 &&
                        Array.from(Array(10)).map((ee, re) => r.jsx(al, { loading: !0 }, `loading-${re}`)),
                    ],
                  }),
                ],
              }),
            }),
            O > 0 &&
              r.jsx(T, {
                sx: { mt: 1 },
                children: r.jsx(Rr, {
                  page: qe,
                  totalItems: O,
                  rowsPerPage: Ke,
                  rowsPerPageOptions: [10, 25, 50, 100, 200, 500],
                  onRowsPerPageChange: (ee) => h(ee.toString()),
                  onChange: (ee, re) => c(re.toString()),
                }),
              }),
          ],
        }),
      ],
    });
  },
  yp = { edges: {}, id: 0, email: "", nick: "", password: "", status: wn.active, group_users: 2 },
  fN = ({ open: e, onClose: t, onCreated: n }) => {
    var h;
    const { t: i } = F("dashboard"),
      a = ge();
    dr();
    const [s, o] = f.useState(!1),
      [l, d] = f.useState({ ...yp }),
      c = f.useRef(null);
    f.useEffect(() => {
      e && d({ ...yp });
    }, [e]);
    const u = () => {
      var g, m;
      if (!((g = c.current) != null && g.checkValidity())) {
        (m = c.current) == null || m.reportValidity();
        return;
      }
      let p = { ...l, nick: l.email.split("@")[0] };
      o(!0),
        a(Tp({ user: p, password: l.password }))
          .then((v) => {
            n(v), t();
          })
          .finally(() => {
            o(!1);
          });
    };
    return r.jsx(st, {
      onAccept: u,
      loading: s,
      title: i("user.new"),
      showActions: !0,
      showCancel: !0,
      dialogProps: { open: e, onClose: t, fullWidth: !0, maxWidth: "sm" },
      children: r.jsx(gt, {
        children: r.jsx("form", {
          ref: c,
          children: r.jsxs(le, {
            spacing: 2,
            children: [
              r.jsx(P, {
                title: i("user.email"),
                lgWidth: 12,
                children: r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  type: "email",
                  value: l.email,
                  onChange: (p) => d({ ...l, email: p.target.value }),
                }),
              }),
              r.jsx(P, {
                title: i("user.password"),
                lgWidth: 12,
                children: r.jsx(W, {
                  fullWidth: !0,
                  required: !0,
                  slotProps: { htmlInput: { minLength: 6 } },
                  type: "password",
                  value: l.password,
                  onChange: (p) => d({ ...l, password: p.target.value }),
                }),
              }),
              r.jsx(P, {
                title: i("user.group"),
                lgWidth: 12,
                children: r.jsx(Zn, {
                  required: !0,
                  value: ((h = l.group_users) == null ? void 0 : h.toString()) ?? "",
                  onChange: (p) => d({ ...l, group_users: parseInt(p) }),
                  fullWidth: !0,
                }),
              }),
            ],
          }),
        }),
      }),
    });
  },
  gN = ({
    email: e,
    setEmail: t,
    nick: n,
    setNick: i,
    group: a,
    setGroup: s,
    status: o,
    setStatus: l,
    clearFilters: d,
    onClose: c,
    open: u,
    ...h
  }) => {
    const { t: p } = F("dashboard"),
      [g, m] = f.useState(e),
      [v, x] = f.useState(n),
      [j, b] = f.useState(a),
      [_, S] = f.useState(o);
    f.useEffect(() => {
      u && (m(e), x(n), b(a), S(o));
    }, [u]);
    const y = () => {
        t(g), i(v), s(j == " " ? "" : j), l(_ == " " ? "" : _), c == null || c({}, "backdropClick");
      },
      w = () => {
        m(""), x(""), b(""), S(""), d(), c == null || c({}, "backdropClick");
      };
    return r.jsx(ka, {
      anchorOrigin: { vertical: "bottom", horizontal: "left" },
      transformOrigin: { vertical: "top", horizontal: "left" },
      slotProps: { paper: { sx: { p: 2, width: 300, maxWidth: "100%" } } },
      onClose: c,
      open: u,
      ...h,
      children: r.jsxs(le, {
        spacing: 2,
        children: [
          r.jsx(P, {
            title: p("user.email"),
            noContainer: !0,
            lgWidth: 12,
            children: r.jsx(W, {
              fullWidth: !0,
              value: g,
              onChange: (C) => m(C.target.value),
              placeholder: p("user.emptyNoFilter"),
              size: "small",
            }),
          }),
          r.jsx(P, {
            title: p("user.nick"),
            noContainer: !0,
            lgWidth: 12,
            children: r.jsx(W, {
              fullWidth: !0,
              value: v,
              onChange: (C) => x(C.target.value),
              placeholder: p("user.emptyNoFilter"),
              size: "small",
            }),
          }),
          r.jsx(P, {
            title: p("user.group"),
            noContainer: !0,
            lgWidth: 12,
            children: r.jsx(Zn, {
              value: j == "" ? " " : j,
              onChange: b,
              emptyValue: " ",
              emptyText: p("user.all"),
              fullWidth: !0,
            }),
          }),
          r.jsx(P, {
            title: p("user.status"),
            noContainer: !0,
            lgWidth: 12,
            children: r.jsx($, {
              fullWidth: !0,
              children: r.jsxs(Ue, {
                value: _ == "" ? " " : _,
                onChange: (C) => S(C.target.value),
                children: [
                  r.jsx(he, {
                    value: " ",
                    children: r.jsx(de, {
                      slotProps: { primary: { variant: "body2" } },
                      children: r.jsx("em", { children: p("user.all") }),
                    }),
                  }),
                  Object.values(wn).map((C) =>
                    r.jsx(
                      he,
                      {
                        value: C,
                        children: r.jsx(de, {
                          slotProps: { primary: { variant: "body2" } },
                          children: p(`user.status_${C}`),
                        }),
                      },
                      C,
                    ),
                  ),
                ],
              }),
            }),
          }),
          r.jsxs(T, {
            display: "flex",
            justifyContent: "space-between",
            children: [
              r.jsx(Pe, { variant: "outlined", size: "small", onClick: w, children: p("user.reset") }),
              r.jsx(Pe, { variant: "contained", size: "small", onClick: y, children: p("user.apply") }),
            ],
          }),
        ],
      }),
    });
  },
  sl = ({ user: e, loading: t, deleting: n, selected: i, onDelete: a, onDetails: s, onSelect: o }) => {
    var v, x, j, b;
    dr();
    const { t: l } = F("dashboard"),
      d = ge(),
      [c, u] = f.useState(!1),
      h = () => {
        s == null || s((e == null ? void 0 : e.id) ?? 0);
      },
      p = (_) => {
        _.stopPropagation(),
          _.preventDefault(),
          d(wr(l("user.confirmDelete", { user: e == null ? void 0 : e.email }))).then(() => {
            e != null &&
              e.id &&
              (u(!0),
              d(Jp({ ids: [e.id] }))
                .then(() => {
                  a == null || a();
                })
                .finally(() => {
                  u(!1);
                }));
          });
      },
      g = (_) => {
        _.stopPropagation(), _.preventDefault(), o == null || o((e == null ? void 0 : e.id) ?? 0);
      };
    if (
      (f.useMemo(() => {
        var S;
        const _ = { passkey: !1, twoFa: !1 };
        return (
          (S = e == null ? void 0 : e.edges) != null && S.passkey && (_.passkey = !0),
          e != null && e.two_fa_enabled && (_.twoFa = !0),
          _
        );
      }, [e]),
      t)
    )
      return r.jsxs(je, {
        sx: { height: "43px" },
        children: [
          r.jsx(M, { children: r.jsx(ce, { variant: "circular", width: 24, height: 24 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 60 }) }),
          r.jsx(M, {
            children: r.jsxs(T, {
              sx: { display: "flex", alignItems: "center", gap: 1 },
              children: [
                r.jsx(ce, { variant: "circular", width: 24, height: 24 }),
                r.jsx(ce, { variant: "text", width: 200 }),
              ],
            }),
          }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 250 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 150 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 100 }) }),
          r.jsx(M, { children: r.jsx(ce, { variant: "text", width: 100 }) }),
        ],
      });
    const m = (_) => {
      _.stopPropagation();
    };
    return r.jsxs(
      je,
      {
        hover: !0,
        sx: { cursor: "pointer" },
        onClick: h,
        selected: i,
        children: [
          r.jsx(pe, {
            padding: "checkbox",
            children: r.jsx(it, {
              disabled: n,
              size: "small",
              disableRipple: !0,
              color: "primary",
              onClick: g,
              checked: i,
            }),
          }),
          r.jsx(M, { children: r.jsx(be, { variant: "inherit", children: e == null ? void 0 : e.id }) }),
          r.jsx(M, {
            children: r.jsxs(T, {
              sx: { display: "flex", alignItems: "center", gap: 1 },
              children: [
                r.jsx(hr, {
                  sx: { width: 24, height: 24 },
                  overwriteTextSize: !0,
                  user: {
                    id: (e == null ? void 0 : e.hash_id) ?? "",
                    nickname: (e == null ? void 0 : e.nick) ?? "",
                    created_at: (e == null ? void 0 : e.created_at) ?? "",
                  },
                }),
                r.jsx(be, { variant: "inherit", children: e == null ? void 0 : e.nick }),
                r.jsxs(T, {
                  sx: { display: "flex", alignItems: "center", gap: 0.5 },
                  children: [
                    (e == null ? void 0 : e.status) == wn.inactive &&
                      r.jsx(br, { size: "small", label: l("user.status_inactive") }),
                    (e == null ? void 0 : e.status) == wn.sys_banned &&
                      r.jsx(br, { size: "small", color: "error", label: l("user.status_sys_banned") }),
                    (e == null ? void 0 : e.status) == wn.manual_banned &&
                      r.jsx(br, { size: "small", color: "error", label: l("user.status_manual_banned") }),
                    (e == null ? void 0 : e.two_fa_enabled) &&
                      r.jsx(_r, {
                        title: l("user.2FAEnabled"),
                        children: r.jsx(T, {
                          sx: { display: "flex", alignItems: "center" },
                          children: r.jsx(Dc, { fontSize: "small", sx: { color: "text.secondary" } }),
                        }),
                      }),
                  ],
                }),
              ],
            }),
          }),
          r.jsx(M, { children: r.jsx(be, { variant: "inherit", children: e == null ? void 0 : e.email }) }),
          r.jsx(M, {
            children: r.jsx(be, {
              variant: "inherit",
              children: r.jsx(Z, {
                onClick: m,
                component: zt,
                to: `/admin/group/${
                  (x = (v = e == null ? void 0 : e.edges) == null ? void 0 : v.group) == null ? void 0 : x.id
                }`,
                underline: "hover",
                children: (b = (j = e == null ? void 0 : e.edges) == null ? void 0 : j.group) == null ? void 0 : b.name,
              }),
            }),
          }),
          r.jsx(M, { children: Gt((e == null ? void 0 : e.storage) ?? 0) }),
          r.jsx(M, {
            children: r.jsx($e, {
              size: "small",
              onClick: p,
              disabled: c || n,
              children: r.jsx(ur, { fontSize: "small" }),
            }),
          }),
        ],
      },
      e == null ? void 0 : e.id,
    );
  },
  xN = "email",
  mN = "nick",
  vN = "group",
  yN = "status",
  VN = () => {
    const { t: e } = F("dashboard"),
      t = Ge(),
      n = $t(t.breakpoints.down("sm")),
      i = ge(),
      [a, s] = f.useState(!0),
      [o, l] = f.useState([]),
      [d, c] = _e(an, { defaultValue: "1" }),
      [u, h] = _e(sn, { defaultValue: "10" }),
      [p, g] = _e(on, { defaultValue: "" }),
      [m, v] = _e(ln, { defaultValue: "desc" }),
      [x, j] = _e(xN, { defaultValue: "" }),
      [b, _] = _e(mN, { defaultValue: "" }),
      [S, y] = _e(vN, { defaultValue: "" }),
      [w, C] = _e(yN, { defaultValue: "" }),
      [O, k] = f.useState(0),
      [D, E] = f.useState([]),
      [I, z] = f.useState(!1),
      R = en({ variant: "popover", popupId: "userFilterPopover" }),
      [B, V] = f.useState(!1),
      [q, G] = f.useState(void 0),
      [H, Q] = f.useState(!1),
      ne = parseInt(d) ?? 1,
      Y = parseInt(u) ?? 11,
      ie = f.useCallback(() => {
        j(""), _(""), y(""), C("");
      }, [j, _, y, C]);
    f.useEffect(() => {
      J();
    }, [d, u, p, m, x, b, S, w]);
    const J = () => {
        s(!0),
          E([]),
          i(
            av({
              page: ne,
              page_size: Y,
              order_by: p ?? "",
              order_direction: m ?? "desc",
              conditions: { user_email: x, user_nick: b, user_group: S, user_status: w },
            }),
          )
            .then((Se) => {
              l(Se.users), h(Se.pagination.page_size.toString()), k(Se.pagination.total_items ?? 0), s(!1);
            })
            .finally(() => {
              s(!1);
            });
      },
      ae = () => {
        Q(!0),
          i(wr(e("user.confirmBatchDelete", { num: D.length })))
            .then(() => {
              i(Jp({ ids: Array.from(D) }))
                .then(() => {
                  J();
                })
                .finally(() => {
                  Q(!1);
                });
            })
            .finally(() => {
              Q(!1);
            });
      },
      Ae = (Se) => {
        if (Se.target.checked) {
          const Be = o.map((He) => He.id);
          E(Be);
          return;
        }
        E([]);
      },
      Xe = f.useCallback(
        (Se) => {
          const Be = D.indexOf(Se);
          let He = [];
          Be === -1
            ? (He = He.concat(D, Se))
            : Be === 0
              ? (He = He.concat(D.slice(1)))
              : Be === D.length - 1
                ? (He = He.concat(D.slice(0, -1)))
                : Be > 0 && (He = He.concat(D.slice(0, Be), D.slice(Be + 1))),
            E(He);
        },
        [D],
      ),
      We = p === "id" || p === "",
      qe = m,
      Ke = (Se) => () => {
        const Be = p === Se || (Se === "id" && We);
        g(Se), v(Be && qe === "asc" ? "desc" : "asc");
      },
      Fe = f.useMemo(() => !!(x || b || S || w), [x, b, S, w]),
      Le = (Se) => {
        G(Se), V(!0);
      };
    return r.jsxs(Ft, {
      children: [
        r.jsx(fN, {
          open: I,
          onClose: () => z(!1),
          onCreated: (Se) => {
            G(Se.id), V(!0);
          },
        }),
        r.jsx(Sr, { open: B, onClose: () => V(!1), userID: q, onUpdated: () => J() }),
        r.jsxs(Lt, {
          maxWidth: "xl",
          children: [
            r.jsx(Vt, { title: e("dashboard:nav.users") }),
            r.jsxs(le, {
              direction: "row",
              spacing: 1,
              sx: { mb: 2 },
              children: [
                r.jsx(Pe, {
                  onClick: () => z(!0),
                  variant: "contained",
                  startIcon: r.jsx(Rt, {}),
                  children: e("group.create"),
                }),
                r.jsx(gN, {
                  ...Aa(R),
                  email: x,
                  setEmail: j,
                  nick: b,
                  setNick: _,
                  group: S,
                  setGroup: y,
                  status: w,
                  setStatus: C,
                  clearFilters: ie,
                }),
                r.jsx(ke, {
                  onClick: J,
                  disabled: a,
                  variant: "contained",
                  startIcon: r.jsx(Dr, {}),
                  children: e("node.refresh"),
                }),
                r.jsx(An, {
                  color: "primary",
                  variant: "dot",
                  invisible: !Fe,
                  children: r.jsx(ke, {
                    startIcon: r.jsx(Da, {}),
                    variant: "contained",
                    ...tn(R),
                    children: e("user.filter"),
                  }),
                }),
                D.length > 0 &&
                  !n &&
                  r.jsxs(r.Fragment, {
                    children: [
                      r.jsx(bt, { orientation: "vertical", flexItem: !0 }),
                      r.jsx(Pe, {
                        startIcon: r.jsx(or, {}),
                        variant: "contained",
                        color: "error",
                        onClick: ae,
                        children: e("user.deleteXUsers", { num: D.length }),
                      }),
                    ],
                  }),
              ],
            }),
            n &&
              D.length > 0 &&
              r.jsx(le, {
                direction: "row",
                spacing: 1,
                sx: { mb: 2 },
                children: r.jsx(Pe, {
                  startIcon: r.jsx(or, {}),
                  variant: "contained",
                  color: "error",
                  onClick: ae,
                  children: e("user.deleteXUsers", { num: D.length }),
                }),
              }),
            r.jsx(ot, {
              component: xt,
              sx: { mt: 2 },
              children: r.jsxs(lt, {
                size: "small",
                stickyHeader: !0,
                sx: { width: "100%", tableLayout: "fixed" },
                children: [
                  r.jsx(ct, {
                    children: r.jsxs(je, {
                      children: [
                        r.jsx(pe, {
                          padding: "checkbox",
                          sx: { width: "36px!important" },
                          width: 50,
                          children: r.jsx(it, {
                            size: "small",
                            disableRipple: !0,
                            color: "primary",
                            indeterminate: D.length > 0 && D.length < o.length,
                            checked: o.length > 0 && D.length === o.length,
                            onChange: Ae,
                          }),
                        }),
                        r.jsx(M, {
                          width: 60,
                          sortDirection: We ? qe : !1,
                          children: r.jsx(ft, { active: We, direction: qe, onClick: Ke("id"), children: e("group.#") }),
                        }),
                        r.jsx(M, {
                          width: 250,
                          children: r.jsx(ft, {
                            active: p === "nick",
                            direction: qe,
                            onClick: Ke("nick"),
                            children: e("user.nick"),
                          }),
                        }),
                        r.jsx(M, {
                          width: 250,
                          children: r.jsx(ft, {
                            active: p === "email",
                            direction: qe,
                            onClick: Ke("email"),
                            children: e("user.email"),
                          }),
                        }),
                        r.jsx(M, { width: 150, children: e("user.group") }),
                        r.jsx(M, {
                          width: 100,
                          children: r.jsx(ft, {
                            active: p === "storage",
                            direction: qe,
                            onClick: Ke("storage"),
                            children: e("user.usedStorage"),
                          }),
                        }),
                        r.jsx(M, { width: 100, align: "right" }),
                      ],
                    }),
                  }),
                  r.jsxs(dt, {
                    children: [
                      !a &&
                        o.map((Se) =>
                          r.jsx(
                            sl,
                            {
                              deleting: H,
                              user: Se,
                              onDelete: J,
                              selected: D.includes(Se.id),
                              onSelect: Xe,
                              onDetails: Le,
                            },
                            Se.id,
                          ),
                        ),
                      a && o.length > 0 && o.slice(0, 10).map((Se) => r.jsx(sl, { loading: !0 }, `loading-${Se.id}`)),
                      a &&
                        o.length === 0 &&
                        Array.from(Array(5)).map((Se, Be) => r.jsx(sl, { loading: !0 }, `loading-${Be}`)),
                    ],
                  }),
                ],
              }),
            }),
            O > 0 &&
              r.jsx(T, {
                sx: { mt: 1 },
                children: r.jsx(Rr, {
                  page: ne,
                  totalItems: O,
                  rowsPerPage: Y,
                  rowsPerPageOptions: [10, 25, 50, 100, 200],
                  onRowsPerPageChange: (Se) => h(Se.toString()),
                  onChange: (Se, Be) => c(Be.toString()),
                }),
              }),
          ],
        }),
      ],
    });
  };
export {
  $N as EditGroup,
  NN as EditNode,
  BN as EditStoragePolicy,
  EN as EntitySetting,
  IN as FileSetting,
  TN as FileSystem,
  WN as GroupSetting,
  MN as Home,
  zN as NodeSetting,
  RN as OauthCallback,
  AN as Settings,
  LN as ShareList,
  DN as StoragePolicySetting,
  FN as TaskList,
  VN as UserSetting,
};
